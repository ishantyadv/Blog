var Iq=Object.defineProperty;var Pq=(n,t,e)=>t in n?Iq(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Rq=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var g=(n,t,e)=>Pq(n,typeof t!="symbol"?t+"":t,e);var V9e=Rq((Ar,Oi)=>{function a7(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function fu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var a_={exports:{}},bh={},l_={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function Oq(){if(qA)return yt;qA=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=h&&V[h]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function C(V,J,We){this.props=V,this.context=J,this.refs=x,this.updater=We||b}C.prototype.isReactComponent={},C.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function S(){}S.prototype=C.prototype;function T(V,J,We){this.props=V,this.context=J,this.refs=x,this.updater=We||b}var A=T.prototype=new S;A.constructor=T,_(A,C.prototype),A.isPureReactComponent=!0;var P=Array.isArray,O=Object.prototype.hasOwnProperty,D={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function j(V,J,We){var Ve,Xe={},Fe=null,ce=null;if(J!=null)for(Ve in J.ref!==void 0&&(ce=J.ref),J.key!==void 0&&(Fe=""+J.key),J)O.call(J,Ve)&&!R.hasOwnProperty(Ve)&&(Xe[Ve]=J[Ve]);var Te=arguments.length-2;if(Te===1)Xe.children=We;else if(1<Te){for(var De=Array(Te),Ze=0;Ze<Te;Ze++)De[Ze]=arguments[Ze+2];Xe.children=De}if(V&&V.defaultProps)for(Ve in Te=V.defaultProps,Te)Xe[Ve]===void 0&&(Xe[Ve]=Te[Ve]);return{$$typeof:n,type:V,key:Fe,ref:ce,props:Xe,_owner:D.current}}function $(V,J){return{$$typeof:n,type:V.type,key:J,ref:V.ref,props:V.props,_owner:V._owner}}function Z(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function ge(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(We){return J[We]})}var ee=/\/+/g;function re(V,J){return typeof V=="object"&&V!==null&&V.key!=null?ge(""+V.key):J.toString(36)}function ne(V,J,We,Ve,Xe){var Fe=typeof V;(Fe==="undefined"||Fe==="boolean")&&(V=null);var ce=!1;if(V===null)ce=!0;else switch(Fe){case"string":case"number":ce=!0;break;case"object":switch(V.$$typeof){case n:case t:ce=!0}}if(ce)return ce=V,Xe=Xe(ce),V=Ve===""?"."+re(ce,0):Ve,P(Xe)?(We="",V!=null&&(We=V.replace(ee,"$&/")+"/"),ne(Xe,J,We,"",function(Ze){return Ze})):Xe!=null&&(Z(Xe)&&(Xe=$(Xe,We+(!Xe.key||ce&&ce.key===Xe.key?"":(""+Xe.key).replace(ee,"$&/")+"/")+V)),J.push(Xe)),1;if(ce=0,Ve=Ve===""?".":Ve+":",P(V))for(var Te=0;Te<V.length;Te++){Fe=V[Te];var De=Ve+re(Fe,Te);ce+=ne(Fe,J,We,De,Xe)}else if(De=p(V),typeof De=="function")for(V=De.call(V),Te=0;!(Fe=V.next()).done;)Fe=Fe.value,De=Ve+re(Fe,Te++),ce+=ne(Fe,J,We,De,Xe);else if(Fe==="object")throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ce}function ve(V,J,We){if(V==null)return V;var Ve=[],Xe=0;return ne(V,Ve,"","",function(Fe){return J.call(We,Fe,Xe++)}),Ve}function me(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(We){(V._status===0||V._status===-1)&&(V._status=1,V._result=We)},function(We){(V._status===0||V._status===-1)&&(V._status=2,V._result=We)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var fe={current:null},U={transition:null},K={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:U,ReactCurrentOwner:D};function te(){throw Error("act(...) is not supported in production builds of React.")}return yt.Children={map:ve,forEach:function(V,J,We){ve(V,function(){J.apply(this,arguments)},We)},count:function(V){var J=0;return ve(V,function(){J++}),J},toArray:function(V){return ve(V,function(J){return J})||[]},only:function(V){if(!Z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},yt.Component=C,yt.Fragment=e,yt.Profiler=r,yt.PureComponent=T,yt.StrictMode=i,yt.Suspense=l,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,yt.act=te,yt.cloneElement=function(V,J,We){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ve=_({},V.props),Xe=V.key,Fe=V.ref,ce=V._owner;if(J!=null){if(J.ref!==void 0&&(Fe=J.ref,ce=D.current),J.key!==void 0&&(Xe=""+J.key),V.type&&V.type.defaultProps)var Te=V.type.defaultProps;for(De in J)O.call(J,De)&&!R.hasOwnProperty(De)&&(Ve[De]=J[De]===void 0&&Te!==void 0?Te[De]:J[De])}var De=arguments.length-2;if(De===1)Ve.children=We;else if(1<De){Te=Array(De);for(var Ze=0;Ze<De;Ze++)Te[Ze]=arguments[Ze+2];Ve.children=Te}return{$$typeof:n,type:V.type,key:Xe,ref:Fe,props:Ve,_owner:ce}},yt.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:s,_context:V},V.Consumer=V},yt.createElement=j,yt.createFactory=function(V){var J=j.bind(null,V);return J.type=V,J},yt.createRef=function(){return{current:null}},yt.forwardRef=function(V){return{$$typeof:a,render:V}},yt.isValidElement=Z,yt.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:me}},yt.memo=function(V,J){return{$$typeof:c,type:V,compare:J===void 0?null:J}},yt.startTransition=function(V){var J=U.transition;U.transition={};try{V()}finally{U.transition=J}},yt.unstable_act=te,yt.useCallback=function(V,J){return fe.current.useCallback(V,J)},yt.useContext=function(V){return fe.current.useContext(V)},yt.useDebugValue=function(){},yt.useDeferredValue=function(V){return fe.current.useDeferredValue(V)},yt.useEffect=function(V,J){return fe.current.useEffect(V,J)},yt.useId=function(){return fe.current.useId()},yt.useImperativeHandle=function(V,J,We){return fe.current.useImperativeHandle(V,J,We)},yt.useInsertionEffect=function(V,J){return fe.current.useInsertionEffect(V,J)},yt.useLayoutEffect=function(V,J){return fe.current.useLayoutEffect(V,J)},yt.useMemo=function(V,J){return fe.current.useMemo(V,J)},yt.useReducer=function(V,J,We){return fe.current.useReducer(V,J,We)},yt.useRef=function(V){return fe.current.useRef(V)},yt.useState=function(V){return fe.current.useState(V)},yt.useSyncExternalStore=function(V,J,We){return fe.current.useSyncExternalStore(V,J,We)},yt.useTransition=function(){return fe.current.useTransition()},yt.version="18.3.1",yt}var GA;function nw(){return GA||(GA=1,l_.exports=Oq()),l_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function Nq(){if(KA)return bh;KA=1;var n=nw(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,h={},p=null,b=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(b=l.ref);for(d in l)i.call(l,d)&&!s.hasOwnProperty(d)&&(h[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)h[d]===void 0&&(h[d]=l[d]);return{$$typeof:t,type:a,key:p,ref:b,props:h,_owner:r.current}}return bh.Fragment=e,bh.jsx=o,bh.jsxs=o,bh}var YA;function Mq(){return YA||(YA=1,a_.exports=Nq()),a_.exports}var v=Mq(),y=nw();const Se=fu(y),Dq=a7({__proto__:null,default:Se},[y]);var f0={},c_={exports:{}},ir={},u_={exports:{}},d_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function Lq(){return ZA||(ZA=1,function(n){function t(U,K){var te=U.length;U.push(K);e:for(;0<te;){var V=te-1>>>1,J=U[V];if(0<r(J,K))U[V]=K,U[te]=J,te=V;else break e}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var K=U[0],te=U.pop();if(te!==K){U[0]=te;e:for(var V=0,J=U.length,We=J>>>1;V<We;){var Ve=2*(V+1)-1,Xe=U[Ve],Fe=Ve+1,ce=U[Fe];if(0>r(Xe,te))Fe<J&&0>r(ce,Xe)?(U[V]=ce,U[Fe]=te,V=Fe):(U[V]=Xe,U[Ve]=te,V=Ve);else if(Fe<J&&0>r(ce,te))U[V]=ce,U[Fe]=te,V=Fe;else break e}}return K}function r(U,K){var te=U.sortIndex-K.sortIndex;return te!==0?te:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,b=!1,_=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var K=e(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=U)i(c),K.sortIndex=K.expirationTime,t(l,K);else break;K=e(c)}}function P(U){if(x=!1,A(U),!_)if(e(l)!==null)_=!0,me(O);else{var K=e(c);K!==null&&fe(P,K.startTime-U)}}function O(U,K){_=!1,x&&(x=!1,S(j),j=-1),b=!0;var te=p;try{for(A(K),h=e(l);h!==null&&(!(h.expirationTime>K)||U&&!ge());){var V=h.callback;if(typeof V=="function"){h.callback=null,p=h.priorityLevel;var J=V(h.expirationTime<=K);K=n.unstable_now(),typeof J=="function"?h.callback=J:h===e(l)&&i(l),A(K)}else i(l);h=e(l)}if(h!==null)var We=!0;else{var Ve=e(c);Ve!==null&&fe(P,Ve.startTime-K),We=!1}return We}finally{h=null,p=te,b=!1}}var D=!1,R=null,j=-1,$=5,Z=-1;function ge(){return!(n.unstable_now()-Z<$)}function ee(){if(R!==null){var U=n.unstable_now();Z=U;var K=!0;try{K=R(!0,U)}finally{K?re():(D=!1,R=null)}}else D=!1}var re;if(typeof T=="function")re=function(){T(ee)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ve=ne.port2;ne.port1.onmessage=ee,re=function(){ve.postMessage(null)}}else re=function(){C(ee,0)};function me(U){R=U,D||(D=!0,re())}function fe(U,K){j=C(function(){U(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,me(O))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var te=p;p=K;try{return U()}finally{p=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=p;p=U;try{return K()}finally{p=te}},n.unstable_scheduleCallback=function(U,K,te){var V=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?V+te:V):te=V,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=te+J,U={id:d++,callback:K,priorityLevel:U,startTime:te,expirationTime:J,sortIndex:-1},te>V?(U.sortIndex=te,t(c,U),e(l)===null&&U===e(c)&&(x?(S(j),j=-1):x=!0,fe(P,te-V))):(U.sortIndex=J,t(l,U),_||b||(_=!0,me(O))),U},n.unstable_shouldYield=ge,n.unstable_wrapCallback=function(U){var K=p;return function(){var te=p;p=K;try{return U.apply(this,arguments)}finally{p=te}}}}(d_)),d_}var JA;function Vq(){return JA||(JA=1,u_.exports=Lq()),u_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function Fq(){if(XA)return ir;XA=1;var n=nw(),t=Vq();function e(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,m=1;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(u,f){o(u,f),o(u+"Capture",f)}function o(u,f){for(r[u]=f,u=0;u<f.length;u++)i.add(f[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(u){return l.call(h,u)?!0:l.call(d,u)?!1:c.test(u)?h[u]=!0:(d[u]=!0,!1)}function b(u,f,m,w){if(m!==null&&m.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return w?!1:m!==null?!m.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function _(u,f,m,w){if(f===null||typeof f>"u"||b(u,f,m,w))return!0;if(w)return!1;if(m!==null)switch(m.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function x(u,f,m,w,k,E,I){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=w,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=u,this.type=f,this.sanitizeURL=E,this.removeEmptyString=I}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){C[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];C[f]=new x(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){C[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){C[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){C[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){C[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){C[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){C[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){C[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function T(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(S,T);C[f]=new x(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(S,T);C[f]=new x(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(S,T);C[f]=new x(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){C[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){C[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function A(u,f,m,w){var k=C.hasOwnProperty(f)?C[f]:null;(k!==null?k.type!==0:w||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(_(f,m,k,w)&&(m=null),w||k===null?p(f)&&(m===null?u.removeAttribute(f):u.setAttribute(f,""+m)):k.mustUseProperty?u[k.propertyName]=m===null?k.type===3?!1:"":m:(f=k.attributeName,w=k.attributeNamespace,m===null?u.removeAttribute(f):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,w?u.setAttributeNS(w,f,m):u.setAttribute(f,m))))}var P=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ge=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),U=Symbol.iterator;function K(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var te=Object.assign,V;function J(u){if(V===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);V=f&&f[1]||""}return`
`+V+u}var We=!1;function Ve(u,f){if(!u||We)return"";We=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Y){var w=Y}Reflect.construct(u,[],f)}else{try{f.call()}catch(Y){w=Y}u.call(f.prototype)}else{try{throw Error()}catch(Y){w=Y}u()}}catch(Y){if(Y&&w&&typeof Y.stack=="string"){for(var k=Y.stack.split(`
`),E=w.stack.split(`
`),I=k.length-1,N=E.length-1;1<=I&&0<=N&&k[I]!==E[N];)N--;for(;1<=I&&0<=N;I--,N--)if(k[I]!==E[N]){if(I!==1||N!==1)do if(I--,N--,0>N||k[I]!==E[N]){var B=`
`+k[I].replace(" at new "," at ");return u.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",u.displayName)),B}while(1<=I&&0<=N);break}}}finally{We=!1,Error.prepareStackTrace=m}return(u=u?u.displayName||u.name:"")?J(u):""}function Xe(u){switch(u.tag){case 5:return J(u.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return u=Ve(u.type,!1),u;case 11:return u=Ve(u.type.render,!1),u;case 1:return u=Ve(u.type,!0),u;default:return""}}function Fe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case R:return"Fragment";case D:return"Portal";case $:return"Profiler";case j:return"StrictMode";case re:return"Suspense";case ne:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case ge:return(u.displayName||"Context")+".Consumer";case Z:return(u._context.displayName||"Context")+".Provider";case ee:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case ve:return f=u.displayName||null,f!==null?f:Fe(u.type)||"Memo";case me:f=u._payload,u=u._init;try{return Fe(u(f))}catch{}}return null}function ce(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(f);case 8:return f===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Te(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function De(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ze(u){var f=De(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),w=""+u[f];if(!u.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,E=m.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return k.call(this)},set:function(I){w=""+I,E.call(this,I)}}),Object.defineProperty(u,f,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(I){w=""+I},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function st(u){u._valueTracker||(u._valueTracker=Ze(u))}function at(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var m=f.getValue(),w="";return u&&(w=De(u)?u.checked?"true":"false":u.value),u=w,u!==m?(f.setValue(u),!0):!1}function _t(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Xt(u,f){var m=f.checked;return te({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??u._wrapperState.initialChecked})}function xi(u,f){var m=f.defaultValue==null?"":f.defaultValue,w=f.checked!=null?f.checked:f.defaultChecked;m=Te(f.value!=null?f.value:m),u._wrapperState={initialChecked:w,initialValue:m,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function ki(u,f){f=f.checked,f!=null&&A(u,"checked",f,!1)}function On(u,f){ki(u,f);var m=Te(f.value),w=f.type;if(m!=null)w==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+m):u.value!==""+m&&(u.value=""+m);else if(w==="submit"||w==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?H(u,f.type,m):f.hasOwnProperty("defaultValue")&&H(u,f.type,Te(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function F(u,f,m){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var w=f.type;if(!(w!=="submit"&&w!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,m||f===u.value||(u.value=f),u.defaultValue=f}m=u.name,m!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,m!==""&&(u.name=m)}function H(u,f,m){(f!=="number"||_t(u.ownerDocument)!==u)&&(m==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+m&&(u.defaultValue=""+m))}var X=Array.isArray;function xe(u,f,m,w){if(u=u.options,f){f={};for(var k=0;k<m.length;k++)f["$"+m[k]]=!0;for(m=0;m<u.length;m++)k=f.hasOwnProperty("$"+u[m].value),u[m].selected!==k&&(u[m].selected=k),k&&w&&(u[m].defaultSelected=!0)}else{for(m=""+Te(m),f=null,k=0;k<u.length;k++){if(u[k].value===m){u[k].selected=!0,w&&(u[k].defaultSelected=!0);return}f!==null||u[k].disabled||(f=u[k])}f!==null&&(f.selected=!0)}}function ye(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(e(91));return te({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function be(u,f){var m=f.value;if(m==null){if(m=f.children,f=f.defaultValue,m!=null){if(f!=null)throw Error(e(92));if(X(m)){if(1<m.length)throw Error(e(93));m=m[0]}f=m}f==null&&(f=""),m=f}u._wrapperState={initialValue:Te(m)}}function Q(u,f){var m=Te(f.value),w=Te(f.defaultValue);m!=null&&(m=""+m,m!==u.value&&(u.value=m),f.defaultValue==null&&u.defaultValue!==m&&(u.defaultValue=m)),w!=null&&(u.defaultValue=""+w)}function pe(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function ut(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?ut(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Kt,qs=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,m,w,k){MSApp.execUnsafeLocalFunction(function(){return u(f,m,w,k)})}:u}(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(Kt=Kt||document.createElement("div"),Kt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Kt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function Ci(u,f){if(f){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=f;return}}u.textContent=f}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tc=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(u){tc.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),gr[f]=gr[u]})});function Do(u,f,m){return f==null||typeof f=="boolean"||f===""?"":m||typeof f!="number"||f===0||gr.hasOwnProperty(u)&&gr[u]?(""+f).trim():f+"px"}function Lo(u,f){u=u.style;for(var m in f)if(f.hasOwnProperty(m)){var w=m.indexOf("--")===0,k=Do(m,f[m],w);m==="float"&&(m="cssFloat"),w?u.setProperty(m,k):u[m]=k}}var Ha=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nc(u,f){if(f){if(Ha[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(e(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(e(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(e(61))}if(f.style!=null&&typeof f.style!="object")throw Error(e(62))}}function ic(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=null;function Mf(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var kv=null,Ou=null,Nu=null;function c5(u){if(u=nh(u)){if(typeof kv!="function")throw Error(e(280));var f=u.stateNode;f&&(f=Tg(f),kv(u.stateNode,u.type,f))}}function u5(u){Ou?Nu?Nu.push(u):Nu=[u]:Ou=u}function d5(){if(Ou){var u=Ou,f=Nu;if(Nu=Ou=null,c5(u),f)for(u=0;u<f.length;u++)c5(f[u])}}function f5(u,f){return u(f)}function h5(){}var Cv=!1;function m5(u,f,m){if(Cv)return u(f,m);Cv=!0;try{return f5(u,f,m)}finally{Cv=!1,(Ou!==null||Nu!==null)&&(h5(),d5())}}function Df(u,f){var m=u.stateNode;if(m===null)return null;var w=Tg(m);if(w===null)return null;m=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(e(231,f,typeof m));return m}var Ev=!1;if(a)try{var Lf={};Object.defineProperty(Lf,"passive",{get:function(){Ev=!0}}),window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,Lf)}catch{Ev=!1}function DH(u,f,m,w,k,E,I,N,B){var Y=Array.prototype.slice.call(arguments,3);try{f.apply(m,Y)}catch(ae){this.onError(ae)}}var Vf=!1,sg=null,og=!1,Sv=null,LH={onError:function(u){Vf=!0,sg=u}};function VH(u,f,m,w,k,E,I,N,B){Vf=!1,sg=null,DH.apply(LH,arguments)}function FH(u,f,m,w,k,E,I,N,B){if(VH.apply(this,arguments),Vf){if(Vf){var Y=sg;Vf=!1,sg=null}else throw Error(e(198));og||(og=!0,Sv=Y)}}function sc(u){var f=u,m=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(m=f.return),u=f.return;while(u)}return f.tag===3?m:null}function p5(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function g5(u){if(sc(u)!==u)throw Error(e(188))}function BH(u){var f=u.alternate;if(!f){if(f=sc(u),f===null)throw Error(e(188));return f!==u?null:u}for(var m=u,w=f;;){var k=m.return;if(k===null)break;var E=k.alternate;if(E===null){if(w=k.return,w!==null){m=w;continue}break}if(k.child===E.child){for(E=k.child;E;){if(E===m)return g5(k),u;if(E===w)return g5(k),f;E=E.sibling}throw Error(e(188))}if(m.return!==w.return)m=k,w=E;else{for(var I=!1,N=k.child;N;){if(N===m){I=!0,m=k,w=E;break}if(N===w){I=!0,w=k,m=E;break}N=N.sibling}if(!I){for(N=E.child;N;){if(N===m){I=!0,m=E,w=k;break}if(N===w){I=!0,w=E,m=k;break}N=N.sibling}if(!I)throw Error(e(189))}}if(m.alternate!==w)throw Error(e(190))}if(m.tag!==3)throw Error(e(188));return m.stateNode.current===m?u:f}function b5(u){return u=BH(u),u!==null?w5(u):null}function w5(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=w5(u);if(f!==null)return f;u=u.sibling}return null}var v5=t.unstable_scheduleCallback,y5=t.unstable_cancelCallback,jH=t.unstable_shouldYield,zH=t.unstable_requestPaint,Nn=t.unstable_now,$H=t.unstable_getCurrentPriorityLevel,Tv=t.unstable_ImmediatePriority,_5=t.unstable_UserBlockingPriority,ag=t.unstable_NormalPriority,UH=t.unstable_LowPriority,x5=t.unstable_IdlePriority,lg=null,Gs=null;function HH(u){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(lg,u,void 0,(u.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:GH,WH=Math.log,qH=Math.LN2;function GH(u){return u>>>=0,u===0?32:31-(WH(u)/qH|0)|0}var cg=64,ug=4194304;function Ff(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function dg(u,f){var m=u.pendingLanes;if(m===0)return 0;var w=0,k=u.suspendedLanes,E=u.pingedLanes,I=m&268435455;if(I!==0){var N=I&~k;N!==0?w=Ff(N):(E&=I,E!==0&&(w=Ff(E)))}else I=m&~k,I!==0?w=Ff(I):E!==0&&(w=Ff(E));if(w===0)return 0;if(f!==0&&f!==w&&!(f&k)&&(k=w&-w,E=f&-f,k>=E||k===16&&(E&4194240)!==0))return f;if(w&4&&(w|=m&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=w;0<f;)m=31-as(f),k=1<<m,w|=u[m],f&=~k;return w}function KH(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YH(u,f){for(var m=u.suspendedLanes,w=u.pingedLanes,k=u.expirationTimes,E=u.pendingLanes;0<E;){var I=31-as(E),N=1<<I,B=k[I];B===-1?(!(N&m)||N&w)&&(k[I]=KH(N,f)):B<=f&&(u.expiredLanes|=N),E&=~N}}function Av(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function k5(){var u=cg;return cg<<=1,!(cg&4194240)&&(cg=64),u}function Iv(u){for(var f=[],m=0;31>m;m++)f.push(u);return f}function Bf(u,f,m){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-as(f),u[f]=m}function ZH(u,f){var m=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<m;){var k=31-as(m),E=1<<k;f[k]=0,w[k]=-1,u[k]=-1,m&=~E}}function Pv(u,f){var m=u.entangledLanes|=f;for(u=u.entanglements;m;){var w=31-as(m),k=1<<w;k&f|u[w]&f&&(u[w]|=f),m&=~k}}var zt=0;function C5(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var E5,Rv,S5,T5,A5,Ov=!1,fg=[],Wa=null,qa=null,Ga=null,jf=new Map,zf=new Map,Ka=[],JH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I5(u,f){switch(u){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":jf.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(f.pointerId)}}function $f(u,f,m,w,k,E){return u===null||u.nativeEvent!==E?(u={blockedOn:f,domEventName:m,eventSystemFlags:w,nativeEvent:E,targetContainers:[k]},f!==null&&(f=nh(f),f!==null&&Rv(f)),u):(u.eventSystemFlags|=w,f=u.targetContainers,k!==null&&f.indexOf(k)===-1&&f.push(k),u)}function XH(u,f,m,w,k){switch(f){case"focusin":return Wa=$f(Wa,u,f,m,w,k),!0;case"dragenter":return qa=$f(qa,u,f,m,w,k),!0;case"mouseover":return Ga=$f(Ga,u,f,m,w,k),!0;case"pointerover":var E=k.pointerId;return jf.set(E,$f(jf.get(E)||null,u,f,m,w,k)),!0;case"gotpointercapture":return E=k.pointerId,zf.set(E,$f(zf.get(E)||null,u,f,m,w,k)),!0}return!1}function P5(u){var f=oc(u.target);if(f!==null){var m=sc(f);if(m!==null){if(f=m.tag,f===13){if(f=p5(m),f!==null){u.blockedOn=f,A5(u.priority,function(){S5(m)});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function hg(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var m=Mv(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(m===null){m=u.nativeEvent;var w=new m.constructor(m.type,m);rc=w,m.target.dispatchEvent(w),rc=null}else return f=nh(m),f!==null&&Rv(f),u.blockedOn=m,!1;f.shift()}return!0}function R5(u,f,m){hg(u)&&m.delete(f)}function QH(){Ov=!1,Wa!==null&&hg(Wa)&&(Wa=null),qa!==null&&hg(qa)&&(qa=null),Ga!==null&&hg(Ga)&&(Ga=null),jf.forEach(R5),zf.forEach(R5)}function Uf(u,f){u.blockedOn===f&&(u.blockedOn=null,Ov||(Ov=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QH)))}function Hf(u){function f(k){return Uf(k,u)}if(0<fg.length){Uf(fg[0],u);for(var m=1;m<fg.length;m++){var w=fg[m];w.blockedOn===u&&(w.blockedOn=null)}}for(Wa!==null&&Uf(Wa,u),qa!==null&&Uf(qa,u),Ga!==null&&Uf(Ga,u),jf.forEach(f),zf.forEach(f),m=0;m<Ka.length;m++)w=Ka[m],w.blockedOn===u&&(w.blockedOn=null);for(;0<Ka.length&&(m=Ka[0],m.blockedOn===null);)P5(m),m.blockedOn===null&&Ka.shift()}var Mu=P.ReactCurrentBatchConfig,mg=!0;function eW(u,f,m,w){var k=zt,E=Mu.transition;Mu.transition=null;try{zt=1,Nv(u,f,m,w)}finally{zt=k,Mu.transition=E}}function tW(u,f,m,w){var k=zt,E=Mu.transition;Mu.transition=null;try{zt=4,Nv(u,f,m,w)}finally{zt=k,Mu.transition=E}}function Nv(u,f,m,w){if(mg){var k=Mv(u,f,m,w);if(k===null)Jv(u,f,w,pg,m),I5(u,w);else if(XH(k,u,f,m,w))w.stopPropagation();else if(I5(u,w),f&4&&-1<JH.indexOf(u)){for(;k!==null;){var E=nh(k);if(E!==null&&E5(E),E=Mv(u,f,m,w),E===null&&Jv(u,f,w,pg,m),E===k)break;k=E}k!==null&&w.stopPropagation()}else Jv(u,f,w,null,m)}}var pg=null;function Mv(u,f,m,w){if(pg=null,u=Mf(w),u=oc(u),u!==null)if(f=sc(u),f===null)u=null;else if(m=f.tag,m===13){if(u=p5(f),u!==null)return u;u=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return pg=u,null}function O5(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($H()){case Tv:return 1;case _5:return 4;case ag:case UH:return 16;case x5:return 536870912;default:return 16}default:return 16}}var Ya=null,Dv=null,gg=null;function N5(){if(gg)return gg;var u,f=Dv,m=f.length,w,k="value"in Ya?Ya.value:Ya.textContent,E=k.length;for(u=0;u<m&&f[u]===k[u];u++);var I=m-u;for(w=1;w<=I&&f[m-w]===k[E-w];w++);return gg=k.slice(u,1<w?1-w:void 0)}function bg(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function wg(){return!0}function M5(){return!1}function br(u){function f(m,w,k,E,I){this._reactName=m,this._targetInst=k,this.type=w,this.nativeEvent=E,this.target=I,this.currentTarget=null;for(var N in u)u.hasOwnProperty(N)&&(m=u[N],this[N]=m?m(E):E[N]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?wg:M5,this.isPropagationStopped=M5,this}return te(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=wg)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=wg)},persist:function(){},isPersistent:wg}),f}var Du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=br(Du),Wf=te({},Du,{view:0,detail:0}),nW=br(Wf),Vv,Fv,qf,vg=te({},Wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jv,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==qf&&(qf&&u.type==="mousemove"?(Vv=u.screenX-qf.screenX,Fv=u.screenY-qf.screenY):Fv=Vv=0,qf=u),Vv)},movementY:function(u){return"movementY"in u?u.movementY:Fv}}),D5=br(vg),iW=te({},vg,{dataTransfer:0}),rW=br(iW),sW=te({},Wf,{relatedTarget:0}),Bv=br(sW),oW=te({},Du,{animationName:0,elapsedTime:0,pseudoElement:0}),aW=br(oW),lW=te({},Du,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),cW=br(lW),uW=te({},Du,{data:0}),L5=br(uW),dW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mW(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=hW[u])?!!f[u]:!1}function jv(){return mW}var pW=te({},Wf,{key:function(u){if(u.key){var f=dW[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=bg(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?fW[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jv,charCode:function(u){return u.type==="keypress"?bg(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?bg(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),gW=br(pW),bW=te({},vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V5=br(bW),wW=te({},Wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jv}),vW=br(wW),yW=te({},Du,{propertyName:0,elapsedTime:0,pseudoElement:0}),_W=br(yW),xW=te({},vg,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),kW=br(xW),CW=[9,13,27,32],zv=a&&"CompositionEvent"in window,Gf=null;a&&"documentMode"in document&&(Gf=document.documentMode);var EW=a&&"TextEvent"in window&&!Gf,F5=a&&(!zv||Gf&&8<Gf&&11>=Gf),B5=" ",j5=!1;function z5(u,f){switch(u){case"keyup":return CW.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $5(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Lu=!1;function SW(u,f){switch(u){case"compositionend":return $5(f);case"keypress":return f.which!==32?null:(j5=!0,B5);case"textInput":return u=f.data,u===B5&&j5?null:u;default:return null}}function TW(u,f){if(Lu)return u==="compositionend"||!zv&&z5(u,f)?(u=N5(),gg=Dv=Ya=null,Lu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return F5&&f.locale!=="ko"?null:f.data;default:return null}}var AW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U5(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!AW[u.type]:f==="textarea"}function H5(u,f,m,w){u5(w),f=Cg(f,"onChange"),0<f.length&&(m=new Lv("onChange","change",null,m,w),u.push({event:m,listeners:f}))}var Kf=null,Yf=null;function IW(u){l3(u,0)}function yg(u){var f=zu(u);if(at(f))return u}function PW(u,f){if(u==="change")return f}var W5=!1;if(a){var $v;if(a){var Uv="oninput"in document;if(!Uv){var q5=document.createElement("div");q5.setAttribute("oninput","return;"),Uv=typeof q5.oninput=="function"}$v=Uv}else $v=!1;W5=$v&&(!document.documentMode||9<document.documentMode)}function G5(){Kf&&(Kf.detachEvent("onpropertychange",K5),Yf=Kf=null)}function K5(u){if(u.propertyName==="value"&&yg(Yf)){var f=[];H5(f,Yf,u,Mf(u)),m5(IW,f)}}function RW(u,f,m){u==="focusin"?(G5(),Kf=f,Yf=m,Kf.attachEvent("onpropertychange",K5)):u==="focusout"&&G5()}function OW(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return yg(Yf)}function NW(u,f){if(u==="click")return yg(f)}function MW(u,f){if(u==="input"||u==="change")return yg(f)}function DW(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ls=typeof Object.is=="function"?Object.is:DW;function Zf(u,f){if(ls(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var m=Object.keys(u),w=Object.keys(f);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var k=m[w];if(!l.call(f,k)||!ls(u[k],f[k]))return!1}return!0}function Y5(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Z5(u,f){var m=Y5(u);u=0;for(var w;m;){if(m.nodeType===3){if(w=u+m.textContent.length,u<=f&&w>=f)return{node:m,offset:f-u};u=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Y5(m)}}function J5(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?J5(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function X5(){for(var u=window,f=_t();f instanceof u.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)u=f.contentWindow;else break;f=_t(u.document)}return f}function Hv(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function LW(u){var f=X5(),m=u.focusedElem,w=u.selectionRange;if(f!==m&&m&&m.ownerDocument&&J5(m.ownerDocument.documentElement,m)){if(w!==null&&Hv(m)){if(f=w.start,u=w.end,u===void 0&&(u=f),"selectionStart"in m)m.selectionStart=f,m.selectionEnd=Math.min(u,m.value.length);else if(u=(f=m.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var k=m.textContent.length,E=Math.min(w.start,k);w=w.end===void 0?E:Math.min(w.end,k),!u.extend&&E>w&&(k=w,w=E,E=k),k=Z5(m,E);var I=Z5(m,w);k&&I&&(u.rangeCount!==1||u.anchorNode!==k.node||u.anchorOffset!==k.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(f=f.createRange(),f.setStart(k.node,k.offset),u.removeAllRanges(),E>w?(u.addRange(f),u.extend(I.node,I.offset)):(f.setEnd(I.node,I.offset),u.addRange(f)))}}for(f=[],u=m;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<f.length;m++)u=f[m],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var VW=a&&"documentMode"in document&&11>=document.documentMode,Vu=null,Wv=null,Jf=null,qv=!1;function Q5(u,f,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;qv||Vu==null||Vu!==_t(w)||(w=Vu,"selectionStart"in w&&Hv(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Jf&&Zf(Jf,w)||(Jf=w,w=Cg(Wv,"onSelect"),0<w.length&&(f=new Lv("onSelect","select",null,f,m),u.push({event:f,listeners:w}),f.target=Vu)))}function _g(u,f){var m={};return m[u.toLowerCase()]=f.toLowerCase(),m["Webkit"+u]="webkit"+f,m["Moz"+u]="moz"+f,m}var Fu={animationend:_g("Animation","AnimationEnd"),animationiteration:_g("Animation","AnimationIteration"),animationstart:_g("Animation","AnimationStart"),transitionend:_g("Transition","TransitionEnd")},Gv={},e3={};a&&(e3=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function xg(u){if(Gv[u])return Gv[u];if(!Fu[u])return u;var f=Fu[u],m;for(m in f)if(f.hasOwnProperty(m)&&m in e3)return Gv[u]=f[m];return u}var t3=xg("animationend"),n3=xg("animationiteration"),i3=xg("animationstart"),r3=xg("transitionend"),s3=new Map,o3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(u,f){s3.set(u,f),s(f,[u])}for(var Kv=0;Kv<o3.length;Kv++){var Yv=o3[Kv],FW=Yv.toLowerCase(),BW=Yv[0].toUpperCase()+Yv.slice(1);Za(FW,"on"+BW)}Za(t3,"onAnimationEnd"),Za(n3,"onAnimationIteration"),Za(i3,"onAnimationStart"),Za("dblclick","onDoubleClick"),Za("focusin","onFocus"),Za("focusout","onBlur"),Za(r3,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xf));function a3(u,f,m){var w=u.type||"unknown-event";u.currentTarget=m,FH(w,f,void 0,u),u.currentTarget=null}function l3(u,f){f=(f&4)!==0;for(var m=0;m<u.length;m++){var w=u[m],k=w.event;w=w.listeners;e:{var E=void 0;if(f)for(var I=w.length-1;0<=I;I--){var N=w[I],B=N.instance,Y=N.currentTarget;if(N=N.listener,B!==E&&k.isPropagationStopped())break e;a3(k,N,Y),E=B}else for(I=0;I<w.length;I++){if(N=w[I],B=N.instance,Y=N.currentTarget,N=N.listener,B!==E&&k.isPropagationStopped())break e;a3(k,N,Y),E=B}}}if(og)throw u=Sv,og=!1,Sv=null,u}function nn(u,f){var m=f[iy];m===void 0&&(m=f[iy]=new Set);var w=u+"__bubble";m.has(w)||(c3(f,u,2,!1),m.add(w))}function Zv(u,f,m){var w=0;f&&(w|=4),c3(m,u,w,f)}var kg="_reactListening"+Math.random().toString(36).slice(2);function Qf(u){if(!u[kg]){u[kg]=!0,i.forEach(function(m){m!=="selectionchange"&&(jW.has(m)||Zv(m,!1,u),Zv(m,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[kg]||(f[kg]=!0,Zv("selectionchange",!1,f))}}function c3(u,f,m,w){switch(O5(f)){case 1:var k=eW;break;case 4:k=tW;break;default:k=Nv}m=k.bind(null,f,m,u),k=void 0,!Ev||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(k=!0),w?k!==void 0?u.addEventListener(f,m,{capture:!0,passive:k}):u.addEventListener(f,m,!0):k!==void 0?u.addEventListener(f,m,{passive:k}):u.addEventListener(f,m,!1)}function Jv(u,f,m,w,k){var E=w;if(!(f&1)&&!(f&2)&&w!==null)e:for(;;){if(w===null)return;var I=w.tag;if(I===3||I===4){var N=w.stateNode.containerInfo;if(N===k||N.nodeType===8&&N.parentNode===k)break;if(I===4)for(I=w.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===k||B.nodeType===8&&B.parentNode===k))return;I=I.return}for(;N!==null;){if(I=oc(N),I===null)return;if(B=I.tag,B===5||B===6){w=E=I;continue e}N=N.parentNode}}w=w.return}m5(function(){var Y=E,ae=Mf(m),le=[];e:{var oe=s3.get(u);if(oe!==void 0){var Re=Lv,Ue=u;switch(u){case"keypress":if(bg(m)===0)break e;case"keydown":case"keyup":Re=gW;break;case"focusin":Ue="focus",Re=Bv;break;case"focusout":Ue="blur",Re=Bv;break;case"beforeblur":case"afterblur":Re=Bv;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=D5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=rW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=vW;break;case t3:case n3:case i3:Re=aW;break;case r3:Re=_W;break;case"scroll":Re=nW;break;case"wheel":Re=kW;break;case"copy":case"cut":case"paste":Re=cW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=V5}var He=(f&4)!==0,Mn=!He&&u==="scroll",W=He?oe!==null?oe+"Capture":null:oe;He=[];for(var z=Y,q;z!==null;){q=z;var we=q.stateNode;if(q.tag===5&&we!==null&&(q=we,W!==null&&(we=Df(z,W),we!=null&&He.push(eh(z,we,q)))),Mn)break;z=z.return}0<He.length&&(oe=new Re(oe,Ue,null,m,ae),le.push({event:oe,listeners:He}))}}if(!(f&7)){e:{if(oe=u==="mouseover"||u==="pointerover",Re=u==="mouseout"||u==="pointerout",oe&&m!==rc&&(Ue=m.relatedTarget||m.fromElement)&&(oc(Ue)||Ue[Vo]))break e;if((Re||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,Re?(Ue=m.relatedTarget||m.toElement,Re=Y,Ue=Ue?oc(Ue):null,Ue!==null&&(Mn=sc(Ue),Ue!==Mn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Re=null,Ue=Y),Re!==Ue)){if(He=D5,we="onMouseLeave",W="onMouseEnter",z="mouse",(u==="pointerout"||u==="pointerover")&&(He=V5,we="onPointerLeave",W="onPointerEnter",z="pointer"),Mn=Re==null?oe:zu(Re),q=Ue==null?oe:zu(Ue),oe=new He(we,z+"leave",Re,m,ae),oe.target=Mn,oe.relatedTarget=q,we=null,oc(ae)===Y&&(He=new He(W,z+"enter",Ue,m,ae),He.target=q,He.relatedTarget=Mn,we=He),Mn=we,Re&&Ue)t:{for(He=Re,W=Ue,z=0,q=He;q;q=Bu(q))z++;for(q=0,we=W;we;we=Bu(we))q++;for(;0<z-q;)He=Bu(He),z--;for(;0<q-z;)W=Bu(W),q--;for(;z--;){if(He===W||W!==null&&He===W.alternate)break t;He=Bu(He),W=Bu(W)}He=null}else He=null;Re!==null&&u3(le,oe,Re,He,!1),Ue!==null&&Mn!==null&&u3(le,Mn,Ue,He,!0)}}e:{if(oe=Y?zu(Y):window,Re=oe.nodeName&&oe.nodeName.toLowerCase(),Re==="select"||Re==="input"&&oe.type==="file")var Ge=PW;else if(U5(oe))if(W5)Ge=MW;else{Ge=OW;var Qe=RW}else(Re=oe.nodeName)&&Re.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ge=NW);if(Ge&&(Ge=Ge(u,Y))){H5(le,Ge,m,ae);break e}Qe&&Qe(u,oe,Y),u==="focusout"&&(Qe=oe._wrapperState)&&Qe.controlled&&oe.type==="number"&&H(oe,"number",oe.value)}switch(Qe=Y?zu(Y):window,u){case"focusin":(U5(Qe)||Qe.contentEditable==="true")&&(Vu=Qe,Wv=Y,Jf=null);break;case"focusout":Jf=Wv=Vu=null;break;case"mousedown":qv=!0;break;case"contextmenu":case"mouseup":case"dragend":qv=!1,Q5(le,m,ae);break;case"selectionchange":if(VW)break;case"keydown":case"keyup":Q5(le,m,ae)}var et;if(zv)e:{switch(u){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Lu?z5(u,m)&&(ot="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(ot="onCompositionStart");ot&&(F5&&m.locale!=="ko"&&(Lu||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Lu&&(et=N5()):(Ya=ae,Dv="value"in Ya?Ya.value:Ya.textContent,Lu=!0)),Qe=Cg(Y,ot),0<Qe.length&&(ot=new L5(ot,u,null,m,ae),le.push({event:ot,listeners:Qe}),et?ot.data=et:(et=$5(m),et!==null&&(ot.data=et)))),(et=EW?SW(u,m):TW(u,m))&&(Y=Cg(Y,"onBeforeInput"),0<Y.length&&(ae=new L5("onBeforeInput","beforeinput",null,m,ae),le.push({event:ae,listeners:Y}),ae.data=et))}l3(le,f)})}function eh(u,f,m){return{instance:u,listener:f,currentTarget:m}}function Cg(u,f){for(var m=f+"Capture",w=[];u!==null;){var k=u,E=k.stateNode;k.tag===5&&E!==null&&(k=E,E=Df(u,m),E!=null&&w.unshift(eh(u,E,k)),E=Df(u,f),E!=null&&w.push(eh(u,E,k))),u=u.return}return w}function Bu(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function u3(u,f,m,w,k){for(var E=f._reactName,I=[];m!==null&&m!==w;){var N=m,B=N.alternate,Y=N.stateNode;if(B!==null&&B===w)break;N.tag===5&&Y!==null&&(N=Y,k?(B=Df(m,E),B!=null&&I.unshift(eh(m,B,N))):k||(B=Df(m,E),B!=null&&I.push(eh(m,B,N)))),m=m.return}I.length!==0&&u.push({event:f,listeners:I})}var zW=/\r\n?/g,$W=/\u0000|\uFFFD/g;function d3(u){return(typeof u=="string"?u:""+u).replace(zW,`
`).replace($W,"")}function Eg(u,f,m){if(f=d3(f),d3(u)!==f&&m)throw Error(e(425))}function Sg(){}var Xv=null,Qv=null;function ey(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var ty=typeof setTimeout=="function"?setTimeout:void 0,UW=typeof clearTimeout=="function"?clearTimeout:void 0,f3=typeof Promise=="function"?Promise:void 0,HW=typeof queueMicrotask=="function"?queueMicrotask:typeof f3<"u"?function(u){return f3.resolve(null).then(u).catch(WW)}:ty;function WW(u){setTimeout(function(){throw u})}function ny(u,f){var m=f,w=0;do{var k=m.nextSibling;if(u.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(w===0){u.removeChild(k),Hf(f);return}w--}else m!=="$"&&m!=="$?"&&m!=="$!"||w++;m=k}while(m);Hf(f)}function Ja(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function h3(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return u;f--}else m==="/$"&&f++}u=u.previousSibling}return null}var ju=Math.random().toString(36).slice(2),Ks="__reactFiber$"+ju,th="__reactProps$"+ju,Vo="__reactContainer$"+ju,iy="__reactEvents$"+ju,qW="__reactListeners$"+ju,GW="__reactHandles$"+ju;function oc(u){var f=u[Ks];if(f)return f;for(var m=u.parentNode;m;){if(f=m[Vo]||m[Ks]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(u=h3(u);u!==null;){if(m=u[Ks])return m;u=h3(u)}return f}u=m,m=u.parentNode}return null}function nh(u){return u=u[Ks]||u[Vo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function zu(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(e(33))}function Tg(u){return u[th]||null}var ry=[],$u=-1;function Xa(u){return{current:u}}function rn(u){0>$u||(u.current=ry[$u],ry[$u]=null,$u--)}function Qt(u,f){$u++,ry[$u]=u.current,u.current=f}var Qa={},Ei=Xa(Qa),Xi=Xa(!1),ac=Qa;function Uu(u,f){var m=u.type.contextTypes;if(!m)return Qa;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var k={},E;for(E in m)k[E]=f[E];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=k),k}function Qi(u){return u=u.childContextTypes,u!=null}function Ag(){rn(Xi),rn(Ei)}function m3(u,f,m){if(Ei.current!==Qa)throw Error(e(168));Qt(Ei,f),Qt(Xi,m)}function p3(u,f,m){var w=u.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var k in w)if(!(k in f))throw Error(e(108,ce(u)||"Unknown",k));return te({},m,w)}function Ig(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Qa,ac=Ei.current,Qt(Ei,u),Qt(Xi,Xi.current),!0}function g3(u,f,m){var w=u.stateNode;if(!w)throw Error(e(169));m?(u=p3(u,f,ac),w.__reactInternalMemoizedMergedChildContext=u,rn(Xi),rn(Ei),Qt(Ei,u)):rn(Xi),Qt(Xi,m)}var Fo=null,Pg=!1,sy=!1;function b3(u){Fo===null?Fo=[u]:Fo.push(u)}function KW(u){Pg=!0,b3(u)}function el(){if(!sy&&Fo!==null){sy=!0;var u=0,f=zt;try{var m=Fo;for(zt=1;u<m.length;u++){var w=m[u];do w=w(!0);while(w!==null)}Fo=null,Pg=!1}catch(k){throw Fo!==null&&(Fo=Fo.slice(u+1)),v5(Tv,el),k}finally{zt=f,sy=!1}}return null}var Hu=[],Wu=0,Rg=null,Og=0,Br=[],jr=0,lc=null,Bo=1,jo="";function cc(u,f){Hu[Wu++]=Og,Hu[Wu++]=Rg,Rg=u,Og=f}function w3(u,f,m){Br[jr++]=Bo,Br[jr++]=jo,Br[jr++]=lc,lc=u;var w=Bo;u=jo;var k=32-as(w)-1;w&=~(1<<k),m+=1;var E=32-as(f)+k;if(30<E){var I=k-k%5;E=(w&(1<<I)-1).toString(32),w>>=I,k-=I,Bo=1<<32-as(f)+k|m<<k|w,jo=E+u}else Bo=1<<E|m<<k|w,jo=u}function oy(u){u.return!==null&&(cc(u,1),w3(u,1,0))}function ay(u){for(;u===Rg;)Rg=Hu[--Wu],Hu[Wu]=null,Og=Hu[--Wu],Hu[Wu]=null;for(;u===lc;)lc=Br[--jr],Br[jr]=null,jo=Br[--jr],Br[jr]=null,Bo=Br[--jr],Br[jr]=null}var wr=null,vr=null,cn=!1,cs=null;function v3(u,f){var m=Hr(5,null,null,0);m.elementType="DELETED",m.stateNode=f,m.return=u,f=u.deletions,f===null?(u.deletions=[m],u.flags|=16):f.push(m)}function y3(u,f){switch(u.tag){case 5:var m=u.type;return f=f.nodeType!==1||m.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,wr=u,vr=Ja(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,wr=u,vr=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(m=lc!==null?{id:Bo,overflow:jo}:null,u.memoizedState={dehydrated:f,treeContext:m,retryLane:1073741824},m=Hr(18,null,null,0),m.stateNode=f,m.return=u,u.child=m,wr=u,vr=null,!0):!1;default:return!1}}function ly(u){return(u.mode&1)!==0&&(u.flags&128)===0}function cy(u){if(cn){var f=vr;if(f){var m=f;if(!y3(u,f)){if(ly(u))throw Error(e(418));f=Ja(m.nextSibling);var w=wr;f&&y3(u,f)?v3(w,m):(u.flags=u.flags&-4097|2,cn=!1,wr=u)}}else{if(ly(u))throw Error(e(418));u.flags=u.flags&-4097|2,cn=!1,wr=u}}}function _3(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;wr=u}function Ng(u){if(u!==wr)return!1;if(!cn)return _3(u),cn=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!ey(u.type,u.memoizedProps)),f&&(f=vr)){if(ly(u))throw x3(),Error(e(418));for(;f;)v3(u,f),f=Ja(f.nextSibling)}if(_3(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(e(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"){if(f===0){vr=Ja(u.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++}u=u.nextSibling}vr=null}}else vr=wr?Ja(u.stateNode.nextSibling):null;return!0}function x3(){for(var u=vr;u;)u=Ja(u.nextSibling)}function qu(){vr=wr=null,cn=!1}function uy(u){cs===null?cs=[u]:cs.push(u)}var YW=P.ReactCurrentBatchConfig;function ih(u,f,m){if(u=m.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(e(309));var w=m.stateNode}if(!w)throw Error(e(147,u));var k=w,E=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===E?f.ref:(f=function(I){var N=k.refs;I===null?delete N[E]:N[E]=I},f._stringRef=E,f)}if(typeof u!="string")throw Error(e(284));if(!m._owner)throw Error(e(290,u))}return u}function Mg(u,f){throw u=Object.prototype.toString.call(f),Error(e(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function k3(u){var f=u._init;return f(u._payload)}function C3(u){function f(W,z){if(u){var q=W.deletions;q===null?(W.deletions=[z],W.flags|=16):q.push(z)}}function m(W,z){if(!u)return null;for(;z!==null;)f(W,z),z=z.sibling;return null}function w(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function k(W,z){return W=ll(W,z),W.index=0,W.sibling=null,W}function E(W,z,q){return W.index=q,u?(q=W.alternate,q!==null?(q=q.index,q<z?(W.flags|=2,z):q):(W.flags|=2,z)):(W.flags|=1048576,z)}function I(W){return u&&W.alternate===null&&(W.flags|=2),W}function N(W,z,q,we){return z===null||z.tag!==6?(z=t_(q,W.mode,we),z.return=W,z):(z=k(z,q),z.return=W,z)}function B(W,z,q,we){var Ge=q.type;return Ge===R?ae(W,z,q.props.children,we,q.key):z!==null&&(z.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===me&&k3(Ge)===z.type)?(we=k(z,q.props),we.ref=ih(W,z,q),we.return=W,we):(we=r0(q.type,q.key,q.props,null,W.mode,we),we.ref=ih(W,z,q),we.return=W,we)}function Y(W,z,q,we){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=n_(q,W.mode,we),z.return=W,z):(z=k(z,q.children||[]),z.return=W,z)}function ae(W,z,q,we,Ge){return z===null||z.tag!==7?(z=bc(q,W.mode,we,Ge),z.return=W,z):(z=k(z,q),z.return=W,z)}function le(W,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=t_(""+z,W.mode,q),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return q=r0(z.type,z.key,z.props,null,W.mode,q),q.ref=ih(W,null,z),q.return=W,q;case D:return z=n_(z,W.mode,q),z.return=W,z;case me:var we=z._init;return le(W,we(z._payload),q)}if(X(z)||K(z))return z=bc(z,W.mode,q,null),z.return=W,z;Mg(W,z)}return null}function oe(W,z,q,we){var Ge=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ge!==null?null:N(W,z,""+q,we);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===Ge?B(W,z,q,we):null;case D:return q.key===Ge?Y(W,z,q,we):null;case me:return Ge=q._init,oe(W,z,Ge(q._payload),we)}if(X(q)||K(q))return Ge!==null?null:ae(W,z,q,we,null);Mg(W,q)}return null}function Re(W,z,q,we,Ge){if(typeof we=="string"&&we!==""||typeof we=="number")return W=W.get(q)||null,N(z,W,""+we,Ge);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case O:return W=W.get(we.key===null?q:we.key)||null,B(z,W,we,Ge);case D:return W=W.get(we.key===null?q:we.key)||null,Y(z,W,we,Ge);case me:var Qe=we._init;return Re(W,z,q,Qe(we._payload),Ge)}if(X(we)||K(we))return W=W.get(q)||null,ae(z,W,we,Ge,null);Mg(z,we)}return null}function Ue(W,z,q,we){for(var Ge=null,Qe=null,et=z,ot=z=0,oi=null;et!==null&&ot<q.length;ot++){et.index>ot?(oi=et,et=null):oi=et.sibling;var Rt=oe(W,et,q[ot],we);if(Rt===null){et===null&&(et=oi);break}u&&et&&Rt.alternate===null&&f(W,et),z=E(Rt,z,ot),Qe===null?Ge=Rt:Qe.sibling=Rt,Qe=Rt,et=oi}if(ot===q.length)return m(W,et),cn&&cc(W,ot),Ge;if(et===null){for(;ot<q.length;ot++)et=le(W,q[ot],we),et!==null&&(z=E(et,z,ot),Qe===null?Ge=et:Qe.sibling=et,Qe=et);return cn&&cc(W,ot),Ge}for(et=w(W,et);ot<q.length;ot++)oi=Re(et,W,ot,q[ot],we),oi!==null&&(u&&oi.alternate!==null&&et.delete(oi.key===null?ot:oi.key),z=E(oi,z,ot),Qe===null?Ge=oi:Qe.sibling=oi,Qe=oi);return u&&et.forEach(function(cl){return f(W,cl)}),cn&&cc(W,ot),Ge}function He(W,z,q,we){var Ge=K(q);if(typeof Ge!="function")throw Error(e(150));if(q=Ge.call(q),q==null)throw Error(e(151));for(var Qe=Ge=null,et=z,ot=z=0,oi=null,Rt=q.next();et!==null&&!Rt.done;ot++,Rt=q.next()){et.index>ot?(oi=et,et=null):oi=et.sibling;var cl=oe(W,et,Rt.value,we);if(cl===null){et===null&&(et=oi);break}u&&et&&cl.alternate===null&&f(W,et),z=E(cl,z,ot),Qe===null?Ge=cl:Qe.sibling=cl,Qe=cl,et=oi}if(Rt.done)return m(W,et),cn&&cc(W,ot),Ge;if(et===null){for(;!Rt.done;ot++,Rt=q.next())Rt=le(W,Rt.value,we),Rt!==null&&(z=E(Rt,z,ot),Qe===null?Ge=Rt:Qe.sibling=Rt,Qe=Rt);return cn&&cc(W,ot),Ge}for(et=w(W,et);!Rt.done;ot++,Rt=q.next())Rt=Re(et,W,ot,Rt.value,we),Rt!==null&&(u&&Rt.alternate!==null&&et.delete(Rt.key===null?ot:Rt.key),z=E(Rt,z,ot),Qe===null?Ge=Rt:Qe.sibling=Rt,Qe=Rt);return u&&et.forEach(function(Aq){return f(W,Aq)}),cn&&cc(W,ot),Ge}function Mn(W,z,q,we){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var Ge=q.key,Qe=z;Qe!==null;){if(Qe.key===Ge){if(Ge=q.type,Ge===R){if(Qe.tag===7){m(W,Qe.sibling),z=k(Qe,q.props.children),z.return=W,W=z;break e}}else if(Qe.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===me&&k3(Ge)===Qe.type){m(W,Qe.sibling),z=k(Qe,q.props),z.ref=ih(W,Qe,q),z.return=W,W=z;break e}m(W,Qe);break}else f(W,Qe);Qe=Qe.sibling}q.type===R?(z=bc(q.props.children,W.mode,we,q.key),z.return=W,W=z):(we=r0(q.type,q.key,q.props,null,W.mode,we),we.ref=ih(W,z,q),we.return=W,W=we)}return I(W);case D:e:{for(Qe=q.key;z!==null;){if(z.key===Qe)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){m(W,z.sibling),z=k(z,q.children||[]),z.return=W,W=z;break e}else{m(W,z);break}else f(W,z);z=z.sibling}z=n_(q,W.mode,we),z.return=W,W=z}return I(W);case me:return Qe=q._init,Mn(W,z,Qe(q._payload),we)}if(X(q))return Ue(W,z,q,we);if(K(q))return He(W,z,q,we);Mg(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(m(W,z.sibling),z=k(z,q),z.return=W,W=z):(m(W,z),z=t_(q,W.mode,we),z.return=W,W=z),I(W)):m(W,z)}return Mn}var Gu=C3(!0),E3=C3(!1),Dg=Xa(null),Lg=null,Ku=null,dy=null;function fy(){dy=Ku=Lg=null}function hy(u){var f=Dg.current;rn(Dg),u._currentValue=f}function my(u,f,m){for(;u!==null;){var w=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),u===m)break;u=u.return}}function Yu(u,f){Lg=u,dy=Ku=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(er=!0),u.firstContext=null)}function zr(u){var f=u._currentValue;if(dy!==u)if(u={context:u,memoizedValue:f,next:null},Ku===null){if(Lg===null)throw Error(e(308));Ku=u,Lg.dependencies={lanes:0,firstContext:u}}else Ku=Ku.next=u;return f}var uc=null;function py(u){uc===null?uc=[u]:uc.push(u)}function S3(u,f,m,w){var k=f.interleaved;return k===null?(m.next=m,py(f)):(m.next=k.next,k.next=m),f.interleaved=m,zo(u,w)}function zo(u,f){u.lanes|=f;var m=u.alternate;for(m!==null&&(m.lanes|=f),m=u,u=u.return;u!==null;)u.childLanes|=f,m=u.alternate,m!==null&&(m.childLanes|=f),m=u,u=u.return;return m.tag===3?m.stateNode:null}var tl=!1;function gy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T3(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function $o(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function nl(u,f,m){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,It&2){var k=w.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),w.pending=f,zo(u,m)}return k=w.interleaved,k===null?(f.next=f,py(w)):(f.next=k.next,k.next=f),w.interleaved=f,zo(u,m)}function Vg(u,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194240)!==0)){var w=f.lanes;w&=u.pendingLanes,m|=w,f.lanes=m,Pv(u,m)}}function A3(u,f){var m=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var k=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?k=E=I:E=E.next=I,m=m.next}while(m!==null);E===null?k=E=f:E=E.next=f}else k=E=f;m={baseState:w.baseState,firstBaseUpdate:k,lastBaseUpdate:E,shared:w.shared,effects:w.effects},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=f}function Fg(u,f,m,w){var k=u.updateQueue;tl=!1;var E=k.firstBaseUpdate,I=k.lastBaseUpdate,N=k.shared.pending;if(N!==null){k.shared.pending=null;var B=N,Y=B.next;B.next=null,I===null?E=Y:I.next=Y,I=B;var ae=u.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==I&&(N===null?ae.firstBaseUpdate=Y:N.next=Y,ae.lastBaseUpdate=B))}if(E!==null){var le=k.baseState;I=0,ae=Y=B=null,N=E;do{var oe=N.lane,Re=N.eventTime;if((w&oe)===oe){ae!==null&&(ae=ae.next={eventTime:Re,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var Ue=u,He=N;switch(oe=f,Re=m,He.tag){case 1:if(Ue=He.payload,typeof Ue=="function"){le=Ue.call(Re,le,oe);break e}le=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=He.payload,oe=typeof Ue=="function"?Ue.call(Re,le,oe):Ue,oe==null)break e;le=te({},le,oe);break e;case 2:tl=!0}}N.callback!==null&&N.lane!==0&&(u.flags|=64,oe=k.effects,oe===null?k.effects=[N]:oe.push(N))}else Re={eventTime:Re,lane:oe,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(Y=ae=Re,B=le):ae=ae.next=Re,I|=oe;if(N=N.next,N===null){if(N=k.shared.pending,N===null)break;oe=N,N=oe.next,oe.next=null,k.lastBaseUpdate=oe,k.shared.pending=null}}while(!0);if(ae===null&&(B=le),k.baseState=B,k.firstBaseUpdate=Y,k.lastBaseUpdate=ae,f=k.shared.interleaved,f!==null){k=f;do I|=k.lane,k=k.next;while(k!==f)}else E===null&&(k.shared.lanes=0);hc|=I,u.lanes=I,u.memoizedState=le}}function I3(u,f,m){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var w=u[f],k=w.callback;if(k!==null){if(w.callback=null,w=m,typeof k!="function")throw Error(e(191,k));k.call(w)}}}var rh={},Ys=Xa(rh),sh=Xa(rh),oh=Xa(rh);function dc(u){if(u===rh)throw Error(e(174));return u}function by(u,f){switch(Qt(oh,f),Qt(sh,u),Qt(Ys,rh),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:mt(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=mt(f,u)}rn(Ys),Qt(Ys,f)}function Zu(){rn(Ys),rn(sh),rn(oh)}function P3(u){dc(oh.current);var f=dc(Ys.current),m=mt(f,u.type);f!==m&&(Qt(sh,u),Qt(Ys,m))}function wy(u){sh.current===u&&(rn(Ys),rn(sh))}var bn=Xa(0);function Bg(u){for(var f=u;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var vy=[];function yy(){for(var u=0;u<vy.length;u++)vy[u]._workInProgressVersionPrimary=null;vy.length=0}var jg=P.ReactCurrentDispatcher,_y=P.ReactCurrentBatchConfig,fc=0,wn=null,Zn=null,ri=null,zg=!1,ah=!1,lh=0,ZW=0;function Si(){throw Error(e(321))}function xy(u,f){if(f===null)return!1;for(var m=0;m<f.length&&m<u.length;m++)if(!ls(u[m],f[m]))return!1;return!0}function ky(u,f,m,w,k,E){if(fc=E,wn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,jg.current=u===null||u.memoizedState===null?eq:tq,u=m(w,k),ah){E=0;do{if(ah=!1,lh=0,25<=E)throw Error(e(301));E+=1,ri=Zn=null,f.updateQueue=null,jg.current=nq,u=m(w,k)}while(ah)}if(jg.current=Hg,f=Zn!==null&&Zn.next!==null,fc=0,ri=Zn=wn=null,zg=!1,f)throw Error(e(300));return u}function Cy(){var u=lh!==0;return lh=0,u}function Zs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?wn.memoizedState=ri=u:ri=ri.next=u,ri}function $r(){if(Zn===null){var u=wn.alternate;u=u!==null?u.memoizedState:null}else u=Zn.next;var f=ri===null?wn.memoizedState:ri.next;if(f!==null)ri=f,Zn=u;else{if(u===null)throw Error(e(310));Zn=u,u={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ri===null?wn.memoizedState=ri=u:ri=ri.next=u}return ri}function ch(u,f){return typeof f=="function"?f(u):f}function Ey(u){var f=$r(),m=f.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=u;var w=Zn,k=w.baseQueue,E=m.pending;if(E!==null){if(k!==null){var I=k.next;k.next=E.next,E.next=I}w.baseQueue=k=E,m.pending=null}if(k!==null){E=k.next,w=w.baseState;var N=I=null,B=null,Y=E;do{var ae=Y.lane;if((fc&ae)===ae)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),w=Y.hasEagerState?Y.eagerState:u(w,Y.action);else{var le={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(N=B=le,I=w):B=B.next=le,wn.lanes|=ae,hc|=ae}Y=Y.next}while(Y!==null&&Y!==E);B===null?I=w:B.next=N,ls(w,f.memoizedState)||(er=!0),f.memoizedState=w,f.baseState=I,f.baseQueue=B,m.lastRenderedState=w}if(u=m.interleaved,u!==null){k=u;do E=k.lane,wn.lanes|=E,hc|=E,k=k.next;while(k!==u)}else k===null&&(m.lanes=0);return[f.memoizedState,m.dispatch]}function Sy(u){var f=$r(),m=f.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=u;var w=m.dispatch,k=m.pending,E=f.memoizedState;if(k!==null){m.pending=null;var I=k=k.next;do E=u(E,I.action),I=I.next;while(I!==k);ls(E,f.memoizedState)||(er=!0),f.memoizedState=E,f.baseQueue===null&&(f.baseState=E),m.lastRenderedState=E}return[E,w]}function R3(){}function O3(u,f){var m=wn,w=$r(),k=f(),E=!ls(w.memoizedState,k);if(E&&(w.memoizedState=k,er=!0),w=w.queue,Ty(D3.bind(null,m,w,u),[u]),w.getSnapshot!==f||E||ri!==null&&ri.memoizedState.tag&1){if(m.flags|=2048,uh(9,M3.bind(null,m,w,k,f),void 0,null),si===null)throw Error(e(349));fc&30||N3(m,f,k)}return k}function N3(u,f,m){u.flags|=16384,u={getSnapshot:f,value:m},f=wn.updateQueue,f===null?(f={lastEffect:null,stores:null},wn.updateQueue=f,f.stores=[u]):(m=f.stores,m===null?f.stores=[u]:m.push(u))}function M3(u,f,m,w){f.value=m,f.getSnapshot=w,L3(f)&&V3(u)}function D3(u,f,m){return m(function(){L3(f)&&V3(u)})}function L3(u){var f=u.getSnapshot;u=u.value;try{var m=f();return!ls(u,m)}catch{return!0}}function V3(u){var f=zo(u,1);f!==null&&hs(f,u,1,-1)}function F3(u){var f=Zs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:u},f.queue=u,u=u.dispatch=QW.bind(null,wn,u),[f.memoizedState,u]}function uh(u,f,m,w){return u={tag:u,create:f,destroy:m,deps:w,next:null},f=wn.updateQueue,f===null?(f={lastEffect:null,stores:null},wn.updateQueue=f,f.lastEffect=u.next=u):(m=f.lastEffect,m===null?f.lastEffect=u.next=u:(w=m.next,m.next=u,u.next=w,f.lastEffect=u)),u}function B3(){return $r().memoizedState}function $g(u,f,m,w){var k=Zs();wn.flags|=u,k.memoizedState=uh(1|f,m,void 0,w===void 0?null:w)}function Ug(u,f,m,w){var k=$r();w=w===void 0?null:w;var E=void 0;if(Zn!==null){var I=Zn.memoizedState;if(E=I.destroy,w!==null&&xy(w,I.deps)){k.memoizedState=uh(f,m,E,w);return}}wn.flags|=u,k.memoizedState=uh(1|f,m,E,w)}function j3(u,f){return $g(8390656,8,u,f)}function Ty(u,f){return Ug(2048,8,u,f)}function z3(u,f){return Ug(4,2,u,f)}function $3(u,f){return Ug(4,4,u,f)}function U3(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function H3(u,f,m){return m=m!=null?m.concat([u]):null,Ug(4,4,U3.bind(null,f,u),m)}function Ay(){}function W3(u,f){var m=$r();f=f===void 0?null:f;var w=m.memoizedState;return w!==null&&f!==null&&xy(f,w[1])?w[0]:(m.memoizedState=[u,f],u)}function q3(u,f){var m=$r();f=f===void 0?null:f;var w=m.memoizedState;return w!==null&&f!==null&&xy(f,w[1])?w[0]:(u=u(),m.memoizedState=[u,f],u)}function G3(u,f,m){return fc&21?(ls(m,f)||(m=k5(),wn.lanes|=m,hc|=m,u.baseState=!0),f):(u.baseState&&(u.baseState=!1,er=!0),u.memoizedState=m)}function JW(u,f){var m=zt;zt=m!==0&&4>m?m:4,u(!0);var w=_y.transition;_y.transition={};try{u(!1),f()}finally{zt=m,_y.transition=w}}function K3(){return $r().memoizedState}function XW(u,f,m){var w=ol(u);if(m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},Y3(u))Z3(f,m);else if(m=S3(u,f,m,w),m!==null){var k=Bi();hs(m,u,w,k),J3(m,f,w)}}function QW(u,f,m){var w=ol(u),k={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(Y3(u))Z3(f,k);else{var E=u.alternate;if(u.lanes===0&&(E===null||E.lanes===0)&&(E=f.lastRenderedReducer,E!==null))try{var I=f.lastRenderedState,N=E(I,m);if(k.hasEagerState=!0,k.eagerState=N,ls(N,I)){var B=f.interleaved;B===null?(k.next=k,py(f)):(k.next=B.next,B.next=k),f.interleaved=k;return}}catch{}finally{}m=S3(u,f,k,w),m!==null&&(k=Bi(),hs(m,u,w,k),J3(m,f,w))}}function Y3(u){var f=u.alternate;return u===wn||f!==null&&f===wn}function Z3(u,f){ah=zg=!0;var m=u.pending;m===null?f.next=f:(f.next=m.next,m.next=f),u.pending=f}function J3(u,f,m){if(m&4194240){var w=f.lanes;w&=u.pendingLanes,m|=w,f.lanes=m,Pv(u,m)}}var Hg={readContext:zr,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},eq={readContext:zr,useCallback:function(u,f){return Zs().memoizedState=[u,f===void 0?null:f],u},useContext:zr,useEffect:j3,useImperativeHandle:function(u,f,m){return m=m!=null?m.concat([u]):null,$g(4194308,4,U3.bind(null,f,u),m)},useLayoutEffect:function(u,f){return $g(4194308,4,u,f)},useInsertionEffect:function(u,f){return $g(4,2,u,f)},useMemo:function(u,f){var m=Zs();return f=f===void 0?null:f,u=u(),m.memoizedState=[u,f],u},useReducer:function(u,f,m){var w=Zs();return f=m!==void 0?m(f):f,w.memoizedState=w.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},w.queue=u,u=u.dispatch=XW.bind(null,wn,u),[w.memoizedState,u]},useRef:function(u){var f=Zs();return u={current:u},f.memoizedState=u},useState:F3,useDebugValue:Ay,useDeferredValue:function(u){return Zs().memoizedState=u},useTransition:function(){var u=F3(!1),f=u[0];return u=JW.bind(null,u[1]),Zs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,m){var w=wn,k=Zs();if(cn){if(m===void 0)throw Error(e(407));m=m()}else{if(m=f(),si===null)throw Error(e(349));fc&30||N3(w,f,m)}k.memoizedState=m;var E={value:m,getSnapshot:f};return k.queue=E,j3(D3.bind(null,w,E,u),[u]),w.flags|=2048,uh(9,M3.bind(null,w,E,m,f),void 0,null),m},useId:function(){var u=Zs(),f=si.identifierPrefix;if(cn){var m=jo,w=Bo;m=(w&~(1<<32-as(w)-1)).toString(32)+m,f=":"+f+"R"+m,m=lh++,0<m&&(f+="H"+m.toString(32)),f+=":"}else m=ZW++,f=":"+f+"r"+m.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},tq={readContext:zr,useCallback:W3,useContext:zr,useEffect:Ty,useImperativeHandle:H3,useInsertionEffect:z3,useLayoutEffect:$3,useMemo:q3,useReducer:Ey,useRef:B3,useState:function(){return Ey(ch)},useDebugValue:Ay,useDeferredValue:function(u){var f=$r();return G3(f,Zn.memoizedState,u)},useTransition:function(){var u=Ey(ch)[0],f=$r().memoizedState;return[u,f]},useMutableSource:R3,useSyncExternalStore:O3,useId:K3,unstable_isNewReconciler:!1},nq={readContext:zr,useCallback:W3,useContext:zr,useEffect:Ty,useImperativeHandle:H3,useInsertionEffect:z3,useLayoutEffect:$3,useMemo:q3,useReducer:Sy,useRef:B3,useState:function(){return Sy(ch)},useDebugValue:Ay,useDeferredValue:function(u){var f=$r();return Zn===null?f.memoizedState=u:G3(f,Zn.memoizedState,u)},useTransition:function(){var u=Sy(ch)[0],f=$r().memoizedState;return[u,f]},useMutableSource:R3,useSyncExternalStore:O3,useId:K3,unstable_isNewReconciler:!1};function us(u,f){if(u&&u.defaultProps){f=te({},f),u=u.defaultProps;for(var m in u)f[m]===void 0&&(f[m]=u[m]);return f}return f}function Iy(u,f,m,w){f=u.memoizedState,m=m(w,f),m=m==null?f:te({},f,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var Wg={isMounted:function(u){return(u=u._reactInternals)?sc(u)===u:!1},enqueueSetState:function(u,f,m){u=u._reactInternals;var w=Bi(),k=ol(u),E=$o(w,k);E.payload=f,m!=null&&(E.callback=m),f=nl(u,E,k),f!==null&&(hs(f,u,k,w),Vg(f,u,k))},enqueueReplaceState:function(u,f,m){u=u._reactInternals;var w=Bi(),k=ol(u),E=$o(w,k);E.tag=1,E.payload=f,m!=null&&(E.callback=m),f=nl(u,E,k),f!==null&&(hs(f,u,k,w),Vg(f,u,k))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var m=Bi(),w=ol(u),k=$o(m,w);k.tag=2,f!=null&&(k.callback=f),f=nl(u,k,w),f!==null&&(hs(f,u,w,m),Vg(f,u,w))}};function X3(u,f,m,w,k,E,I){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,E,I):f.prototype&&f.prototype.isPureReactComponent?!Zf(m,w)||!Zf(k,E):!0}function Q3(u,f,m){var w=!1,k=Qa,E=f.contextType;return typeof E=="object"&&E!==null?E=zr(E):(k=Qi(f)?ac:Ei.current,w=f.contextTypes,E=(w=w!=null)?Uu(u,k):Qa),f=new f(m,E),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wg,u.stateNode=f,f._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=k,u.__reactInternalMemoizedMaskedChildContext=E),f}function eA(u,f,m,w){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,w),f.state!==u&&Wg.enqueueReplaceState(f,f.state,null)}function Py(u,f,m,w){var k=u.stateNode;k.props=m,k.state=u.memoizedState,k.refs={},gy(u);var E=f.contextType;typeof E=="object"&&E!==null?k.context=zr(E):(E=Qi(f)?ac:Ei.current,k.context=Uu(u,E)),k.state=u.memoizedState,E=f.getDerivedStateFromProps,typeof E=="function"&&(Iy(u,f,E,m),k.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(f=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),f!==k.state&&Wg.enqueueReplaceState(k,k.state,null),Fg(u,m,k,w),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308)}function Ju(u,f){try{var m="",w=f;do m+=Xe(w),w=w.return;while(w);var k=m}catch(E){k=`
Error generating stack: `+E.message+`
`+E.stack}return{value:u,source:f,stack:k,digest:null}}function Ry(u,f,m){return{value:u,source:null,stack:m??null,digest:f??null}}function Oy(u,f){try{console.error(f.value)}catch(m){setTimeout(function(){throw m})}}var iq=typeof WeakMap=="function"?WeakMap:Map;function tA(u,f,m){m=$o(-1,m),m.tag=3,m.payload={element:null};var w=f.value;return m.callback=function(){Xg||(Xg=!0,Gy=w),Oy(u,f)},m}function nA(u,f,m){m=$o(-1,m),m.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var k=f.value;m.payload=function(){return w(k)},m.callback=function(){Oy(u,f)}}var E=u.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Oy(u,f),typeof w!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})}),m}function iA(u,f,m){var w=u.pingCache;if(w===null){w=u.pingCache=new iq;var k=new Set;w.set(f,k)}else k=w.get(f),k===void 0&&(k=new Set,w.set(f,k));k.has(m)||(k.add(m),u=bq.bind(null,u,f,m),f.then(u,u))}function rA(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function sA(u,f,m,w,k){return u.mode&1?(u.flags|=65536,u.lanes=k,u):(u===f?u.flags|=65536:(u.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(f=$o(-1,1),f.tag=2,nl(m,f,1))),m.lanes|=1),u)}var rq=P.ReactCurrentOwner,er=!1;function Fi(u,f,m,w){f.child=u===null?E3(f,null,m,w):Gu(f,u.child,m,w)}function oA(u,f,m,w,k){m=m.render;var E=f.ref;return Yu(f,k),w=ky(u,f,m,w,E,k),m=Cy(),u!==null&&!er?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~k,Uo(u,f,k)):(cn&&m&&oy(f),f.flags|=1,Fi(u,f,w,k),f.child)}function aA(u,f,m,w,k){if(u===null){var E=m.type;return typeof E=="function"&&!e_(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(f.tag=15,f.type=E,lA(u,f,E,w,k)):(u=r0(m.type,null,w,f,f.mode,k),u.ref=f.ref,u.return=f,f.child=u)}if(E=u.child,!(u.lanes&k)){var I=E.memoizedProps;if(m=m.compare,m=m!==null?m:Zf,m(I,w)&&u.ref===f.ref)return Uo(u,f,k)}return f.flags|=1,u=ll(E,w),u.ref=f.ref,u.return=f,f.child=u}function lA(u,f,m,w,k){if(u!==null){var E=u.memoizedProps;if(Zf(E,w)&&u.ref===f.ref)if(er=!1,f.pendingProps=w=E,(u.lanes&k)!==0)u.flags&131072&&(er=!0);else return f.lanes=u.lanes,Uo(u,f,k)}return Ny(u,f,m,w,k)}function cA(u,f,m){var w=f.pendingProps,k=w.children,E=u!==null?u.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Qu,yr),yr|=m;else{if(!(m&1073741824))return u=E!==null?E.baseLanes|m:m,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,Qt(Qu,yr),yr|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=E!==null?E.baseLanes:m,Qt(Qu,yr),yr|=w}else E!==null?(w=E.baseLanes|m,f.memoizedState=null):w=m,Qt(Qu,yr),yr|=w;return Fi(u,f,k,m),f.child}function uA(u,f){var m=f.ref;(u===null&&m!==null||u!==null&&u.ref!==m)&&(f.flags|=512,f.flags|=2097152)}function Ny(u,f,m,w,k){var E=Qi(m)?ac:Ei.current;return E=Uu(f,E),Yu(f,k),m=ky(u,f,m,w,E,k),w=Cy(),u!==null&&!er?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~k,Uo(u,f,k)):(cn&&w&&oy(f),f.flags|=1,Fi(u,f,m,k),f.child)}function dA(u,f,m,w,k){if(Qi(m)){var E=!0;Ig(f)}else E=!1;if(Yu(f,k),f.stateNode===null)Gg(u,f),Q3(f,m,w),Py(f,m,w,k),w=!0;else if(u===null){var I=f.stateNode,N=f.memoizedProps;I.props=N;var B=I.context,Y=m.contextType;typeof Y=="object"&&Y!==null?Y=zr(Y):(Y=Qi(m)?ac:Ei.current,Y=Uu(f,Y));var ae=m.getDerivedStateFromProps,le=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";le||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==w||B!==Y)&&eA(f,I,w,Y),tl=!1;var oe=f.memoizedState;I.state=oe,Fg(f,w,I,k),B=f.memoizedState,N!==w||oe!==B||Xi.current||tl?(typeof ae=="function"&&(Iy(f,m,ae,w),B=f.memoizedState),(N=tl||X3(f,m,N,w,oe,B,Y))?(le||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(f.flags|=4194308)):(typeof I.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=B),I.props=w,I.state=B,I.context=Y,w=N):(typeof I.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{I=f.stateNode,T3(u,f),N=f.memoizedProps,Y=f.type===f.elementType?N:us(f.type,N),I.props=Y,le=f.pendingProps,oe=I.context,B=m.contextType,typeof B=="object"&&B!==null?B=zr(B):(B=Qi(m)?ac:Ei.current,B=Uu(f,B));var Re=m.getDerivedStateFromProps;(ae=typeof Re=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==le||oe!==B)&&eA(f,I,w,B),tl=!1,oe=f.memoizedState,I.state=oe,Fg(f,w,I,k);var Ue=f.memoizedState;N!==le||oe!==Ue||Xi.current||tl?(typeof Re=="function"&&(Iy(f,m,Re,w),Ue=f.memoizedState),(Y=tl||X3(f,m,Y,w,oe,Ue,B)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(w,Ue,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(w,Ue,B)),typeof I.componentDidUpdate=="function"&&(f.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof I.componentDidUpdate!="function"||N===u.memoizedProps&&oe===u.memoizedState||(f.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===u.memoizedProps&&oe===u.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=Ue),I.props=w,I.state=Ue,I.context=B,w=Y):(typeof I.componentDidUpdate!="function"||N===u.memoizedProps&&oe===u.memoizedState||(f.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===u.memoizedProps&&oe===u.memoizedState||(f.flags|=1024),w=!1)}return My(u,f,m,w,E,k)}function My(u,f,m,w,k,E){uA(u,f);var I=(f.flags&128)!==0;if(!w&&!I)return k&&g3(f,m,!1),Uo(u,f,E);w=f.stateNode,rq.current=f;var N=I&&typeof m.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,u!==null&&I?(f.child=Gu(f,u.child,null,E),f.child=Gu(f,null,N,E)):Fi(u,f,N,E),f.memoizedState=w.state,k&&g3(f,m,!0),f.child}function fA(u){var f=u.stateNode;f.pendingContext?m3(u,f.pendingContext,f.pendingContext!==f.context):f.context&&m3(u,f.context,!1),by(u,f.containerInfo)}function hA(u,f,m,w,k){return qu(),uy(k),f.flags|=256,Fi(u,f,m,w),f.child}var Dy={dehydrated:null,treeContext:null,retryLane:0};function Ly(u){return{baseLanes:u,cachePool:null,transitions:null}}function mA(u,f,m){var w=f.pendingProps,k=bn.current,E=!1,I=(f.flags&128)!==0,N;if((N=I)||(N=u!==null&&u.memoizedState===null?!1:(k&2)!==0),N?(E=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(k|=1),Qt(bn,k&1),u===null)return cy(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?u.data==="$!"?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(I=w.children,u=w.fallback,E?(w=f.mode,E=f.child,I={mode:"hidden",children:I},!(w&1)&&E!==null?(E.childLanes=0,E.pendingProps=I):E=s0(I,w,0,null),u=bc(u,w,m,null),E.return=f,u.return=f,E.sibling=u,f.child=E,f.child.memoizedState=Ly(m),f.memoizedState=Dy,u):Vy(f,I));if(k=u.memoizedState,k!==null&&(N=k.dehydrated,N!==null))return sq(u,f,I,w,N,k,m);if(E){E=w.fallback,I=f.mode,k=u.child,N=k.sibling;var B={mode:"hidden",children:w.children};return!(I&1)&&f.child!==k?(w=f.child,w.childLanes=0,w.pendingProps=B,f.deletions=null):(w=ll(k,B),w.subtreeFlags=k.subtreeFlags&14680064),N!==null?E=ll(N,E):(E=bc(E,I,m,null),E.flags|=2),E.return=f,w.return=f,w.sibling=E,f.child=w,w=E,E=f.child,I=u.child.memoizedState,I=I===null?Ly(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},E.memoizedState=I,E.childLanes=u.childLanes&~m,f.memoizedState=Dy,w}return E=u.child,u=E.sibling,w=ll(E,{mode:"visible",children:w.children}),!(f.mode&1)&&(w.lanes=m),w.return=f,w.sibling=null,u!==null&&(m=f.deletions,m===null?(f.deletions=[u],f.flags|=16):m.push(u)),f.child=w,f.memoizedState=null,w}function Vy(u,f){return f=s0({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function qg(u,f,m,w){return w!==null&&uy(w),Gu(f,u.child,null,m),u=Vy(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function sq(u,f,m,w,k,E,I){if(m)return f.flags&256?(f.flags&=-257,w=Ry(Error(e(422))),qg(u,f,I,w)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(E=w.fallback,k=f.mode,w=s0({mode:"visible",children:w.children},k,0,null),E=bc(E,k,I,null),E.flags|=2,w.return=f,E.return=f,w.sibling=E,f.child=w,f.mode&1&&Gu(f,u.child,null,I),f.child.memoizedState=Ly(I),f.memoizedState=Dy,E);if(!(f.mode&1))return qg(u,f,I,null);if(k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var N=w.dgst;return w=N,E=Error(e(419)),w=Ry(E,w,void 0),qg(u,f,I,w)}if(N=(I&u.childLanes)!==0,er||N){if(w=si,w!==null){switch(I&-I){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=k&(w.suspendedLanes|I)?0:k,k!==0&&k!==E.retryLane&&(E.retryLane=k,zo(u,k),hs(w,u,k,-1))}return Qy(),w=Ry(Error(e(421))),qg(u,f,I,w)}return k.data==="$?"?(f.flags|=128,f.child=u.child,f=wq.bind(null,u),k._reactRetry=f,null):(u=E.treeContext,vr=Ja(k.nextSibling),wr=f,cn=!0,cs=null,u!==null&&(Br[jr++]=Bo,Br[jr++]=jo,Br[jr++]=lc,Bo=u.id,jo=u.overflow,lc=f),f=Vy(f,w.children),f.flags|=4096,f)}function pA(u,f,m){u.lanes|=f;var w=u.alternate;w!==null&&(w.lanes|=f),my(u.return,f,m)}function Fy(u,f,m,w,k){var E=u.memoizedState;E===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:k}:(E.isBackwards=f,E.rendering=null,E.renderingStartTime=0,E.last=w,E.tail=m,E.tailMode=k)}function gA(u,f,m){var w=f.pendingProps,k=w.revealOrder,E=w.tail;if(Fi(u,f,w.children,m),w=bn.current,w&2)w=w&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&pA(u,m,f);else if(u.tag===19)pA(u,m,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(Qt(bn,w),!(f.mode&1))f.memoizedState=null;else switch(k){case"forwards":for(m=f.child,k=null;m!==null;)u=m.alternate,u!==null&&Bg(u)===null&&(k=m),m=m.sibling;m=k,m===null?(k=f.child,f.child=null):(k=m.sibling,m.sibling=null),Fy(f,!1,k,m,E);break;case"backwards":for(m=null,k=f.child,f.child=null;k!==null;){if(u=k.alternate,u!==null&&Bg(u)===null){f.child=k;break}u=k.sibling,k.sibling=m,m=k,k=u}Fy(f,!0,m,null,E);break;case"together":Fy(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Gg(u,f){!(f.mode&1)&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function Uo(u,f,m){if(u!==null&&(f.dependencies=u.dependencies),hc|=f.lanes,!(m&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(e(153));if(f.child!==null){for(u=f.child,m=ll(u,u.pendingProps),f.child=m,m.return=f;u.sibling!==null;)u=u.sibling,m=m.sibling=ll(u,u.pendingProps),m.return=f;m.sibling=null}return f.child}function oq(u,f,m){switch(f.tag){case 3:fA(f),qu();break;case 5:P3(f);break;case 1:Qi(f.type)&&Ig(f);break;case 4:by(f,f.stateNode.containerInfo);break;case 10:var w=f.type._context,k=f.memoizedProps.value;Qt(Dg,w._currentValue),w._currentValue=k;break;case 13:if(w=f.memoizedState,w!==null)return w.dehydrated!==null?(Qt(bn,bn.current&1),f.flags|=128,null):m&f.child.childLanes?mA(u,f,m):(Qt(bn,bn.current&1),u=Uo(u,f,m),u!==null?u.sibling:null);Qt(bn,bn.current&1);break;case 19:if(w=(m&f.childLanes)!==0,u.flags&128){if(w)return gA(u,f,m);f.flags|=128}if(k=f.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Qt(bn,bn.current),w)break;return null;case 22:case 23:return f.lanes=0,cA(u,f,m)}return Uo(u,f,m)}var bA,By,wA,vA;bA=function(u,f){for(var m=f.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},By=function(){},wA=function(u,f,m,w){var k=u.memoizedProps;if(k!==w){u=f.stateNode,dc(Ys.current);var E=null;switch(m){case"input":k=Xt(u,k),w=Xt(u,w),E=[];break;case"select":k=te({},k,{value:void 0}),w=te({},w,{value:void 0}),E=[];break;case"textarea":k=ye(u,k),w=ye(u,w),E=[];break;default:typeof k.onClick!="function"&&typeof w.onClick=="function"&&(u.onclick=Sg)}nc(m,w);var I;m=null;for(Y in k)if(!w.hasOwnProperty(Y)&&k.hasOwnProperty(Y)&&k[Y]!=null)if(Y==="style"){var N=k[Y];for(I in N)N.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(r.hasOwnProperty(Y)?E||(E=[]):(E=E||[]).push(Y,null));for(Y in w){var B=w[Y];if(N=k!=null?k[Y]:void 0,w.hasOwnProperty(Y)&&B!==N&&(B!=null||N!=null))if(Y==="style")if(N){for(I in N)!N.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in B)B.hasOwnProperty(I)&&N[I]!==B[I]&&(m||(m={}),m[I]=B[I])}else m||(E||(E=[]),E.push(Y,m)),m=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,N=N?N.__html:void 0,B!=null&&N!==B&&(E=E||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(E=E||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(r.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&nn("scroll",u),E||N===B||(E=[])):(E=E||[]).push(Y,B))}m&&(E=E||[]).push("style",m);var Y=E;(f.updateQueue=Y)&&(f.flags|=4)}},vA=function(u,f,m,w){m!==w&&(f.flags|=4)};function dh(u,f){if(!cn)switch(u.tailMode){case"hidden":f=u.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Ti(u){var f=u.alternate!==null&&u.alternate.child===u.child,m=0,w=0;if(f)for(var k=u.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags&14680064,w|=k.flags&14680064,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags,w|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=w,u.childLanes=m,f}function aq(u,f,m){var w=f.pendingProps;switch(ay(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(f),null;case 1:return Qi(f.type)&&Ag(),Ti(f),null;case 3:return w=f.stateNode,Zu(),rn(Xi),rn(Ei),yy(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(Ng(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,cs!==null&&(Zy(cs),cs=null))),By(u,f),Ti(f),null;case 5:wy(f);var k=dc(oh.current);if(m=f.type,u!==null&&f.stateNode!=null)wA(u,f,m,w,k),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(e(166));return Ti(f),null}if(u=dc(Ys.current),Ng(f)){w=f.stateNode,m=f.type;var E=f.memoizedProps;switch(w[Ks]=f,w[th]=E,u=(f.mode&1)!==0,m){case"dialog":nn("cancel",w),nn("close",w);break;case"iframe":case"object":case"embed":nn("load",w);break;case"video":case"audio":for(k=0;k<Xf.length;k++)nn(Xf[k],w);break;case"source":nn("error",w);break;case"img":case"image":case"link":nn("error",w),nn("load",w);break;case"details":nn("toggle",w);break;case"input":xi(w,E),nn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!E.multiple},nn("invalid",w);break;case"textarea":be(w,E),nn("invalid",w)}nc(m,E),k=null;for(var I in E)if(E.hasOwnProperty(I)){var N=E[I];I==="children"?typeof N=="string"?w.textContent!==N&&(E.suppressHydrationWarning!==!0&&Eg(w.textContent,N,u),k=["children",N]):typeof N=="number"&&w.textContent!==""+N&&(E.suppressHydrationWarning!==!0&&Eg(w.textContent,N,u),k=["children",""+N]):r.hasOwnProperty(I)&&N!=null&&I==="onScroll"&&nn("scroll",w)}switch(m){case"input":st(w),F(w,E,!0);break;case"textarea":st(w),pe(w);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(w.onclick=Sg)}w=k,f.updateQueue=w,w!==null&&(f.flags|=4)}else{I=k.nodeType===9?k:k.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=ut(m)),u==="http://www.w3.org/1999/xhtml"?m==="script"?(u=I.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof w.is=="string"?u=I.createElement(m,{is:w.is}):(u=I.createElement(m),m==="select"&&(I=u,w.multiple?I.multiple=!0:w.size&&(I.size=w.size))):u=I.createElementNS(u,m),u[Ks]=f,u[th]=w,bA(u,f,!1,!1),f.stateNode=u;e:{switch(I=ic(m,w),m){case"dialog":nn("cancel",u),nn("close",u),k=w;break;case"iframe":case"object":case"embed":nn("load",u),k=w;break;case"video":case"audio":for(k=0;k<Xf.length;k++)nn(Xf[k],u);k=w;break;case"source":nn("error",u),k=w;break;case"img":case"image":case"link":nn("error",u),nn("load",u),k=w;break;case"details":nn("toggle",u),k=w;break;case"input":xi(u,w),k=Xt(u,w),nn("invalid",u);break;case"option":k=w;break;case"select":u._wrapperState={wasMultiple:!!w.multiple},k=te({},w,{value:void 0}),nn("invalid",u);break;case"textarea":be(u,w),k=ye(u,w),nn("invalid",u);break;default:k=w}nc(m,k),N=k;for(E in N)if(N.hasOwnProperty(E)){var B=N[E];E==="style"?Lo(u,B):E==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&qs(u,B)):E==="children"?typeof B=="string"?(m!=="textarea"||B!=="")&&Ci(u,B):typeof B=="number"&&Ci(u,""+B):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(r.hasOwnProperty(E)?B!=null&&E==="onScroll"&&nn("scroll",u):B!=null&&A(u,E,B,I))}switch(m){case"input":st(u),F(u,w,!1);break;case"textarea":st(u),pe(u);break;case"option":w.value!=null&&u.setAttribute("value",""+Te(w.value));break;case"select":u.multiple=!!w.multiple,E=w.value,E!=null?xe(u,!!w.multiple,E,!1):w.defaultValue!=null&&xe(u,!!w.multiple,w.defaultValue,!0);break;default:typeof k.onClick=="function"&&(u.onclick=Sg)}switch(m){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Ti(f),null;case 6:if(u&&f.stateNode!=null)vA(u,f,u.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(e(166));if(m=dc(oh.current),dc(Ys.current),Ng(f)){if(w=f.stateNode,m=f.memoizedProps,w[Ks]=f,(E=w.nodeValue!==m)&&(u=wr,u!==null))switch(u.tag){case 3:Eg(w.nodeValue,m,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Eg(w.nodeValue,m,(u.mode&1)!==0)}E&&(f.flags|=4)}else w=(m.nodeType===9?m:m.ownerDocument).createTextNode(w),w[Ks]=f,f.stateNode=w}return Ti(f),null;case 13:if(rn(bn),w=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(cn&&vr!==null&&f.mode&1&&!(f.flags&128))x3(),qu(),f.flags|=98560,E=!1;else if(E=Ng(f),w!==null&&w.dehydrated!==null){if(u===null){if(!E)throw Error(e(318));if(E=f.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(e(317));E[Ks]=f}else qu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Ti(f),E=!1}else cs!==null&&(Zy(cs),cs=null),E=!0;if(!E)return f.flags&65536?f:null}return f.flags&128?(f.lanes=m,f):(w=w!==null,w!==(u!==null&&u.memoizedState!==null)&&w&&(f.child.flags|=8192,f.mode&1&&(u===null||bn.current&1?Jn===0&&(Jn=3):Qy())),f.updateQueue!==null&&(f.flags|=4),Ti(f),null);case 4:return Zu(),By(u,f),u===null&&Qf(f.stateNode.containerInfo),Ti(f),null;case 10:return hy(f.type._context),Ti(f),null;case 17:return Qi(f.type)&&Ag(),Ti(f),null;case 19:if(rn(bn),E=f.memoizedState,E===null)return Ti(f),null;if(w=(f.flags&128)!==0,I=E.rendering,I===null)if(w)dh(E,!1);else{if(Jn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(I=Bg(u),I!==null){for(f.flags|=128,dh(E,!1),w=I.updateQueue,w!==null&&(f.updateQueue=w,f.flags|=4),f.subtreeFlags=0,w=m,m=f.child;m!==null;)E=m,u=w,E.flags&=14680066,I=E.alternate,I===null?(E.childLanes=0,E.lanes=u,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=I.childLanes,E.lanes=I.lanes,E.child=I.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=I.memoizedProps,E.memoizedState=I.memoizedState,E.updateQueue=I.updateQueue,E.type=I.type,u=I.dependencies,E.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),m=m.sibling;return Qt(bn,bn.current&1|2),f.child}u=u.sibling}E.tail!==null&&Nn()>ed&&(f.flags|=128,w=!0,dh(E,!1),f.lanes=4194304)}else{if(!w)if(u=Bg(I),u!==null){if(f.flags|=128,w=!0,m=u.updateQueue,m!==null&&(f.updateQueue=m,f.flags|=4),dh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!cn)return Ti(f),null}else 2*Nn()-E.renderingStartTime>ed&&m!==1073741824&&(f.flags|=128,w=!0,dh(E,!1),f.lanes=4194304);E.isBackwards?(I.sibling=f.child,f.child=I):(m=E.last,m!==null?m.sibling=I:f.child=I,E.last=I)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=Nn(),f.sibling=null,m=bn.current,Qt(bn,w?m&1|2:m&1),f):(Ti(f),null);case 22:case 23:return Xy(),w=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?yr&1073741824&&(Ti(f),f.subtreeFlags&6&&(f.flags|=8192)):Ti(f),null;case 24:return null;case 25:return null}throw Error(e(156,f.tag))}function lq(u,f){switch(ay(f),f.tag){case 1:return Qi(f.type)&&Ag(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Zu(),rn(Xi),rn(Ei),yy(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return wy(f),null;case 13:if(rn(bn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(e(340));qu()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return rn(bn),null;case 4:return Zu(),null;case 10:return hy(f.type._context),null;case 22:case 23:return Xy(),null;case 24:return null;default:return null}}var Kg=!1,Ai=!1,cq=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Xu(u,f){var m=u.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){Tn(u,f,w)}else m.current=null}function jy(u,f,m){try{m()}catch(w){Tn(u,f,w)}}var yA=!1;function uq(u,f){if(Xv=mg,u=X5(),Hv(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var k=w.anchorOffset,E=w.focusNode;w=w.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var I=0,N=-1,B=-1,Y=0,ae=0,le=u,oe=null;t:for(;;){for(var Re;le!==m||k!==0&&le.nodeType!==3||(N=I+k),le!==E||w!==0&&le.nodeType!==3||(B=I+w),le.nodeType===3&&(I+=le.nodeValue.length),(Re=le.firstChild)!==null;)oe=le,le=Re;for(;;){if(le===u)break t;if(oe===m&&++Y===k&&(N=I),oe===E&&++ae===w&&(B=I),(Re=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=Re}m=N===-1||B===-1?null:{start:N,end:B}}else m=null}m=m||{start:0,end:0}}else m=null;for(Qv={focusedElem:u,selectionRange:m},mg=!1,ze=f;ze!==null;)if(f=ze,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,ze=u;else for(;ze!==null;){f=ze;try{var Ue=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var He=Ue.memoizedProps,Mn=Ue.memoizedState,W=f.stateNode,z=W.getSnapshotBeforeUpdate(f.elementType===f.type?He:us(f.type,He),Mn);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=f.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(we){Tn(f,f.return,we)}if(u=f.sibling,u!==null){u.return=f.return,ze=u;break}ze=f.return}return Ue=yA,yA=!1,Ue}function fh(u,f,m){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&u)===u){var E=k.destroy;k.destroy=void 0,E!==void 0&&jy(f,m,E)}k=k.next}while(k!==w)}}function Yg(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&u)===u){var w=m.create;m.destroy=w()}m=m.next}while(m!==f)}}function zy(u){var f=u.ref;if(f!==null){var m=u.stateNode;switch(u.tag){case 5:u=m;break;default:u=m}typeof f=="function"?f(u):f.current=u}}function _A(u){var f=u.alternate;f!==null&&(u.alternate=null,_A(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[Ks],delete f[th],delete f[iy],delete f[qW],delete f[GW])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function xA(u){return u.tag===5||u.tag===3||u.tag===4}function kA(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||xA(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function $y(u,f,m){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?m.nodeType===8?m.parentNode.insertBefore(u,f):m.insertBefore(u,f):(m.nodeType===8?(f=m.parentNode,f.insertBefore(u,m)):(f=m,f.appendChild(u)),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=Sg));else if(w!==4&&(u=u.child,u!==null))for($y(u,f,m),u=u.sibling;u!==null;)$y(u,f,m),u=u.sibling}function Uy(u,f,m){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?m.insertBefore(u,f):m.appendChild(u);else if(w!==4&&(u=u.child,u!==null))for(Uy(u,f,m),u=u.sibling;u!==null;)Uy(u,f,m),u=u.sibling}var gi=null,ds=!1;function il(u,f,m){for(m=m.child;m!==null;)CA(u,f,m),m=m.sibling}function CA(u,f,m){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(lg,m)}catch{}switch(m.tag){case 5:Ai||Xu(m,f);case 6:var w=gi,k=ds;gi=null,il(u,f,m),gi=w,ds=k,gi!==null&&(ds?(u=gi,m=m.stateNode,u.nodeType===8?u.parentNode.removeChild(m):u.removeChild(m)):gi.removeChild(m.stateNode));break;case 18:gi!==null&&(ds?(u=gi,m=m.stateNode,u.nodeType===8?ny(u.parentNode,m):u.nodeType===1&&ny(u,m),Hf(u)):ny(gi,m.stateNode));break;case 4:w=gi,k=ds,gi=m.stateNode.containerInfo,ds=!0,il(u,f,m),gi=w,ds=k;break;case 0:case 11:case 14:case 15:if(!Ai&&(w=m.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){k=w=w.next;do{var E=k,I=E.destroy;E=E.tag,I!==void 0&&(E&2||E&4)&&jy(m,f,I),k=k.next}while(k!==w)}il(u,f,m);break;case 1:if(!Ai&&(Xu(m,f),w=m.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=m.memoizedProps,w.state=m.memoizedState,w.componentWillUnmount()}catch(N){Tn(m,f,N)}il(u,f,m);break;case 21:il(u,f,m);break;case 22:m.mode&1?(Ai=(w=Ai)||m.memoizedState!==null,il(u,f,m),Ai=w):il(u,f,m);break;default:il(u,f,m)}}function EA(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var m=u.stateNode;m===null&&(m=u.stateNode=new cq),f.forEach(function(w){var k=vq.bind(null,u,w);m.has(w)||(m.add(w),w.then(k,k))})}}function fs(u,f){var m=f.deletions;if(m!==null)for(var w=0;w<m.length;w++){var k=m[w];try{var E=u,I=f,N=I;e:for(;N!==null;){switch(N.tag){case 5:gi=N.stateNode,ds=!1;break e;case 3:gi=N.stateNode.containerInfo,ds=!0;break e;case 4:gi=N.stateNode.containerInfo,ds=!0;break e}N=N.return}if(gi===null)throw Error(e(160));CA(E,I,k),gi=null,ds=!1;var B=k.alternate;B!==null&&(B.return=null),k.return=null}catch(Y){Tn(k,f,Y)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)SA(f,u),f=f.sibling}function SA(u,f){var m=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(fs(f,u),Js(u),w&4){try{fh(3,u,u.return),Yg(3,u)}catch(He){Tn(u,u.return,He)}try{fh(5,u,u.return)}catch(He){Tn(u,u.return,He)}}break;case 1:fs(f,u),Js(u),w&512&&m!==null&&Xu(m,m.return);break;case 5:if(fs(f,u),Js(u),w&512&&m!==null&&Xu(m,m.return),u.flags&32){var k=u.stateNode;try{Ci(k,"")}catch(He){Tn(u,u.return,He)}}if(w&4&&(k=u.stateNode,k!=null)){var E=u.memoizedProps,I=m!==null?m.memoizedProps:E,N=u.type,B=u.updateQueue;if(u.updateQueue=null,B!==null)try{N==="input"&&E.type==="radio"&&E.name!=null&&ki(k,E),ic(N,I);var Y=ic(N,E);for(I=0;I<B.length;I+=2){var ae=B[I],le=B[I+1];ae==="style"?Lo(k,le):ae==="dangerouslySetInnerHTML"?qs(k,le):ae==="children"?Ci(k,le):A(k,ae,le,Y)}switch(N){case"input":On(k,E);break;case"textarea":Q(k,E);break;case"select":var oe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!E.multiple;var Re=E.value;Re!=null?xe(k,!!E.multiple,Re,!1):oe!==!!E.multiple&&(E.defaultValue!=null?xe(k,!!E.multiple,E.defaultValue,!0):xe(k,!!E.multiple,E.multiple?[]:"",!1))}k[th]=E}catch(He){Tn(u,u.return,He)}}break;case 6:if(fs(f,u),Js(u),w&4){if(u.stateNode===null)throw Error(e(162));k=u.stateNode,E=u.memoizedProps;try{k.nodeValue=E}catch(He){Tn(u,u.return,He)}}break;case 3:if(fs(f,u),Js(u),w&4&&m!==null&&m.memoizedState.isDehydrated)try{Hf(f.containerInfo)}catch(He){Tn(u,u.return,He)}break;case 4:fs(f,u),Js(u);break;case 13:fs(f,u),Js(u),k=u.child,k.flags&8192&&(E=k.memoizedState!==null,k.stateNode.isHidden=E,!E||k.alternate!==null&&k.alternate.memoizedState!==null||(qy=Nn())),w&4&&EA(u);break;case 22:if(ae=m!==null&&m.memoizedState!==null,u.mode&1?(Ai=(Y=Ai)||ae,fs(f,u),Ai=Y):fs(f,u),Js(u),w&8192){if(Y=u.memoizedState!==null,(u.stateNode.isHidden=Y)&&!ae&&u.mode&1)for(ze=u,ae=u.child;ae!==null;){for(le=ze=ae;ze!==null;){switch(oe=ze,Re=oe.child,oe.tag){case 0:case 11:case 14:case 15:fh(4,oe,oe.return);break;case 1:Xu(oe,oe.return);var Ue=oe.stateNode;if(typeof Ue.componentWillUnmount=="function"){w=oe,m=oe.return;try{f=w,Ue.props=f.memoizedProps,Ue.state=f.memoizedState,Ue.componentWillUnmount()}catch(He){Tn(w,m,He)}}break;case 5:Xu(oe,oe.return);break;case 22:if(oe.memoizedState!==null){IA(le);continue}}Re!==null?(Re.return=oe,ze=Re):IA(le)}ae=ae.sibling}e:for(ae=null,le=u;;){if(le.tag===5){if(ae===null){ae=le;try{k=le.stateNode,Y?(E=k.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(N=le.stateNode,B=le.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,N.style.display=Do("display",I))}catch(He){Tn(u,u.return,He)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(He){Tn(u,u.return,He)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===u)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===u)break e;for(;le.sibling===null;){if(le.return===null||le.return===u)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:fs(f,u),Js(u),w&4&&EA(u);break;case 21:break;default:fs(f,u),Js(u)}}function Js(u){var f=u.flags;if(f&2){try{e:{for(var m=u.return;m!==null;){if(xA(m)){var w=m;break e}m=m.return}throw Error(e(160))}switch(w.tag){case 5:var k=w.stateNode;w.flags&32&&(Ci(k,""),w.flags&=-33);var E=kA(u);Uy(u,E,k);break;case 3:case 4:var I=w.stateNode.containerInfo,N=kA(u);$y(u,N,I);break;default:throw Error(e(161))}}catch(B){Tn(u,u.return,B)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function dq(u,f,m){ze=u,TA(u)}function TA(u,f,m){for(var w=(u.mode&1)!==0;ze!==null;){var k=ze,E=k.child;if(k.tag===22&&w){var I=k.memoizedState!==null||Kg;if(!I){var N=k.alternate,B=N!==null&&N.memoizedState!==null||Ai;N=Kg;var Y=Ai;if(Kg=I,(Ai=B)&&!Y)for(ze=k;ze!==null;)I=ze,B=I.child,I.tag===22&&I.memoizedState!==null?PA(k):B!==null?(B.return=I,ze=B):PA(k);for(;E!==null;)ze=E,TA(E),E=E.sibling;ze=k,Kg=N,Ai=Y}AA(u)}else k.subtreeFlags&8772&&E!==null?(E.return=k,ze=E):AA(u)}}function AA(u){for(;ze!==null;){var f=ze;if(f.flags&8772){var m=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ai||Yg(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!Ai)if(m===null)w.componentDidMount();else{var k=f.elementType===f.type?m.memoizedProps:us(f.type,m.memoizedProps);w.componentDidUpdate(k,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var E=f.updateQueue;E!==null&&I3(f,E,w);break;case 3:var I=f.updateQueue;if(I!==null){if(m=null,f.child!==null)switch(f.child.tag){case 5:m=f.child.stateNode;break;case 1:m=f.child.stateNode}I3(f,I,m)}break;case 5:var N=f.stateNode;if(m===null&&f.flags&4){m=N;var B=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&m.focus();break;case"img":B.src&&(m.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Y=f.alternate;if(Y!==null){var ae=Y.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Hf(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Ai||f.flags&512&&zy(f)}catch(oe){Tn(f,f.return,oe)}}if(f===u){ze=null;break}if(m=f.sibling,m!==null){m.return=f.return,ze=m;break}ze=f.return}}function IA(u){for(;ze!==null;){var f=ze;if(f===u){ze=null;break}var m=f.sibling;if(m!==null){m.return=f.return,ze=m;break}ze=f.return}}function PA(u){for(;ze!==null;){var f=ze;try{switch(f.tag){case 0:case 11:case 15:var m=f.return;try{Yg(4,f)}catch(B){Tn(f,m,B)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var k=f.return;try{w.componentDidMount()}catch(B){Tn(f,k,B)}}var E=f.return;try{zy(f)}catch(B){Tn(f,E,B)}break;case 5:var I=f.return;try{zy(f)}catch(B){Tn(f,I,B)}}}catch(B){Tn(f,f.return,B)}if(f===u){ze=null;break}var N=f.sibling;if(N!==null){N.return=f.return,ze=N;break}ze=f.return}}var fq=Math.ceil,Zg=P.ReactCurrentDispatcher,Hy=P.ReactCurrentOwner,Ur=P.ReactCurrentBatchConfig,It=0,si=null,Wn=null,bi=0,yr=0,Qu=Xa(0),Jn=0,hh=null,hc=0,Jg=0,Wy=0,mh=null,tr=null,qy=0,ed=1/0,Ho=null,Xg=!1,Gy=null,rl=null,Qg=!1,sl=null,e0=0,ph=0,Ky=null,t0=-1,n0=0;function Bi(){return It&6?Nn():t0!==-1?t0:t0=Nn()}function ol(u){return u.mode&1?It&2&&bi!==0?bi&-bi:YW.transition!==null?(n0===0&&(n0=k5()),n0):(u=zt,u!==0||(u=window.event,u=u===void 0?16:O5(u.type)),u):1}function hs(u,f,m,w){if(50<ph)throw ph=0,Ky=null,Error(e(185));Bf(u,m,w),(!(It&2)||u!==si)&&(u===si&&(!(It&2)&&(Jg|=m),Jn===4&&al(u,bi)),nr(u,w),m===1&&It===0&&!(f.mode&1)&&(ed=Nn()+500,Pg&&el()))}function nr(u,f){var m=u.callbackNode;YH(u,f);var w=dg(u,u===si?bi:0);if(w===0)m!==null&&y5(m),u.callbackNode=null,u.callbackPriority=0;else if(f=w&-w,u.callbackPriority!==f){if(m!=null&&y5(m),f===1)u.tag===0?KW(OA.bind(null,u)):b3(OA.bind(null,u)),HW(function(){!(It&6)&&el()}),m=null;else{switch(C5(w)){case 1:m=Tv;break;case 4:m=_5;break;case 16:m=ag;break;case 536870912:m=x5;break;default:m=ag}m=jA(m,RA.bind(null,u))}u.callbackPriority=f,u.callbackNode=m}}function RA(u,f){if(t0=-1,n0=0,It&6)throw Error(e(327));var m=u.callbackNode;if(td()&&u.callbackNode!==m)return null;var w=dg(u,u===si?bi:0);if(w===0)return null;if(w&30||w&u.expiredLanes||f)f=i0(u,w);else{f=w;var k=It;It|=2;var E=MA();(si!==u||bi!==f)&&(Ho=null,ed=Nn()+500,pc(u,f));do try{pq();break}catch(N){NA(u,N)}while(!0);fy(),Zg.current=E,It=k,Wn!==null?f=0:(si=null,bi=0,f=Jn)}if(f!==0){if(f===2&&(k=Av(u),k!==0&&(w=k,f=Yy(u,k))),f===1)throw m=hh,pc(u,0),al(u,w),nr(u,Nn()),m;if(f===6)al(u,w);else{if(k=u.current.alternate,!(w&30)&&!hq(k)&&(f=i0(u,w),f===2&&(E=Av(u),E!==0&&(w=E,f=Yy(u,E))),f===1))throw m=hh,pc(u,0),al(u,w),nr(u,Nn()),m;switch(u.finishedWork=k,u.finishedLanes=w,f){case 0:case 1:throw Error(e(345));case 2:gc(u,tr,Ho);break;case 3:if(al(u,w),(w&130023424)===w&&(f=qy+500-Nn(),10<f)){if(dg(u,0)!==0)break;if(k=u.suspendedLanes,(k&w)!==w){Bi(),u.pingedLanes|=u.suspendedLanes&k;break}u.timeoutHandle=ty(gc.bind(null,u,tr,Ho),f);break}gc(u,tr,Ho);break;case 4:if(al(u,w),(w&4194240)===w)break;for(f=u.eventTimes,k=-1;0<w;){var I=31-as(w);E=1<<I,I=f[I],I>k&&(k=I),w&=~E}if(w=k,w=Nn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*fq(w/1960))-w,10<w){u.timeoutHandle=ty(gc.bind(null,u,tr,Ho),w);break}gc(u,tr,Ho);break;case 5:gc(u,tr,Ho);break;default:throw Error(e(329))}}}return nr(u,Nn()),u.callbackNode===m?RA.bind(null,u):null}function Yy(u,f){var m=mh;return u.current.memoizedState.isDehydrated&&(pc(u,f).flags|=256),u=i0(u,f),u!==2&&(f=tr,tr=m,f!==null&&Zy(f)),u}function Zy(u){tr===null?tr=u:tr.push.apply(tr,u)}function hq(u){for(var f=u;;){if(f.flags&16384){var m=f.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var k=m[w],E=k.getSnapshot;k=k.value;try{if(!ls(E(),k))return!1}catch{return!1}}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function al(u,f){for(f&=~Wy,f&=~Jg,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var m=31-as(f),w=1<<m;u[m]=-1,f&=~w}}function OA(u){if(It&6)throw Error(e(327));td();var f=dg(u,0);if(!(f&1))return nr(u,Nn()),null;var m=i0(u,f);if(u.tag!==0&&m===2){var w=Av(u);w!==0&&(f=w,m=Yy(u,w))}if(m===1)throw m=hh,pc(u,0),al(u,f),nr(u,Nn()),m;if(m===6)throw Error(e(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,gc(u,tr,Ho),nr(u,Nn()),null}function Jy(u,f){var m=It;It|=1;try{return u(f)}finally{It=m,It===0&&(ed=Nn()+500,Pg&&el())}}function mc(u){sl!==null&&sl.tag===0&&!(It&6)&&td();var f=It;It|=1;var m=Ur.transition,w=zt;try{if(Ur.transition=null,zt=1,u)return u()}finally{zt=w,Ur.transition=m,It=f,!(It&6)&&el()}}function Xy(){yr=Qu.current,rn(Qu)}function pc(u,f){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;if(m!==-1&&(u.timeoutHandle=-1,UW(m)),Wn!==null)for(m=Wn.return;m!==null;){var w=m;switch(ay(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ag();break;case 3:Zu(),rn(Xi),rn(Ei),yy();break;case 5:wy(w);break;case 4:Zu();break;case 13:rn(bn);break;case 19:rn(bn);break;case 10:hy(w.type._context);break;case 22:case 23:Xy()}m=m.return}if(si=u,Wn=u=ll(u.current,null),bi=yr=f,Jn=0,hh=null,Wy=Jg=hc=0,tr=mh=null,uc!==null){for(f=0;f<uc.length;f++)if(m=uc[f],w=m.interleaved,w!==null){m.interleaved=null;var k=w.next,E=m.pending;if(E!==null){var I=E.next;E.next=k,w.next=I}m.pending=w}uc=null}return u}function NA(u,f){do{var m=Wn;try{if(fy(),jg.current=Hg,zg){for(var w=wn.memoizedState;w!==null;){var k=w.queue;k!==null&&(k.pending=null),w=w.next}zg=!1}if(fc=0,ri=Zn=wn=null,ah=!1,lh=0,Hy.current=null,m===null||m.return===null){Jn=1,hh=f,Wn=null;break}e:{var E=u,I=m.return,N=m,B=f;if(f=bi,N.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,ae=N,le=ae.tag;if(!(ae.mode&1)&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var Re=rA(I);if(Re!==null){Re.flags&=-257,sA(Re,I,N,E,f),Re.mode&1&&iA(E,Y,f),f=Re,B=Y;var Ue=f.updateQueue;if(Ue===null){var He=new Set;He.add(B),f.updateQueue=He}else Ue.add(B);break e}else{if(!(f&1)){iA(E,Y,f),Qy();break e}B=Error(e(426))}}else if(cn&&N.mode&1){var Mn=rA(I);if(Mn!==null){!(Mn.flags&65536)&&(Mn.flags|=256),sA(Mn,I,N,E,f),uy(Ju(B,N));break e}}E=B=Ju(B,N),Jn!==4&&(Jn=2),mh===null?mh=[E]:mh.push(E),E=I;do{switch(E.tag){case 3:E.flags|=65536,f&=-f,E.lanes|=f;var W=tA(E,B,f);A3(E,W);break e;case 1:N=B;var z=E.type,q=E.stateNode;if(!(E.flags&128)&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(rl===null||!rl.has(q)))){E.flags|=65536,f&=-f,E.lanes|=f;var we=nA(E,N,f);A3(E,we);break e}}E=E.return}while(E!==null)}LA(m)}catch(Ge){f=Ge,Wn===m&&m!==null&&(Wn=m=m.return);continue}break}while(!0)}function MA(){var u=Zg.current;return Zg.current=Hg,u===null?Hg:u}function Qy(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),si===null||!(hc&268435455)&&!(Jg&268435455)||al(si,bi)}function i0(u,f){var m=It;It|=2;var w=MA();(si!==u||bi!==f)&&(Ho=null,pc(u,f));do try{mq();break}catch(k){NA(u,k)}while(!0);if(fy(),It=m,Zg.current=w,Wn!==null)throw Error(e(261));return si=null,bi=0,Jn}function mq(){for(;Wn!==null;)DA(Wn)}function pq(){for(;Wn!==null&&!jH();)DA(Wn)}function DA(u){var f=BA(u.alternate,u,yr);u.memoizedProps=u.pendingProps,f===null?LA(u):Wn=f,Hy.current=null}function LA(u){var f=u;do{var m=f.alternate;if(u=f.return,f.flags&32768){if(m=lq(m,f),m!==null){m.flags&=32767,Wn=m;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Jn=6,Wn=null;return}}else if(m=aq(m,f,yr),m!==null){Wn=m;return}if(f=f.sibling,f!==null){Wn=f;return}Wn=f=u}while(f!==null);Jn===0&&(Jn=5)}function gc(u,f,m){var w=zt,k=Ur.transition;try{Ur.transition=null,zt=1,gq(u,f,m,w)}finally{Ur.transition=k,zt=w}return null}function gq(u,f,m,w){do td();while(sl!==null);if(It&6)throw Error(e(327));m=u.finishedWork;var k=u.finishedLanes;if(m===null)return null;if(u.finishedWork=null,u.finishedLanes=0,m===u.current)throw Error(e(177));u.callbackNode=null,u.callbackPriority=0;var E=m.lanes|m.childLanes;if(ZH(u,E),u===si&&(Wn=si=null,bi=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||Qg||(Qg=!0,jA(ag,function(){return td(),null})),E=(m.flags&15990)!==0,m.subtreeFlags&15990||E){E=Ur.transition,Ur.transition=null;var I=zt;zt=1;var N=It;It|=4,Hy.current=null,uq(u,m),SA(m,u),LW(Qv),mg=!!Xv,Qv=Xv=null,u.current=m,dq(m),zH(),It=N,zt=I,Ur.transition=E}else u.current=m;if(Qg&&(Qg=!1,sl=u,e0=k),E=u.pendingLanes,E===0&&(rl=null),HH(m.stateNode),nr(u,Nn()),f!==null)for(w=u.onRecoverableError,m=0;m<f.length;m++)k=f[m],w(k.value,{componentStack:k.stack,digest:k.digest});if(Xg)throw Xg=!1,u=Gy,Gy=null,u;return e0&1&&u.tag!==0&&td(),E=u.pendingLanes,E&1?u===Ky?ph++:(ph=0,Ky=u):ph=0,el(),null}function td(){if(sl!==null){var u=C5(e0),f=Ur.transition,m=zt;try{if(Ur.transition=null,zt=16>u?16:u,sl===null)var w=!1;else{if(u=sl,sl=null,e0=0,It&6)throw Error(e(331));var k=It;for(It|=4,ze=u.current;ze!==null;){var E=ze,I=E.child;if(ze.flags&16){var N=E.deletions;if(N!==null){for(var B=0;B<N.length;B++){var Y=N[B];for(ze=Y;ze!==null;){var ae=ze;switch(ae.tag){case 0:case 11:case 15:fh(8,ae,E)}var le=ae.child;if(le!==null)le.return=ae,ze=le;else for(;ze!==null;){ae=ze;var oe=ae.sibling,Re=ae.return;if(_A(ae),ae===Y){ze=null;break}if(oe!==null){oe.return=Re,ze=oe;break}ze=Re}}}var Ue=E.alternate;if(Ue!==null){var He=Ue.child;if(He!==null){Ue.child=null;do{var Mn=He.sibling;He.sibling=null,He=Mn}while(He!==null)}}ze=E}}if(E.subtreeFlags&2064&&I!==null)I.return=E,ze=I;else e:for(;ze!==null;){if(E=ze,E.flags&2048)switch(E.tag){case 0:case 11:case 15:fh(9,E,E.return)}var W=E.sibling;if(W!==null){W.return=E.return,ze=W;break e}ze=E.return}}var z=u.current;for(ze=z;ze!==null;){I=ze;var q=I.child;if(I.subtreeFlags&2064&&q!==null)q.return=I,ze=q;else e:for(I=z;ze!==null;){if(N=ze,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:Yg(9,N)}}catch(Ge){Tn(N,N.return,Ge)}if(N===I){ze=null;break e}var we=N.sibling;if(we!==null){we.return=N.return,ze=we;break e}ze=N.return}}if(It=k,el(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(lg,u)}catch{}w=!0}return w}finally{zt=m,Ur.transition=f}}return!1}function VA(u,f,m){f=Ju(m,f),f=tA(u,f,1),u=nl(u,f,1),f=Bi(),u!==null&&(Bf(u,1,f),nr(u,f))}function Tn(u,f,m){if(u.tag===3)VA(u,u,m);else for(;f!==null;){if(f.tag===3){VA(f,u,m);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(rl===null||!rl.has(w))){u=Ju(m,u),u=nA(f,u,1),f=nl(f,u,1),u=Bi(),f!==null&&(Bf(f,1,u),nr(f,u));break}}f=f.return}}function bq(u,f,m){var w=u.pingCache;w!==null&&w.delete(f),f=Bi(),u.pingedLanes|=u.suspendedLanes&m,si===u&&(bi&m)===m&&(Jn===4||Jn===3&&(bi&130023424)===bi&&500>Nn()-qy?pc(u,0):Wy|=m),nr(u,f)}function FA(u,f){f===0&&(u.mode&1?(f=ug,ug<<=1,!(ug&130023424)&&(ug=4194304)):f=1);var m=Bi();u=zo(u,f),u!==null&&(Bf(u,f,m),nr(u,m))}function wq(u){var f=u.memoizedState,m=0;f!==null&&(m=f.retryLane),FA(u,m)}function vq(u,f){var m=0;switch(u.tag){case 13:var w=u.stateNode,k=u.memoizedState;k!==null&&(m=k.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(e(314))}w!==null&&w.delete(f),FA(u,m)}var BA;BA=function(u,f,m){if(u!==null)if(u.memoizedProps!==f.pendingProps||Xi.current)er=!0;else{if(!(u.lanes&m)&&!(f.flags&128))return er=!1,oq(u,f,m);er=!!(u.flags&131072)}else er=!1,cn&&f.flags&1048576&&w3(f,Og,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;Gg(u,f),u=f.pendingProps;var k=Uu(f,Ei.current);Yu(f,m),k=ky(null,f,w,u,k,m);var E=Cy();return f.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Qi(w)?(E=!0,Ig(f)):E=!1,f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,gy(f),k.updater=Wg,f.stateNode=k,k._reactInternals=f,Py(f,w,u,m),f=My(null,f,w,!0,E,m)):(f.tag=0,cn&&E&&oy(f),Fi(null,f,k,m),f=f.child),f;case 16:w=f.elementType;e:{switch(Gg(u,f),u=f.pendingProps,k=w._init,w=k(w._payload),f.type=w,k=f.tag=_q(w),u=us(w,u),k){case 0:f=Ny(null,f,w,u,m);break e;case 1:f=dA(null,f,w,u,m);break e;case 11:f=oA(null,f,w,u,m);break e;case 14:f=aA(null,f,w,us(w.type,u),m);break e}throw Error(e(306,w,""))}return f;case 0:return w=f.type,k=f.pendingProps,k=f.elementType===w?k:us(w,k),Ny(u,f,w,k,m);case 1:return w=f.type,k=f.pendingProps,k=f.elementType===w?k:us(w,k),dA(u,f,w,k,m);case 3:e:{if(fA(f),u===null)throw Error(e(387));w=f.pendingProps,E=f.memoizedState,k=E.element,T3(u,f),Fg(f,w,null,m);var I=f.memoizedState;if(w=I.element,E.isDehydrated)if(E={element:w,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},f.updateQueue.baseState=E,f.memoizedState=E,f.flags&256){k=Ju(Error(e(423)),f),f=hA(u,f,w,m,k);break e}else if(w!==k){k=Ju(Error(e(424)),f),f=hA(u,f,w,m,k);break e}else for(vr=Ja(f.stateNode.containerInfo.firstChild),wr=f,cn=!0,cs=null,m=E3(f,null,w,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(qu(),w===k){f=Uo(u,f,m);break e}Fi(u,f,w,m)}f=f.child}return f;case 5:return P3(f),u===null&&cy(f),w=f.type,k=f.pendingProps,E=u!==null?u.memoizedProps:null,I=k.children,ey(w,k)?I=null:E!==null&&ey(w,E)&&(f.flags|=32),uA(u,f),Fi(u,f,I,m),f.child;case 6:return u===null&&cy(f),null;case 13:return mA(u,f,m);case 4:return by(f,f.stateNode.containerInfo),w=f.pendingProps,u===null?f.child=Gu(f,null,w,m):Fi(u,f,w,m),f.child;case 11:return w=f.type,k=f.pendingProps,k=f.elementType===w?k:us(w,k),oA(u,f,w,k,m);case 7:return Fi(u,f,f.pendingProps,m),f.child;case 8:return Fi(u,f,f.pendingProps.children,m),f.child;case 12:return Fi(u,f,f.pendingProps.children,m),f.child;case 10:e:{if(w=f.type._context,k=f.pendingProps,E=f.memoizedProps,I=k.value,Qt(Dg,w._currentValue),w._currentValue=I,E!==null)if(ls(E.value,I)){if(E.children===k.children&&!Xi.current){f=Uo(u,f,m);break e}}else for(E=f.child,E!==null&&(E.return=f);E!==null;){var N=E.dependencies;if(N!==null){I=E.child;for(var B=N.firstContext;B!==null;){if(B.context===w){if(E.tag===1){B=$o(-1,m&-m),B.tag=2;var Y=E.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?B.next=B:(B.next=ae.next,ae.next=B),Y.pending=B}}E.lanes|=m,B=E.alternate,B!==null&&(B.lanes|=m),my(E.return,m,f),N.lanes|=m;break}B=B.next}}else if(E.tag===10)I=E.type===f.type?null:E.child;else if(E.tag===18){if(I=E.return,I===null)throw Error(e(341));I.lanes|=m,N=I.alternate,N!==null&&(N.lanes|=m),my(I,m,f),I=E.sibling}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===f){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}Fi(u,f,k.children,m),f=f.child}return f;case 9:return k=f.type,w=f.pendingProps.children,Yu(f,m),k=zr(k),w=w(k),f.flags|=1,Fi(u,f,w,m),f.child;case 14:return w=f.type,k=us(w,f.pendingProps),k=us(w.type,k),aA(u,f,w,k,m);case 15:return lA(u,f,f.type,f.pendingProps,m);case 17:return w=f.type,k=f.pendingProps,k=f.elementType===w?k:us(w,k),Gg(u,f),f.tag=1,Qi(w)?(u=!0,Ig(f)):u=!1,Yu(f,m),Q3(f,w,k),Py(f,w,k,m),My(null,f,w,!0,u,m);case 19:return gA(u,f,m);case 22:return cA(u,f,m)}throw Error(e(156,f.tag))};function jA(u,f){return v5(u,f)}function yq(u,f,m,w){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(u,f,m,w){return new yq(u,f,m,w)}function e_(u){return u=u.prototype,!(!u||!u.isReactComponent)}function _q(u){if(typeof u=="function")return e_(u)?1:0;if(u!=null){if(u=u.$$typeof,u===ee)return 11;if(u===ve)return 14}return 2}function ll(u,f){var m=u.alternate;return m===null?(m=Hr(u.tag,f,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=f,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&14680064,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,f=u.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m}function r0(u,f,m,w,k,E){var I=2;if(w=u,typeof u=="function")e_(u)&&(I=1);else if(typeof u=="string")I=5;else e:switch(u){case R:return bc(m.children,k,E,f);case j:I=8,k|=8;break;case $:return u=Hr(12,m,f,k|2),u.elementType=$,u.lanes=E,u;case re:return u=Hr(13,m,f,k),u.elementType=re,u.lanes=E,u;case ne:return u=Hr(19,m,f,k),u.elementType=ne,u.lanes=E,u;case fe:return s0(m,k,E,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Z:I=10;break e;case ge:I=9;break e;case ee:I=11;break e;case ve:I=14;break e;case me:I=16,w=null;break e}throw Error(e(130,u==null?u:typeof u,""))}return f=Hr(I,m,f,k),f.elementType=u,f.type=w,f.lanes=E,f}function bc(u,f,m,w){return u=Hr(7,u,w,f),u.lanes=m,u}function s0(u,f,m,w){return u=Hr(22,u,w,f),u.elementType=fe,u.lanes=m,u.stateNode={isHidden:!1},u}function t_(u,f,m){return u=Hr(6,u,null,f),u.lanes=m,u}function n_(u,f,m){return f=Hr(4,u.children!==null?u.children:[],u.key,f),f.lanes=m,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function xq(u,f,m,w,k){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iv(0),this.expirationTimes=Iv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iv(0),this.identifierPrefix=w,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function i_(u,f,m,w,k,E,I,N,B){return u=new xq(u,f,m,N,B),f===1?(f=1,E===!0&&(f|=8)):f=0,E=Hr(3,null,null,f),u.current=E,E.stateNode=u,E.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(E),u}function kq(u,f,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:w==null?null:""+w,children:u,containerInfo:f,implementation:m}}function zA(u){if(!u)return Qa;u=u._reactInternals;e:{if(sc(u)!==u||u.tag!==1)throw Error(e(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Qi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(e(171))}if(u.tag===1){var m=u.type;if(Qi(m))return p3(u,m,f)}return f}function $A(u,f,m,w,k,E,I,N,B){return u=i_(m,w,!0,u,k,E,I,N,B),u.context=zA(null),m=u.current,w=Bi(),k=ol(m),E=$o(w,k),E.callback=f??null,nl(m,E,k),u.current.lanes=k,Bf(u,k,w),nr(u,w),u}function o0(u,f,m,w){var k=f.current,E=Bi(),I=ol(k);return m=zA(m),f.context===null?f.context=m:f.pendingContext=m,f=$o(E,I),f.payload={element:u},w=w===void 0?null:w,w!==null&&(f.callback=w),u=nl(k,f,I),u!==null&&(hs(u,k,I,E),Vg(u,k,I)),I}function a0(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function UA(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<f?m:f}}function r_(u,f){UA(u,f),(u=u.alternate)&&UA(u,f)}function Cq(){return null}var HA=typeof reportError=="function"?reportError:function(u){console.error(u)};function s_(u){this._internalRoot=u}l0.prototype.render=s_.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(e(409));o0(u,f,null,null)},l0.prototype.unmount=s_.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;mc(function(){o0(null,u,null,null)}),f[Vo]=null}};function l0(u){this._internalRoot=u}l0.prototype.unstable_scheduleHydration=function(u){if(u){var f=T5();u={blockedOn:null,target:u,priority:f};for(var m=0;m<Ka.length&&f!==0&&f<Ka[m].priority;m++);Ka.splice(m,0,u),m===0&&P5(u)}};function o_(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function c0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function WA(){}function Eq(u,f,m,w,k){if(k){if(typeof w=="function"){var E=w;w=function(){var Y=a0(I);E.call(Y)}}var I=$A(f,w,u,0,null,!1,!1,"",WA);return u._reactRootContainer=I,u[Vo]=I.current,Qf(u.nodeType===8?u.parentNode:u),mc(),I}for(;k=u.lastChild;)u.removeChild(k);if(typeof w=="function"){var N=w;w=function(){var Y=a0(B);N.call(Y)}}var B=i_(u,0,!1,null,null,!1,!1,"",WA);return u._reactRootContainer=B,u[Vo]=B.current,Qf(u.nodeType===8?u.parentNode:u),mc(function(){o0(f,B,m,w)}),B}function u0(u,f,m,w,k){var E=m._reactRootContainer;if(E){var I=E;if(typeof k=="function"){var N=k;k=function(){var B=a0(I);N.call(B)}}o0(f,I,u,k)}else I=Eq(m,f,u,k,w);return a0(I)}E5=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var m=Ff(f.pendingLanes);m!==0&&(Pv(f,m|1),nr(f,Nn()),!(It&6)&&(ed=Nn()+500,el()))}break;case 13:mc(function(){var w=zo(u,1);if(w!==null){var k=Bi();hs(w,u,1,k)}}),r_(u,1)}},Rv=function(u){if(u.tag===13){var f=zo(u,134217728);if(f!==null){var m=Bi();hs(f,u,134217728,m)}r_(u,134217728)}},S5=function(u){if(u.tag===13){var f=ol(u),m=zo(u,f);if(m!==null){var w=Bi();hs(m,u,f,w)}r_(u,f)}},T5=function(){return zt},A5=function(u,f){var m=zt;try{return zt=u,f()}finally{zt=m}},kv=function(u,f,m){switch(f){case"input":if(On(u,m),f=m.name,m.type==="radio"&&f!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<m.length;f++){var w=m[f];if(w!==u&&w.form===u.form){var k=Tg(w);if(!k)throw Error(e(90));at(w),On(w,k)}}}break;case"textarea":Q(u,m);break;case"select":f=m.value,f!=null&&xe(u,!!m.multiple,f,!1)}},f5=Jy,h5=mc;var Sq={usingClientEntryPoint:!1,Events:[nh,zu,Tg,u5,d5,Jy]},gh={findFiberByHostInstance:oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tq={bundleType:gh.bundleType,version:gh.version,rendererPackageName:gh.rendererPackageName,rendererConfig:gh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=b5(u),u===null?null:u.stateNode},findFiberByHostInstance:gh.findFiberByHostInstance||Cq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{lg=d0.inject(Tq),Gs=d0}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sq,ir.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o_(f))throw Error(e(200));return kq(u,f,null,m)},ir.createRoot=function(u,f){if(!o_(u))throw Error(e(299));var m=!1,w="",k=HA;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onRecoverableError!==void 0&&(k=f.onRecoverableError)),f=i_(u,1,!1,null,null,m,!1,w,k),u[Vo]=f.current,Qf(u.nodeType===8?u.parentNode:u),new s_(f)},ir.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(e(188)):(u=Object.keys(u).join(","),Error(e(268,u)));return u=b5(f),u=u===null?null:u.stateNode,u},ir.flushSync=function(u){return mc(u)},ir.hydrate=function(u,f,m){if(!c0(f))throw Error(e(200));return u0(null,u,f,!0,m)},ir.hydrateRoot=function(u,f,m){if(!o_(u))throw Error(e(405));var w=m!=null&&m.hydratedSources||null,k=!1,E="",I=HA;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),f=$A(f,null,u,1,m??null,k,!1,E,I),u[Vo]=f.current,Qf(u),w)for(u=0;u<w.length;u++)m=w[u],k=m._getVersion,k=k(m._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[m,k]:f.mutableSourceEagerHydrationData.push(m,k);return new l0(f)},ir.render=function(u,f,m){if(!c0(f))throw Error(e(200));return u0(null,u,f,!1,m)},ir.unmountComponentAtNode=function(u){if(!c0(u))throw Error(e(40));return u._reactRootContainer?(mc(function(){u0(null,null,u,!1,function(){u._reactRootContainer=null,u[Vo]=null})}),!0):!1},ir.unstable_batchedUpdates=Jy,ir.unstable_renderSubtreeIntoContainer=function(u,f,m,w){if(!c0(m))throw Error(e(200));if(u==null||u._reactInternals===void 0)throw Error(e(38));return u0(u,f,m,!1,w)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var QA;function l7(){if(QA)return c_.exports;QA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),c_.exports=Fq(),c_.exports}var eI;function Bq(){if(eI)return f0;eI=1;var n=l7();return f0.createRoot=n.createRoot,f0.hydrateRoot=n.hydrateRoot,f0}var jq=Bq();function tI(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Co(...n){return t=>{let e=!1;const i=n.map(r=>{const s=tI(r,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():tI(n[r],null)}}}}function vt(...n){return y.useCallback(Co(...n),n)}var Eo=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(zq);if(s){const o=s.props.children,a=r.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(d2,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(d2,{...i,ref:t,children:e})});Eo.displayName="Slot";var d2=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=Uq(e);return y.cloneElement(e,{...$q(i,e.props),ref:t?Co(t,r):r})}return y.Children.count(e)>1?y.Children.only(null):null});d2.displayName="SlotClone";var c7=({children:n})=>v.jsx(v.Fragment,{children:n});function zq(n){return y.isValidElement(n)&&n.type===c7}function $q(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...a)=>{s(...a),r(...a)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function Uq(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function u7(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=u7(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function fa(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=u7(n))&&(i&&(i+=" "),i+=t);return i}const nI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,iI=fa,fp=(n,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return iI(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:r,defaultVariants:s}=t,o=Object.keys(r).map(c=>{const d=e==null?void 0:e[c],h=s==null?void 0:s[c];if(d===null)return null;const p=nI(d)||nI(h);return r[c][p]}),a=e&&Object.entries(e).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((c,d)=>{let{class:h,className:p,...b}=d;return Object.entries(b).every(_=>{let[x,C]=_;return Array.isArray(C)?C.includes({...s,...a}[x]):{...s,...a}[x]===C})?[...c,h,p]:c},[]);return iI(n,o,l,e==null?void 0:e.class,e==null?void 0:e.className)},DC="-",Hq=n=>{const t=qq(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(DC);return a[0]===""&&a.length!==1&&a.shift(),d7(a,t)||Wq(o)},getConflictingClassGroupIds:(o,a)=>{const l=e[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},d7=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),r=i?d7(n.slice(1),i):void 0;if(r)return r;if(t.validators.length===0)return;const s=n.join(DC);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},rI=/^\[(.+)\]$/,Wq=n=>{if(rI.test(n)){const t=rI.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},qq=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const r in e)f2(e[r],i,r,t);return i},f2=(n,t,e,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?t:sI(t,r);s.classGroupId=e;return}if(typeof r=="function"){if(Gq(r)){f2(r(i),t,e,i);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([s,o])=>{f2(o,sI(t,s),e,i)})})},sI=(n,t)=>{let e=n;return t.split(DC).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},Gq=n=>n.isThemeGetter,Kq=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const r=(s,o)=>{e.set(s,o),t++,t>n&&(t=0,i=e,e=new Map)};return{get(s){let o=e.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){e.has(s)?e.set(s,o):r(s,o)}}},h2="!",m2=":",Yq=m2.length,Zq=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=r=>{const s=[];let o=0,a=0,l=0,c;for(let _=0;_<r.length;_++){let x=r[_];if(o===0&&a===0){if(x===m2){s.push(r.slice(l,_)),l=_+Yq;continue}if(x==="/"){c=_;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const d=s.length===0?r:r.substring(l),h=Jq(d),p=h!==d,b=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:b}};if(t){const r=t+m2,s=i;i=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const r=i;i=s=>e({className:s,parseClassName:r})}return i},Jq=n=>n.endsWith(h2)?n.substring(0,n.length-1):n.startsWith(h2)?n.substring(1):n,Xq=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(o=>{o[0]==="["||t[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},Qq=n=>({cache:Kq(n.cacheSize),parseClassName:Zq(n),sortModifiers:Xq(n),...Hq(n)}),eG=/\s+/,tG=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=t,o=[],a=n.trim().split(eG);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:h,modifiers:p,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:x}=e(d);if(h){l=d+(l.length>0?" "+l:l);continue}let C=!!x,S=i(C?_.substring(0,x):_);if(!S){if(!C){l=d+(l.length>0?" "+l:l);continue}if(S=i(_),!S){l=d+(l.length>0?" "+l:l);continue}C=!1}const T=s(p).join(":"),A=b?T+h2:T,P=A+S;if(o.includes(P))continue;o.push(P);const O=r(S,C);for(let D=0;D<O.length;++D){const R=O[D];o.push(A+R)}l=d+(l.length>0?" "+l:l)}return l};function nG(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=f7(t))&&(i&&(i+=" "),i+=e);return i}const f7=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=f7(n[i]))&&(e&&(e+=" "),e+=t);return e};function iG(n,...t){let e,i,r,s=o;function o(l){const c=t.reduce((d,h)=>h(d),n());return e=Qq(c),i=e.cache.get,r=e.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const d=tG(l,e);return r(l,d),d}return function(){return s(nG.apply(null,arguments))}}const ai=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},h7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,m7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rG=/^\d+\/\d+$/,sG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nd=n=>rG.test(n),xt=n=>!!n&&!Number.isNaN(Number(n)),wc=n=>!!n&&Number.isInteger(Number(n)),oI=n=>n.endsWith("%")&&xt(n.slice(0,-1)),ul=n=>sG.test(n),uG=()=>!0,dG=n=>oG.test(n)&&!aG.test(n),LC=()=>!1,fG=n=>lG.test(n),hG=n=>cG.test(n),mG=n=>!Oe(n)&&!Ne(n),pG=n=>ff(n,b7,LC),Oe=n=>h7.test(n),vc=n=>ff(n,w7,dG),f_=n=>ff(n,SG,xt),gG=n=>ff(n,p7,LC),bG=n=>ff(n,g7,hG),wG=n=>ff(n,LC,fG),Ne=n=>m7.test(n),h0=n=>hf(n,w7),vG=n=>hf(n,TG),yG=n=>hf(n,p7),_G=n=>hf(n,b7),xG=n=>hf(n,g7),kG=n=>hf(n,AG,!0),ff=(n,t,e)=>{const i=h7.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},hf=(n,t,e=!1)=>{const i=m7.exec(n);return i?i[1]?t(i[1]):e:!1},p7=n=>n==="position",CG=new Set(["image","url"]),g7=n=>CG.has(n),EG=new Set(["length","size","percentage"]),b7=n=>EG.has(n),w7=n=>n==="length",SG=n=>n==="number",TG=n=>n==="family-name",AG=n=>n==="shadow",IG=()=>{const n=ai("color"),t=ai("font"),e=ai("text"),i=ai("font-weight"),r=ai("tracking"),s=ai("leading"),o=ai("breakpoint"),a=ai("container"),l=ai("spacing"),c=ai("radius"),d=ai("shadow"),h=ai("inset-shadow"),p=ai("drop-shadow"),b=ai("blur"),_=ai("perspective"),x=ai("aspect"),C=ai("ease"),S=ai("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],D=()=>[nd,"px","full","auto",Ne,Oe,l],R=()=>[wc,"none","subgrid",Ne,Oe],j=()=>["auto",{span:["full",wc,Ne,Oe]},Ne,Oe],$=()=>[wc,"auto",Ne,Oe],Z=()=>["auto","min","max","fr",Ne,Oe],ge=()=>[Ne,Oe,l],ee=()=>["start","end","center","between","around","evenly","stretch","baseline"],re=()=>["start","end","center","stretch"],ne=()=>[Ne,Oe,l],ve=()=>["px",...ne()],me=()=>["px","auto",...ne()],fe=()=>[nd,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",Ne,Oe,l],U=()=>[n,Ne,Oe],K=()=>[oI,vc],te=()=>["","none","full",c,Ne,Oe],V=()=>["",xt,h0,vc],J=()=>["solid","dashed","dotted","double"],We=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ve=()=>["","none",b,Ne,Oe],Xe=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne,Oe],Fe=()=>["none",xt,Ne,Oe],ce=()=>["none",xt,Ne,Oe],Te=()=>[xt,Ne,Oe],De=()=>[nd,"full","px",Ne,Oe,l];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ul],breakpoint:[ul],color:[uG],container:[ul],"drop-shadow":[ul],ease:["in","out","in-out"],font:[mG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ul],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ul],shadow:[ul],spacing:[xt],text:[ul],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nd,Oe,Ne,x]}],container:["container"],columns:[{columns:[xt,Oe,Ne,a]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),Oe,Ne]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[wc,"auto",Ne,Oe]}],basis:[{basis:[nd,"full","auto",Ne,Oe,a,l]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xt,nd,"auto","initial","none",Oe]}],grow:[{grow:["",xt,Ne,Oe]}],shrink:[{shrink:["",xt,Ne,Oe]}],order:[{order:[wc,"first","last","none",Ne,Oe]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:ge()}],"gap-x":[{"gap-x":ge()}],"gap-y":[{"gap-y":ge()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...re(),"baseline"]}],"align-self":[{self:["auto",...re(),"baseline"]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:ve()}],px:[{px:ve()}],py:[{py:ve()}],ps:[{ps:ve()}],pe:[{pe:ve()}],pt:[{pt:ve()}],pr:[{pr:ve()}],pb:[{pb:ve()}],pl:[{pl:ve()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":ne()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ne()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[a,"screen",...fe()]}],"min-w":[{"min-w":[a,"screen","none",...fe()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...fe()]}],h:[{h:["screen",...fe()]}],"min-h":[{"min-h":["screen","none",...fe()]}],"max-h":[{"max-h":["screen",...fe()]}],"font-size":[{text:["base",e,h0,vc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ne,f_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",oI,Oe]}],"font-family":[{font:[vG,Oe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Ne,Oe]}],"line-clamp":[{"line-clamp":[xt,"none",Ne,f_]}],leading:[{leading:[Ne,Oe,s,l]}],"list-image":[{"list-image":["none",Ne,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[xt,"from-font","auto",Ne,vc]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[xt,"auto",Ne,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...ne()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),yG,gG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",_G,pG]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wc,Ne,Oe],radial:["",Ne,Oe],conic:[wc,Ne,Oe]},xG,bG]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xt,Ne,Oe]}],"outline-w":[{outline:["",xt,h0,vc]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",d,kG,wG]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",Ne,Oe,h]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[xt,vc]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":U()}],opacity:[{opacity:[xt,Ne,Oe]}],"mix-blend":[{"mix-blend":[...We(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":We()}],filter:[{filter:["","none",Ne,Oe]}],blur:[{blur:Ve()}],brightness:[{brightness:[xt,Ne,Oe]}],contrast:[{contrast:[xt,Ne,Oe]}],"drop-shadow":[{"drop-shadow":["","none",p,Ne,Oe]}],grayscale:[{grayscale:["",xt,Ne,Oe]}],"hue-rotate":[{"hue-rotate":[xt,Ne,Oe]}],invert:[{invert:["",xt,Ne,Oe]}],saturate:[{saturate:[xt,Ne,Oe]}],sepia:[{sepia:["",xt,Ne,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Oe]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[xt,Ne,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[xt,Ne,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xt,Ne,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xt,Ne,Oe]}],"backdrop-invert":[{"backdrop-invert":["",xt,Ne,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[xt,Ne,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[xt,Ne,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",xt,Ne,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ne()}],"border-spacing-x":[{"border-spacing-x":ne()}],"border-spacing-y":[{"border-spacing-y":ne()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xt,"initial",Ne,Oe]}],ease:[{ease:["linear","initial",C,Ne,Oe]}],delay:[{delay:[xt,Ne,Oe]}],animate:[{animate:["none",S,Ne,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Ne,Oe]}],"perspective-origin":[{"perspective-origin":Xe()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[Ne,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:Xe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:De()}],"translate-x":[{"translate-x":De()}],"translate-y":[{"translate-y":De()}],"translate-z":[{"translate-z":De()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Oe]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[xt,h0,vc,f_]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},PG=iG(IG);function Ie(...n){return PG(fa(n))}const RG=fp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Bn=y.forwardRef(({className:n,variant:t,size:e,asChild:i=!1,...r},s)=>{const o=i?Eo:"button";return v.jsx(o,{className:Ie(RG({variant:t,size:e,className:n})),ref:s,...r})});Bn.displayName="Button";var wh={},aI;function OG(){if(aI)return wh;aI=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.parse=o,wh.serialize=c;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,b){const _=new s,x=p.length;if(x<2)return _;const C=(b==null?void 0:b.decode)||d;let S=0;do{const T=p.indexOf("=",S);if(T===-1)break;const A=p.indexOf(";",S),P=A===-1?x:A;if(T>P){S=p.lastIndexOf(";",T-1)+1;continue}const O=a(p,S,T),D=l(p,T,O),R=p.slice(O,D);if(_[R]===void 0){let j=a(p,T+1,P),$=l(p,P,j);const Z=C(p.slice(j,$));_[R]=Z}S=P+1}while(S<x);return _}function a(p,b,_){do{const x=p.charCodeAt(b);if(x!==32&&x!==9)return b}while(++b<_);return _}function l(p,b,_){for(;b>_;){const x=p.charCodeAt(--b);if(x!==32&&x!==9)return b+1}return _}function c(p,b,_){const x=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=x(b);if(!t.test(C))throw new TypeError(`argument val is invalid: ${b}`);let S=p+"="+C;if(!_)return S;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);S+="; Max-Age="+_.maxAge}if(_.domain){if(!e.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);S+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);S+="; Path="+_.path}if(_.expires){if(!h(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);S+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(S+="; HttpOnly"),_.secure&&(S+="; Secure"),_.partitioned&&(S+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return S}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return r.call(p)==="[object Date]"}return wh}OG();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lI="popstate";function NG(n={}){function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return p2("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:mm(r)}return DG(t,e,null,n)}function gn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Xr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MG(){return Math.random().toString(36).substring(2,10)}function cI(n,t){return{usr:n.state,key:n.key,idx:t}}function p2(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?mf(t):t,state:e,key:t&&t.key||i||MG()}}function mm({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function mf(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function DG(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let C=d(),S=C==null?null:C-c;c=C,l&&l({action:a,location:x.location,delta:S})}function p(C,S){a="PUSH";let T=p2(x.location,C,S);c=d()+1;let A=cI(T,c),P=x.createHref(T);try{o.pushState(A,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(P)}s&&l&&l({action:a,location:x.location,delta:1})}function b(C,S){a="REPLACE";let T=p2(x.location,C,S);c=d();let A=cI(T,c),P=x.createHref(T);o.replaceState(A,"",P),s&&l&&l({action:a,location:x.location,delta:0})}function _(C){let S=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof C=="string"?C:mm(C);return T=T.replace(/ $/,"%20"),gn(S,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,S)}let x={get action(){return a},get location(){return n(r,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(lI,h),l=C,()=>{r.removeEventListener(lI,h),l=null}},createHref(C){return t(r,C)},createURL:_,encodeLocation(C){let S=_(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:b,go(C){return o.go(C)}};return x}function v7(n,t,e="/"){return LG(n,t,e,!1)}function LG(n,t,e,i){let r=typeof t=="string"?mf(t):t,s=Ml(r.pathname||"/",e);if(s==null)return null;let o=y7(n);VG(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=KG(s);a=qG(o[l],c,i)}return a}function y7(n,t=[],e=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(gn(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=ha([i,l.relativePath]),d=e.concat(l);s.children&&s.children.length>0&&(gn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),y7(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:HG(c,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of _7(s.path))r(s,o,l)}),t}function _7(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),s=e.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=_7(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function VG(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:WG(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var FG=/^:[\w-]+$/,BG=3,jG=2,zG=1,$G=10,UG=-2,uI=n=>n==="*";function HG(n,t){let e=n.split("/"),i=e.length;return e.some(uI)&&(i+=UG),t&&(i+=jG),e.filter(r=>!uI(r)).reduce((r,s)=>r+(FG.test(s)?BG:s===""?zG:$G),i)}function WG(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function qG(n,t,e=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=Nb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&e&&!i[i.length-1].route.index&&(h=Nb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:ha([s,h.pathname]),pathnameBase:XG(ha([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=ha([s,h.pathnameBase]))}return o}function Nb(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=GG(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let _=a[p]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const b=a[p];return h&&!b?c[d]=void 0:c[d]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function GG(n,t=!1,e=!0){Xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function KG(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ml(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function YG(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?mf(n):n;return{pathname:e?e.startsWith("/")?e:ZG(e,t):t,search:QG(i),hash:eK(r)}}function ZG(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function h_(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JG(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function VC(n){let t=JG(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function FC(n,t,e,i=!1){let r;typeof n=="string"?r=mf(n):(r={...n},gn(!r.pathname||!r.pathname.includes("?"),h_("?","pathname","search",r)),gn(!r.pathname||!r.pathname.includes("#"),h_("#","pathname","hash",r)),gn(!r.search||!r.search.includes("#"),h_("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=e;else{let h=t.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=YG(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var ha=n=>n.join("/").replace(/\/\/+/g,"/"),XG=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QG=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eK=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tK(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var x7=["POST","PUT","PATCH","DELETE"];new Set(x7);var nK=["GET",...x7];new Set(nK);var pf=y.createContext(null);pf.displayName="DataRouter";var iw=y.createContext(null);iw.displayName="DataRouterState";var k7=y.createContext({isTransitioning:!1});k7.displayName="ViewTransition";var iK=y.createContext(new Map);iK.displayName="Fetchers";var rK=y.createContext(null);rK.displayName="Await";var Vs=y.createContext(null);Vs.displayName="Navigation";var hp=y.createContext(null);hp.displayName="Location";var ts=y.createContext({outlet:null,matches:[],isDataRoute:!1});ts.displayName="Route";var BC=y.createContext(null);BC.displayName="RouteError";function sK(n,{relative:t}={}){gn(gf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=y.useContext(Vs),{hash:r,pathname:s,search:o}=mp(n,{relative:t}),a=s;return e!=="/"&&(a=s==="/"?e:ha([e,s])),i.createHref({pathname:a,search:o,hash:r})}function gf(){return y.useContext(hp)!=null}function Da(){return gn(gf(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(hp).location}var C7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E7(n){y.useContext(Vs).static||y.useLayoutEffect(n)}function So(){let{isDataRoute:n}=y.useContext(ts);return n?yK():oK()}function oK(){gn(gf(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(pf),{basename:t,navigator:e}=y.useContext(Vs),{matches:i}=y.useContext(ts),{pathname:r}=Da(),s=JSON.stringify(VC(i)),o=y.useRef(!1);return E7(()=>{o.current=!0}),y.useCallback((l,c={})=>{if(Xr(o.current,C7),!o.current)return;if(typeof l=="number"){e.go(l);return}let d=FC(l,JSON.parse(s),r,c.relative==="path");n==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ha([t,d.pathname])),(c.replace?e.replace:e.push)(d,c.state,c)},[t,e,s,r,n])}var aK=y.createContext(null);function lK(n){let t=y.useContext(ts).outlet;return t&&y.createElement(aK.Provider,{value:n},t)}function rw(){let{matches:n}=y.useContext(ts),t=n[n.length-1];return t?t.params:{}}function mp(n,{relative:t}={}){let{matches:e}=y.useContext(ts),{pathname:i}=Da(),r=JSON.stringify(VC(e));return y.useMemo(()=>FC(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function cK(n,t){return S7(n,t)}function S7(n,t,e,i){var T;gn(gf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=y.useContext(Vs),{matches:o}=y.useContext(ts),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let A=h&&h.path||"";T7(c,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Da(),b;if(t){let A=typeof t=="string"?mf(t):t;gn(d==="/"||((T=A.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=p;let _=b.pathname||"/",x=_;if(d!=="/"){let A=d.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=!s&&e&&e.matches&&e.matches.length>0?e.matches:v7(n,{pathname:x});Xr(h||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Xr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=mK(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:ha([d,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:ha([d,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,e,i);return t&&S?y.createElement(hp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function uK(){let n=vK(),t=tK(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),e?y.createElement("pre",{style:r},e):null,o)}var dK=y.createElement(uK,null),fK=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?y.createElement(ts.Provider,{value:this.props.routeContext},y.createElement(BC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hK({routeContext:n,match:t,children:e}){let i=y.useContext(pf);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ts.Provider,{value:n},e)}function mK(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,s=e==null?void 0:e.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);gn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(e)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=e,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,d)=>{let h,p=!1,b=null,_=null;e&&(h=s&&c.route.id?s[c.route.id]:void 0,b=c.route.errorElement||dK,o&&(a<0&&d===0?(T7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):a===d&&(p=!0,_=c.route.hydrateFallbackElement||null)));let x=t.concat(r.slice(0,d+1)),C=()=>{let S;return h?S=b:p?S=_:c.route.Component?S=y.createElement(c.route.Component,null):c.route.element?S=c.route.element:S=l,y.createElement(hK,{match:c,routeContext:{outlet:l,matches:x,isDataRoute:e!=null},children:S})};return e&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?y.createElement(fK,{location:e.location,revalidation:e.revalidation,component:b,error:h,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function jC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pK(n){let t=y.useContext(pf);return gn(t,jC(n)),t}function gK(n){let t=y.useContext(iw);return gn(t,jC(n)),t}function bK(n){let t=y.useContext(ts);return gn(t,jC(n)),t}function zC(n){let t=bK(n),e=t.matches[t.matches.length-1];return gn(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function wK(){return zC("useRouteId")}function vK(){var i;let n=y.useContext(BC),t=gK("useRouteError"),e=zC("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function yK(){let{router:n}=pK("useNavigate"),t=zC("useNavigate"),e=y.useRef(!1);return E7(()=>{e.current=!0}),y.useCallback(async(r,s={})=>{Xr(e.current,C7),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...s}))},[n,t])}var dI={};function T7(n,t,e){!t&&!dI[n]&&(dI[n]=!0,Xr(!1,e))}y.memo(_K);function _K({routes:n,future:t,state:e}){return S7(n,void 0,e,t)}function A7({to:n,replace:t,state:e,relative:i}){gn(gf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=y.useContext(Vs);Xr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(ts),{pathname:o}=Da(),a=So(),l=FC(n,VC(s),o,i==="path"),c=JSON.stringify(l);return y.useEffect(()=>{a(JSON.parse(c),{replace:t,state:e,relative:i})},[a,c,i,t,e]),null}function $C(n){return lK(n.context)}function Xn(n){gn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xK({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:s=!1}){gn(!gf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof e=="string"&&(e=mf(e));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:p="default"}=e,b=y.useMemo(()=>{let _=Ml(l,o);return _==null?null:{location:{pathname:_,search:c,hash:d,state:h,key:p},navigationType:i}},[o,l,c,d,h,p,i]);return Xr(b!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:y.createElement(Vs.Provider,{value:a},y.createElement(hp.Provider,{children:t,value:b}))}function kK({children:n,location:t}){return cK(g2(n),t)}function g2(n,t=[]){let e=[];return y.Children.forEach(n,(i,r)=>{if(!y.isValidElement(i))return;let s=[...t,r];if(i.type===y.Fragment){e.push.apply(e,g2(i.props.children,s));return}gn(i.type===Xn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=g2(i.props.children,s)),e.push(o)}),e}var tb="get",nb="application/x-www-form-urlencoded";function sw(n){return n!=null&&typeof n.tagName=="string"}function CK(n){return sw(n)&&n.tagName.toLowerCase()==="button"}function EK(n){return sw(n)&&n.tagName.toLowerCase()==="form"}function SK(n){return sw(n)&&n.tagName.toLowerCase()==="input"}function TK(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AK(n,t){return n.button===0&&(!t||t==="_self")&&!TK(n)}function b2(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,e)=>{let i=n[e];return t.concat(Array.isArray(i)?i.map(r=>[e,r]):[[e,i]])},[]))}function IK(n,t){let e=b2(n);return t&&t.forEach((i,r)=>{e.has(r)||t.getAll(r).forEach(s=>{e.append(r,s)})}),e}var m0=null;function PK(){if(m0===null)try{new FormData(document.createElement("form"),0),m0=!1}catch{m0=!0}return m0}var RK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function m_(n){return n!=null&&!RK.has(n)?(Xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nb}"`),null):n}function OK(n,t){let e,i,r,s,o;if(EK(n)){let a=n.getAttribute("action");i=a?Ml(a,t):null,e=n.getAttribute("method")||tb,r=m_(n.getAttribute("enctype"))||nb,s=new FormData(n)}else if(CK(n)||SK(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(i=l?Ml(l,t):null,e=n.getAttribute("formmethod")||a.getAttribute("method")||tb,r=m_(n.getAttribute("formenctype"))||m_(a.getAttribute("enctype"))||nb,s=new FormData(a,n),!PK()){let{name:c,type:d,value:h}=n;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(sw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=tb,i=null,r=nb,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:s,body:o}}function UC(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function NK(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MK(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DK(n,t,e){let i=await Promise.all(n.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await NK(s,e);return o.links?o.links():[]}return[]}));return BK(i.flat(1).filter(MK).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function fI(n,t,e,i,r,s){let o=(l,c)=>e[c]?l.route.id!==e[c].route.id:!0,a=(l,c)=>{var d;return e[c].pathname!==l.pathname||((d=e[c].route.path)==null?void 0:d.endsWith("*"))&&e[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=e[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function LK(n,t){return VK(n.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function VK(n){return[...new Set(n)]}function FK(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function BK(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let s=JSON.stringify(FK(r));return e.has(s)||(e.add(s),i.push({key:s,link:r})),i},[])}function jK(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function zK(){let n=y.useContext(pf);return UC(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $K(){let n=y.useContext(iw);return UC(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var HC=y.createContext(void 0);HC.displayName="FrameworkContext";function I7(){let n=y.useContext(HC);return UC(n,"You must render this element inside a <HydratedRouter> element"),n}function UK(n,t){let e=y.useContext(HC),[i,r]=y.useState(!1),[s,o]=y.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,p=y.useRef(null);y.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let x=S=>{S.forEach(T=>{o(T.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[n]),y.useEffect(()=>{if(i){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[i]);let b=()=>{r(!0)},_=()=>{r(!1),o(!1)};return e?n!=="intent"?[s,p,{}]:[s,p,{onFocus:vh(a,b),onBlur:vh(l,_),onMouseEnter:vh(c,b),onMouseLeave:vh(d,_),onTouchStart:vh(h,b)}]:[!1,p,{}]}function vh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function HK({page:n,...t}){let{router:e}=zK(),i=y.useMemo(()=>v7(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?y.createElement(qK,{page:n,matches:i,...t}):null}function WK(n){let{manifest:t,routeModules:e}=I7(),[i,r]=y.useState([]);return y.useEffect(()=>{let s=!1;return DK(n,t,e).then(o=>{s||r(o)}),()=>{s=!0}},[n,t,e]),i}function qK({page:n,matches:t,...e}){let i=Da(),{manifest:r,routeModules:s}=I7(),{loaderData:o,matches:a}=$K(),l=y.useMemo(()=>fI(n,t,a,r,i,"data"),[n,t,a,r,i]),c=y.useMemo(()=>fI(n,t,a,r,i,"assets"),[n,t,a,r,i]),d=y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,_=!1;if(t.forEach(C=>{var T;let S=r.routes[C.route.id];!S||!S.hasLoader||(!l.some(A=>A.route.id===C.route.id)&&C.route.id in o&&((T=s[C.route.id])!=null&&T.shouldRevalidate)||S.hasClientLoader?_=!0:b.add(C.route.id))}),b.size===0)return[];let x=jK(n);return _&&b.size>0&&x.searchParams.set("_routes",t.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[o,i,r,l,t,n,s]),h=y.useMemo(()=>LK(c,r),[c,r]),p=WK(c);return y.createElement(y.Fragment,null,d.map(b=>y.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...e})),h.map(b=>y.createElement("link",{key:b,rel:"modulepreload",href:b,...e})),p.map(({key:b,link:_})=>y.createElement("link",{key:b,..._})))}function GK(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var P7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P7&&(window.__reactRouterVersion="7.1.5")}catch{}function KK({basename:n,children:t,window:e}){let i=y.useRef();i.current==null&&(i.current=NG({window:e,v5Compat:!0}));let r=i.current,[s,o]=y.useState({action:r.action,location:r.location}),a=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>r.listen(a),[r,a]),y.createElement(xK,{basename:n,children:t,location:s.location,navigationType:s.action,navigator:r})}var R7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=y.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...p},b){let{basename:_}=y.useContext(Vs),x=typeof c=="string"&&R7.test(c),C,S=!1;if(typeof c=="string"&&x&&(C=c,P7))try{let $=new URL(window.location.href),Z=c.startsWith("//")?new URL($.protocol+c):new URL(c),ge=Ml(Z.pathname,_);Z.origin===$.origin&&ge!=null?c=ge+Z.search+Z.hash:S=!0}catch{Xr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=sK(c,{relative:r}),[A,P,O]=UK(i,p),D=XK(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function R($){t&&t($),$.defaultPrevented||D($)}let j=y.createElement("a",{...p,...O,href:C||T,onClick:S||s?t:R,ref:GK(b,P),target:l,"data-discover":!x&&e==="render"?"true":void 0});return A&&!x?y.createElement(y.Fragment,null,j,y.createElement(HK,{page:T})):j});Pn.displayName="Link";var YK=y.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=mp(o,{relative:c.relative}),p=Da(),b=y.useContext(iw),{navigator:_,basename:x}=y.useContext(Vs),C=b!=null&&rY(h)&&a===!0,S=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,T=p.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(T=T.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&x&&(A=Ml(A,x)||A);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=T===S||!r&&T.startsWith(S)&&T.charAt(P)==="/",D=A!=null&&(A===S||!r&&A.startsWith(S)&&A.charAt(S.length)==="/"),R={isActive:O,isPending:D,isTransitioning:C},j=O?t:void 0,$;typeof i=="function"?$=i(R):$=[i,O?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Z=typeof s=="function"?s(R):s;return y.createElement(Pn,{...c,"aria-current":j,className:$,ref:d,style:Z,to:o,viewTransition:a},typeof l=="function"?l(R):l)});YK.displayName="NavLink";var ZK=y.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:s,method:o=tb,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...p},b)=>{let _=nY(),x=iY(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&R7.test(a),T=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||o;_(P||A.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:r,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return y.createElement("form",{ref:b,method:C,action:x,onSubmit:i?l:T,...p,"data-discover":!S&&n==="render"?"true":void 0})});ZK.displayName="Form";function JK(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O7(n){let t=y.useContext(pf);return gn(t,JK(n)),t}function XK(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=So(),l=Da(),c=mp(n,{relative:s});return y.useCallback(d=>{if(AK(d,t)){d.preventDefault();let h=e!==void 0?e:mm(l)===mm(c);a(n,{replace:h,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,e,i,t,n,r,s,o])}function QK(n){Xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(b2(n)),e=y.useRef(!1),i=Da(),r=y.useMemo(()=>IK(i.search,e.current?null:t.current),[i.search]),s=So(),o=y.useCallback((a,l)=>{const c=b2(typeof a=="function"?a(r):a);e.current=!0,s("?"+c,l)},[s,r]);return[r,o]}var eY=0,tY=()=>`__${String(++eY)}__`;function nY(){let{router:n}=O7("useSubmit"),{basename:t}=y.useContext(Vs),e=wK();return y.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=OK(i,t);if(r.navigate===!1){let d=r.fetcherKey||tY();await n.fetch(d,e,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function iY(n,{relative:t}={}){let{basename:e}=y.useContext(Vs),i=y.useContext(ts);gn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...mp(n||".",{relative:t})},o=Da();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(s.pathname=s.pathname==="/"?e:ha([e,s.pathname])),mm(s)}function rY(n,t={}){let e=y.useContext(k7);gn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=O7("useViewTransitionState"),r=mp(n,{relative:t.relative});if(!e.isTransitioning)return!1;let s=Ml(e.currentLocation.pathname,i)||e.currentLocation.pathname,o=Ml(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Nb(r.pathname,o)!=null||Nb(r.pathname,s)!=null}new TextEncoder;var hu=l7();const WC=fu(hu);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N7=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=y.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...oY,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:N7("lucide",r),...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=(n,t)=>{const e=y.forwardRef(({className:i,...r},s)=>y.createElement(aY,{ref:s,iconNode:t,className:N7(`lucide-${sY(n)}`,i),...r}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],M7=mu("Check",lY);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],D7=mu("ChevronDown",cY);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dY=mu("ChevronRight",uY);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hY=mu("ChevronUp",fY);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pY=mu("Circle",mY);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],bY=mu("PanelLeft",gY);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vY=mu("X",wY),p_=768;function yY(){const[n,t]=y.useState(void 0);return y.useEffect(()=>{const e=window.matchMedia(`(max-width: ${p_-1}px)`),i=()=>{t(window.innerWidth<p_)};return e.addEventListener("change",i),t(window.innerWidth<p_),()=>e.removeEventListener("change",i)},[]),!!n}const Gn=y.forwardRef(({className:n,type:t,...e},i)=>v.jsx("input",{type:t,className:Ie("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...e}));Gn.displayName="Input";var _Y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Li=_Y.reduce((n,t)=>{const e=y.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?Eo:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{});function xY(n,t){n&&hu.flushSync(()=>n.dispatchEvent(t))}var kY="Separator",hI="horizontal",CY=["horizontal","vertical"],L7=y.forwardRef((n,t)=>{const{decorative:e,orientation:i=hI,...r}=n,s=EY(i)?i:hI,a=e?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return v.jsx(Li.div,{"data-orientation":s,...a,...r,ref:t})});L7.displayName=kY;function EY(n){return CY.includes(n)}var V7=L7;const F7=y.forwardRef(({className:n,orientation:t="horizontal",decorative:e=!0,...i},r)=>v.jsx(V7,{ref:r,decorative:e,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...i}));F7.displayName=V7.displayName;function Le(n,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(n==null||n(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function SY(n,t){const e=y.createContext(t),i=s=>{const{children:o,...a}=s,l=y.useMemo(()=>a,Object.values(a));return v.jsx(e.Provider,{value:l,children:o})};i.displayName=n+"Provider";function r(s){const o=y.useContext(e);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[i,r]}function Fs(n,t=[]){let e=[];function i(s,o){const a=y.createContext(o),l=e.length;e=[...e,o];const c=h=>{var S;const{scope:p,children:b,..._}=h,x=((S=p==null?void 0:p[n])==null?void 0:S[l])||a,C=y.useMemo(()=>_,Object.values(_));return v.jsx(x.Provider,{value:C,children:b})};c.displayName=s+"Provider";function d(h,p){var x;const b=((x=p==null?void 0:p[n])==null?void 0:x[l])||a,_=y.useContext(b);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const r=()=>{const s=e.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return y.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,TY(r,...t)]}function TY(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}var Cn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},AY=Dq.useId||(()=>{}),IY=0;function lo(n){const[t,e]=y.useState(AY());return Cn(()=>{e(i=>i??String(IY++))},[n]),n||(t?`radix-${t}`:"")}function En(n){const t=y.useRef(n);return y.useEffect(()=>{t.current=n}),y.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}function Hd({prop:n,defaultProp:t,onChange:e=()=>{}}){const[i,r]=PY({defaultProp:t,onChange:e}),s=n!==void 0,o=s?n:i,a=En(e),l=y.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else r(c)},[s,n,r,a]);return[o,l]}function PY({defaultProp:n,onChange:t}){const e=y.useState(n),[i]=e,r=y.useRef(i),s=En(t);return y.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),e}function qC(n,t=globalThis==null?void 0:globalThis.document){const e=En(n);y.useEffect(()=>{const i=r=>{r.key==="Escape"&&e(r)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[e,t])}var RY="DismissableLayer",w2="dismissableLayer.update",OY="dismissableLayer.pointerDownOutside",NY="dismissableLayer.focusOutside",mI,B7=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GC=y.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=y.useContext(B7),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=y.useState({}),_=vt(t,R=>h(R)),x=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(C),T=d?x.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,P=T>=S,O=LY(R=>{const j=R.target,$=[...c.branches].some(Z=>Z.contains(j));!P||$||(r==null||r(R),o==null||o(R),R.defaultPrevented||a==null||a())},p),D=VY(R=>{const j=R.target;[...c.branches].some(Z=>Z.contains(j))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},p);return qC(R=>{T===c.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return e&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),pI(),()=>{e&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mI)}},[d,p,e,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),pI())},[d,c]),y.useEffect(()=>{const R=()=>b({});return document.addEventListener(w2,R),()=>document.removeEventListener(w2,R)},[]),v.jsx(Li.div,{...l,ref:_,style:{pointerEvents:A?P?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,D.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,O.onPointerDownCapture)})});GC.displayName=RY;var MY="DismissableLayerBranch",DY=y.forwardRef((n,t)=>{const e=y.useContext(B7),i=y.useRef(null),r=vt(t,i);return y.useEffect(()=>{const s=i.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),v.jsx(Li.div,{...n,ref:r})});DY.displayName=MY;function LY(n,t=globalThis==null?void 0:globalThis.document){const e=En(n),i=y.useRef(!1),r=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){j7(OY,e,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=l,t.addEventListener("click",r.current,{once:!0})):l()}else t.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function VY(n,t=globalThis==null?void 0:globalThis.document){const e=En(n),i=y.useRef(!1);return y.useEffect(()=>{const r=s=>{s.target&&!i.current&&j7(NY,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function pI(){const n=new CustomEvent(w2);document.dispatchEvent(n)}function j7(n,t,e,{discrete:i}){const r=e.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(n,t,{once:!0}),i?xY(r,s):r.dispatchEvent(s)}var g_="focusScope.autoFocusOnMount",b_="focusScope.autoFocusOnUnmount",gI={bubbles:!1,cancelable:!0},FY="FocusScope",z7=y.forwardRef((n,t)=>{const{loop:e=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[a,l]=y.useState(null),c=En(r),d=En(s),h=y.useRef(null),p=vt(t,x=>l(x)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(i){let x=function(A){if(b.paused||!a)return;const P=A.target;a.contains(P)?h.current=P:ml(h.current,{select:!0})},C=function(A){if(b.paused||!a)return;const P=A.relatedTarget;P!==null&&(a.contains(P)||ml(h.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&ml(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",C);const T=new MutationObserver(S);return a&&T.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",C),T.disconnect()}}},[i,a,b.paused]),y.useEffect(()=>{if(a){wI.add(b);const x=document.activeElement;if(!a.contains(x)){const S=new CustomEvent(g_,gI);a.addEventListener(g_,c),a.dispatchEvent(S),S.defaultPrevented||(BY(HY($7(a)),{select:!0}),document.activeElement===x&&ml(a))}return()=>{a.removeEventListener(g_,c),setTimeout(()=>{const S=new CustomEvent(b_,gI);a.addEventListener(b_,d),a.dispatchEvent(S),S.defaultPrevented||ml(x??document.body,{select:!0}),a.removeEventListener(b_,d),wI.remove(b)},0)}}},[a,c,d,b]);const _=y.useCallback(x=>{if(!e&&!i||b.paused)return;const C=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(C&&S){const T=x.currentTarget,[A,P]=jY(T);A&&P?!x.shiftKey&&S===P?(x.preventDefault(),e&&ml(A,{select:!0})):x.shiftKey&&S===A&&(x.preventDefault(),e&&ml(P,{select:!0})):S===T&&x.preventDefault()}},[e,i,b.paused]);return v.jsx(Li.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});z7.displayName=FY;function BY(n,{select:t=!1}={}){const e=document.activeElement;for(const i of n)if(ml(i,{select:t}),document.activeElement!==e)return}function jY(n){const t=$7(n),e=bI(t,n),i=bI(t.reverse(),n);return[e,i]}function $7(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function bI(n,t){for(const e of n)if(!zY(e,{upTo:t}))return e}function zY(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function $Y(n){return n instanceof HTMLInputElement&&"select"in n}function ml(n,{select:t=!1}={}){if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),n!==e&&$Y(n)&&t&&n.select()}}var wI=UY();function UY(){let n=[];return{add(t){const e=n[0];t!==e&&(e==null||e.pause()),n=vI(n,t),n.unshift(t)},remove(t){var e;n=vI(n,t),(e=n[0])==null||e.resume()}}}function vI(n,t){const e=[...n],i=e.indexOf(t);return i!==-1&&e.splice(i,1),e}function HY(n){return n.filter(t=>t.tagName!=="A")}var WY="Portal",KC=y.forwardRef((n,t)=>{var a;const{container:e,...i}=n,[r,s]=y.useState(!1);Cn(()=>s(!0),[]);const o=e||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?WC.createPortal(v.jsx(Li.div,{...i,ref:t}),o):null});KC.displayName=WY;function qY(n,t){return y.useReducer((e,i)=>t[e][i]??e,n)}var To=n=>{const{present:t,children:e}=n,i=GY(t),r=typeof e=="function"?e({present:i.isPresent}):y.Children.only(e),s=vt(i.ref,KY(r));return typeof e=="function"||i.isPresent?y.cloneElement(r,{ref:s}):null};To.displayName="Presence";function GY(n){const[t,e]=y.useState(),i=y.useRef({}),r=y.useRef(n),s=y.useRef("none"),o=n?"mounted":"unmounted",[a,l]=qY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=p0(i.current);s.current=a==="mounted"?c:"none"},[a]),Cn(()=>{const c=i.current,d=r.current;if(d!==n){const p=s.current,b=p0(c);n?l("MOUNT"):b==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),Cn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=b=>{const x=p0(i.current).includes(b.animationName);if(b.target===t&&x&&(l("ANIMATION_END"),!r.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},p=b=>{b.target===t&&(s.current=p0(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(i.current=getComputedStyle(c)),e(c)},[])}}function p0(n){return(n==null?void 0:n.animationName)||"none"}function KY(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var w_=0;function YC(){y.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??yI()),document.body.insertAdjacentElement("beforeend",n[1]??yI()),w_++,()=>{w_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),w_--}},[])}function yI(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ro=function(){return ro=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ro.apply(this,arguments)};function pp(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function pu(n,t,e,i){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(h){o(h)}}function l(d){try{c(i.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}function YY(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))}var ib="right-scroll-bar-position",rb="width-before-scroll-bar",ZY="with-scroll-bars-hidden",JY="--removed-body-scroll-bar-size";function v_(n,t){return typeof n=="function"?n(t):n&&(n.current=t),n}function XY(n,t){var e=y.useState(function(){return{value:n,callback:t,facade:{get current(){return e.value},set current(i){var r=e.value;r!==i&&(e.value=i,e.callback(i,r))}}}})[0];return e.callback=t,e.facade}var QY=typeof window<"u"?y.useLayoutEffect:y.useEffect,_I=new WeakMap;function eZ(n,t){var e=XY(null,function(i){return n.forEach(function(r){return v_(r,i)})});return QY(function(){var i=_I.get(e);if(i){var r=new Set(i),s=new Set(n),o=e.current;r.forEach(function(a){s.has(a)||v_(a,null)}),s.forEach(function(a){r.has(a)||v_(a,o)})}_I.set(e,n)},[n]),e}function tZ(n){return n}function nZ(n,t){t===void 0&&(t=tZ);var e=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:n},useMedium:function(s){var o=t(s,i);return e.push(o),function(){e=e.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;e.length;){var o=e;e=[],o.forEach(s)}e={push:function(a){return s(a)},filter:function(){return e}}},assignMedium:function(s){i=!0;var o=[];if(e.length){var a=e;e=[],a.forEach(s),o=e}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),e={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),e}}}};return r}function iZ(n){n===void 0&&(n={});var t=nZ(null);return t.options=ro({async:!0,ssr:!1},n),t}var U7=function(n){var t=n.sideCar,e=pp(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return y.createElement(i,ro({},e))};U7.isSideCarExport=!0;function rZ(n,t){return n.useMedium(t),U7}var H7=iZ(),y_=function(){},ow=y.forwardRef(function(n,t){var e=y.useRef(null),i=y.useState({onScrollCapture:y_,onWheelCapture:y_,onTouchMoveCapture:y_}),r=i[0],s=i[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,d=n.enabled,h=n.shards,p=n.sideCar,b=n.noIsolation,_=n.inert,x=n.allowPinchZoom,C=n.as,S=C===void 0?"div":C,T=n.gapMode,A=pp(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,O=eZ([e,t]),D=ro(ro({},A),r);return y.createElement(y.Fragment,null,d&&y.createElement(P,{sideCar:H7,removeScrollBar:c,shards:h,noIsolation:b,inert:_,setCallbacks:s,allowPinchZoom:!!x,lockRef:e,gapMode:T}),o?y.cloneElement(y.Children.only(a),ro(ro({},D),{ref:O})):y.createElement(S,ro({},D,{className:l,ref:O}),a))});ow.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ow.classNames={fullWidth:rb,zeroRight:ib};var sZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oZ(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var t=sZ();return t&&n.setAttribute("nonce",t),n}function aZ(n,t){n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}function lZ(n){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(n)}var cZ=function(){var n=0,t=null;return{add:function(e){n==0&&(t=oZ())&&(aZ(t,e),lZ(t)),n++},remove:function(){n--,!n&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uZ=function(){var n=cZ();return function(t,e){y.useEffect(function(){return n.add(t),function(){n.remove()}},[t&&e])}},W7=function(){var n=uZ(),t=function(e){var i=e.styles,r=e.dynamic;return n(i,r),null};return t},dZ={left:0,top:0,right:0,gap:0},__=function(n){return parseInt(n||"",10)||0},fZ=function(n){var t=window.getComputedStyle(document.body),e=t[n==="padding"?"paddingLeft":"marginLeft"],i=t[n==="padding"?"paddingTop":"marginTop"],r=t[n==="padding"?"paddingRight":"marginRight"];return[__(e),__(i),__(r)]},hZ=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return dZ;var t=fZ(n),e=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-e+t[2]-t[0])}},mZ=W7(),Od="data-scroll-locked",pZ=function(n,t,e,i){var r=n.left,s=n.top,o=n.right,a=n.gap;return e===void 0&&(e="margin"),`
  .`.concat(ZY,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(Od,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),e==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),e==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ib,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(rb,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(ib," .").concat(ib,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(rb," .").concat(rb,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Od,`] {
    `).concat(JY,": ").concat(a,`px;
  }
`)},xI=function(){var n=parseInt(document.body.getAttribute(Od)||"0",10);return isFinite(n)?n:0},gZ=function(){y.useEffect(function(){return document.body.setAttribute(Od,(xI()+1).toString()),function(){var n=xI()-1;n<=0?document.body.removeAttribute(Od):document.body.setAttribute(Od,n.toString())}},[])},bZ=function(n){var t=n.noRelative,e=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;gZ();var s=y.useMemo(function(){return hZ(r)},[r]);return y.createElement(mZ,{styles:pZ(s,!t,r,e?"":"!important")})},v2=!1;if(typeof window<"u")try{var g0=Object.defineProperty({},"passive",{get:function(){return v2=!0,!0}});window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{v2=!1}var id=v2?{passive:!1}:!1,wZ=function(n){return n.tagName==="TEXTAREA"},q7=function(n,t){if(!(n instanceof Element))return!1;var e=window.getComputedStyle(n);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!wZ(n)&&e[t]==="visible")},vZ=function(n){return q7(n,"overflowY")},yZ=function(n){return q7(n,"overflowX")},kI=function(n,t){var e=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=G7(n,i);if(r){var s=K7(n,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==e.body);return!1},_Z=function(n){var t=n.scrollTop,e=n.scrollHeight,i=n.clientHeight;return[t,e,i]},xZ=function(n){var t=n.scrollLeft,e=n.scrollWidth,i=n.clientWidth;return[t,e,i]},G7=function(n,t){return n==="v"?vZ(t):yZ(t)},K7=function(n,t){return n==="v"?_Z(t):xZ(t)},kZ=function(n,t){return n==="h"&&t==="rtl"?-1:1},CZ=function(n,t,e,i,r){var s=kZ(n,window.getComputedStyle(t).direction),o=s*i,a=e.target,l=t.contains(a),c=!1,d=o>0,h=0,p=0;do{var b=K7(n,a),_=b[0],x=b[1],C=b[2],S=x-C-s*_;(_||S)&&G7(n,a)&&(h+=S,p+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},b0=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},CI=function(n){return[n.deltaX,n.deltaY]},EI=function(n){return n&&"current"in n?n.current:n},EZ=function(n,t){return n[0]===t[0]&&n[1]===t[1]},SZ=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},TZ=0,rd=[];function AZ(n){var t=y.useRef([]),e=y.useRef([0,0]),i=y.useRef(),r=y.useState(TZ++)[0],s=y.useState(W7)[0],o=y.useRef(n);y.useEffect(function(){o.current=n},[n]),y.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var x=YY([n.lockRef.current],(n.shards||[]).map(EI),!0).filter(Boolean);return x.forEach(function(C){return C.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),x.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var a=y.useCallback(function(x,C){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var S=b0(x),T=e.current,A="deltaX"in x?x.deltaX:T[0]-S[0],P="deltaY"in x?x.deltaY:T[1]-S[1],O,D=x.target,R=Math.abs(A)>Math.abs(P)?"h":"v";if("touches"in x&&R==="h"&&D.type==="range")return!1;var j=kI(R,D);if(!j)return!0;if(j?O=R:(O=R==="v"?"h":"v",j=kI(R,D)),!j)return!1;if(!i.current&&"changedTouches"in x&&(A||P)&&(i.current=O),!O)return!0;var $=i.current||O;return CZ($,C,x,$==="h"?A:P)},[]),l=y.useCallback(function(x){var C=x;if(!(!rd.length||rd[rd.length-1]!==s)){var S="deltaY"in C?CI(C):b0(C),T=t.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&EZ(O.delta,S)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var A=(o.current.shards||[]).map(EI).filter(Boolean).filter(function(O){return O.contains(C.target)}),P=A.length>0?a(C,A[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),c=y.useCallback(function(x,C,S,T){var A={name:x,delta:C,target:S,should:T,shadowParent:IZ(S)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(P){return P!==A})},1)},[]),d=y.useCallback(function(x){e.current=b0(x),i.current=void 0},[]),h=y.useCallback(function(x){c(x.type,CI(x),x.target,a(x,n.lockRef.current))},[]),p=y.useCallback(function(x){c(x.type,b0(x),x.target,a(x,n.lockRef.current))},[]);y.useEffect(function(){return rd.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,id),document.addEventListener("touchmove",l,id),document.addEventListener("touchstart",d,id),function(){rd=rd.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,id),document.removeEventListener("touchmove",l,id),document.removeEventListener("touchstart",d,id)}},[]);var b=n.removeScrollBar,_=n.inert;return y.createElement(y.Fragment,null,_?y.createElement(s,{styles:SZ(r)}):null,b?y.createElement(bZ,{gapMode:n.gapMode}):null)}function IZ(n){for(var t=null;n!==null;)n instanceof ShadowRoot&&(t=n.host,n=n.host),n=n.parentNode;return t}const PZ=rZ(H7,AZ);var aw=y.forwardRef(function(n,t){return y.createElement(ow,ro({},n,{ref:t,sideCar:PZ}))});aw.classNames=ow.classNames;var RZ=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},sd=new WeakMap,w0=new WeakMap,v0={},x_=0,Y7=function(n){return n&&(n.host||Y7(n.parentNode))},OZ=function(n,t){return t.map(function(e){if(n.contains(e))return e;var i=Y7(e);return i&&n.contains(i)?i:(console.error("aria-hidden",e,"in not contained inside",n,". Doing nothing"),null)}).filter(function(e){return!!e})},NZ=function(n,t,e,i){var r=OZ(t,Array.isArray(n)?n:[n]);v0[e]||(v0[e]=new WeakMap);var s=v0[e],o=[],a=new Set,l=new Set(r),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};r.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var b=p.getAttribute(i),_=b!==null&&b!=="false",x=(sd.get(p)||0)+1,C=(s.get(p)||0)+1;sd.set(p,x),s.set(p,C),o.push(p),x===1&&_&&w0.set(p,!0),C===1&&p.setAttribute(e,"true"),_||p.setAttribute(i,"true")}catch(S){console.error("aria-hidden: cannot operate on ",p,S)}})};return d(t),a.clear(),x_++,function(){o.forEach(function(h){var p=sd.get(h)-1,b=s.get(h)-1;sd.set(h,p),s.set(h,b),p||(w0.has(h)||h.removeAttribute(i),w0.delete(h)),b||h.removeAttribute(e)}),x_--,x_||(sd=new WeakMap,sd=new WeakMap,w0=new WeakMap,v0={})}},ZC=function(n,t,e){e===void 0&&(e="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=RZ(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),NZ(i,r,e,"aria-hidden")):function(){return null}},JC="Dialog",[Z7,B9e]=Fs(JC),[MZ,Bs]=Z7(JC),J7=n=>{const{__scopeDialog:t,children:e,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=n,a=y.useRef(null),l=y.useRef(null),[c=!1,d]=Hd({prop:i,defaultProp:r,onChange:s});return v.jsx(MZ,{scope:t,triggerRef:a,contentRef:l,contentId:lo(),titleId:lo(),descriptionId:lo(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:e})};J7.displayName=JC;var X7="DialogTrigger",DZ=y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=Bs(X7,e),s=vt(t,r.triggerRef);return v.jsx(Li.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":eE(r.open),...i,ref:s,onClick:Le(n.onClick,r.onOpenToggle)})});DZ.displayName=X7;var XC="DialogPortal",[LZ,Q7]=Z7(XC,{forceMount:void 0}),eN=n=>{const{__scopeDialog:t,forceMount:e,children:i,container:r}=n,s=Bs(XC,t);return v.jsx(LZ,{scope:t,forceMount:e,children:y.Children.map(i,o=>v.jsx(To,{present:e||s.open,children:v.jsx(KC,{asChild:!0,container:r,children:o})}))})};eN.displayName=XC;var Mb="DialogOverlay",tN=y.forwardRef((n,t)=>{const e=Q7(Mb,n.__scopeDialog),{forceMount:i=e.forceMount,...r}=n,s=Bs(Mb,n.__scopeDialog);return s.modal?v.jsx(To,{present:i||s.open,children:v.jsx(VZ,{...r,ref:t})}):null});tN.displayName=Mb;var VZ=y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=Bs(Mb,e);return v.jsx(aw,{as:Eo,allowPinchZoom:!0,shards:[r.contentRef],children:v.jsx(Li.div,{"data-state":eE(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Wc="DialogContent",nN=y.forwardRef((n,t)=>{const e=Q7(Wc,n.__scopeDialog),{forceMount:i=e.forceMount,...r}=n,s=Bs(Wc,n.__scopeDialog);return v.jsx(To,{present:i||s.open,children:s.modal?v.jsx(FZ,{...r,ref:t}):v.jsx(BZ,{...r,ref:t})})});nN.displayName=Wc;var FZ=y.forwardRef((n,t)=>{const e=Bs(Wc,n.__scopeDialog),i=y.useRef(null),r=vt(t,e.contentRef,i);return y.useEffect(()=>{const s=i.current;if(s)return ZC(s)},[]),v.jsx(iN,{...n,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=e.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,s=>s.preventDefault())})}),BZ=y.forwardRef((n,t)=>{const e=Bs(Wc,n.__scopeDialog),i=y.useRef(!1),r=y.useRef(!1);return v.jsx(iN,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(i.current||(a=e.triggerRef.current)==null||a.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((c=e.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),iN=y.forwardRef((n,t)=>{const{__scopeDialog:e,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=n,a=Bs(Wc,e),l=y.useRef(null),c=vt(t,l);return YC(),v.jsxs(v.Fragment,{children:[v.jsx(z7,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:v.jsx(GC,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":eE(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(jZ,{titleId:a.titleId}),v.jsx($Z,{contentRef:l,descriptionId:a.descriptionId})]})]})}),QC="DialogTitle",rN=y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=Bs(QC,e);return v.jsx(Li.h2,{id:r.titleId,...i,ref:t})});rN.displayName=QC;var sN="DialogDescription",oN=y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=Bs(sN,e);return v.jsx(Li.p,{id:r.descriptionId,...i,ref:t})});oN.displayName=sN;var aN="DialogClose",lN=y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=Bs(aN,e);return v.jsx(Li.button,{type:"button",...i,ref:t,onClick:Le(n.onClick,()=>r.onOpenChange(!1))})});lN.displayName=aN;function eE(n){return n?"open":"closed"}var cN="DialogTitleWarning",[j9e,uN]=SY(cN,{contentName:Wc,titleName:QC,docsSlug:"dialog"}),jZ=({titleId:n})=>{const t=uN(cN),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{n&&(document.getElementById(n)||console.error(e))},[e,n]),null},zZ="DialogDescriptionWarning",$Z=({contentRef:n,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uN(zZ).contentName}}.`;return y.useEffect(()=>{var s;const r=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(i))},[i,n,t]),null},UZ=J7,HZ=eN,dN=tN,fN=nN,hN=rN,mN=oN,WZ=lN;const qZ=UZ,GZ=HZ,pN=y.forwardRef(({className:n,...t},e)=>v.jsx(dN,{className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...t,ref:e}));pN.displayName=dN.displayName;const KZ=fp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),gN=y.forwardRef(({side:n="right",className:t,children:e,...i},r)=>v.jsxs(GZ,{children:[v.jsx(pN,{}),v.jsxs(fN,{ref:r,className:Ie(KZ({side:n}),t),...i,children:[v.jsxs(WZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(vY,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]}),e]})]}));gN.displayName=fN.displayName;const bN=y.forwardRef(({className:n,...t},e)=>v.jsx(hN,{ref:e,className:Ie("text-lg font-semibold text-foreground",n),...t}));bN.displayName=hN.displayName;const wN=y.forwardRef(({className:n,...t},e)=>v.jsx(mN,{ref:e,className:Ie("text-sm text-muted-foreground",n),...t}));wN.displayName=mN.displayName;function SI({className:n,...t}){return v.jsx("div",{className:Ie("animate-pulse rounded-md bg-primary/10",n),...t})}const YZ=["top","right","bottom","left"],Dl=Math.min,Cr=Math.max,Db=Math.round,y0=Math.floor,co=n=>({x:n,y:n}),ZZ={left:"right",right:"left",bottom:"top",top:"bottom"},JZ={start:"end",end:"start"};function y2(n,t,e){return Cr(n,Dl(t,e))}function va(n,t){return typeof n=="function"?n(t):n}function ya(n){return n.split("-")[0]}function bf(n){return n.split("-")[1]}function tE(n){return n==="x"?"y":"x"}function nE(n){return n==="y"?"height":"width"}function Ll(n){return["top","bottom"].includes(ya(n))?"y":"x"}function iE(n){return tE(Ll(n))}function XZ(n,t,e){e===void 0&&(e=!1);const i=bf(n),r=iE(n),s=nE(r);let o=r==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Lb(o)),[o,Lb(o)]}function QZ(n){const t=Lb(n);return[_2(n),t,_2(t)]}function _2(n){return n.replace(/start|end/g,t=>JZ[t])}function eJ(n,t,e){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return e?t?r:i:t?i:r;case"left":case"right":return t?s:o;default:return[]}}function tJ(n,t,e,i){const r=bf(n);let s=eJ(ya(n),e==="start",i);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(_2)))),s}function Lb(n){return n.replace(/left|right|bottom|top/g,t=>ZZ[t])}function nJ(n){return{top:0,right:0,bottom:0,left:0,...n}}function vN(n){return typeof n!="number"?nJ(n):{top:n,right:n,bottom:n,left:n}}function Vb(n){const{x:t,y:e,width:i,height:r}=n;return{width:i,height:r,top:e,left:t,right:t+i,bottom:e+r,x:t,y:e}}function TI(n,t,e){let{reference:i,floating:r}=n;const s=Ll(t),o=iE(t),a=nE(o),l=ya(t),c=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let b;switch(l){case"top":b={x:d,y:i.y-r.height};break;case"bottom":b={x:d,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:h};break;case"left":b={x:i.x-r.width,y:h};break;default:b={x:i.x,y:i.y}}switch(bf(t)){case"start":b[o]-=p*(e&&c?-1:1);break;case"end":b[o]+=p*(e&&c?-1:1);break}return b}const iJ=async(n,t,e)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=e,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:n,floating:t,strategy:r}),{x:d,y:h}=TI(c,i,l),p=i,b={},_=0;for(let x=0;x<a.length;x++){const{name:C,fn:S}=a[x],{x:T,y:A,data:P,reset:O}=await S({x:d,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:b,rects:c,platform:o,elements:{reference:n,floating:t}});d=T??d,h=A??h,b={...b,[C]:{...b[C],...P}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:n,floating:t,strategy:r}):O.rects),{x:d,y:h}=TI(c,p,l)),x=-1)}return{x:d,y:h,placement:p,strategy:r,middlewareData:b}};async function pm(n,t){var e;t===void 0&&(t={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:b=0}=va(t,n),_=vN(b),C=a[p?h==="floating"?"reference":"floating":h],S=Vb(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(C)))==null||e?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),T=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},O=Vb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:T,offsetParent:A,strategy:l}):T);return{top:(S.top-O.top+_.top)/P.y,bottom:(O.bottom-S.bottom+_.bottom)/P.y,left:(S.left-O.left+_.left)/P.x,right:(O.right-S.right+_.right)/P.x}}const rJ=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=va(n,t)||{};if(c==null)return{};const h=vN(d),p={x:e,y:i},b=iE(r),_=nE(b),x=await o.getDimensions(c),C=b==="y",S=C?"top":"left",T=C?"bottom":"right",A=C?"clientHeight":"clientWidth",P=s.reference[_]+s.reference[b]-p[b]-s.floating[_],O=p[b]-s.reference[b],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=D?D[A]:0;(!R||!await(o.isElement==null?void 0:o.isElement(D)))&&(R=a.floating[A]||s.floating[_]);const j=P/2-O/2,$=R/2-x[_]/2-1,Z=Dl(h[S],$),ge=Dl(h[T],$),ee=Z,re=R-x[_]-ge,ne=R/2-x[_]/2+j,ve=y2(ee,ne,re),me=!l.arrow&&bf(r)!=null&&ne!==ve&&s.reference[_]/2-(ne<ee?Z:ge)-x[_]/2<0,fe=me?ne<ee?ne-ee:ne-re:0;return{[b]:p[b]+fe,data:{[b]:ve,centerOffset:ne-ve-fe,...me&&{alignmentOffset:fe}},reset:me}}}),sJ=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...C}=va(n,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const S=ya(r),T=Ll(a),A=ya(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=p||(A||!x?[Lb(a)]:QZ(a)),D=_!=="none";!p&&D&&O.push(...tJ(a,x,_,P));const R=[a,...O],j=await pm(t,C),$=[];let Z=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&$.push(j[S]),h){const ne=XZ(r,o,P);$.push(j[ne[0]],j[ne[1]])}if(Z=[...Z,{placement:r,overflows:$}],!$.every(ne=>ne<=0)){var ge,ee;const ne=(((ge=s.flip)==null?void 0:ge.index)||0)+1,ve=R[ne];if(ve)return{data:{index:ne,overflows:Z},reset:{placement:ve}};let me=(ee=Z.filter(fe=>fe.overflows[0]<=0).sort((fe,U)=>fe.overflows[1]-U.overflows[1])[0])==null?void 0:ee.placement;if(!me)switch(b){case"bestFit":{var re;const fe=(re=Z.filter(U=>{if(D){const K=Ll(U.placement);return K===T||K==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(K=>K>0).reduce((K,te)=>K+te,0)]).sort((U,K)=>U[1]-K[1])[0])==null?void 0:re[0];fe&&(me=fe);break}case"initialPlacement":me=a;break}if(r!==me)return{reset:{placement:me}}}return{}}}};function AI(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function II(n){return YZ.some(t=>n[t]>=0)}const oJ=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:i="referenceHidden",...r}=va(n,t);switch(i){case"referenceHidden":{const s=await pm(t,{...r,elementContext:"reference"}),o=AI(s,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:II(o)}}}case"escaped":{const s=await pm(t,{...r,altBoundary:!0}),o=AI(s,e.floating);return{data:{escapedOffsets:o,escaped:II(o)}}}default:return{}}}}};async function aJ(n,t){const{placement:e,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=ya(e),a=bf(e),l=Ll(e)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=va(t,n);let{mainAxis:p,crossAxis:b,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof _=="number"&&(b=a==="end"?_*-1:_),l?{x:b*d,y:p*c}:{x:p*c,y:b*d}}const lJ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:r,y:s,placement:o,middlewareData:a}=t,l=await aJ(t,n);return o===((e=a.offset)==null?void 0:e.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},cJ=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:r}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:S,y:T}=C;return{x:S,y:T}}},...l}=va(n,t),c={x:e,y:i},d=await pm(t,l),h=Ll(ya(r)),p=tE(h);let b=c[p],_=c[h];if(s){const C=p==="y"?"top":"left",S=p==="y"?"bottom":"right",T=b+d[C],A=b-d[S];b=y2(T,b,A)}if(o){const C=h==="y"?"top":"left",S=h==="y"?"bottom":"right",T=_+d[C],A=_-d[S];_=y2(T,_,A)}const x=a.fn({...t,[p]:b,[h]:_});return{...x,data:{x:x.x-e,y:x.y-i,enabled:{[p]:s,[h]:o}}}}}},uJ=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:i,placement:r,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=va(n,t),d={x:e,y:i},h=Ll(r),p=tE(h);let b=d[p],_=d[h];const x=va(a,t),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const A=p==="y"?"height":"width",P=s.reference[p]-s.floating[A]+C.mainAxis,O=s.reference[p]+s.reference[A]-C.mainAxis;b<P?b=P:b>O&&(b=O)}if(c){var S,T;const A=p==="y"?"width":"height",P=["top","left"].includes(ya(r)),O=s.reference[h]-s.floating[A]+(P&&((S=o.offset)==null?void 0:S[h])||0)+(P?0:C.crossAxis),D=s.reference[h]+s.reference[A]+(P?0:((T=o.offset)==null?void 0:T[h])||0)-(P?C.crossAxis:0);_<O?_=O:_>D&&(_=D)}return{[p]:b,[h]:_}}}},dJ=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:r,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=va(n,t),d=await pm(t,c),h=ya(r),p=bf(r),b=Ll(r)==="y",{width:_,height:x}=s.floating;let C,S;h==="top"||h==="bottom"?(C=h,S=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=h,C=p==="end"?"top":"bottom");const T=x-d.top-d.bottom,A=_-d.left-d.right,P=Dl(x-d[C],T),O=Dl(_-d[S],A),D=!t.middlewareData.shift;let R=P,j=O;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(j=A),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(R=T),D&&!p){const Z=Cr(d.left,0),ge=Cr(d.right,0),ee=Cr(d.top,0),re=Cr(d.bottom,0);b?j=_-2*(Z!==0||ge!==0?Z+ge:Cr(d.left,d.right)):R=x-2*(ee!==0||re!==0?ee+re:Cr(d.top,d.bottom))}await l({...t,availableWidth:j,availableHeight:R});const $=await o.getDimensions(a.floating);return _!==$.width||x!==$.height?{reset:{rects:!0}}:{}}}};function lw(){return typeof window<"u"}function wf(n){return yN(n)?(n.nodeName||"").toLowerCase():"#document"}function Ir(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Ao(n){var t;return(t=(yN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function yN(n){return lw()?n instanceof Node||n instanceof Ir(n).Node:!1}function Ts(n){return lw()?n instanceof Element||n instanceof Ir(n).Element:!1}function po(n){return lw()?n instanceof HTMLElement||n instanceof Ir(n).HTMLElement:!1}function PI(n){return!lw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ir(n).ShadowRoot}function gp(n){const{overflow:t,overflowX:e,overflowY:i,display:r}=As(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!["inline","contents"].includes(r)}function fJ(n){return["table","td","th"].includes(wf(n))}function cw(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function rE(n){const t=sE(),e=Ts(n)?As(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(e.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(e.contain||"").includes(i))}function hJ(n){let t=Vl(n);for(;po(t)&&!Wd(t);){if(rE(t))return t;if(cw(t))return null;t=Vl(t)}return null}function sE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wd(n){return["html","body","#document"].includes(wf(n))}function As(n){return Ir(n).getComputedStyle(n)}function uw(n){return Ts(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Vl(n){if(wf(n)==="html")return n;const t=n.assignedSlot||n.parentNode||PI(n)&&n.host||Ao(n);return PI(t)?t.host:t}function _N(n){const t=Vl(n);return Wd(t)?n.ownerDocument?n.ownerDocument.body:n.body:po(t)&&gp(t)?t:_N(t)}function gm(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=_N(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=Ir(r);if(s){const a=x2(o);return t.concat(o,o.visualViewport||[],gp(r)?r:[],a&&e?gm(a):[])}return t.concat(r,gm(r,[],e))}function x2(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function xN(n){const t=As(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=po(n),s=r?n.offsetWidth:e,o=r?n.offsetHeight:i,a=Db(e)!==s||Db(i)!==o;return a&&(e=s,i=o),{width:e,height:i,$:a}}function oE(n){return Ts(n)?n:n.contextElement}function Nd(n){const t=oE(n);if(!po(t))return co(1);const e=t.getBoundingClientRect(),{width:i,height:r,$:s}=xN(t);let o=(s?Db(e.width):e.width)/i,a=(s?Db(e.height):e.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mJ=co(0);function kN(n){const t=Ir(n);return!sE()||!t.visualViewport?mJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pJ(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==Ir(n)?!1:t}function qc(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=n.getBoundingClientRect(),s=oE(n);let o=co(1);t&&(i?Ts(i)&&(o=Nd(i)):o=Nd(n));const a=pJ(s,e,i)?kN(s):co(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(s){const p=Ir(s),b=i&&Ts(i)?Ir(i):i;let _=p,x=x2(_);for(;x&&i&&b!==_;){const C=Nd(x),S=x.getBoundingClientRect(),T=As(x),A=S.left+(x.clientLeft+parseFloat(T.paddingLeft))*C.x,P=S.top+(x.clientTop+parseFloat(T.paddingTop))*C.y;l*=C.x,c*=C.y,d*=C.x,h*=C.y,l+=A,c+=P,_=Ir(x),x=x2(_)}}return Vb({width:d,height:h,x:l,y:c})}function aE(n,t){const e=uw(n).scrollLeft;return t?t.left+e:qc(Ao(n)).left+e}function CN(n,t,e){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),r=i.left+t.scrollLeft-(e?0:aE(n,i)),s=i.top+t.scrollTop;return{x:r,y:s}}function gJ(n){let{elements:t,rect:e,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=Ao(i),a=t?cw(t.floating):!1;if(i===o||a&&s)return e;let l={scrollLeft:0,scrollTop:0},c=co(1);const d=co(0),h=po(i);if((h||!h&&!s)&&((wf(i)!=="body"||gp(o))&&(l=uw(i)),po(i))){const b=qc(i);c=Nd(i),d.x=b.x+i.clientLeft,d.y=b.y+i.clientTop}const p=o&&!h&&!s?CN(o,l,!0):co(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:e.y*c.y-l.scrollTop*c.y+d.y+p.y}}function bJ(n){return Array.from(n.getClientRects())}function wJ(n){const t=Ao(n),e=uw(n),i=n.ownerDocument.body,r=Cr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Cr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-e.scrollLeft+aE(n);const a=-e.scrollTop;return As(i).direction==="rtl"&&(o+=Cr(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function vJ(n,t){const e=Ir(n),i=Ao(n),r=e.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=sE();(!c||c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function yJ(n,t){const e=qc(n,!0,t==="fixed"),i=e.top+n.clientTop,r=e.left+n.clientLeft,s=po(n)?Nd(n):co(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function RI(n,t,e){let i;if(t==="viewport")i=vJ(n,e);else if(t==="document")i=wJ(Ao(n));else if(Ts(t))i=yJ(t,e);else{const r=kN(n);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Vb(i)}function EN(n,t){const e=Vl(n);return e===t||!Ts(e)||Wd(e)?!1:As(e).position==="fixed"||EN(e,t)}function _J(n,t){const e=t.get(n);if(e)return e;let i=gm(n,[],!1).filter(a=>Ts(a)&&wf(a)!=="body"),r=null;const s=As(n).position==="fixed";let o=s?Vl(n):n;for(;Ts(o)&&!Wd(o);){const a=As(o),l=rE(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||gp(o)&&!l&&EN(n,o))?i=i.filter(d=>d!==o):r=a,o=Vl(o)}return t.set(n,i),i}function xJ(n){let{element:t,boundary:e,rootBoundary:i,strategy:r}=n;const o=[...e==="clippingAncestors"?cw(t)?[]:_J(t,this._c):[].concat(e),i],a=o[0],l=o.reduce((c,d)=>{const h=RI(t,d,r);return c.top=Cr(h.top,c.top),c.right=Dl(h.right,c.right),c.bottom=Dl(h.bottom,c.bottom),c.left=Cr(h.left,c.left),c},RI(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kJ(n){const{width:t,height:e}=xN(n);return{width:t,height:e}}function CJ(n,t,e){const i=po(t),r=Ao(t),s=e==="fixed",o=qc(n,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=co(0);if(i||!i&&!s)if((wf(t)!=="body"||gp(r))&&(a=uw(t)),i){const p=qc(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else r&&(l.x=aE(r));const c=r&&!i&&!s?CN(r,a):co(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function k_(n){return As(n).position==="static"}function OI(n,t){if(!po(n)||As(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Ao(n)===e&&(e=e.ownerDocument.body),e}function SN(n,t){const e=Ir(n);if(cw(n))return e;if(!po(n)){let r=Vl(n);for(;r&&!Wd(r);){if(Ts(r)&&!k_(r))return r;r=Vl(r)}return e}let i=OI(n,t);for(;i&&fJ(i)&&k_(i);)i=OI(i,t);return i&&Wd(i)&&k_(i)&&!rE(i)?e:i||hJ(n)||e}const EJ=async function(n){const t=this.getOffsetParent||SN,e=this.getDimensions,i=await e(n.floating);return{reference:CJ(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function SJ(n){return As(n).direction==="rtl"}const TJ={convertOffsetParentRelativeRectToViewportRelativeRect:gJ,getDocumentElement:Ao,getClippingRect:xJ,getOffsetParent:SN,getElementRects:EJ,getClientRects:bJ,getDimensions:kJ,getScale:Nd,isElement:Ts,isRTL:SJ};function TN(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function AJ(n,t){let e=null,i;const r=Ao(n);function s(){var a;clearTimeout(i),(a=e)==null||a.disconnect(),e=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:d,top:h,width:p,height:b}=c;if(a||t(),!p||!b)return;const _=y0(h),x=y0(r.clientWidth-(d+p)),C=y0(r.clientHeight-(h+b)),S=y0(d),A={rootMargin:-_+"px "+-x+"px "+-C+"px "+-S+"px",threshold:Cr(0,Dl(1,l))||1};let P=!0;function O(D){const R=D[0].intersectionRatio;if(R!==l){if(!P)return o();R?o(!1,R):i=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!TN(c,n.getBoundingClientRect())&&o(),P=!1}try{e=new IntersectionObserver(O,{...A,root:r.ownerDocument})}catch{e=new IntersectionObserver(O,A)}e.observe(n)}return o(!0),s}function lE(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=oE(n),d=r||s?[...c?gm(c):[],...gm(t)]:[];d.forEach(S=>{r&&S.addEventListener("scroll",e,{passive:!0}),s&&S.addEventListener("resize",e)});const h=c&&a?AJ(c,e):null;let p=-1,b=null;o&&(b=new ResizeObserver(S=>{let[T]=S;T&&T.target===c&&b&&(b.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),e()}),c&&!l&&b.observe(c),b.observe(t));let _,x=l?qc(n):null;l&&C();function C(){const S=qc(n);x&&!TN(x,S)&&e(),x=S,_=requestAnimationFrame(C)}return e(),()=>{var S;d.forEach(T=>{r&&T.removeEventListener("scroll",e),s&&T.removeEventListener("resize",e)}),h==null||h(),(S=b)==null||S.disconnect(),b=null,l&&cancelAnimationFrame(_)}}const IJ=lJ,PJ=cJ,RJ=sJ,OJ=dJ,NJ=oJ,NI=rJ,MJ=uJ,DJ=(n,t,e)=>{const i=new Map,r={platform:TJ,...e},s={...r.platform,_c:i};return iJ(n,t,{...r,platform:s})};var sb=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Fb(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,i,r;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(i=e;i--!==0;)if(!Fb(n[i],t[i]))return!1;return!0}if(r=Object.keys(n),e=r.length,e!==Object.keys(t).length)return!1;for(i=e;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=e;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!Fb(n[s],t[s]))return!1}return!0}return n!==n&&t!==t}function AN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function MI(n,t){const e=AN(n);return Math.round(t*e)/e}function C_(n){const t=y.useRef(n);return sb(()=>{t.current=n}),t}function cE(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,h]=y.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[p,b]=y.useState(i);Fb(p,i)||b(i);const[_,x]=y.useState(null),[C,S]=y.useState(null),T=y.useCallback(U=>{U!==D.current&&(D.current=U,x(U))},[]),A=y.useCallback(U=>{U!==R.current&&(R.current=U,S(U))},[]),P=s||_,O=o||C,D=y.useRef(null),R=y.useRef(null),j=y.useRef(d),$=l!=null,Z=C_(l),ge=C_(r),ee=C_(c),re=y.useCallback(()=>{if(!D.current||!R.current)return;const U={placement:t,strategy:e,middleware:p};ge.current&&(U.platform=ge.current),DJ(D.current,R.current,U).then(K=>{const te={...K,isPositioned:ee.current!==!1};ne.current&&!Fb(j.current,te)&&(j.current=te,hu.flushSync(()=>{h(te)}))})},[p,t,e,ge,ee]);sb(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[c]);const ne=y.useRef(!1);sb(()=>(ne.current=!0,()=>{ne.current=!1}),[]),sb(()=>{if(P&&(D.current=P),O&&(R.current=O),P&&O){if(Z.current)return Z.current(P,O,re);re()}},[P,O,re,Z,$]);const ve=y.useMemo(()=>({reference:D,floating:R,setReference:T,setFloating:A}),[T,A]),me=y.useMemo(()=>({reference:P,floating:O}),[P,O]),fe=y.useMemo(()=>{const U={position:e,left:0,top:0};if(!me.floating)return U;const K=MI(me.floating,d.x),te=MI(me.floating,d.y);return a?{...U,transform:"translate("+K+"px, "+te+"px)",...AN(me.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:K,top:te}},[e,a,me.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:re,refs:ve,elements:me,floatingStyles:fe}),[d,re,ve,me,fe])}const LJ=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:i,padding:r}=typeof n=="function"?n(e):n;return i&&t(i)?i.current!=null?NI({element:i.current,padding:r}).fn(e):{}:i?NI({element:i,padding:r}).fn(e):{}}}},uE=(n,t)=>({...IJ(n),options:[n,t]}),dE=(n,t)=>({...PJ(n),options:[n,t]}),fE=(n,t)=>({...MJ(n),options:[n,t]}),hE=(n,t)=>({...RJ(n),options:[n,t]}),mE=(n,t)=>({...OJ(n),options:[n,t]}),pE=(n,t)=>({...NJ(n),options:[n,t]}),gE=(n,t)=>({...LJ(n),options:[n,t]});var VJ="Arrow",IN=y.forwardRef((n,t)=>{const{children:e,width:i=10,height:r=5,...s}=n;return v.jsx(Li.svg,{...s,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});IN.displayName=VJ;var FJ=IN;function bE(n){const[t,e]=y.useState(void 0);return Cn(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;e({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else e(void 0)},[n]),t}var wE="Popper",[PN,RN]=Fs(wE),[BJ,ON]=PN(wE),NN=n=>{const{__scopePopper:t,children:e}=n,[i,r]=y.useState(null);return v.jsx(BJ,{scope:t,anchor:i,onAnchorChange:r,children:e})};NN.displayName=wE;var MN="PopperAnchor",DN=y.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...r}=n,s=ON(MN,e),o=y.useRef(null),a=vt(t,o);return y.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:v.jsx(Li.div,{...r,ref:a})});DN.displayName=MN;var vE="PopperContent",[jJ,zJ]=PN(vE),LN=y.forwardRef((n,t)=>{var ce,Te,De,Ze,st,at;const{__scopePopper:e,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:b="optimized",onPlaced:_,...x}=n,C=ON(vE,e),[S,T]=y.useState(null),A=vt(t,_t=>T(_t)),[P,O]=y.useState(null),D=bE(P),R=(D==null?void 0:D.width)??0,j=(D==null?void 0:D.height)??0,$=i+(s!=="center"?"-"+s:""),Z=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},ge=Array.isArray(c)?c:[c],ee=ge.length>0,re={padding:Z,boundary:ge.filter(UJ),altBoundary:ee},{refs:ne,floatingStyles:ve,placement:me,isPositioned:fe,middlewareData:U}=cE({strategy:"fixed",placement:$,whileElementsMounted:(..._t)=>lE(..._t,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[uE({mainAxis:r+j,alignmentAxis:o}),l&&dE({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fE():void 0,...re}),l&&hE({...re}),mE({...re,apply:({elements:_t,rects:Xt,availableWidth:xi,availableHeight:ki})=>{const{width:On,height:F}=Xt.reference,H=_t.floating.style;H.setProperty("--radix-popper-available-width",`${xi}px`),H.setProperty("--radix-popper-available-height",`${ki}px`),H.setProperty("--radix-popper-anchor-width",`${On}px`),H.setProperty("--radix-popper-anchor-height",`${F}px`)}}),P&&gE({element:P,padding:a}),HJ({arrowWidth:R,arrowHeight:j}),p&&pE({strategy:"referenceHidden",...re})]}),[K,te]=BN(me),V=En(_);Cn(()=>{fe&&(V==null||V())},[fe,V]);const J=(ce=U.arrow)==null?void 0:ce.x,We=(Te=U.arrow)==null?void 0:Te.y,Ve=((De=U.arrow)==null?void 0:De.centerOffset)!==0,[Xe,Fe]=y.useState();return Cn(()=>{S&&Fe(window.getComputedStyle(S).zIndex)},[S]),v.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:fe?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(Ze=U.transformOrigin)==null?void 0:Ze.x,(st=U.transformOrigin)==null?void 0:st.y].join(" "),...((at=U.hide)==null?void 0:at.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(jJ,{scope:e,placedSide:K,onArrowChange:O,arrowX:J,arrowY:We,shouldHideArrow:Ve,children:v.jsx(Li.div,{"data-side":K,"data-align":te,...x,ref:A,style:{...x.style,animation:fe?void 0:"none"}})})})});LN.displayName=vE;var VN="PopperArrow",$J={top:"bottom",right:"left",bottom:"top",left:"right"},FN=y.forwardRef(function(t,e){const{__scopePopper:i,...r}=t,s=zJ(VN,i),o=$J[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(FJ,{...r,ref:e,style:{...r.style,display:"block"}})})});FN.displayName=VN;function UJ(n){return n!==null}var HJ=n=>({name:"transformOrigin",options:n,fn(t){var C,S,T;const{placement:e,rects:i,middlewareData:r}=t,o=((C=r.arrow)==null?void 0:C.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,d]=BN(e),h={start:"0%",center:"50%",end:"100%"}[d],p=(((S=r.arrow)==null?void 0:S.x)??0)+a/2,b=(((T=r.arrow)==null?void 0:T.y)??0)+l/2;let _="",x="";return c==="bottom"?(_=o?h:`${p}px`,x=`${-l}px`):c==="top"?(_=o?h:`${p}px`,x=`${i.floating.height+l}px`):c==="right"?(_=`${-l}px`,x=o?h:`${b}px`):c==="left"&&(_=`${i.floating.width+l}px`,x=o?h:`${b}px`),{data:{x:_,y:x}}}});function BN(n){const[t,e="center"]=n.split("-");return[t,e]}var WJ=NN,qJ=DN,GJ=LN,KJ=FN,YJ="VisuallyHidden",jN=y.forwardRef((n,t)=>v.jsx(Li.span,{...n,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));jN.displayName=YJ;var ZJ=jN,[dw,z9e]=Fs("Tooltip",[RN]),fw=RN(),zN="TooltipProvider",JJ=700,k2="tooltip.open",[XJ,yE]=dw(zN),$N=n=>{const{__scopeTooltip:t,delayDuration:e=JJ,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,[o,a]=y.useState(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),v.jsx(XJ,{scope:t,isOpenDelayed:o,delayDuration:e,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:s})};$N.displayName=zN;var hw="Tooltip",[QJ,bp]=dw(hw),UN=n=>{const{__scopeTooltip:t,children:e,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=yE(hw,n.__scopeTooltip),c=fw(t),[d,h]=y.useState(null),p=lo(),b=y.useRef(0),_=o??l.disableHoverableContent,x=a??l.delayDuration,C=y.useRef(!1),[S=!1,T]=Hd({prop:i,defaultProp:r,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(k2))):l.onClose(),s==null||s(R)}}),A=y.useMemo(()=>S?C.current?"delayed-open":"instant-open":"closed",[S]),P=y.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C.current=!1,T(!0)},[T]),O=y.useCallback(()=>{window.clearTimeout(b.current),b.current=0,T(!1)},[T]),D=y.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{C.current=!0,T(!0),b.current=0},x)},[x,T]);return y.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),v.jsx(WJ,{...c,children:v.jsx(QJ,{scope:t,contentId:p,open:S,stateAttribute:A,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayed?D():P()},[l.isOpenDelayed,D,P]),onTriggerLeave:y.useCallback(()=>{_?O():(window.clearTimeout(b.current),b.current=0)},[O,_]),onOpen:P,onClose:O,disableHoverableContent:_,children:e})})};UN.displayName=hw;var C2="TooltipTrigger",HN=y.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,r=bp(C2,e),s=yE(C2,e),o=fw(e),a=y.useRef(null),l=vt(t,a,r.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),v.jsx(qJ,{asChild:!0,...o,children:v.jsx(Li.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:Le(n.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:Le(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Le(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:Le(n.onBlur,r.onClose),onClick:Le(n.onClick,r.onClose)})})});HN.displayName=C2;var _E="TooltipPortal",[eX,tX]=dw(_E,{forceMount:void 0}),WN=n=>{const{__scopeTooltip:t,forceMount:e,children:i,container:r}=n,s=bp(_E,t);return v.jsx(eX,{scope:t,forceMount:e,children:v.jsx(To,{present:e||s.open,children:v.jsx(KC,{asChild:!0,container:r,children:i})})})};WN.displayName=_E;var qd="TooltipContent",qN=y.forwardRef((n,t)=>{const e=tX(qd,n.__scopeTooltip),{forceMount:i=e.forceMount,side:r="top",...s}=n,o=bp(qd,n.__scopeTooltip);return v.jsx(To,{present:i||o.open,children:o.disableHoverableContent?v.jsx(GN,{side:r,...s,ref:t}):v.jsx(nX,{side:r,...s,ref:t})})}),nX=y.forwardRef((n,t)=>{const e=bp(qd,n.__scopeTooltip),i=yE(qd,n.__scopeTooltip),r=y.useRef(null),s=vt(t,r),[o,a]=y.useState(null),{trigger:l,onClose:c}=e,d=r.current,{onPointerInTransitChange:h}=i,p=y.useCallback(()=>{a(null),h(!1)},[h]),b=y.useCallback((_,x)=>{const C=_.currentTarget,S={x:_.clientX,y:_.clientY},T=oX(S,C.getBoundingClientRect()),A=aX(S,T),P=lX(x.getBoundingClientRect()),O=uX([...A,...P]);a(O),h(!0)},[h]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const _=C=>b(C,d),x=C=>b(C,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",x)}}},[l,d,b,p]),y.useEffect(()=>{if(o){const _=x=>{const C=x.target,S={x:x.clientX,y:x.clientY},T=(l==null?void 0:l.contains(C))||(d==null?void 0:d.contains(C)),A=!cX(S,o);T?p():A&&(p(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,p]),v.jsx(GN,{...n,ref:s})}),[iX,rX]=dw(hw,{isInside:!1}),GN=y.forwardRef((n,t)=>{const{__scopeTooltip:e,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=bp(qd,e),c=fw(e),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(k2,d),()=>document.removeEventListener(k2,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=p=>{const b=p.target;b!=null&&b.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),v.jsx(GC,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:v.jsxs(GJ,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(c7,{children:i}),v.jsx(iX,{scope:e,isInside:!0,children:v.jsx(ZJ,{id:l.contentId,role:"tooltip",children:r||i})})]})})});qN.displayName=qd;var KN="TooltipArrow",sX=y.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,r=fw(e);return rX(KN,e).isInside?null:v.jsx(KJ,{...r,...i,ref:t})});sX.displayName=KN;function oX(n,t){const e=Math.abs(t.top-n.y),i=Math.abs(t.bottom-n.y),r=Math.abs(t.right-n.x),s=Math.abs(t.left-n.x);switch(Math.min(e,i,r,s)){case s:return"left";case r:return"right";case e:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function aX(n,t,e=5){const i=[];switch(t){case"top":i.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":i.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":i.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":i.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return i}function lX(n){const{top:t,right:e,bottom:i,left:r}=n;return[{x:r,y:t},{x:e,y:t},{x:e,y:i},{x:r,y:i}]}function cX(n,t){const{x:e,y:i}=n;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,d=t[o].y;l>i!=d>i&&e<(c-a)*(i-l)/(d-l)+a&&(r=!r)}return r}function uX(n){const t=n.slice();return t.sort((e,i)=>e.x<i.x?-1:e.x>i.x?1:e.y<i.y?-1:e.y>i.y?1:0),dX(t)}function dX(n){if(n.length<=1)return n.slice();const t=[];for(let i=0;i<n.length;i++){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const e=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var fX=$N,hX=UN,mX=HN,pX=WN,YN=qN;const gX=fX,bX=hX,wX=mX,ZN=y.forwardRef(({className:n,sideOffset:t=4,...e},i)=>v.jsx(pX,{children:v.jsx(YN,{ref:i,sideOffset:t,className:Ie("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e})}));ZN.displayName=YN.displayName;const vX="sidebar:state",yX=60*60*24*7,_X="16rem",xX="18rem",kX="3rem",CX="b",JN=y.createContext(null);function wp(){const n=y.useContext(JN);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}const XN=y.forwardRef(({defaultOpen:n=!0,open:t,onOpenChange:e,className:i,style:r,children:s,...o},a)=>{const l=yY(),[c,d]=y.useState(!1),[h,p]=y.useState(n),b=t??h,_=y.useCallback(T=>{const A=typeof T=="function"?T(b):T;e?e(A):p(A),document.cookie=`${vX}=${A}; path=/; max-age=${yX}`},[e,b]),x=y.useCallback(()=>l?d(T=>!T):_(T=>!T),[l,_,d]);y.useEffect(()=>{const T=A=>{A.key===CX&&(A.metaKey||A.ctrlKey)&&(A.preventDefault(),x())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[x]);const C=b?"expanded":"collapsed",S=y.useMemo(()=>({state:C,open:b,setOpen:_,isMobile:l,openMobile:c,setOpenMobile:d,toggleSidebar:x}),[C,b,_,l,c,d,x]);return v.jsx(JN.Provider,{value:S,children:v.jsx(gX,{delayDuration:0,children:v.jsx("div",{style:{"--sidebar-width":_X,"--sidebar-width-icon":kX,...r},className:Ie("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",i),ref:a,...o,children:s})})})});XN.displayName="SidebarProvider";const QN=y.forwardRef(({side:n="left",variant:t="sidebar",collapsible:e="offcanvas",className:i,children:r,...s},o)=>{const{isMobile:a,state:l,openMobile:c,setOpenMobile:d}=wp();return e==="none"?v.jsx("div",{className:Ie("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:o,...s,children:r}):a?v.jsxs(qZ,{open:c,onOpenChange:d,...s,children:[v.jsx(bN,{className:"hidden"}),v.jsx(wN,{className:"hidden"}),v.jsx(gN,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":xX},side:n,children:v.jsx("div",{className:"flex h-full w-full flex-col",children:r})})]}):v.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?e:"","data-variant":t,"data-side":n,children:[v.jsx("div",{className:Ie("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),v.jsx("div",{className:Ie("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...s,children:v.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});QN.displayName="Sidebar";const EX=y.forwardRef(({className:n,onClick:t,...e},i)=>{const{toggleSidebar:r}=wp();return v.jsxs(Bn,{ref:i,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ie("h-7 w-7",n),onClick:s=>{t==null||t(s),r()},...e,children:[v.jsx(bY,{}),v.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});EX.displayName="SidebarTrigger";const SX=y.forwardRef(({className:n,...t},e)=>{const{toggleSidebar:i}=wp();return v.jsx("button",{ref:e,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:i,title:"Toggle Sidebar",className:Ie("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...t})});SX.displayName="SidebarRail";const TX=y.forwardRef(({className:n,...t},e)=>v.jsx("main",{ref:e,className:Ie("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n),...t}));TX.displayName="SidebarInset";const AX=y.forwardRef(({className:n,...t},e)=>v.jsx(Gn,{ref:e,"data-sidebar":"input",className:Ie("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n),...t}));AX.displayName="SidebarInput";const eM=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,"data-sidebar":"header",className:Ie("flex flex-col gap-2 p-2",n),...t}));eM.displayName="SidebarHeader";const IX=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,"data-sidebar":"footer",className:Ie("flex flex-col gap-2 p-2",n),...t}));IX.displayName="SidebarFooter";const PX=y.forwardRef(({className:n,...t},e)=>v.jsx(F7,{ref:e,"data-sidebar":"separator",className:Ie("mx-2 w-auto bg-sidebar-border",n),...t}));PX.displayName="SidebarSeparator";const tM=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,"data-sidebar":"content",className:Ie("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...t}));tM.displayName="SidebarContent";const E2=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,"data-sidebar":"group",className:Ie("relative flex w-full min-w-0 flex-col p-2",n),...t}));E2.displayName="SidebarGroup";const nM=y.forwardRef(({className:n,asChild:t=!1,...e},i)=>{const r=t?Eo:"div";return v.jsx(r,{ref:i,"data-sidebar":"group-label",className:Ie("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...e})});nM.displayName="SidebarGroupLabel";const RX=y.forwardRef(({className:n,asChild:t=!1,...e},i)=>{const r=t?Eo:"button";return v.jsx(r,{ref:i,"data-sidebar":"group-action",className:Ie("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n),...e})});RX.displayName="SidebarGroupAction";const OX=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,"data-sidebar":"group-content",className:Ie("w-full text-sm",n),...t}));OX.displayName="SidebarGroupContent";const S2=y.forwardRef(({className:n,...t},e)=>v.jsx("ul",{ref:e,"data-sidebar":"menu",className:Ie("flex w-full min-w-0 flex-col gap-1",n),...t}));S2.displayName="SidebarMenu";const Ac=y.forwardRef(({className:n,...t},e)=>v.jsx("li",{ref:e,"data-sidebar":"menu-item",className:Ie("group/menu-item relative",n),...t}));Ac.displayName="SidebarMenuItem";const NX=fp("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ic=y.forwardRef(({asChild:n=!1,isActive:t=!1,variant:e="default",size:i="default",tooltip:r,className:s,...o},a)=>{const l=n?Eo:"button",{isMobile:c,state:d}=wp(),h=v.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":i,"data-active":t,className:Ie(NX({variant:e,size:i}),s),...o});return r?(typeof r=="string"&&(r={children:r}),v.jsxs(bX,{children:[v.jsx(wX,{asChild:!0,children:h}),v.jsx(ZN,{side:"right",align:"center",hidden:d!=="collapsed"||c,...r})]})):h});Ic.displayName="SidebarMenuButton";const MX=y.forwardRef(({className:n,asChild:t=!1,showOnHover:e=!1,...i},r)=>{const s=t?Eo:"button";return v.jsx(s,{ref:r,"data-sidebar":"menu-action",className:Ie("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n),...i})});MX.displayName="SidebarMenuAction";const DX=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,"data-sidebar":"menu-badge",className:Ie("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n),...t}));DX.displayName="SidebarMenuBadge";const LX=y.forwardRef(({className:n,showIcon:t=!1,...e},i)=>{const r=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return v.jsxs("div",{ref:i,"data-sidebar":"menu-skeleton",className:Ie("flex h-8 items-center gap-2 rounded-md px-2",n),...e,children:[t&&v.jsx(SI,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),v.jsx(SI,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})});LX.displayName="SidebarMenuSkeleton";const VX=y.forwardRef(({className:n,...t},e)=>v.jsx("ul",{ref:e,"data-sidebar":"menu-sub",className:Ie("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),...t}));VX.displayName="SidebarMenuSub";const FX=y.forwardRef(({...n},t)=>v.jsx("li",{ref:t,...n}));FX.displayName="SidebarMenuSubItem";const BX=y.forwardRef(({asChild:n=!1,size:t="md",isActive:e,className:i,...r},s)=>{const o=n?Eo:"a";return v.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":e,className:Ie("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",i),...r})});BX.displayName="SidebarMenuSubButton";const iM="/assets/Tokyo-logo-B_HeQJVy.jpeg";var rM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DI=Se.createContext&&Se.createContext(rM),jX=["attr","size","title"];function zX(n,t){if(n==null)return{};var e=$X(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function $X(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Bb(){return Bb=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bb.apply(this,arguments)}function LI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function jb(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(e),!0).forEach(function(i){UX(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):LI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function UX(n,t,e){return t=HX(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function HX(n){var t=WX(n,"string");return typeof t=="symbol"?t:t+""}function WX(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function sM(n){return n&&n.map((t,e)=>Se.createElement(t.tag,jb({key:e},t.attr),sM(t.child)))}function Un(n){return t=>Se.createElement(qX,Bb({attr:jb({},n.attr)},t),sM(n.child))}function qX(n){var t=e=>{var{attr:i,size:r,title:s}=n,o=zX(n,jX),a=r||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),Se.createElement("svg",Bb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,o,{className:l,style:jb(jb({color:n.color||e.color},e.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Se.createElement("title",null,s),n.children)};return DI!==void 0?Se.createElement(DI.Consumer,null,e=>t(e)):t(rM)}function GX(n){return Un({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{fill:"#D9D9D9",d:"M512.1 172.6l-370 369.7h96V868H392V640c0-22.1 17.9-40 40-40h160c22.1 0 40 17.9 40 40v228h153.9V542.3H882L535.2 195.7l-23.1-23.1zm434.5 422.9c-6 6-13.1 10.8-20.8 13.9 7.7-3.2 14.8-7.9 20.8-13.9zm-887-34.7c5 30.3 31.4 53.5 63.1 53.5h.9c-31.9 0-58.9-23-64-53.5zm-.9-10.5v-1.9 1.9zm.1-2.6c.1-3.1.5-6.1 1-9.1-.6 2.9-.9 6-1 9.1z"},child:[]},{tag:"path",attr:{d:"M951 510c0-.1-.1-.1-.1-.2l-1.8-2.1c-.1-.1-.2-.3-.4-.4-.7-.8-1.5-1.6-2.2-2.4L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.6 63.6 0 0 0-16 26.6l-.6 2.1-.3 1.1-.3 1.2c-.2.7-.3 1.4-.4 2.1 0 .1 0 .3-.1.4-.6 3-.9 6-1 9.1v3.3c0 .5 0 1 .1 1.5 0 .5 0 .9.1 1.4 0 .5.1 1 .1 1.5 0 .6.1 1.2.2 1.8 0 .3.1.6.1.9l.3 2.5v.1c5.1 30.5 32.2 53.5 64 53.5h42.5V940h691.7V614.3h43.4c8.6 0 16.9-1.7 24.5-4.9s14.7-7.9 20.8-13.9a63.6 63.6 0 0 0 18.7-45.3c0-14.7-5-28.8-14.3-40.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"},child:[]}]})(n)}function KX(n){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 4h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M4 14h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]},{tag:"path",attr:{d:"M7 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]}]})(n)}function YX(n){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M14 4h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M4 14h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]}]})(n)}function ZX(n){return Un({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M5,16 C3.343,16 2,17.343 2,19 C2,20.657 3.343,22 5,22 C6.657,22 8,20.657 8,19 C8,17.343 6.657,16 5,16 L5,16 L5,16 Z M5,1 C14.925,1 23,9.075 23,19 L23,19 M18,19 C18,11.832 12.168,6 5,6 M13,19 C13,14.589 9.411,11 5,11 M2,11 L2,19 L2,19"},child:[]}]})(n)}function oM(n){return Un({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function JX(n){return Un({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function XX(n){return Un({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(n)}function mw(n){return Un({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"},child:[]}]})(n)}function QX(n){return Un({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"},child:[]}]})(n)}const Gc="/",Kc="/signin",aM="/signup",lM="/profile",cM="/categories",uM="/categories/add",dM=n=>n?`/category/edit/${n}`:"/category/edit/:category_id",pw="/blog",xE="/blog/add",fM=n=>n?`/blog/edit/${n}`:"/blog/edit/:blogid",kE=(n,t)=>!n||!t?"/blog/:category/:blog":`/blog/${n}/${t}`,hM=n=>n?`/blog/${n}`:"/blog/:category",mM=n=>n?`/search?q=${n}`:"/search",pM="/comments",gM="/users",mi=(n,t={},e=[])=>{const[i,r]=y.useState(),[s,o]=y.useState(),[a,l]=y.useState();return y.useEffect(()=>{(async()=>{o(!0);try{const d=await fetch(n,t),h=await d.json();if(!d.ok)throw new Error(`Error: ${d.statusText}, ${d.status}`);r(h),l()}catch(d){l(d)}finally{o(!1)}})()},e),{data:i,loading:s,error:a}},eQ={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},tQ=n=>eQ[n];var E_={exports:{}},S_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function nQ(){if(VI)return S_;VI=1;var n=nw();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,o=n.useMemo,a=n.useDebugValue;return S_.useSyncExternalStoreWithSelector=function(l,c,d,h,p){var b=r(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=o(function(){function C(O){if(!S){if(S=!0,T=O,O=h(O),p!==void 0&&_.hasValue){var D=_.value;if(p(D,O))return A=D}return A=O}if(D=A,e(T,O))return D;var R=h(O);return p!==void 0&&p(D,R)?(T=O,D):(T=O,A=R)}var S=!1,T,A,P=d===void 0?null:d;return[function(){return C(c())},P===null?void 0:function(){return C(P())}]},[c,d,h,p]);var x=i(l,b[0],b[1]);return s(function(){_.hasValue=!0,_.value=x},[x]),a(x),x},S_}var FI;function iQ(){return FI||(FI=1,E_.exports=nQ()),E_.exports}var rQ=iQ();function sQ(n){n()}function oQ(){let n=null,t=null;return{clear(){n=null,t=null},notify(){sQ(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var BI={notify(){},get:()=>[]};function aQ(n,t){let e,i=BI,r=0,s=!1;function o(x){d();const C=i.subscribe(x);let S=!1;return()=>{S||(S=!0,C(),h())}}function a(){i.notify()}function l(){_.onStateChange&&_.onStateChange()}function c(){return s}function d(){r++,e||(e=n.subscribe(l),i=oQ())}function h(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=BI)}function p(){s||(s=!0,d())}function b(){s&&(s=!1,h())}const _={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:b,getListeners:()=>i};return _}var lQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cQ=lQ(),uQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dQ=uQ(),fQ=()=>cQ||dQ?y.useLayoutEffect:y.useEffect,hQ=fQ(),T_=Symbol.for("react-redux-context"),A_=typeof globalThis<"u"?globalThis:{};function mQ(){if(!y.createContext)return{};const n=A_[T_]??(A_[T_]=new Map);let t=n.get(y.createContext);return t||(t=y.createContext(null),n.set(y.createContext,t)),t}var Fl=mQ();function pQ(n){const{children:t,context:e,serverState:i,store:r}=n,s=y.useMemo(()=>{const l=aQ(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),o=y.useMemo(()=>r.getState(),[r]);hQ(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=e||Fl;return y.createElement(a.Provider,{value:s},t)}var gQ=pQ;function CE(n=Fl){return function(){return y.useContext(n)}}var bM=CE();function wM(n=Fl){const t=n===Fl?bM:CE(n),e=()=>{const{store:i}=t();return i};return Object.assign(e,{withTypes:()=>e}),e}var bQ=wM();function wQ(n=Fl){const t=n===Fl?bQ:wM(n),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var gw=wQ(),vQ=(n,t)=>n===t;function yQ(n=Fl){const t=n===Fl?bM:CE(n),e=(i,r={})=>{const{equalityFn:s=vQ}=typeof r=="function"?{equalityFn:r}:r,o=t(),{store:a,subscription:l,getServerState:c}=o;y.useRef(!0);const d=y.useCallback({[i.name](p){return i(p)}}[i.name],[i]),h=rQ.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,c||a.getState,d,s);return y.useDebugValue(h),h};return Object.assign(e,{withTypes:()=>e}),e}var Io=yQ();const _Q=()=>{const n=Io(e=>e.user),{data:t}=mi("http://localhost:3000/api/category/allcategory",{method:"get",credentials:"include"});return v.jsxs(QN,{children:[v.jsx(eM,{className:"bg-white",children:v.jsx("img",{src:iM,width:120})}),v.jsxs(tM,{className:"bg-white",children:[v.jsx(E2,{children:v.jsxs(S2,{children:[v.jsx(Ac,{children:v.jsxs(Ic,{children:[v.jsx(GX,{}),v.jsx(Pn,{to:Gc,children:"Home"})]})}),n&&n.isLoggedIn?v.jsxs(v.Fragment,{children:[v.jsx(Ac,{children:v.jsxs(Ic,{children:[v.jsx(ZX,{}),v.jsx(Pn,{to:pw,children:"Blogs"})]})}),v.jsx(Ac,{children:v.jsxs(Ic,{children:[v.jsx(oM,{}),v.jsx(Pn,{to:pM,children:"Comments"})]})})]}):v.jsx(v.Fragment,{}),n&&n.isLoggedIn&&n.user.role==="admin"?v.jsxs(v.Fragment,{children:[v.jsx(Ac,{children:v.jsxs(Ic,{children:[v.jsx(KX,{}),v.jsx(Pn,{to:cM,children:"Categories"})]})}),v.jsx(Ac,{children:v.jsxs(Ic,{children:[v.jsx(JX,{}),v.jsx(Pn,{to:gM,children:"Users"})]})})]}):v.jsx(v.Fragment,{})]})}),v.jsxs(E2,{children:[v.jsx(nM,{children:"Categories"}),v.jsx(S2,{children:t&&t.category.length>0&&t.category.map(e=>v.jsx(Ac,{children:v.jsxs(Ic,{children:[v.jsx(QX,{}),v.jsx(Pn,{to:hM(e.slug),children:e.name})]})},e._id))})]})]})]})},xQ=()=>v.jsx("div",{className:"text-sm text-center bg-grey-50 py-4",children:"@ Copyright 2025 | Designed By:Developer Ishant"}),kQ="/assets/Blog-Logo-DCjnUci3.webp";function CQ(n){return Un({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M417 80H137c-25.4 0-46 20.6-46 46 0 7.7 6.3 14 14 14s14-6.3 14-14c0-9.9 8.1-18 18-18h280c9.9 0 18 8.1 18 18v260c0 9.9-8.1 18-18 18H137c-9.9 0-18-8.1-18-18 0-7.7-6.3-14-14-14s-14 6.3-14 14c0 25.4 20.6 46 46 46h280c25.4 0 46-20.6 46-46V126c0-25.4-20.6-46-46-46z"},child:[]},{tag:"path",attr:{d:"M224 334.2c-5.4 5.4-5.4 14.3 0 19.8l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.8 0 7.3-1.4 9.9-4.1l82.6-82.4c4.3-4.3 6.5-9.3 6.5-14.7 0-5.3-2.3-10.3-6.5-14.5l-84.6-84.4c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-5.5 5.5-5.5 14.3 0 19.8l65.2 64.2H63c-7.7 0-14 6.3-14 14s6.3 14 14 14h224.6L224 334.2z"},child:[]}]})(n)}function EQ(n){return Un({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 448l-30.164-27.211C118.718 322.442 48 258.61 48 179.095 48 114.221 97.918 64 162.4 64c36.399 0 70.717 16.742 93.6 43.947C278.882 80.742 313.199 64 349.6 64 414.082 64 464 114.221 464 179.095c0 79.516-70.719 143.348-177.836 241.694L256 448z"},child:[]}]})(n)}function SQ(n){return Un({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M337.509 305.372h-17.501l-6.571-5.486c20.791-25.232 33.922-57.054 33.922-93.257C347.358 127.632 283.896 64 205.135 64 127.452 64 64 127.632 64 206.629s63.452 142.628 142.225 142.628c35.011 0 67.831-13.167 92.991-34.008l6.561 5.487v17.551L415.18 448 448 415.086 337.509 305.372zm-131.284 0c-54.702 0-98.463-43.887-98.463-98.743 0-54.858 43.761-98.742 98.463-98.742 54.7 0 98.462 43.884 98.462 98.742 0 54.856-43.762 98.743-98.462 98.743z"},child:[]}]})(n)}const TQ=()=>{const n=So(),[t,e]=y.useState(),i=s=>{e(s.target.value)},r=s=>{s.preventDefault(),n(mM(t))};return v.jsx("form",{onSubmit:r,children:v.jsx(Gn,{name:"q",onInput:i,placeholder:"Search here...",className:"h-9 rounded-full bg-gray-50 mt-5 "})})};var vM=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(IQ);if(s){const o=s.props.children,a=r.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(T2,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(T2,{...i,ref:t,children:e})});vM.displayName="Slot";var T2=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=RQ(e),s=PQ(i,e.props);return e.type!==y.Fragment&&(s.ref=t?Co(t,r):r),y.cloneElement(e,s)}return y.Children.count(e)>1?y.Children.only(null):null});T2.displayName="SlotClone";var AQ=({children:n})=>v.jsx(v.Fragment,{children:n});function IQ(n){return y.isValidElement(n)&&n.type===AQ}function PQ(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...a)=>{s(...a),r(...a)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function RQ(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var OQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],NQ=OQ.reduce((n,t)=>{const e=y.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?vM:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{}),A2=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(DQ);if(s){const o=s.props.children,a=r.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(I2,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(I2,{...i,ref:t,children:e})});A2.displayName="Slot";var I2=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=VQ(e),s=LQ(i,e.props);return e.type!==y.Fragment&&(s.ref=t?Co(t,r):r),y.cloneElement(e,s)}return y.Children.count(e)>1?y.Children.only(null):null});I2.displayName="SlotClone";var MQ=({children:n})=>v.jsx(v.Fragment,{children:n});function DQ(n){return y.isValidElement(n)&&n.type===MQ}function LQ(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...a)=>{s(...a),r(...a)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function VQ(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function EE(n){const t=n+"CollectionProvider",[e,i]=Fs(t),[r,s]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:_,children:x}=b,C=Se.useRef(null),S=Se.useRef(new Map).current;return v.jsx(r,{scope:_,itemMap:S,collectionRef:C,children:x})};o.displayName=t;const a=n+"CollectionSlot",l=Se.forwardRef((b,_)=>{const{scope:x,children:C}=b,S=s(a,x),T=vt(_,S.collectionRef);return v.jsx(A2,{ref:T,children:C})});l.displayName=a;const c=n+"CollectionItemSlot",d="data-radix-collection-item",h=Se.forwardRef((b,_)=>{const{scope:x,children:C,...S}=b,T=Se.useRef(null),A=vt(_,T),P=s(c,x);return Se.useEffect(()=>(P.itemMap.set(T,{ref:T,...S}),()=>void P.itemMap.delete(T))),v.jsx(A2,{[d]:"",ref:A,children:C})});h.displayName=c;function p(b){const _=s(n+"CollectionConsumer",b);return Se.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((P,O)=>S.indexOf(P.ref.current)-S.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,i]}var FQ=y.createContext(void 0);function SE(n){const t=y.useContext(FQ);return n||t||"ltr"}var TE=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(jQ);if(s){const o=s.props.children,a=r.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(P2,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(P2,{...i,ref:t,children:e})});TE.displayName="Slot";var P2=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=$Q(e),s=zQ(i,e.props);return e.type!==y.Fragment&&(s.ref=t?Co(t,r):r),y.cloneElement(e,s)}return y.Children.count(e)>1?y.Children.only(null):null});P2.displayName="SlotClone";var BQ=({children:n})=>v.jsx(v.Fragment,{children:n});function jQ(n){return y.isValidElement(n)&&n.type===BQ}function zQ(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...a)=>{s(...a),r(...a)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function $Q(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var UQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ns=UQ.reduce((n,t)=>{const e=y.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?TE:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{});function yM(n,t){n&&hu.flushSync(()=>n.dispatchEvent(t))}var HQ="DismissableLayer",R2="dismissableLayer.update",WQ="dismissableLayer.pointerDownOutside",qQ="dismissableLayer.focusOutside",jI,_M=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xM=y.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=y.useContext(_M),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=y.useState({}),_=vt(t,R=>h(R)),x=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(C),T=d?x.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,P=T>=S,O=YQ(R=>{const j=R.target,$=[...c.branches].some(Z=>Z.contains(j));!P||$||(r==null||r(R),o==null||o(R),R.defaultPrevented||a==null||a())},p),D=ZQ(R=>{const j=R.target;[...c.branches].some(Z=>Z.contains(j))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},p);return qC(R=>{T===c.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return e&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(jI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),zI(),()=>{e&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=jI)}},[d,p,e,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),zI())},[d,c]),y.useEffect(()=>{const R=()=>b({});return document.addEventListener(R2,R),()=>document.removeEventListener(R2,R)},[]),v.jsx(ns.div,{...l,ref:_,style:{pointerEvents:A?P?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,D.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,O.onPointerDownCapture)})});xM.displayName=HQ;var GQ="DismissableLayerBranch",KQ=y.forwardRef((n,t)=>{const e=y.useContext(_M),i=y.useRef(null),r=vt(t,i);return y.useEffect(()=>{const s=i.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),v.jsx(ns.div,{...n,ref:r})});KQ.displayName=GQ;function YQ(n,t=globalThis==null?void 0:globalThis.document){const e=En(n),i=y.useRef(!1),r=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){kM(WQ,e,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=l,t.addEventListener("click",r.current,{once:!0})):l()}else t.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function ZQ(n,t=globalThis==null?void 0:globalThis.document){const e=En(n),i=y.useRef(!1);return y.useEffect(()=>{const r=s=>{s.target&&!i.current&&kM(qQ,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function zI(){const n=new CustomEvent(R2);document.dispatchEvent(n)}function kM(n,t,e,{discrete:i}){const r=e.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(n,t,{once:!0}),i?yM(r,s):r.dispatchEvent(s)}var I_="focusScope.autoFocusOnMount",P_="focusScope.autoFocusOnUnmount",$I={bubbles:!1,cancelable:!0},JQ="FocusScope",CM=y.forwardRef((n,t)=>{const{loop:e=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[a,l]=y.useState(null),c=En(r),d=En(s),h=y.useRef(null),p=vt(t,x=>l(x)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(i){let x=function(A){if(b.paused||!a)return;const P=A.target;a.contains(P)?h.current=P:pl(h.current,{select:!0})},C=function(A){if(b.paused||!a)return;const P=A.relatedTarget;P!==null&&(a.contains(P)||pl(h.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&pl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",C);const T=new MutationObserver(S);return a&&T.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",C),T.disconnect()}}},[i,a,b.paused]),y.useEffect(()=>{if(a){HI.add(b);const x=document.activeElement;if(!a.contains(x)){const S=new CustomEvent(I_,$I);a.addEventListener(I_,c),a.dispatchEvent(S),S.defaultPrevented||(XQ(iee(EM(a)),{select:!0}),document.activeElement===x&&pl(a))}return()=>{a.removeEventListener(I_,c),setTimeout(()=>{const S=new CustomEvent(P_,$I);a.addEventListener(P_,d),a.dispatchEvent(S),S.defaultPrevented||pl(x??document.body,{select:!0}),a.removeEventListener(P_,d),HI.remove(b)},0)}}},[a,c,d,b]);const _=y.useCallback(x=>{if(!e&&!i||b.paused)return;const C=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(C&&S){const T=x.currentTarget,[A,P]=QQ(T);A&&P?!x.shiftKey&&S===P?(x.preventDefault(),e&&pl(A,{select:!0})):x.shiftKey&&S===A&&(x.preventDefault(),e&&pl(P,{select:!0})):S===T&&x.preventDefault()}},[e,i,b.paused]);return v.jsx(ns.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});CM.displayName=JQ;function XQ(n,{select:t=!1}={}){const e=document.activeElement;for(const i of n)if(pl(i,{select:t}),document.activeElement!==e)return}function QQ(n){const t=EM(n),e=UI(t,n),i=UI(t.reverse(),n);return[e,i]}function EM(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function UI(n,t){for(const e of n)if(!eee(e,{upTo:t}))return e}function eee(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function tee(n){return n instanceof HTMLInputElement&&"select"in n}function pl(n,{select:t=!1}={}){if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),n!==e&&tee(n)&&t&&n.select()}}var HI=nee();function nee(){let n=[];return{add(t){const e=n[0];t!==e&&(e==null||e.pause()),n=WI(n,t),n.unshift(t)},remove(t){var e;n=WI(n,t),(e=n[0])==null||e.resume()}}}function WI(n,t){const e=[...n],i=e.indexOf(t);return i!==-1&&e.splice(i,1),e}function iee(n){return n.filter(t=>t.tagName!=="A")}var ree="Arrow",SM=y.forwardRef((n,t)=>{const{children:e,width:i=10,height:r=5,...s}=n;return v.jsx(ns.svg,{...s,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});SM.displayName=ree;var see=SM,AE="Popper",[TM,AM]=Fs(AE),[oee,IM]=TM(AE),PM=n=>{const{__scopePopper:t,children:e}=n,[i,r]=y.useState(null);return v.jsx(oee,{scope:t,anchor:i,onAnchorChange:r,children:e})};PM.displayName=AE;var RM="PopperAnchor",OM=y.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...r}=n,s=IM(RM,e),o=y.useRef(null),a=vt(t,o);return y.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:v.jsx(ns.div,{...r,ref:a})});OM.displayName=RM;var IE="PopperContent",[aee,lee]=TM(IE),NM=y.forwardRef((n,t)=>{var ce,Te,De,Ze,st,at;const{__scopePopper:e,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:b="optimized",onPlaced:_,...x}=n,C=IM(IE,e),[S,T]=y.useState(null),A=vt(t,_t=>T(_t)),[P,O]=y.useState(null),D=bE(P),R=(D==null?void 0:D.width)??0,j=(D==null?void 0:D.height)??0,$=i+(s!=="center"?"-"+s:""),Z=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},ge=Array.isArray(c)?c:[c],ee=ge.length>0,re={padding:Z,boundary:ge.filter(uee),altBoundary:ee},{refs:ne,floatingStyles:ve,placement:me,isPositioned:fe,middlewareData:U}=cE({strategy:"fixed",placement:$,whileElementsMounted:(..._t)=>lE(..._t,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[uE({mainAxis:r+j,alignmentAxis:o}),l&&dE({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fE():void 0,...re}),l&&hE({...re}),mE({...re,apply:({elements:_t,rects:Xt,availableWidth:xi,availableHeight:ki})=>{const{width:On,height:F}=Xt.reference,H=_t.floating.style;H.setProperty("--radix-popper-available-width",`${xi}px`),H.setProperty("--radix-popper-available-height",`${ki}px`),H.setProperty("--radix-popper-anchor-width",`${On}px`),H.setProperty("--radix-popper-anchor-height",`${F}px`)}}),P&&gE({element:P,padding:a}),dee({arrowWidth:R,arrowHeight:j}),p&&pE({strategy:"referenceHidden",...re})]}),[K,te]=LM(me),V=En(_);Cn(()=>{fe&&(V==null||V())},[fe,V]);const J=(ce=U.arrow)==null?void 0:ce.x,We=(Te=U.arrow)==null?void 0:Te.y,Ve=((De=U.arrow)==null?void 0:De.centerOffset)!==0,[Xe,Fe]=y.useState();return Cn(()=>{S&&Fe(window.getComputedStyle(S).zIndex)},[S]),v.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:fe?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(Ze=U.transformOrigin)==null?void 0:Ze.x,(st=U.transformOrigin)==null?void 0:st.y].join(" "),...((at=U.hide)==null?void 0:at.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(aee,{scope:e,placedSide:K,onArrowChange:O,arrowX:J,arrowY:We,shouldHideArrow:Ve,children:v.jsx(ns.div,{"data-side":K,"data-align":te,...x,ref:A,style:{...x.style,animation:fe?void 0:"none"}})})})});NM.displayName=IE;var MM="PopperArrow",cee={top:"bottom",right:"left",bottom:"top",left:"right"},DM=y.forwardRef(function(t,e){const{__scopePopper:i,...r}=t,s=lee(MM,i),o=cee[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(see,{...r,ref:e,style:{...r.style,display:"block"}})})});DM.displayName=MM;function uee(n){return n!==null}var dee=n=>({name:"transformOrigin",options:n,fn(t){var C,S,T;const{placement:e,rects:i,middlewareData:r}=t,o=((C=r.arrow)==null?void 0:C.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,d]=LM(e),h={start:"0%",center:"50%",end:"100%"}[d],p=(((S=r.arrow)==null?void 0:S.x)??0)+a/2,b=(((T=r.arrow)==null?void 0:T.y)??0)+l/2;let _="",x="";return c==="bottom"?(_=o?h:`${p}px`,x=`${-l}px`):c==="top"?(_=o?h:`${p}px`,x=`${i.floating.height+l}px`):c==="right"?(_=`${-l}px`,x=o?h:`${b}px`):c==="left"&&(_=`${i.floating.width+l}px`,x=o?h:`${b}px`),{data:{x:_,y:x}}}});function LM(n){const[t,e="center"]=n.split("-");return[t,e]}var fee=PM,hee=OM,mee=NM,pee=DM,gee="Portal",VM=y.forwardRef((n,t)=>{var a;const{container:e,...i}=n,[r,s]=y.useState(!1);Cn(()=>s(!0),[]);const o=e||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?WC.createPortal(v.jsx(ns.div,{...i,ref:t}),o):null});VM.displayName=gee;var FM=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(wee);if(s){const o=s.props.children,a=r.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(O2,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(O2,{...i,ref:t,children:e})});FM.displayName="Slot";var O2=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=yee(e),s=vee(i,e.props);return e.type!==y.Fragment&&(s.ref=t?Co(t,r):r),y.cloneElement(e,s)}return y.Children.count(e)>1?y.Children.only(null):null});O2.displayName="SlotClone";var bee=({children:n})=>v.jsx(v.Fragment,{children:n});function wee(n){return y.isValidElement(n)&&n.type===bee}function vee(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...a)=>{s(...a),r(...a)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function yee(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var _ee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],BM=_ee.reduce((n,t)=>{const e=y.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?FM:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{}),R_="rovingFocusGroup.onEntryFocus",xee={bubbles:!1,cancelable:!0},bw="RovingFocusGroup",[N2,jM,kee]=EE(bw),[Cee,zM]=Fs(bw,[kee]),[Eee,See]=Cee(bw),$M=y.forwardRef((n,t)=>v.jsx(N2.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(N2.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(Tee,{...n,ref:t})})}));$M.displayName=bw;var Tee=y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=n,p=y.useRef(null),b=vt(t,p),_=SE(s),[x=null,C]=Hd({prop:o,defaultProp:a,onChange:l}),[S,T]=y.useState(!1),A=En(c),P=jM(e),O=y.useRef(!1),[D,R]=y.useState(0);return y.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(R_,A),()=>j.removeEventListener(R_,A)},[A]),v.jsx(Eee,{scope:e,orientation:i,dir:_,loop:r,currentTabStopId:x,onItemFocus:y.useCallback(j=>C(j),[C]),onItemShiftTab:y.useCallback(()=>T(!0),[]),onFocusableItemAdd:y.useCallback(()=>R(j=>j+1),[]),onFocusableItemRemove:y.useCallback(()=>R(j=>j-1),[]),children:v.jsx(BM.div,{tabIndex:S||D===0?-1:0,"data-orientation":i,...h,ref:b,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{O.current=!0}),onFocus:Le(n.onFocus,j=>{const $=!O.current;if(j.target===j.currentTarget&&$&&!S){const Z=new CustomEvent(R_,xee);if(j.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const ge=P().filter(me=>me.focusable),ee=ge.find(me=>me.active),re=ge.find(me=>me.id===x),ve=[ee,re,...ge].filter(Boolean).map(me=>me.ref.current);WM(ve,d)}}O.current=!1}),onBlur:Le(n.onBlur,()=>T(!1))})})}),UM="RovingFocusGroupItem",HM=y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,focusable:i=!0,active:r=!1,tabStopId:s,...o}=n,a=lo(),l=s||a,c=See(UM,e),d=c.currentTabStopId===l,h=jM(e),{onFocusableItemAdd:p,onFocusableItemRemove:b}=c;return y.useEffect(()=>{if(i)return p(),()=>b()},[i,p,b]),v.jsx(N2.ItemSlot,{scope:e,id:l,focusable:i,active:r,children:v.jsx(BM.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:Le(n.onMouseDown,_=>{i?c.onItemFocus(l):_.preventDefault()}),onFocus:Le(n.onFocus,()=>c.onItemFocus(l)),onKeyDown:Le(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const x=Pee(_,c.orientation,c.dir);if(x!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let S=h().filter(T=>T.focusable).map(T=>T.ref.current);if(x==="last")S.reverse();else if(x==="prev"||x==="next"){x==="prev"&&S.reverse();const T=S.indexOf(_.currentTarget);S=c.loop?Ree(S,T+1):S.slice(T+1)}setTimeout(()=>WM(S))}})})})});HM.displayName=UM;var Aee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Iee(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Pee(n,t,e){const i=Iee(n.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Aee[i]}function WM(n,t=!1){const e=document.activeElement;for(const i of n)if(i===e||(i.focus({preventScroll:t}),document.activeElement!==e))return}function Ree(n,t){return n.map((e,i)=>n[(t+i)%n.length])}var Oee=$M,Nee=HM,M2=["Enter"," "],Mee=["ArrowDown","PageUp","Home"],qM=["ArrowUp","PageDown","End"],Dee=[...Mee,...qM],Lee={ltr:[...M2,"ArrowRight"],rtl:[...M2,"ArrowLeft"]},Vee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vp="Menu",[bm,Fee,Bee]=EE(vp),[gu,GM]=Fs(vp,[Bee,AM,zM]),ww=AM(),KM=zM(),[jee,bu]=gu(vp),[zee,yp]=gu(vp),YM=n=>{const{__scopeMenu:t,open:e=!1,children:i,dir:r,onOpenChange:s,modal:o=!0}=n,a=ww(t),[l,c]=y.useState(null),d=y.useRef(!1),h=En(s),p=SE(r);return y.useEffect(()=>{const b=()=>{d.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>d.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),v.jsx(fee,{...a,children:v.jsx(jee,{scope:t,open:e,onOpenChange:h,content:l,onContentChange:c,children:v.jsx(zee,{scope:t,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:i})})})};YM.displayName=vp;var $ee="MenuAnchor",PE=y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n,r=ww(e);return v.jsx(hee,{...r,...i,ref:t})});PE.displayName=$ee;var RE="MenuPortal",[Uee,ZM]=gu(RE,{forceMount:void 0}),JM=n=>{const{__scopeMenu:t,forceMount:e,children:i,container:r}=n,s=bu(RE,t);return v.jsx(Uee,{scope:t,forceMount:e,children:v.jsx(To,{present:e||s.open,children:v.jsx(VM,{asChild:!0,container:r,children:i})})})};JM.displayName=RE;var Zr="MenuContent",[Hee,OE]=gu(Zr),XM=y.forwardRef((n,t)=>{const e=ZM(Zr,n.__scopeMenu),{forceMount:i=e.forceMount,...r}=n,s=bu(Zr,n.__scopeMenu),o=yp(Zr,n.__scopeMenu);return v.jsx(bm.Provider,{scope:n.__scopeMenu,children:v.jsx(To,{present:i||s.open,children:v.jsx(bm.Slot,{scope:n.__scopeMenu,children:o.modal?v.jsx(Wee,{...r,ref:t}):v.jsx(qee,{...r,ref:t})})})})}),Wee=y.forwardRef((n,t)=>{const e=bu(Zr,n.__scopeMenu),i=y.useRef(null),r=vt(t,i);return y.useEffect(()=>{const s=i.current;if(s)return ZC(s)},[]),v.jsx(NE,{...n,ref:r,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),qee=y.forwardRef((n,t)=>{const e=bu(Zr,n.__scopeMenu);return v.jsx(NE,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),NE=y.forwardRef((n,t)=>{const{__scopeMenu:e,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:b,disableOutsideScroll:_,...x}=n,C=bu(Zr,e),S=yp(Zr,e),T=ww(e),A=KM(e),P=Fee(e),[O,D]=y.useState(null),R=y.useRef(null),j=vt(t,R,C.onContentChange),$=y.useRef(0),Z=y.useRef(""),ge=y.useRef(0),ee=y.useRef(null),re=y.useRef("right"),ne=y.useRef(0),ve=_?aw:y.Fragment,me=_?{as:TE,allowPinchZoom:!0}:void 0,fe=K=>{var ce,Te;const te=Z.current+K,V=P().filter(De=>!De.disabled),J=document.activeElement,We=(ce=V.find(De=>De.ref.current===J))==null?void 0:ce.textValue,Ve=V.map(De=>De.textValue),Xe=rte(Ve,te,We),Fe=(Te=V.find(De=>De.textValue===Xe))==null?void 0:Te.ref.current;(function De(Ze){Z.current=Ze,window.clearTimeout($.current),Ze!==""&&($.current=window.setTimeout(()=>De(""),1e3))})(te),Fe&&setTimeout(()=>Fe.focus())};y.useEffect(()=>()=>window.clearTimeout($.current),[]),YC();const U=y.useCallback(K=>{var V,J;return re.current===((V=ee.current)==null?void 0:V.side)&&ote(K,(J=ee.current)==null?void 0:J.area)},[]);return v.jsx(Hee,{scope:e,searchRef:Z,onItemEnter:y.useCallback(K=>{U(K)&&K.preventDefault()},[U]),onItemLeave:y.useCallback(K=>{var te;U(K)||((te=R.current)==null||te.focus(),D(null))},[U]),onTriggerLeave:y.useCallback(K=>{U(K)&&K.preventDefault()},[U]),pointerGraceTimerRef:ge,onPointerGraceIntentChange:y.useCallback(K=>{ee.current=K},[]),children:v.jsx(ve,{...me,children:v.jsx(CM,{asChild:!0,trapped:r,onMountAutoFocus:Le(s,K=>{var te;K.preventDefault(),(te=R.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:v.jsx(xM,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:b,children:v.jsx(Oee,{asChild:!0,...A,dir:S.dir,orientation:"vertical",loop:i,currentTabStopId:O,onCurrentTabStopIdChange:D,onEntryFocus:Le(l,K=>{S.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(mee,{role:"menu","aria-orientation":"vertical","data-state":mD(C.open),"data-radix-menu-content":"",dir:S.dir,...T,...x,ref:j,style:{outline:"none",...x.style},onKeyDown:Le(x.onKeyDown,K=>{const V=K.target.closest("[data-radix-menu-content]")===K.currentTarget,J=K.ctrlKey||K.altKey||K.metaKey,We=K.key.length===1;V&&(K.key==="Tab"&&K.preventDefault(),!J&&We&&fe(K.key));const Ve=R.current;if(K.target!==Ve||!Dee.includes(K.key))return;K.preventDefault();const Fe=P().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);qM.includes(K.key)&&Fe.reverse(),nte(Fe)}),onBlur:Le(n.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout($.current),Z.current="")}),onPointerMove:Le(n.onPointerMove,wm(K=>{const te=K.target,V=ne.current!==K.clientX;if(K.currentTarget.contains(te)&&V){const J=K.clientX>ne.current?"right":"left";re.current=J,ne.current=K.clientX}}))})})})})})})});XM.displayName=Zr;var Gee="MenuGroup",ME=y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return v.jsx(ns.div,{role:"group",...i,ref:t})});ME.displayName=Gee;var Kee="MenuLabel",QM=y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return v.jsx(ns.div,{...i,ref:t})});QM.displayName=Kee;var zb="MenuItem",qI="menu.itemSelect",vw=y.forwardRef((n,t)=>{const{disabled:e=!1,onSelect:i,...r}=n,s=y.useRef(null),o=yp(zb,n.__scopeMenu),a=OE(zb,n.__scopeMenu),l=vt(t,s),c=y.useRef(!1),d=()=>{const h=s.current;if(!e&&h){const p=new CustomEvent(qI,{bubbles:!0,cancelable:!0});h.addEventListener(qI,b=>i==null?void 0:i(b),{once:!0}),yM(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return v.jsx(eD,{...r,ref:l,disabled:e,onClick:Le(n.onClick,d),onPointerDown:h=>{var p;(p=n.onPointerDown)==null||p.call(n,h),c.current=!0},onPointerUp:Le(n.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Le(n.onKeyDown,h=>{const p=a.searchRef.current!=="";e||p&&h.key===" "||M2.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});vw.displayName=zb;var eD=y.forwardRef((n,t)=>{const{__scopeMenu:e,disabled:i=!1,textValue:r,...s}=n,o=OE(zb,e),a=KM(e),l=y.useRef(null),c=vt(t,l),[d,h]=y.useState(!1),[p,b]=y.useState("");return y.useEffect(()=>{const _=l.current;_&&b((_.textContent??"").trim())},[s.children]),v.jsx(bm.ItemSlot,{scope:e,disabled:i,textValue:r??p,children:v.jsx(Nee,{asChild:!0,...a,focusable:!i,children:v.jsx(ns.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:c,onPointerMove:Le(n.onPointerMove,wm(_=>{i?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,wm(_=>o.onItemLeave(_))),onFocus:Le(n.onFocus,()=>h(!0)),onBlur:Le(n.onBlur,()=>h(!1))})})})}),Yee="MenuCheckboxItem",tD=y.forwardRef((n,t)=>{const{checked:e=!1,onCheckedChange:i,...r}=n;return v.jsx(oD,{scope:n.__scopeMenu,checked:e,children:v.jsx(vw,{role:"menuitemcheckbox","aria-checked":$b(e)?"mixed":e,...r,ref:t,"data-state":LE(e),onSelect:Le(r.onSelect,()=>i==null?void 0:i($b(e)?!0:!e),{checkForDefaultPrevented:!1})})})});tD.displayName=Yee;var nD="MenuRadioGroup",[Zee,Jee]=gu(nD,{value:void 0,onValueChange:()=>{}}),iD=y.forwardRef((n,t)=>{const{value:e,onValueChange:i,...r}=n,s=En(i);return v.jsx(Zee,{scope:n.__scopeMenu,value:e,onValueChange:s,children:v.jsx(ME,{...r,ref:t})})});iD.displayName=nD;var rD="MenuRadioItem",sD=y.forwardRef((n,t)=>{const{value:e,...i}=n,r=Jee(rD,n.__scopeMenu),s=e===r.value;return v.jsx(oD,{scope:n.__scopeMenu,checked:s,children:v.jsx(vw,{role:"menuitemradio","aria-checked":s,...i,ref:t,"data-state":LE(s),onSelect:Le(i.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,e)},{checkForDefaultPrevented:!1})})})});sD.displayName=rD;var DE="MenuItemIndicator",[oD,Xee]=gu(DE,{checked:!1}),aD=y.forwardRef((n,t)=>{const{__scopeMenu:e,forceMount:i,...r}=n,s=Xee(DE,e);return v.jsx(To,{present:i||$b(s.checked)||s.checked===!0,children:v.jsx(ns.span,{...r,ref:t,"data-state":LE(s.checked)})})});aD.displayName=DE;var Qee="MenuSeparator",lD=y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return v.jsx(ns.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});lD.displayName=Qee;var ete="MenuArrow",cD=y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n,r=ww(e);return v.jsx(pee,{...r,...i,ref:t})});cD.displayName=ete;var tte="MenuSub",[$9e,uD]=gu(tte),Bh="MenuSubTrigger",dD=y.forwardRef((n,t)=>{const e=bu(Bh,n.__scopeMenu),i=yp(Bh,n.__scopeMenu),r=uD(Bh,n.__scopeMenu),s=OE(Bh,n.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),v.jsx(PE,{asChild:!0,...c,children:v.jsx(eD,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":r.contentId,"data-state":mD(e.open),...n,ref:Co(t,r.onTriggerChange),onClick:h=>{var p;(p=n.onClick)==null||p.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,wm(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!e.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{e.onOpenChange(!0),d()},100))})),onPointerLeave:Le(n.onPointerLeave,wm(h=>{var b,_;d();const p=(b=e.content)==null?void 0:b.getBoundingClientRect();if(p){const x=(_=e.content)==null?void 0:_.dataset.side,C=x==="right",S=C?-5:5,T=p[C?"left":"right"],A=p[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+S,y:h.clientY},{x:T,y:p.top},{x:A,y:p.top},{x:A,y:p.bottom},{x:T,y:p.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,h=>{var b;const p=s.searchRef.current!=="";n.disabled||p&&h.key===" "||Lee[i.dir].includes(h.key)&&(e.onOpenChange(!0),(b=e.content)==null||b.focus(),h.preventDefault())})})})});dD.displayName=Bh;var fD="MenuSubContent",hD=y.forwardRef((n,t)=>{const e=ZM(Zr,n.__scopeMenu),{forceMount:i=e.forceMount,...r}=n,s=bu(Zr,n.__scopeMenu),o=yp(Zr,n.__scopeMenu),a=uD(fD,n.__scopeMenu),l=y.useRef(null),c=vt(t,l);return v.jsx(bm.Provider,{scope:n.__scopeMenu,children:v.jsx(To,{present:i||s.open,children:v.jsx(bm.Slot,{scope:n.__scopeMenu,children:v.jsx(NE,{id:a.contentId,"aria-labelledby":a.triggerId,...r,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Le(n.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Le(n.onKeyDown,d=>{var b;const h=d.currentTarget.contains(d.target),p=Vee[o.dir].includes(d.key);h&&p&&(s.onOpenChange(!1),(b=a.trigger)==null||b.focus(),d.preventDefault())})})})})})});hD.displayName=fD;function mD(n){return n?"open":"closed"}function $b(n){return n==="indeterminate"}function LE(n){return $b(n)?"indeterminate":n?"checked":"unchecked"}function nte(n){const t=document.activeElement;for(const e of n)if(e===t||(e.focus(),document.activeElement!==t))return}function ite(n,t){return n.map((e,i)=>n[(t+i)%n.length])}function rte(n,t,e){const r=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=e?n.indexOf(e):-1;let o=ite(n,Math.max(s,0));r.length===1&&(o=o.filter(c=>c!==e));const l=o.find(c=>c.toLowerCase().startsWith(r.toLowerCase()));return l!==e?l:void 0}function ste(n,t){const{x:e,y:i}=n;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,d=t[o].y;l>i!=d>i&&e<(c-a)*(i-l)/(d-l)+a&&(r=!r)}return r}function ote(n,t){if(!t)return!1;const e={x:n.clientX,y:n.clientY};return ste(e,t)}function wm(n){return t=>t.pointerType==="mouse"?n(t):void 0}var ate=YM,lte=PE,cte=JM,ute=XM,dte=ME,fte=QM,hte=vw,mte=tD,pte=iD,gte=sD,bte=aD,wte=lD,vte=cD,yte=dD,_te=hD,VE="DropdownMenu",[xte,U9e]=Fs(VE,[GM]),Zi=GM(),[kte,pD]=xte(VE),gD=n=>{const{__scopeDropdownMenu:t,children:e,dir:i,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=Zi(t),c=y.useRef(null),[d=!1,h]=Hd({prop:r,defaultProp:s,onChange:o});return v.jsx(kte,{scope:t,triggerId:lo(),triggerRef:c,contentId:lo(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:a,children:v.jsx(ate,{...l,open:d,onOpenChange:h,dir:i,modal:a,children:e})})};gD.displayName=VE;var bD="DropdownMenuTrigger",wD=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,disabled:i=!1,...r}=n,s=pD(bD,e),o=Zi(e);return v.jsx(lte,{asChild:!0,...o,children:v.jsx(NQ.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:Co(t,s.triggerRef),onPointerDown:Le(n.onPointerDown,a=>{!i&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Le(n.onKeyDown,a=>{i||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});wD.displayName=bD;var Cte="DropdownMenuPortal",vD=n=>{const{__scopeDropdownMenu:t,...e}=n,i=Zi(t);return v.jsx(cte,{...i,...e})};vD.displayName=Cte;var yD="DropdownMenuContent",_D=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=pD(yD,e),s=Zi(e),o=y.useRef(!1);return v.jsx(ute,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:t,onCloseAutoFocus:Le(n.onCloseAutoFocus,a=>{var l;o.current||(l=r.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!r.modal||d)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_D.displayName=yD;var Ete="DropdownMenuGroup",Ste=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(dte,{...r,...i,ref:t})});Ste.displayName=Ete;var Tte="DropdownMenuLabel",xD=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(fte,{...r,...i,ref:t})});xD.displayName=Tte;var Ate="DropdownMenuItem",kD=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(hte,{...r,...i,ref:t})});kD.displayName=Ate;var Ite="DropdownMenuCheckboxItem",CD=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(mte,{...r,...i,ref:t})});CD.displayName=Ite;var Pte="DropdownMenuRadioGroup",Rte=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(pte,{...r,...i,ref:t})});Rte.displayName=Pte;var Ote="DropdownMenuRadioItem",ED=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(gte,{...r,...i,ref:t})});ED.displayName=Ote;var Nte="DropdownMenuItemIndicator",SD=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(bte,{...r,...i,ref:t})});SD.displayName=Nte;var Mte="DropdownMenuSeparator",TD=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(wte,{...r,...i,ref:t})});TD.displayName=Mte;var Dte="DropdownMenuArrow",Lte=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(vte,{...r,...i,ref:t})});Lte.displayName=Dte;var Vte="DropdownMenuSubTrigger",AD=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(yte,{...r,...i,ref:t})});AD.displayName=Vte;var Fte="DropdownMenuSubContent",ID=y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Zi(e);return v.jsx(_te,{...r,...i,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ID.displayName=Fte;var Bte=gD,jte=wD,zte=vD,PD=_D,RD=xD,OD=kD,ND=CD,MD=ED,DD=SD,LD=TD,VD=AD,FD=ID;const $te=Bte,Ute=jte,Hte=y.forwardRef(({className:n,inset:t,children:e,...i},r)=>v.jsxs(VD,{ref:r,className:Ie("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",n),...i,children:[e,v.jsx(dY,{className:"ml-auto"})]}));Hte.displayName=VD.displayName;const Wte=y.forwardRef(({className:n,...t},e)=>v.jsx(FD,{ref:e,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));Wte.displayName=FD.displayName;const BD=y.forwardRef(({className:n,sideOffset:t=4,...e},i)=>v.jsx(zte,{children:v.jsx(PD,{ref:i,sideOffset:t,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e})}));BD.displayName=PD.displayName;const ob=y.forwardRef(({className:n,inset:t,...e},i)=>v.jsx(OD,{ref:i,className:Ie("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",n),...e}));ob.displayName=OD.displayName;const qte=y.forwardRef(({className:n,children:t,checked:e,...i},r)=>v.jsxs(ND,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:e,...i,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(DD,{children:v.jsx(M7,{className:"h-4 w-4"})})}),t]}));qte.displayName=ND.displayName;const Gte=y.forwardRef(({className:n,children:t,...e},i)=>v.jsxs(MD,{ref:i,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...e,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(DD,{children:v.jsx(pY,{className:"h-2 w-2 fill-current"})})}),t]}));Gte.displayName=MD.displayName;const jD=y.forwardRef(({className:n,inset:t,...e},i)=>v.jsx(RD,{ref:i,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",n),...e}));jD.displayName=RD.displayName;const D2=y.forwardRef(({className:n,...t},e)=>v.jsx(LD,{ref:e,className:Ie("-mx-1 my-1 h-px bg-muted",n),...t}));D2.displayName=LD.displayName;var zD=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(Yte);if(s){const o=s.props.children,a=r.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(L2,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(L2,{...i,ref:t,children:e})});zD.displayName="Slot";var L2=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=Jte(e),s=Zte(i,e.props);return e.type!==y.Fragment&&(s.ref=t?Co(t,r):r),y.cloneElement(e,s)}return y.Children.count(e)>1?y.Children.only(null):null});L2.displayName="SlotClone";var Kte=({children:n})=>v.jsx(v.Fragment,{children:n});function Yte(n){return y.isValidElement(n)&&n.type===Kte}function Zte(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...a)=>{s(...a),r(...a)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function Jte(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var Xte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],FE=Xte.reduce((n,t)=>{const e=y.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?zD:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{}),BE="Avatar",[Qte,H9e]=Fs(BE),[ene,$D]=Qte(BE),UD=y.forwardRef((n,t)=>{const{__scopeAvatar:e,...i}=n,[r,s]=y.useState("idle");return v.jsx(ene,{scope:e,imageLoadingStatus:r,onImageLoadingStatusChange:s,children:v.jsx(FE.span,{...i,ref:t})})});UD.displayName=BE;var HD="AvatarImage",WD=y.forwardRef((n,t)=>{const{__scopeAvatar:e,src:i,onLoadingStatusChange:r=()=>{},...s}=n,o=$D(HD,e),a=tne(i,s.referrerPolicy),l=En(c=>{r(c),o.onImageLoadingStatusChange(c)});return Cn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?v.jsx(FE.img,{...s,ref:t,src:i}):null});WD.displayName=HD;var qD="AvatarFallback",GD=y.forwardRef((n,t)=>{const{__scopeAvatar:e,delayMs:i,...r}=n,s=$D(qD,e),[o,a]=y.useState(i===void 0);return y.useEffect(()=>{if(i!==void 0){const l=window.setTimeout(()=>a(!0),i);return()=>window.clearTimeout(l)}},[i]),o&&s.imageLoadingStatus!=="loaded"?v.jsx(FE.span,{...r,ref:t}):null});GD.displayName=qD;function tne(n,t){const[e,i]=y.useState("idle");return Cn(()=>{if(!n){i("error");return}let r=!0;const s=new window.Image,o=a=>()=>{r&&i(a)};return i("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=n,t&&(s.referrerPolicy=t),()=>{r=!1}},[n,t]),e}var KD=UD,YD=WD,ZD=GD;const Yc=y.forwardRef(({className:n,...t},e)=>v.jsx(KD,{ref:e,className:Ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...t}));Yc.displayName=KD.displayName;const Zc=y.forwardRef(({className:n,...t},e)=>v.jsx(YD,{ref:e,className:Ie("aspect-square h-full w-full",n),...t}));Zc.displayName=YD.displayName;const nne=y.forwardRef(({className:n,...t},e)=>v.jsx(ZD,{ref:e,className:Ie("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...t}));nne.displayName=ZD.displayName;const vm="data:image/png;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAHGQAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAABAA0ABoAAAAAMYXYxQ4EEDAAAAAAUaXNwZQAAAAAAAAJyAAACcgAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEAYIDBAAAByFtZGF0EgAKChkmZxnHggIaDQgyiA5EUABBBBBQ9LrRO4ijqSfsufysy97O2MoYuJI5fIcm4ToxILD/XEsNAlsRCKv0k/wyOwjy4SBLBpF+pcW9LzEzZNF/B2sZ7h/AUbPiiJtxzWqaaq6b3aKJAZmgtRcVUE+P2eEnMmvkZUoyGH8rGeZGyIsrEsqYlH+QDaUBGXXoWCVP3JMbbrGvep8OZ/PNKHteruscrzSsH12hU59HKZSYqR8Gl/lFqUlGJlzv5iFjj9KQlNUa2SafrOzoYiS8nZRU7zhhCo9O2cOtwODctxe6ktXwbZK40X9SKX5ZvWW4wxtJDWhADpU3dL150f28CqmUZAJXatHT/4kGgBSz+8oHQRLRWG4u54n2NxB9p3WfMyQyYQ9UpvJeG6VGcIyB4WvwsKjE90j85ZjwK0utDbKTVog4uxLGfIZmVwqEn1LdjEAn8af+Asi1tJ4vgd4du6g6iBR61yCG9Sca7GDyvmFeELIsLjI7+huIAhyKVrgvFEEvOUf48Tf+uly0hws/wAAajSDvEAahYy1AYbqF/gr4Fxz2xAWcoosUxUSs2QZ11rgANYUoaO64dzc+kAAJs4DXlKmeGWBJvNIhGyM4xmdIqJVaCoi9VY3Cf8edeC6Xg1QN38Jds/iEaJvtCvJWhcxHCX7oYAf1SHRXpzo6paOFfOUi63eMtUgU9WjWH6+lFYS2Pxgb3WeTq/h6HahhwyAlUTbctMYMBlXg7fOkLopLukpimpReFI5MXlVhO7m55HmFH4SXl+fQsfLWLBuTGhjs8zM1h9U/c8rE2ARzQulnQyzymApxVA+s/Xn6gq4p7wqGv+324JEsX78emXeIZArWEuyYgmiU9m4ml9+euyzHyQpdMZfkxIUB6oGw3QtezdHjNDnNk5y/3H1jeRPsKWJ9ZYZe61vAoXmPtntysVzB9xgkphss9pNC7J5qPWxZYfUatzjyzE9mmHy7VTI8vIdPeD8Tl2nggYEdSfPOoTgVocTOHaR1DRbFkz/6JsKtrIDrAd+SaE9JehPdVx1YPau+1zpOSHwkW5mHehZyFAcCyUqZLIfpHW7GWoUT7WxIMma3+XddCmKvNQI0tgu6KeYszabmvT0ejVlWt/+JF41aN30UkTegPHE9/Co4OI5uZBy7kTAvgvZ65JRVQG8jLUpneAcv9/qP07AFHD1JWOZju6k/psSoRIyYXYZgYqTQQsoiF1tMd69sygmimYNUKJKIMrG1wN+TPT/E7RCzX6Rxs2PomKoGDGezkaTcIXe5UnDwN+LnsSWz6B+5TjLZtK6LL2mznP68OSdnFS6s5RSGY1i1FiOTrLobaq0nvnj++GzVwVorT4uODfDr+El+A/W5n5KtKjfxaISh4dMqPj8xtnkHsJMpqmlqc//5Z2PtjmJEKFe8xuHX/t2S2LwJvNS9JMehoXLm5j3hlu9chW6+D8+UsPs+4aaerJncrIM77/RsSFohSol4TpkHVXzV8E60Ie1eX3t8Sfx6Xd9UzU7FD6rOaeQcnUIM7FAlcvxfUTjlSuBXmZCFI3BH1sQAxVq+upPzUPiJTAZb+DwxYfPZ/ycoKK61NFyXmhFjLcCrDKvIpyRT305+34KHIWA9k2IcpjrtHO35exYWp8s9r14FWXATW2NqVqiet/SaV0i3HXHCbJaOc9pGCawFA2bcU43n+gJTGxaNa2UNM9+FhI0K9O3US/bg/etTfjZ8oYESpdGgpNHf3Awi5zfiyfRYutAabgVz1JrtQnTh+ZPGB4AeTMs4ZZS3XmxTOQoPZcqHH7ji/ljo+GBCs6yAQLPgYyIO2ZuUoWIlVZlxYMhlj7PDIsPNXHmagkNoAAiLBrVlPv7+vM9IKSK45YbFyWjr5J/uf59OtKY3T1oVeetTRi3xEtCAhb+oOvE9FKY7N2RLq4bqF2b6TYQEIAotDkb7tF4c8IYdg31GKnKHbVLmLH3uxAv0qiQnZrn8HA3I73ClR9jNQedy3meITpfSOysun9Cqk9DHwK17UOtjM+Cho4JYyBXwZEqnSprUtwdmBlQ5YH6zusOClp6hUMmD+r24Y1iLmcwbaj7wMLvtfkA1e4ofGbkSYpG62EV2dKz3lVlolwmJbmTgphBGOi91q66Pz6BL0u2M7MIzb+qXB4ERJAJkHAmDIoNFDP9KshZYlM/GmBNuPisszzxRJq7EdKQBratT146tssJ0uHxc8WBKyYScYdwgIoICArS95dtqw78RYhba+pburqXFYwQ6QZQsNcDUK7/tObBR//5S2EBEMkvsFkXux9nv4siUynZA4c95e8ccTy+kVEcmUza86+jpEPJyjbLVaH/6yBPTp8wExGBCnUZwtx+3Mx1MFach0JrV2mS8wwJ3jdMKs6KhuZimcyTWzlMXS866bxTrnyCKUg+t5RK5LqN3V0A=";function ine(n){return Un({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 0 256 0A128 128 0 1 0 96 128zm94.5 200.2l18.6 31L175.8 483.1l-36-146.9c-2-8.1-9.8-13.4-17.9-11.3C51.9 342.4 0 405.8 0 481.3c0 17 13.8 30.7 30.7 30.7l131.7 0c0 0 0 0 .1 0l5.5 0 112 0 5.5 0c0 0 0 0 .1 0l131.7 0c17 0 30.7-13.8 30.7-30.7c0-75.5-51.9-138.9-121.9-156.4c-8.1-2-15.9 3.3-17.9 11.3l-36 146.9L238.9 359.2l18.6-31c6.4-10.7-1.3-24.2-13.7-24.2L224 304l-19.7 0c-12.4 0-20.1 13.6-13.7 24.2z"},child:[]}]})(n)}function rne(n){return Un({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(n)}function sne(n){return Un({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(n)}function one(n){return Un({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(n)}function wi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var ane=typeof Symbol=="function"&&Symbol.observable||"@@observable",GI=ane,O_=()=>Math.random().toString(36).substring(7).split("").join("."),lne={INIT:`@@redux/INIT${O_()}`,REPLACE:`@@redux/REPLACE${O_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O_()}`},Ub=lne;function jE(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function zE(n,t,e){if(typeof n!="function")throw new Error(wi(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(wi(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(wi(1));return e(zE)(n,t)}let i=n,r=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((C,S)=>{o.set(S,C)}))}function d(){if(l)throw new Error(wi(3));return r}function h(C){if(typeof C!="function")throw new Error(wi(4));if(l)throw new Error(wi(5));let S=!0;c();const T=a++;return o.set(T,C),function(){if(S){if(l)throw new Error(wi(6));S=!1,c(),o.delete(T),s=null}}}function p(C){if(!jE(C))throw new Error(wi(7));if(typeof C.type>"u")throw new Error(wi(8));if(typeof C.type!="string")throw new Error(wi(17));if(l)throw new Error(wi(9));try{l=!0,r=i(r,C)}finally{l=!1}return(s=o).forEach(T=>{T()}),C}function b(C){if(typeof C!="function")throw new Error(wi(10));i=C,p({type:Ub.REPLACE})}function _(){const C=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(wi(11));function T(){const P=S;P.next&&P.next(d())}return T(),{unsubscribe:C(T)}},[GI](){return this}}}return p({type:Ub.INIT}),{dispatch:p,subscribe:h,getState:d,replaceReducer:b,[GI]:_}}function cne(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:Ub.INIT})>"u")throw new Error(wi(12));if(typeof e(void 0,{type:Ub.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wi(13))})}function JD(n){const t=Object.keys(n),e={};for(let s=0;s<t.length;s++){const o=t[s];typeof n[o]=="function"&&(e[o]=n[o])}const i=Object.keys(e);let r;try{cne(e)}catch(s){r=s}return function(o={},a){if(r)throw r;let l=!1;const c={};for(let d=0;d<i.length;d++){const h=i[d],p=e[h],b=o[h],_=p(b,a);if(typeof _>"u")throw a&&a.type,new Error(wi(14));c[h]=_,l=l||_!==b}return l=l||i.length!==Object.keys(o).length,l?c:o}}function Hb(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function une(...n){return t=>(e,i)=>{const r=t(e,i);let s=()=>{throw new Error(wi(15))};const o={getState:r.getState,dispatch:(l,...c)=>s(l,...c)},a=n.map(l=>l(o));return s=Hb(...a)(r.dispatch),{...r,dispatch:s}}}function dne(n){return jE(n)&&"type"in n&&typeof n.type=="string"}var XD=Symbol.for("immer-nothing"),KI=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function bs(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Gd=Object.getPrototypeOf;function Jc(n){return!!n&&!!n[Or]}function _a(n){var t;return n?QD(n)||Array.isArray(n)||!!n[KI]||!!((t=n.constructor)!=null&&t[KI])||_w(n)||xw(n):!1}var fne=Object.prototype.constructor.toString();function QD(n){if(!n||typeof n!="object")return!1;const t=Gd(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===fne}function Wb(n,t){yw(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,i)=>t(i,e,n))}function yw(n){const t=n[Or];return t?t.type_:Array.isArray(n)?1:_w(n)?2:xw(n)?3:0}function V2(n,t){return yw(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function eL(n,t,e){const i=yw(n);i===2?n.set(t,e):i===3?n.add(e):n[t]=e}function hne(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function _w(n){return n instanceof Map}function xw(n){return n instanceof Set}function Pc(n){return n.copy_||n.base_}function F2(n,t){if(_w(n))return new Map(n);if(xw(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=QD(n);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(n);delete i[Or];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const o=r[s],a=i[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Gd(n),i)}else{const i=Gd(n);if(i!==null&&e)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function $E(n,t=!1){return kw(n)||Jc(n)||!_a(n)||(yw(n)>1&&(n.set=n.add=n.clear=n.delete=mne),Object.freeze(n),t&&Object.entries(n).forEach(([e,i])=>$E(i,!0))),n}function mne(){bs(2)}function kw(n){return Object.isFrozen(n)}var pne={};function Xc(n){const t=pne[n];return t||bs(0,n),t}var ym;function tL(){return ym}function gne(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YI(n,t){t&&(Xc("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function B2(n){j2(n),n.drafts_.forEach(bne),n.drafts_=null}function j2(n){n===ym&&(ym=n.parent_)}function ZI(n){return ym=gne(ym,n)}function bne(n){const t=n[Or];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function JI(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[Or].modified_&&(B2(t),bs(4)),_a(n)&&(n=qb(t,n),t.parent_||Gb(t,n)),t.patches_&&Xc("Patches").generateReplacementPatches_(e[Or].base_,n,t.patches_,t.inversePatches_)):n=qb(t,e,[]),B2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==XD?n:void 0}function qb(n,t,e){if(kw(t))return t;const i=t[Or];if(!i)return Wb(t,(r,s)=>XI(n,i,t,r,s,e)),t;if(i.scope_!==n)return t;if(!i.modified_)return Gb(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,o=!1;i.type_===3&&(s=new Set(r),r.clear(),o=!0),Wb(s,(a,l)=>XI(n,i,r,a,l,e,o)),Gb(n,r,!1),e&&n.patches_&&Xc("Patches").generatePatches_(i,e,n.patches_,n.inversePatches_)}return i.copy_}function XI(n,t,e,i,r,s,o){if(Jc(r)){const a=s&&t&&t.type_!==3&&!V2(t.assigned_,i)?s.concat(i):void 0,l=qb(n,r,a);if(eL(e,i,l),Jc(l))n.canAutoFreeze_=!1;else return}else o&&e.add(r);if(_a(r)&&!kw(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;qb(n,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(e,i)&&Gb(n,r)}}function Gb(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&$E(t,e)}function wne(n,t){const e=Array.isArray(n),i={type_:e?1:0,scope_:t?t.scope_:tL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=UE;e&&(r=[i],s=_m);const{revoke:o,proxy:a}=Proxy.revocable(r,s);return i.draft_=a,i.revoke_=o,a}var UE={get(n,t){if(t===Or)return n;const e=Pc(n);if(!V2(e,t))return vne(n,e,t);const i=e[t];return n.finalized_||!_a(i)?i:i===N_(n.base_,t)?(M_(n),n.copy_[t]=$2(i,n)):i},has(n,t){return t in Pc(n)},ownKeys(n){return Reflect.ownKeys(Pc(n))},set(n,t,e){const i=nL(Pc(n),t);if(i!=null&&i.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=N_(Pc(n),t),s=r==null?void 0:r[Or];if(s&&s.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(hne(e,r)&&(e!==void 0||V2(n.base_,t)))return!0;M_(n),z2(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return N_(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,M_(n),z2(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=Pc(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){bs(11)},getPrototypeOf(n){return Gd(n.base_)},setPrototypeOf(){bs(12)}},_m={};Wb(UE,(n,t)=>{_m[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_m.deleteProperty=function(n,t){return _m.set.call(this,n,t,void 0)};_m.set=function(n,t,e){return UE.set.call(this,n[0],t,e,n[0])};function N_(n,t){const e=n[Or];return(e?Pc(e):n)[t]}function vne(n,t,e){var r;const i=nL(t,e);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function nL(n,t){if(!(t in n))return;let e=Gd(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=Gd(e)}}function z2(n){n.modified_||(n.modified_=!0,n.parent_&&z2(n.parent_))}function M_(n){n.copy_||(n.copy_=F2(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var yne=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const s=e;e=t;const o=this;return function(l=s,...c){return o.produce(l,d=>e.call(this,d,...c))}}typeof e!="function"&&bs(6),i!==void 0&&typeof i!="function"&&bs(7);let r;if(_a(t)){const s=ZI(this),o=$2(t,void 0);let a=!0;try{r=e(o),a=!1}finally{a?B2(s):j2(s)}return YI(s,i),JI(r,s)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===XD&&(r=void 0),this.autoFreeze_&&$E(r,!0),i){const s=[],o=[];Xc("Patches").generateReplacementPatches_(t,r,s,o),i(s,o)}return r}else bs(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let i,r;return[this.produce(t,e,(o,a)=>{i=o,r=a}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){_a(n)||bs(8),Jc(n)&&(n=_ne(n));const t=ZI(this),e=$2(n,void 0);return e[Or].isManual_=!0,j2(t),e}finishDraft(n,t){const e=n&&n[Or];(!e||!e.isManual_)&&bs(9);const{scope_:i}=e;return YI(i,t),JI(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}e>-1&&(t=t.slice(e+1));const i=Xc("Patches").applyPatches_;return Jc(n)?i(n,t):this.produce(n,r=>i(r,t))}};function $2(n,t){const e=_w(n)?Xc("MapSet").proxyMap_(n,t):xw(n)?Xc("MapSet").proxySet_(n,t):wne(n,t);return(t?t.scope_:tL()).drafts_.push(e),e}function _ne(n){return Jc(n)||bs(10,n),iL(n)}function iL(n){if(!_a(n)||kw(n))return n;const t=n[Or];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=F2(n,t.scope_.immer_.useStrictShallowCopy_)}else e=F2(n,!0);return Wb(e,(i,r)=>{eL(e,i,iL(r))}),t&&(t.finalized_=!1),e}var Nr=new yne,rL=Nr.produce;Nr.produceWithPatches.bind(Nr);Nr.setAutoFreeze.bind(Nr);Nr.setUseStrictShallowCopy.bind(Nr);Nr.applyPatches.bind(Nr);Nr.createDraft.bind(Nr);Nr.finishDraft.bind(Nr);function sL(n){return({dispatch:e,getState:i})=>r=>s=>typeof s=="function"?s(e,i,n):r(s)}var xne=sL(),kne=sL,Cne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hb:Hb.apply(null,arguments)};function QI(n,t){function e(...i){if(t){let r=t(...i);if(!r)throw new Error(ma(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>dne(i)&&i.type===n,e}var oL=class jh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,jh.prototype)}static get[Symbol.species](){return jh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new jh(...t[0].concat(this)):new jh(...t.concat(this))}};function eP(n){return _a(n)?rL(n,()=>{}):n}function tP(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function Ene(n){return typeof n=="boolean"}var Sne=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=t??{};let o=new oL;return e&&(Ene(e)?o.push(xne):o.push(kne(e.extraArgument))),o},Tne="RTK_autoBatch",nP=n=>t=>{setTimeout(t,n)},Ane=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let r=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nP(10):n.type==="callback"?n.queueNotification:nP(n.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),p=i.subscribe(h);return a.add(d),()=>{p(),a.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[Tne]),s=!r,s&&(o||(o=!0,l(c))),i.dispatch(d)}finally{r=!0}}})},Ine=n=>function(e){const{autoBatch:i=!0}=e??{};let r=new oL(n);return i&&r.push(Ane(typeof i=="object"?i:void 0)),r};function Pne(n){const t=Sne(),{reducer:e=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof e=="function")a=e;else if(jE(e))a=JD(e);else throw new Error(ma(1));let l;typeof i=="function"?l=i(t):l=t();let c=Hb;r&&(c=Cne({trace:!1,...typeof r=="object"&&r}));const d=une(...l),h=Ine(d);let p=typeof o=="function"?o(h):h();const b=c(...p);return zE(a,s,b)}function aL(n){const t={},e=[];let i;const r={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ma(28));if(a in t)throw new Error(ma(29));return t[a]=o,r},addMatcher(s,o){return e.push({matcher:s,reducer:o}),r},addDefaultCase(s){return i=s,r}};return n(r),[t,e,i]}function Rne(n){return typeof n=="function"}function One(n,t){let[e,i,r]=aL(t),s;if(Rne(n))s=()=>eP(n());else{const a=eP(n);s=()=>a}function o(a=s(),l){let c=[e[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[r]),c.reduce((d,h)=>{if(h)if(Jc(d)){const b=h(d,l);return b===void 0?d:b}else{if(_a(d))return rL(d,p=>h(p,l));{const p=h(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},a)}return o.getInitialState=s,o}var Nne=Symbol.for("rtk-slice-createasyncthunk");function Mne(n,t){return`${n}/${t}`}function Dne({creators:n}={}){var e;const t=(e=n==null?void 0:n.asyncThunk)==null?void 0:e[Nne];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(ma(11));const a=(typeof r.reducers=="function"?r.reducers(Fne()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,P){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(ma(12));if(O in c.sliceCaseReducersByType)throw new Error(ma(13));return c.sliceCaseReducersByType[O]=P,d},addMatcher(A,P){return c.sliceMatchers.push({matcher:A,reducer:P}),d},exposeAction(A,P){return c.actionCreators[A]=P,d},exposeCaseReducer(A,P){return c.sliceCaseReducersByName[A]=P,d}};l.forEach(A=>{const P=a[A],O={reducerName:A,type:Mne(s,A),createNotation:typeof r.reducers=="function"};jne(P)?$ne(O,P,d,t):Bne(O,P,d)});function h(){const[A={},P=[],O=void 0]=typeof r.extraReducers=="function"?aL(r.extraReducers):[r.extraReducers],D={...A,...c.sliceCaseReducersByType};return One(r.initialState,R=>{for(let j in D)R.addCase(j,D[j]);for(let j of c.sliceMatchers)R.addMatcher(j.matcher,j.reducer);for(let j of P)R.addMatcher(j.matcher,j.reducer);O&&R.addDefaultCase(O)})}const p=A=>A,b=new Map;let _;function x(A,P){return _||(_=h()),_(A,P)}function C(){return _||(_=h()),_.getInitialState()}function S(A,P=!1){function O(R){let j=R[A];return typeof j>"u"&&P&&(j=C()),j}function D(R=p){const j=tP(b,P,()=>new WeakMap);return tP(j,R,()=>{const $={};for(const[Z,ge]of Object.entries(r.selectors??{}))$[Z]=Lne(ge,R,C,P);return $})}return{reducerPath:A,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const T={name:s,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:C,...S(o),injectInto(A,{reducerPath:P,...O}={}){const D=P??o;return A.inject({reducerPath:D,reducer:x},O),{...T,...S(D,!0)}}};return T}}function Lne(n,t,e,i){function r(s,...o){let a=t(s);return typeof a>"u"&&i&&(a=e()),n(a,...o)}return r.unwrapped=n,r}var Vne=Dne();function Fne(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function Bne({type:n,reducerName:t,createNotation:e},i,r){let s,o;if("reducer"in i){if(e&&!zne(i))throw new Error(ma(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(t,s).exposeAction(t,o?QI(n,o):QI(n))}function jne(n){return n._reducerDefinitionType==="asyncThunk"}function zne(n){return n._reducerDefinitionType==="reducerWithPrepare"}function $ne({type:n,reducerName:t},e,i,r){if(!r)throw new Error(ma(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=e,h=r(n,s,d);i.exposeAction(t,h),o&&i.addCase(h.fulfilled,o),a&&i.addCase(h.pending,a),l&&i.addCase(h.rejected,l),c&&i.addMatcher(h.settled,c),i.exposeCaseReducer(t,{fulfilled:o||_0,pending:a||_0,rejected:l||_0,settled:c||_0})}function _0(){}function ma(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const Une={isLoggedIn:!1,user:{}},lL=Vne({name:"user",initialState:Une,reducers:{setUser:(n,t)=>{const e=t.payload;n.isLoggedIn=!0,n.user=e},removeUser:(n,t)=>{n.isLoggedIn=!1,n.user={}}}}),{setUser:HE,removeUser:Hne}=lL.actions,Wne=lL.reducer;function qne(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}qne(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var _p=n=>typeof n=="number"&&!isNaN(n),Qc=n=>typeof n=="string",xa=n=>typeof n=="function",Gne=n=>Qc(n)||_p(n),U2=n=>Qc(n)||xa(n)?n:null,Kne=(n,t)=>n===!1||_p(n)&&n>0?n:t,H2=n=>y.isValidElement(n)||Qc(n)||xa(n)||_p(n);function Yne(n,t,e=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function Zne({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:h}){let p=e?`${n}--${o}`:n,b=e?`${t}--${o}`:t,_=y.useRef(0);return y.useLayoutEffect(()=>{let x=c.current,C=p.split(" "),S=T=>{T.target===c.current&&(h(),x.removeEventListener("animationend",S),x.removeEventListener("animationcancel",S),_.current===0&&T.type!=="animationcancel"&&x.classList.remove(...C))};x.classList.add(...C),x.addEventListener("animationend",S),x.addEventListener("animationcancel",S)},[]),y.useEffect(()=>{let x=c.current,C=()=>{x.removeEventListener("animationend",C),i?Yne(x,l,r):l()};d||(a?C():(_.current=1,x.className+=` ${b}`,x.addEventListener("animationend",C)))},[d]),Se.createElement(Se.Fragment,null,s)}}function iP(n,t){return{content:cL(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function cL(n,t,e=!1){return y.isValidElement(n)&&!Qc(n.type)?y.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):xa(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function Jne({closeToast:n,theme:t,ariaLabel:e="close"}){return Se.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},Se.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Se.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Xne({delay:n,isRunning:t,closeToast:e,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let h=r||o&&a===0,p={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let b=fa("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),_=xa(s)?s({rtl:l,type:i,defaultClassName:b}):fa(b,s),x={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&e()}};return Se.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Se.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),Se.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:_,style:p,...x}))}var Qne=1,uL=()=>`${Qne++}`;function eie(n,t,e){let i=1,r=0,s=[],o=[],a=t,l=new Map,c=new Set,d=T=>(c.add(T),()=>c.delete(T)),h=()=>{o=Array.from(l.values()),c.forEach(T=>T())},p=({containerId:T,toastId:A,updateId:P})=>{let O=T?T!==n:n!==1,D=l.has(A)&&P==null;return O||D},b=(T,A)=>{l.forEach(P=>{var O;(A==null||A===P.props.toastId)&&((O=P.toggle)==null||O.call(P,T))})},_=T=>{var A,P;(P=(A=T.props)==null?void 0:A.onClose)==null||P.call(A,T.removalReason),T.isActive=!1},x=T=>{if(T==null)l.forEach(_);else{let A=l.get(T);A&&_(A)}h()},C=()=>{r-=s.length,s=[]},S=T=>{var A,P;let{toastId:O,updateId:D}=T.props,R=D==null;T.staleId&&l.delete(T.staleId),T.isActive=!0,l.set(O,T),h(),e(iP(T,R?"added":"updated")),R&&((P=(A=T.props).onOpen)==null||P.call(A))};return{id:n,props:a,observe:d,toggle:b,removeToast:x,toasts:l,clearQueue:C,buildToast:(T,A)=>{if(p(A))return;let{toastId:P,updateId:O,data:D,staleId:R,delay:j}=A,$=O==null;$&&r++;let Z={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(A).filter(([ee,re])=>re!=null)),toastId:P,updateId:O,data:D,isIn:!1,className:U2(A.className||a.toastClassName),progressClassName:U2(A.progressClassName||a.progressClassName),autoClose:A.isLoading?!1:Kne(A.autoClose,a.autoClose),closeToast(ee){l.get(P).removalReason=ee,x(P)},deleteToast(){let ee=l.get(P);if(ee!=null){if(e(iP(ee,"removed")),l.delete(P),r--,r<0&&(r=0),s.length>0){S(s.shift());return}h()}}};Z.closeButton=a.closeButton,A.closeButton===!1||H2(A.closeButton)?Z.closeButton=A.closeButton:A.closeButton===!0&&(Z.closeButton=H2(a.closeButton)?a.closeButton:!0);let ge={content:T,props:Z,staleId:R};a.limit&&a.limit>0&&r>a.limit&&$?s.push(ge):_p(j)?setTimeout(()=>{S(ge)},j):S(ge)},setProps(T){a=T},setToggle:(T,A)=>{let P=l.get(T);P&&(P.toggle=A)},isToastActive:T=>{var A;return(A=l.get(T))==null?void 0:A.isActive},getSnapshot:()=>o}}var $i=new Map,xm=[],W2=new Set,tie=n=>W2.forEach(t=>t(n)),dL=()=>$i.size>0;function nie(){xm.forEach(n=>hL(n.content,n.options)),xm=[]}var iie=(n,{containerId:t})=>{var e;return(e=$i.get(t||1))==null?void 0:e.toasts.get(n)};function fL(n,t){var e;if(t)return!!((e=$i.get(t))!=null&&e.isToastActive(n));let i=!1;return $i.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function rie(n){if(!dL()){xm=xm.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||Gne(n))$i.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=$i.get(n.containerId);t?t.removeToast(n.id):$i.forEach(e=>{e.removeToast(n.id)})}}var sie=(n={})=>{$i.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function hL(n,t){H2(n)&&(dL()||xm.push({content:n,options:t}),$i.forEach(e=>{e.buildToast(n,t)}))}function oie(n){var t;(t=$i.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function mL(n,t){$i.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function aie(n){let t=n.containerId||1;return{subscribe(e){let i=eie(t,n,tie);$i.set(t,i);let r=i.observe(e);return nie(),()=>{r(),$i.delete(t)}},setProps(e){var i;(i=$i.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=$i.get(t))==null?void 0:e.getSnapshot()}}}function lie(n){return W2.add(n),()=>{W2.delete(n)}}function cie(n){return n&&(Qc(n.toastId)||_p(n.toastId))?n.toastId:uL()}function xp(n,t){return hL(n,t),t.toastId}function Cw(n,t){return{...t,type:t&&t.type||n,toastId:cie(t)}}function Ew(n){return(t,e)=>xp(t,Cw(n,e))}function Lt(n,t){return xp(n,Cw("default",t))}Lt.loading=(n,t)=>xp(n,Cw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function uie(n,{pending:t,error:e,success:i},r){let s;t&&(s=Qc(t)?Lt.loading(t,r):Lt.loading(t.render,{...r,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,h)=>{if(d==null){Lt.dismiss(s);return}let p={type:c,...o,...r,data:h},b=Qc(d)?{render:d}:d;return s?Lt.update(s,{...p,...b}):Lt(b.render,{...p,...b}),h},l=xa(n)?n():n;return l.then(c=>a("success",i,c)).catch(c=>a("error",e,c)),l}Lt.promise=uie;Lt.success=Ew("success");Lt.info=Ew("info");Lt.error=Ew("error");Lt.warning=Ew("warning");Lt.warn=Lt.warning;Lt.dark=(n,t)=>xp(n,Cw("default",{theme:"dark",...t}));function die(n){rie(n)}Lt.dismiss=die;Lt.clearWaitingQueue=sie;Lt.isActive=fL;Lt.update=(n,t={})=>{let e=iie(n,t);if(e){let{props:i,content:r}=e,s={delay:100,...i,...t,toastId:t.toastId||n,updateId:uL()};s.toastId!==n&&(s.staleId=n);let o=s.render||r;delete s.render,xp(o,s)}};Lt.done=n=>{Lt.update(n,{progress:1})};Lt.onChange=lie;Lt.play=n=>mL(!0,n);Lt.pause=n=>mL(!1,n);function fie(n){var t;let{subscribe:e,getSnapshot:i,setProps:r}=y.useRef(aie(n)).current;r(n);let s=(t=y.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return n.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:fL,count:s==null?void 0:s.length}}function hie(n){let[t,e]=y.useState(!1),[i,r]=y.useState(!1),s=y.useRef(null),o=y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=n;oie({id:n.toastId,containerId:n.containerId,fn:e}),y.useEffect(()=>{if(n.pauseOnFocusLoss)return p(),()=>{b()}},[n.pauseOnFocusLoss]);function p(){document.hasFocus()||S(),window.addEventListener("focus",C),window.addEventListener("blur",S)}function b(){window.removeEventListener("focus",C),window.removeEventListener("blur",S)}function _(R){if(n.draggable===!0||n.draggable===R.pointerType){T();let j=s.current;o.canCloseOnClick=!0,o.canDrag=!0,j.style.transition="none",n.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=j.offsetWidth*(n.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=j.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function x(R){let{top:j,bottom:$,left:Z,right:ge}=s.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&n.pauseOnHover&&R.clientX>=Z&&R.clientX<=ge&&R.clientY>=j&&R.clientY<=$?S():C()}function C(){e(!0)}function S(){e(!1)}function T(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",O)}function A(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",O)}function P(R){let j=s.current;if(o.canDrag&&j){o.didMove=!0,t&&S(),n.draggableDirection==="x"?o.delta=R.clientX-o.start:o.delta=R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1);let $=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;j.style.transform=`translate3d(${$},0)`,j.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function O(){A();let R=s.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let D={onPointerDown:_,onPointerUp:x};return a&&l&&(D.onMouseEnter=S,n.stacked||(D.onMouseLeave=C)),h&&(D.onClick=R=>{d&&d(R),o.canCloseOnClick&&c(!0)}),{playToast:C,pauseToast:S,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:D}}var mie=typeof window<"u"?y.useLayoutEffect:y.useEffect,Sw=({theme:n,type:t,isLoading:e,...i})=>Se.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function pie(n){return Se.createElement(Sw,{...n},Se.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function gie(n){return Se.createElement(Sw,{...n},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bie(n){return Se.createElement(Sw,{...n},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function wie(n){return Se.createElement(Sw,{...n},Se.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function vie(){return Se.createElement("div",{className:"Toastify__spinner"})}var q2={info:gie,warning:pie,success:bie,error:wie,spinner:vie},yie=n=>n in q2;function _ie({theme:n,type:t,isLoading:e,icon:i}){let r=null,s={theme:n,type:t};return i===!1||(xa(i)?r=i({...s,isLoading:e}):y.isValidElement(i)?r=y.cloneElement(i,s):e?r=q2.spinner():yie(t)&&(r=q2[t](s))),r}var xie=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:r,playToast:s}=hie(n),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:p,transition:b,position:_,className:x,style:C,progressClassName:S,updateId:T,role:A,progress:P,rtl:O,toastId:D,deleteToast:R,isIn:j,isLoading:$,closeOnClick:Z,theme:ge,ariaLabel:ee}=n,re=fa("Toastify__toast",`Toastify__toast-theme--${ge}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":Z}),ne=xa(x)?x({rtl:O,position:_,type:d,defaultClassName:re}):fa(re,x),ve=_ie(n),me=!!P||!l,fe={closeToast:p,type:d,theme:ge},U=null;return o===!1||(xa(o)?U=o(fe):y.isValidElement(o)?U=y.cloneElement(o,fe):U=Jne(fe)),Se.createElement(b,{isIn:j,done:R,position:_,preventExitTransition:e,nodeRef:i,playToast:s},Se.createElement("div",{id:D,tabIndex:0,onClick:c,"data-in":j,className:ne,...r,style:C,ref:i,...j&&{role:A,"aria-label":ee}},ve!=null&&Se.createElement("div",{className:fa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!$})},ve),cL(a,n,!t),U,!n.customProgressBar&&Se.createElement(Xne,{...T&&!me?{key:`p-${T}`}:{},rtl:O,theme:ge,delay:l,isRunning:t,isIn:j,closeToast:p,hide:h,type:d,className:S,controlledProgress:me,progress:P||0})))},kie=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),Cie=Zne(kie("bounce",!0)),Eie={position:"top-right",transition:Cie,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Sie(n){let t={...Eie,...n},e=n.stacked,[i,r]=y.useState(!0),s=y.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=fie(t),{className:c,style:d,rtl:h,containerId:p,hotKeys:b}=t;function _(C){let S=fa("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":h});return xa(c)?c({position:C,rtl:h,defaultClassName:S}):fa(S,U2(c))}function x(){e&&(r(!0),Lt.play())}return mie(()=>{var C;if(e){let S=s.current.querySelectorAll('[data-in="true"]'),T=12,A=(C=t.position)==null?void 0:C.includes("top"),P=0,O=0;Array.from(S).reverse().forEach((D,R)=>{let j=D;j.classList.add("Toastify__toast--stacked"),R>0&&(j.dataset.collapsed=`${i}`),j.dataset.pos||(j.dataset.pos=A?"top":"bot");let $=P*(i?.2:1)+(i?0:T*R);j.style.setProperty("--y",`${A?$:$*-1}px`),j.style.setProperty("--g",`${T}`),j.style.setProperty("--s",`${1-(i?O:0)}`),P+=j.offsetHeight,O+=.025})}},[i,l,e]),y.useEffect(()=>{function C(S){var T;let A=s.current;b(S)&&((T=A.querySelector('[tabIndex="0"]'))==null||T.focus(),r(!1),Lt.pause()),S.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(r(!0),Lt.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[b]),Se.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{e&&(r(!1),Lt.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((C,S)=>{let T=S.length?{...d}:{...d,pointerEvents:"none"};return Se.createElement("div",{tabIndex:-1,className:_(C),"data-stacked":e,style:T,key:`c-${C}`},S.map(({content:A,props:P})=>Se.createElement(xie,{...P,stacked:e,collapseAll:x,isIn:a(P.toastId,P.containerId),key:`t-${P.key}`},A)))}))}const dt=(n,t)=>{const e={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};n==="success"?Lt.success(t,e):n==="error"?Lt.error(t,e):n==="info"?Lt.info(t,e):Lt(t,e)},Tie=()=>{const{toggleSidebar:n}=wp(),[t,e]=y.useState(!1),i=gw(),r=So(),s=Io(l=>l.user),o=async()=>{try{const l=await fetch("http://localhost:3000/api/auth/logout",{method:"get",credentials:"include"}),c=await l.json();if(!l.ok)return dt("error",c.message);i(Hne()),r(Gc),dt("success",c.message)}catch(l){dt("error",l.message)}},a=()=>{e(!t)};return v.jsxs("div",{className:" flex justify-between item-center h-16 fixed w-full z-20 bg-white px-7 border-b ",children:[v.jsxs("div",{className:"flex justify-center items-center gap-2",children:[v.jsx("button",{onClick:n,className:"md:hidden",type:"button",children:v.jsx(one,{})}),v.jsx(Pn,{to:Gc,children:v.jsx("img",{src:kQ,className:"md:w-100 w-48 md:p-8 md:mt-8"})})]}),v.jsx("div",{className:"w-[500px]",children:v.jsx("div",{className:`md:relative md:block  absolute bg-white left-0 w-full md:top-0 top-16 md:p-0 p-1 ${t?"block":"hidden"}`,children:v.jsx(TQ,{})})}),v.jsxs("div",{className:"flex items-center gap-5",children:[v.jsx("button",{onClick:a,type:"button ",className:"md:hidden block",children:v.jsx(SQ,{size:25})}),s.isLoggedIn?v.jsxs($te,{children:[v.jsx(Ute,{children:v.jsx(Yc,{children:v.jsx(Zc,{src:s.user.avatar||vm})})}),v.jsxs(BD,{children:[v.jsxs(jD,{children:[v.jsx("p",{children:s.user.name}),v.jsx("p",{className:"text-sm",children:s.user.email})]}),v.jsx(D2,{}),v.jsx(ob,{asChild:!0,className:"cursor-pointer",children:v.jsxs(Pn,{to:lM,children:[v.jsx(ine,{}),"profile"]})}),v.jsx(ob,{asChild:!0,className:"cursor-pointer",children:v.jsxs(Pn,{to:xE,children:[v.jsx(rne,{}),"Create Blog"]})}),v.jsx(D2,{}),v.jsxs(ob,{onClick:o,className:"cursor-pointer",children:[v.jsx(sne,{color:"red"}),"Logout"]})]})]}):v.jsx(Bn,{asChild:!0,className:"rounded-full mt-5 border-b",children:v.jsxs(Pn,{to:Kc,children:[v.jsx(CQ,{}),"Sign In"]})})]})]})},Aie=()=>v.jsxs(XN,{children:[v.jsx(Tie,{}),v.jsx(_Q,{}),v.jsxs("main",{className:"w-full",children:[v.jsx("div",{className:"w-full min-h-[calc(100vh-45px)] bg-grey py-28 px-10",children:v.jsx($C,{})}),v.jsx(xQ,{})]})]}),js=()=>v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("div",{className:"w-12 h-12 border-4 border-gray-300 border-t-violet-500 rounded-full animate-spin"})}),Lr=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,className:Ie("rounded-xl border bg-card text-card-foreground shadow",n),...t}));Lr.displayName="Card";const WE=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,className:Ie("flex flex-col space-y-1.5 p-6",n),...t}));WE.displayName="CardHeader";const Iie=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,className:Ie("font-semibold leading-none tracking-tight",n),...t}));Iie.displayName="CardTitle";const Pie=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,className:Ie("text-sm text-muted-foreground",n),...t}));Pie.displayName="CardDescription";const zs=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,className:Ie("p-6 pt-0",n),...t}));zs.displayName="CardContent";const Rie=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{ref:e,className:Ie("flex items-center p-6 pt-0",n),...t}));Rie.displayName="CardFooter";const Oie=fp("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nie({className:n,variant:t,...e}){return v.jsx("div",{className:Ie(Oie({variant:t}),n),...e})}function Mie(n){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]},{tag:"path",attr:{d:"M8 14h.01"},child:[]},{tag:"path",attr:{d:"M12 14h.01"},child:[]},{tag:"path",attr:{d:"M16 14h.01"},child:[]},{tag:"path",attr:{d:"M8 18h.01"},child:[]},{tag:"path",attr:{d:"M12 18h.01"},child:[]},{tag:"path",attr:{d:"M16 18h.01"},child:[]}]})(n)}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var pL;function Ce(){return pL.apply(null,arguments)}function Die(n){pL=n}function Is(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function Fc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Mt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function qE(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var t;for(t in n)if(Mt(n,t))return!1;return!0}function rr(n){return n===void 0}function ka(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function kp(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function gL(n,t){var e=[],i,r=n.length;for(i=0;i<r;++i)e.push(t(n[i],i));return e}function Sl(n,t){for(var e in t)Mt(t,e)&&(n[e]=t[e]);return Mt(t,"toString")&&(n.toString=t.toString),Mt(t,"valueOf")&&(n.valueOf=t.valueOf),n}function Po(n,t,e,i){return BL(n,t,e,i,!0).utc()}function Lie(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function gt(n){return n._pf==null&&(n._pf=Lie()),n._pf}var G2;Array.prototype.some?G2=Array.prototype.some:G2=function(n){var t=Object(this),e=t.length>>>0,i;for(i=0;i<e;i++)if(i in t&&n.call(this,t[i],i,t))return!0;return!1};function GE(n){var t=null,e=!1,i=n._d&&!isNaN(n._d.getTime());if(i&&(t=gt(n),e=G2.call(t.parsedDateParts,function(r){return r!=null}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&e),n._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i;return n._isValid}function Tw(n){var t=Po(NaN);return n!=null?Sl(gt(t),n):gt(t).userInvalidated=!0,t}var rP=Ce.momentProperties=[],D_=!1;function KE(n,t){var e,i,r,s=rP.length;if(rr(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),rr(t._i)||(n._i=t._i),rr(t._f)||(n._f=t._f),rr(t._l)||(n._l=t._l),rr(t._strict)||(n._strict=t._strict),rr(t._tzm)||(n._tzm=t._tzm),rr(t._isUTC)||(n._isUTC=t._isUTC),rr(t._offset)||(n._offset=t._offset),rr(t._pf)||(n._pf=gt(t)),rr(t._locale)||(n._locale=t._locale),s>0)for(e=0;e<s;e++)i=rP[e],r=t[i],rr(r)||(n[i]=r);return n}function Cp(n){KE(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),D_===!1&&(D_=!0,Ce.updateOffset(this),D_=!1)}function Ps(n){return n instanceof Cp||n!=null&&n._isAMomentObject!=null}function bL(n){Ce.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function is(n,t){var e=!0;return Sl(function(){if(Ce.deprecationHandler!=null&&Ce.deprecationHandler(null,n),e){var i=[],r,s,o,a=arguments.length;for(s=0;s<a;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])Mt(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];i.push(r)}bL(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),e=!1}return t.apply(this,arguments)},t)}var sP={};function wL(n,t){Ce.deprecationHandler!=null&&Ce.deprecationHandler(n,t),sP[n]||(bL(t),sP[n]=!0)}Ce.suppressDeprecationWarnings=!1;Ce.deprecationHandler=null;function Ro(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function Vie(n){var t,e;for(e in n)Mt(n,e)&&(t=n[e],Ro(t)?this[e]=t:this["_"+e]=t);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function K2(n,t){var e=Sl({},n),i;for(i in t)Mt(t,i)&&(Fc(n[i])&&Fc(t[i])?(e[i]={},Sl(e[i],n[i]),Sl(e[i],t[i])):t[i]!=null?e[i]=t[i]:delete e[i]);for(i in n)Mt(n,i)&&!Mt(t,i)&&Fc(n[i])&&(e[i]=Sl({},e[i]));return e}function YE(n){n!=null&&this.set(n)}var Y2;Object.keys?Y2=Object.keys:Y2=function(n){var t,e=[];for(t in n)Mt(n,t)&&e.push(t);return e};var Fie={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Bie(n,t,e){var i=this._calendar[n]||this._calendar.sameElse;return Ro(i)?i.call(t,e):i}function go(n,t,e){var i=""+Math.abs(n),r=t-i.length,s=n>=0;return(s?e?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var ZE=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,x0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L_={},Md={};function Je(n,t,e,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),n&&(Md[n]=r),t&&(Md[t[0]]=function(){return go(r.apply(this,arguments),t[1],t[2])}),e&&(Md[e]=function(){return this.localeData().ordinal(r.apply(this,arguments),n)})}function jie(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function zie(n){var t=n.match(ZE),e,i;for(e=0,i=t.length;e<i;e++)Md[t[e]]?t[e]=Md[t[e]]:t[e]=jie(t[e]);return function(r){var s="",o;for(o=0;o<i;o++)s+=Ro(t[o])?t[o].call(r,n):t[o];return s}}function ab(n,t){return n.isValid()?(t=vL(t,n.localeData()),L_[t]=L_[t]||zie(t),L_[t](n)):n.localeData().invalidDate()}function vL(n,t){var e=5;function i(r){return t.longDateFormat(r)||r}for(x0.lastIndex=0;e>=0&&x0.test(n);)n=n.replace(x0,i),x0.lastIndex=0,e-=1;return n}var $ie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Uie(n){var t=this._longDateFormat[n],e=this._longDateFormat[n.toUpperCase()];return t||!e?t:(this._longDateFormat[n]=e.match(ZE).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var Hie="Invalid date";function Wie(){return this._invalidDate}var qie="%d",Gie=/\d{1,2}/;function Kie(n){return this._ordinal.replace("%d",n)}var Yie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Zie(n,t,e,i){var r=this._relativeTime[e];return Ro(r)?r(n,t,e,i):r.replace(/%d/i,n)}function Jie(n,t){var e=this._relativeTime[n>0?"future":"past"];return Ro(e)?e(t):e.replace(/%s/i,t)}var oP={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function rs(n){return typeof n=="string"?oP[n]||oP[n.toLowerCase()]:void 0}function JE(n){var t={},e,i;for(i in n)Mt(n,i)&&(e=rs(i),e&&(t[e]=n[i]));return t}var Xie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Qie(n){var t=[],e;for(e in n)Mt(n,e)&&t.push({unit:e,priority:Xie[e]});return t.sort(function(i,r){return i.priority-r.priority}),t}var yL=/\d/,Vr=/\d\d/,_L=/\d{3}/,XE=/\d{4}/,Aw=/[+-]?\d{6}/,ln=/\d\d?/,xL=/\d\d\d\d?/,kL=/\d\d\d\d\d\d?/,Iw=/\d{1,3}/,QE=/\d{1,4}/,Pw=/[+-]?\d{1,6}/,vf=/\d+/,Rw=/[+-]?\d+/,ere=/Z|[+-]\d\d:?\d\d/gi,Ow=/Z|[+-]\d\d(?::?\d\d)?/gi,tre=/[+-]?\d+(\.\d{1,3})?/,Ep=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,yf=/^[1-9]\d?/,eS=/^([1-9]\d|\d)/,Kb;Kb={};function Be(n,t,e){Kb[n]=Ro(t)?t:function(i,r){return i&&e?e:t}}function nre(n,t){return Mt(Kb,n)?Kb[n](t._strict,t._locale):new RegExp(ire(n))}function ire(n){return pa(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,r,s){return e||i||r||s}))}function pa(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Yr(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function kt(n){var t=+n,e=0;return t!==0&&isFinite(t)&&(e=Yr(t)),e}var Z2={};function Gt(n,t){var e,i=t,r;for(typeof n=="string"&&(n=[n]),ka(t)&&(i=function(s,o){o[t]=kt(s)}),r=n.length,e=0;e<r;e++)Z2[n[e]]=i}function Sp(n,t){Gt(n,function(e,i,r,s){r._w=r._w||{},t(e,r._w,r,s)})}function rre(n,t,e){t!=null&&Mt(Z2,n)&&Z2[n](t,e._a,e,n)}function Nw(n){return n%4===0&&n%100!==0||n%400===0}var Ni=0,sa=1,so=2,ti=3,ys=4,oa=5,Mc=6,sre=7,ore=8;Je("Y",0,0,function(){var n=this.year();return n<=9999?go(n,4):"+"+n});Je(0,["YY",2],0,function(){return this.year()%100});Je(0,["YYYY",4],0,"year");Je(0,["YYYYY",5],0,"year");Je(0,["YYYYYY",6,!0],0,"year");Be("Y",Rw);Be("YY",ln,Vr);Be("YYYY",QE,XE);Be("YYYYY",Pw,Aw);Be("YYYYYY",Pw,Aw);Gt(["YYYYY","YYYYYY"],Ni);Gt("YYYY",function(n,t){t[Ni]=n.length===2?Ce.parseTwoDigitYear(n):kt(n)});Gt("YY",function(n,t){t[Ni]=Ce.parseTwoDigitYear(n)});Gt("Y",function(n,t){t[Ni]=parseInt(n,10)});function Yh(n){return Nw(n)?366:365}Ce.parseTwoDigitYear=function(n){return kt(n)+(kt(n)>68?1900:2e3)};var CL=_f("FullYear",!0);function are(){return Nw(this.year())}function _f(n,t){return function(e){return e!=null?(EL(this,n,e),Ce.updateOffset(this,t),this):km(this,n)}}function km(n,t){if(!n.isValid())return NaN;var e=n._d,i=n._isUTC;switch(t){case"Milliseconds":return i?e.getUTCMilliseconds():e.getMilliseconds();case"Seconds":return i?e.getUTCSeconds():e.getSeconds();case"Minutes":return i?e.getUTCMinutes():e.getMinutes();case"Hours":return i?e.getUTCHours():e.getHours();case"Date":return i?e.getUTCDate():e.getDate();case"Day":return i?e.getUTCDay():e.getDay();case"Month":return i?e.getUTCMonth():e.getMonth();case"FullYear":return i?e.getUTCFullYear():e.getFullYear();default:return NaN}}function EL(n,t,e){var i,r,s,o,a;if(!(!n.isValid()||isNaN(e))){switch(i=n._d,r=n._isUTC,t){case"Milliseconds":return void(r?i.setUTCMilliseconds(e):i.setMilliseconds(e));case"Seconds":return void(r?i.setUTCSeconds(e):i.setSeconds(e));case"Minutes":return void(r?i.setUTCMinutes(e):i.setMinutes(e));case"Hours":return void(r?i.setUTCHours(e):i.setHours(e));case"Date":return void(r?i.setUTCDate(e):i.setDate(e));case"FullYear":break;default:return}s=e,o=n.month(),a=n.date(),a=a===29&&o===1&&!Nw(s)?28:a,r?i.setUTCFullYear(s,o,a):i.setFullYear(s,o,a)}}function lre(n){return n=rs(n),Ro(this[n])?this[n]():this}function cre(n,t){if(typeof n=="object"){n=JE(n);var e=Qie(n),i,r=e.length;for(i=0;i<r;i++)this[e[i].unit](n[e[i].unit])}else if(n=rs(n),Ro(this[n]))return this[n](t);return this}function ure(n,t){return(n%t+t)%t}var Dn;Array.prototype.indexOf?Dn=Array.prototype.indexOf:Dn=function(n){var t;for(t=0;t<this.length;++t)if(this[t]===n)return t;return-1};function tS(n,t){if(isNaN(n)||isNaN(t))return NaN;var e=ure(t,12);return n+=(t-e)/12,e===1?Nw(n)?29:28:31-e%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1});Je("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});Je("MMMM",0,0,function(n){return this.localeData().months(this,n)});Be("M",ln,yf);Be("MM",ln,Vr);Be("MMM",function(n,t){return t.monthsShortRegex(n)});Be("MMMM",function(n,t){return t.monthsRegex(n)});Gt(["M","MM"],function(n,t){t[sa]=kt(n)-1});Gt(["MMM","MMMM"],function(n,t,e,i){var r=e._locale.monthsParse(n,i,e._strict);r!=null?t[sa]=r:gt(e).invalidMonth=n});var dre="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),SL="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),TL=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fre=Ep,hre=Ep;function mre(n,t){return n?Is(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||TL).test(t)?"format":"standalone"][n.month()]:Is(this._months)?this._months:this._months.standalone}function pre(n,t){return n?Is(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[TL.test(t)?"format":"standalone"][n.month()]:Is(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function gre(n,t,e){var i,r,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Po([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return e?t==="MMM"?(r=Dn.call(this._shortMonthsParse,o),r!==-1?r:null):(r=Dn.call(this._longMonthsParse,o),r!==-1?r:null):t==="MMM"?(r=Dn.call(this._shortMonthsParse,o),r!==-1?r:(r=Dn.call(this._longMonthsParse,o),r!==-1?r:null)):(r=Dn.call(this._longMonthsParse,o),r!==-1?r:(r=Dn.call(this._shortMonthsParse,o),r!==-1?r:null))}function bre(n,t,e){var i,r,s;if(this._monthsParseExact)return gre.call(this,n,t,e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=Po([2e3,i]),e&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!e&&!this._monthsParse[i]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),e&&t==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(e&&t==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!e&&this._monthsParse[i].test(n))return i}}function AL(n,t){if(!n.isValid())return n;if(typeof t=="string"){if(/^\d+$/.test(t))t=kt(t);else if(t=n.localeData().monthsParse(t),!ka(t))return n}var e=t,i=n.date();return i=i<29?i:Math.min(i,tS(n.year(),e)),n._isUTC?n._d.setUTCMonth(e,i):n._d.setMonth(e,i),n}function IL(n){return n!=null?(AL(this,n),Ce.updateOffset(this,!0),this):km(this,"Month")}function wre(){return tS(this.year(),this.month())}function vre(n){return this._monthsParseExact?(Mt(this,"_monthsRegex")||PL.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Mt(this,"_monthsShortRegex")||(this._monthsShortRegex=fre),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function yre(n){return this._monthsParseExact?(Mt(this,"_monthsRegex")||PL.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Mt(this,"_monthsRegex")||(this._monthsRegex=hre),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function PL(){function n(l,c){return c.length-l.length}var t=[],e=[],i=[],r,s,o,a;for(r=0;r<12;r++)s=Po([2e3,r]),o=pa(this.monthsShort(s,"")),a=pa(this.months(s,"")),t.push(o),e.push(a),i.push(a),i.push(o);t.sort(n),e.sort(n),i.sort(n),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function _re(n,t,e,i,r,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,t,e,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,t,e,i,r,s,o),a}function Cm(n){var t,e;return n<100&&n>=0?(e=Array.prototype.slice.call(arguments),e[0]=n+400,t=new Date(Date.UTC.apply(null,e)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n)):t=new Date(Date.UTC.apply(null,arguments)),t}function Yb(n,t,e){var i=7+t-e,r=(7+Cm(n,0,i).getUTCDay()-t)%7;return-r+i-1}function RL(n,t,e,i,r){var s=(7+e-i)%7,o=Yb(n,i,r),a=1+7*(t-1)+s+o,l,c;return a<=0?(l=n-1,c=Yh(l)+a):a>Yh(n)?(l=n+1,c=a-Yh(n)):(l=n,c=a),{year:l,dayOfYear:c}}function Em(n,t,e){var i=Yb(n.year(),t,e),r=Math.floor((n.dayOfYear()-i-1)/7)+1,s,o;return r<1?(o=n.year()-1,s=r+ga(o,t,e)):r>ga(n.year(),t,e)?(s=r-ga(n.year(),t,e),o=n.year()+1):(o=n.year(),s=r),{week:s,year:o}}function ga(n,t,e){var i=Yb(n,t,e),r=Yb(n+1,t,e);return(Yh(n)-i+r)/7}Je("w",["ww",2],"wo","week");Je("W",["WW",2],"Wo","isoWeek");Be("w",ln,yf);Be("ww",ln,Vr);Be("W",ln,yf);Be("WW",ln,Vr);Sp(["w","ww","W","WW"],function(n,t,e,i){t[i.substr(0,1)]=kt(n)});function xre(n){return Em(n,this._week.dow,this._week.doy).week}var kre={dow:0,doy:6};function Cre(){return this._week.dow}function Ere(){return this._week.doy}function Sre(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")}function Tre(n){var t=Em(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")}Je("d",0,"do","day");Je("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});Je("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});Je("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});Je("e",0,0,"weekday");Je("E",0,0,"isoWeekday");Be("d",ln);Be("e",ln);Be("E",ln);Be("dd",function(n,t){return t.weekdaysMinRegex(n)});Be("ddd",function(n,t){return t.weekdaysShortRegex(n)});Be("dddd",function(n,t){return t.weekdaysRegex(n)});Sp(["dd","ddd","dddd"],function(n,t,e,i){var r=e._locale.weekdaysParse(n,i,e._strict);r!=null?t.d=r:gt(e).invalidWeekday=n});Sp(["d","e","E"],function(n,t,e,i){t[i]=kt(n)});function Are(n,t){return typeof n!="string"?n:isNaN(n)?(n=t.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function Ire(n,t){return typeof n=="string"?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function nS(n,t){return n.slice(t,7).concat(n.slice(0,t))}var Pre="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),OL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rre="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ore=Ep,Nre=Ep,Mre=Ep;function Dre(n,t){var e=Is(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return n===!0?nS(e,this._week.dow):n?e[n.day()]:e}function Lre(n){return n===!0?nS(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function Vre(n){return n===!0?nS(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Fre(n,t,e){var i,r,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Po([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return e?t==="dddd"?(r=Dn.call(this._weekdaysParse,o),r!==-1?r:null):t==="ddd"?(r=Dn.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=Dn.call(this._minWeekdaysParse,o),r!==-1?r:null):t==="dddd"?(r=Dn.call(this._weekdaysParse,o),r!==-1||(r=Dn.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=Dn.call(this._minWeekdaysParse,o),r!==-1?r:null)):t==="ddd"?(r=Dn.call(this._shortWeekdaysParse,o),r!==-1||(r=Dn.call(this._weekdaysParse,o),r!==-1)?r:(r=Dn.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=Dn.call(this._minWeekdaysParse,o),r!==-1||(r=Dn.call(this._weekdaysParse,o),r!==-1)?r:(r=Dn.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function Bre(n,t,e){var i,r,s;if(this._weekdaysParseExact)return Fre.call(this,n,t,e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=Po([2e3,1]).day(i),e&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),e&&t==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(e&&t==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(e&&t==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!e&&this._weekdaysParse[i].test(n))return i}}function jre(n){if(!this.isValid())return n!=null?this:NaN;var t=km(this,"Day");return n!=null?(n=Are(n,this.localeData()),this.add(n-t,"d")):t}function zre(n){if(!this.isValid())return n!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")}function $re(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var t=Ire(n,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ure(n){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||iS.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Mt(this,"_weekdaysRegex")||(this._weekdaysRegex=Ore),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Hre(n){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||iS.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nre),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wre(n){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||iS.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mre),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function iS(){function n(d,h){return h.length-d.length}var t=[],e=[],i=[],r=[],s,o,a,l,c;for(s=0;s<7;s++)o=Po([2e3,1]).day(s),a=pa(this.weekdaysMin(o,"")),l=pa(this.weekdaysShort(o,"")),c=pa(this.weekdays(o,"")),t.push(a),e.push(l),i.push(c),r.push(a),r.push(l),r.push(c);t.sort(n),e.sort(n),i.sort(n),r.sort(n),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function rS(){return this.hours()%12||12}function qre(){return this.hours()||24}Je("H",["HH",2],0,"hour");Je("h",["hh",2],0,rS);Je("k",["kk",2],0,qre);Je("hmm",0,0,function(){return""+rS.apply(this)+go(this.minutes(),2)});Je("hmmss",0,0,function(){return""+rS.apply(this)+go(this.minutes(),2)+go(this.seconds(),2)});Je("Hmm",0,0,function(){return""+this.hours()+go(this.minutes(),2)});Je("Hmmss",0,0,function(){return""+this.hours()+go(this.minutes(),2)+go(this.seconds(),2)});function NL(n,t){Je(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}NL("a",!0);NL("A",!1);function ML(n,t){return t._meridiemParse}Be("a",ML);Be("A",ML);Be("H",ln,eS);Be("h",ln,yf);Be("k",ln,yf);Be("HH",ln,Vr);Be("hh",ln,Vr);Be("kk",ln,Vr);Be("hmm",xL);Be("hmmss",kL);Be("Hmm",xL);Be("Hmmss",kL);Gt(["H","HH"],ti);Gt(["k","kk"],function(n,t,e){var i=kt(n);t[ti]=i===24?0:i});Gt(["a","A"],function(n,t,e){e._isPm=e._locale.isPM(n),e._meridiem=n});Gt(["h","hh"],function(n,t,e){t[ti]=kt(n),gt(e).bigHour=!0});Gt("hmm",function(n,t,e){var i=n.length-2;t[ti]=kt(n.substr(0,i)),t[ys]=kt(n.substr(i)),gt(e).bigHour=!0});Gt("hmmss",function(n,t,e){var i=n.length-4,r=n.length-2;t[ti]=kt(n.substr(0,i)),t[ys]=kt(n.substr(i,2)),t[oa]=kt(n.substr(r)),gt(e).bigHour=!0});Gt("Hmm",function(n,t,e){var i=n.length-2;t[ti]=kt(n.substr(0,i)),t[ys]=kt(n.substr(i))});Gt("Hmmss",function(n,t,e){var i=n.length-4,r=n.length-2;t[ti]=kt(n.substr(0,i)),t[ys]=kt(n.substr(i,2)),t[oa]=kt(n.substr(r))});function Gre(n){return(n+"").toLowerCase().charAt(0)==="p"}var Kre=/[ap]\.?m?\.?/i,Yre=_f("Hours",!0);function Zre(n,t,e){return n>11?e?"pm":"PM":e?"am":"AM"}var DL={calendar:Fie,longDateFormat:$ie,invalidDate:Hie,ordinal:qie,dayOfMonthOrdinalParse:Gie,relativeTime:Yie,months:dre,monthsShort:SL,week:kre,weekdays:Pre,weekdaysMin:Rre,weekdaysShort:OL,meridiemParse:Kre},un={},yh={},Sm;function Jre(n,t){var e,i=Math.min(n.length,t.length);for(e=0;e<i;e+=1)if(n[e]!==t[e])return e;return i}function aP(n){return n&&n.toLowerCase().replace("_","-")}function Xre(n){for(var t=0,e,i,r,s;t<n.length;){for(s=aP(n[t]).split("-"),e=s.length,i=aP(n[t+1]),i=i?i.split("-"):null;e>0;){if(r=Mw(s.slice(0,e).join("-")),r)return r;if(i&&i.length>=e&&Jre(s,i)>=e-1)break;e--}t++}return Sm}function Qre(n){return!!(n&&n.match("^[^/\\\\]*$"))}function Mw(n){var t=null,e;if(un[n]===void 0&&typeof Oi<"u"&&Oi&&Oi.exports&&Qre(n))try{t=Sm._abbr,e=require,e("./locale/"+n),Pl(t)}catch{un[n]=null}return un[n]}function Pl(n,t){var e;return n&&(rr(t)?e=La(n):e=sS(n,t),e?Sm=e:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),Sm._abbr}function sS(n,t){if(t!==null){var e,i=DL;if(t.abbr=n,un[n]!=null)wL("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=un[n]._config;else if(t.parentLocale!=null)if(un[t.parentLocale]!=null)i=un[t.parentLocale]._config;else if(e=Mw(t.parentLocale),e!=null)i=e._config;else return yh[t.parentLocale]||(yh[t.parentLocale]=[]),yh[t.parentLocale].push({name:n,config:t}),null;return un[n]=new YE(K2(i,t)),yh[n]&&yh[n].forEach(function(r){sS(r.name,r.config)}),Pl(n),un[n]}else return delete un[n],null}function ese(n,t){if(t!=null){var e,i,r=DL;un[n]!=null&&un[n].parentLocale!=null?un[n].set(K2(un[n]._config,t)):(i=Mw(n),i!=null&&(r=i._config),t=K2(r,t),i==null&&(t.abbr=n),e=new YE(t),e.parentLocale=un[n],un[n]=e),Pl(n)}else un[n]!=null&&(un[n].parentLocale!=null?(un[n]=un[n].parentLocale,n===Pl()&&Pl(n)):un[n]!=null&&delete un[n]);return un[n]}function La(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return Sm;if(!Is(n)){if(t=Mw(n),t)return t;n=[n]}return Xre(n)}function tse(){return Y2(un)}function oS(n){var t,e=n._a;return e&&gt(n).overflow===-2&&(t=e[sa]<0||e[sa]>11?sa:e[so]<1||e[so]>tS(e[Ni],e[sa])?so:e[ti]<0||e[ti]>24||e[ti]===24&&(e[ys]!==0||e[oa]!==0||e[Mc]!==0)?ti:e[ys]<0||e[ys]>59?ys:e[oa]<0||e[oa]>59?oa:e[Mc]<0||e[Mc]>999?Mc:-1,gt(n)._overflowDayOfYear&&(t<Ni||t>so)&&(t=so),gt(n)._overflowWeeks&&t===-1&&(t=sre),gt(n)._overflowWeekday&&t===-1&&(t=ore),gt(n).overflow=t),n}var nse=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ise=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rse=/Z|[+-]\d\d(?::?\d\d)?/,k0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],V_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sse=/^\/?Date\((-?\d+)/i,ose=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ase={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function LL(n){var t,e,i=n._i,r=nse.exec(i)||ise.exec(i),s,o,a,l,c=k0.length,d=V_.length;if(r){for(gt(n).iso=!0,t=0,e=c;t<e;t++)if(k0[t][1].exec(r[1])){o=k0[t][0],s=k0[t][2]!==!1;break}if(o==null){n._isValid=!1;return}if(r[3]){for(t=0,e=d;t<e;t++)if(V_[t][1].exec(r[3])){a=(r[2]||" ")+V_[t][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(r[4])if(rse.exec(r[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),lS(n)}else n._isValid=!1}function lse(n,t,e,i,r,s){var o=[cse(n),SL.indexOf(t),parseInt(e,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function cse(n){var t=parseInt(n,10);return t<=49?2e3+t:t<=999?1900+t:t}function use(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function dse(n,t,e){if(n){var i=OL.indexOf(n),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return gt(e).weekdayMismatch=!0,e._isValid=!1,!1}return!0}function fse(n,t,e){if(n)return ase[n];if(t)return 0;var i=parseInt(e,10),r=i%100,s=(i-r)/100;return s*60+r}function VL(n){var t=ose.exec(use(n._i)),e;if(t){if(e=lse(t[4],t[3],t[2],t[5],t[6],t[7]),!dse(t[1],e,n))return;n._a=e,n._tzm=fse(t[8],t[9],t[10]),n._d=Cm.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),gt(n).rfc2822=!0}else n._isValid=!1}function hse(n){var t=sse.exec(n._i);if(t!==null){n._d=new Date(+t[1]);return}if(LL(n),n._isValid===!1)delete n._isValid;else return;if(VL(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Ce.createFromInputFallback(n)}Ce.createFromInputFallback=is("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function wd(n,t,e){return n??t??e}function mse(n){var t=new Date(Ce.now());return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function aS(n){var t,e,i=[],r,s,o;if(!n._d){for(r=mse(n),n._w&&n._a[so]==null&&n._a[sa]==null&&pse(n),n._dayOfYear!=null&&(o=wd(n._a[Ni],r[Ni]),(n._dayOfYear>Yh(o)||n._dayOfYear===0)&&(gt(n)._overflowDayOfYear=!0),e=Cm(o,0,n._dayOfYear),n._a[sa]=e.getUTCMonth(),n._a[so]=e.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=i[t]=r[t];for(;t<7;t++)n._a[t]=i[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[ti]===24&&n._a[ys]===0&&n._a[oa]===0&&n._a[Mc]===0&&(n._nextDay=!0,n._a[ti]=0),n._d=(n._useUTC?Cm:_re).apply(null,i),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[ti]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==s&&(gt(n).weekdayMismatch=!0)}}function pse(n){var t,e,i,r,s,o,a,l,c;t=n._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,e=wd(t.GG,n._a[Ni],Em(an(),1,4).year),i=wd(t.W,1),r=wd(t.E,1),(r<1||r>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,c=Em(an(),s,o),e=wd(t.gg,n._a[Ni],c.year),i=wd(t.w,c.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s),i<1||i>ga(e,s,o)?gt(n)._overflowWeeks=!0:l!=null?gt(n)._overflowWeekday=!0:(a=RL(e,i,r,s,o),n._a[Ni]=a.year,n._dayOfYear=a.dayOfYear)}Ce.ISO_8601=function(){};Ce.RFC_2822=function(){};function lS(n){if(n._f===Ce.ISO_8601){LL(n);return}if(n._f===Ce.RFC_2822){VL(n);return}n._a=[],gt(n).empty=!0;var t=""+n._i,e,i,r,s,o,a=t.length,l=0,c,d;for(r=vL(n._f,n._locale).match(ZE)||[],d=r.length,e=0;e<d;e++)s=r[e],i=(t.match(nre(s,n))||[])[0],i&&(o=t.substr(0,t.indexOf(i)),o.length>0&&gt(n).unusedInput.push(o),t=t.slice(t.indexOf(i)+i.length),l+=i.length),Md[s]?(i?gt(n).empty=!1:gt(n).unusedTokens.push(s),rre(s,i,n)):n._strict&&!i&&gt(n).unusedTokens.push(s);gt(n).charsLeftOver=a-l,t.length>0&&gt(n).unusedInput.push(t),n._a[ti]<=12&&gt(n).bigHour===!0&&n._a[ti]>0&&(gt(n).bigHour=void 0),gt(n).parsedDateParts=n._a.slice(0),gt(n).meridiem=n._meridiem,n._a[ti]=gse(n._locale,n._a[ti],n._meridiem),c=gt(n).era,c!==null&&(n._a[Ni]=n._locale.erasConvertYear(c,n._a[Ni])),aS(n),oS(n)}function gse(n,t,e){var i;return e==null?t:n.meridiemHour!=null?n.meridiemHour(t,e):(n.isPM!=null&&(i=n.isPM(e),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function bse(n){var t,e,i,r,s,o,a=!1,l=n._f.length;if(l===0){gt(n).invalidFormat=!0,n._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,o=!1,t=KE({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._f=n._f[r],lS(t),GE(t)&&(o=!0),s+=gt(t).charsLeftOver,s+=gt(t).unusedTokens.length*10,gt(t).score=s,a?s<i&&(i=s,e=t):(i==null||s<i||o)&&(i=s,e=t,o&&(a=!0));Sl(n,e||t)}function wse(n){if(!n._d){var t=JE(n._i),e=t.day===void 0?t.date:t.day;n._a=gL([t.year,t.month,e,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),aS(n)}}function vse(n){var t=new Cp(oS(FL(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function FL(n){var t=n._i,e=n._f;return n._locale=n._locale||La(n._l),t===null||e===void 0&&t===""?Tw({nullInput:!0}):(typeof t=="string"&&(n._i=t=n._locale.preparse(t)),Ps(t)?new Cp(oS(t)):(kp(t)?n._d=t:Is(e)?bse(n):e?lS(n):yse(n),GE(n)||(n._d=null),n))}function yse(n){var t=n._i;rr(t)?n._d=new Date(Ce.now()):kp(t)?n._d=new Date(t.valueOf()):typeof t=="string"?hse(n):Is(t)?(n._a=gL(t.slice(0),function(e){return parseInt(e,10)}),aS(n)):Fc(t)?wse(n):ka(t)?n._d=new Date(t):Ce.createFromInputFallback(n)}function BL(n,t,e,i,r){var s={};return(t===!0||t===!1)&&(i=t,t=void 0),(e===!0||e===!1)&&(i=e,e=void 0),(Fc(n)&&qE(n)||Is(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=e,s._i=n,s._f=t,s._strict=i,vse(s)}function an(n,t,e,i){return BL(n,t,e,i,!1)}var _se=is("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=an.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:Tw()}),xse=is("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=an.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:Tw()});function jL(n,t){var e,i;if(t.length===1&&Is(t[0])&&(t=t[0]),!t.length)return an();for(e=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](e))&&(e=t[i]);return e}function kse(){var n=[].slice.call(arguments,0);return jL("isBefore",n)}function Cse(){var n=[].slice.call(arguments,0);return jL("isAfter",n)}var Ese=function(){return Date.now?Date.now():+new Date},_h=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Sse(n){var t,e=!1,i,r=_h.length;for(t in n)if(Mt(n,t)&&!(Dn.call(_h,t)!==-1&&(n[t]==null||!isNaN(n[t]))))return!1;for(i=0;i<r;++i)if(n[_h[i]]){if(e)return!1;parseFloat(n[_h[i]])!==kt(n[_h[i]])&&(e=!0)}return!0}function Tse(){return this._isValid}function Ase(){return $s(NaN)}function Dw(n){var t=JE(n),e=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=Sse(t),this._milliseconds=+d+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+i*3+e*12,this._data={},this._locale=La(),this._bubble()}function lb(n){return n instanceof Dw}function J2(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function Ise(n,t,e){var i=Math.min(n.length,t.length),r=Math.abs(n.length-t.length),s=0,o;for(o=0;o<i;o++)kt(n[o])!==kt(t[o])&&s++;return s+r}function zL(n,t){Je(n,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+go(~~(e/60),2)+t+go(~~e%60,2)})}zL("Z",":");zL("ZZ","");Be("Z",Ow);Be("ZZ",Ow);Gt(["Z","ZZ"],function(n,t,e){e._useUTC=!0,e._tzm=cS(Ow,n)});var Pse=/([\+\-]|\d\d)/gi;function cS(n,t){var e=(t||"").match(n),i,r,s;return e===null?null:(i=e[e.length-1]||[],r=(i+"").match(Pse)||["-",0,0],s=+(r[1]*60)+kt(r[2]),s===0?0:r[0]==="+"?s:-s)}function uS(n,t){var e,i;return t._isUTC?(e=t.clone(),i=(Ps(n)||kp(n)?n.valueOf():an(n).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+i),Ce.updateOffset(e,!1),e):an(n).local()}function X2(n){return-Math.round(n._d.getTimezoneOffset())}Ce.updateOffset=function(){};function Rse(n,t,e){var i=this._offset||0,r;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=cS(Ow,n),n===null)return this}else Math.abs(n)<16&&!e&&(n=n*60);return!this._isUTC&&t&&(r=X2(this)),this._offset=n,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==n&&(!t||this._changeInProgress?HL(this,$s(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ce.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:X2(this)}function Ose(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function Nse(n){return this.utcOffset(0,n)}function Mse(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(X2(this),"m")),this}function Dse(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=cS(ere,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function Lse(n){return this.isValid()?(n=n?an(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function Vse(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Fse(){if(!rr(this._isDSTShifted))return this._isDSTShifted;var n={},t;return KE(n,this),n=FL(n),n._a?(t=n._isUTC?Po(n._a):an(n._a),this._isDSTShifted=this.isValid()&&Ise(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Bse(){return this.isValid()?!this._isUTC:!1}function jse(){return this.isValid()?this._isUTC:!1}function $L(){return this.isValid()?this._isUTC&&this._offset===0:!1}var zse=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$se=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $s(n,t){var e=n,i=null,r,s,o;return lb(n)?e={ms:n._milliseconds,d:n._days,M:n._months}:ka(n)||!isNaN(+n)?(e={},t?e[t]=+n:e.milliseconds=+n):(i=zse.exec(n))?(r=i[1]==="-"?-1:1,e={y:0,d:kt(i[so])*r,h:kt(i[ti])*r,m:kt(i[ys])*r,s:kt(i[oa])*r,ms:kt(J2(i[Mc]*1e3))*r}):(i=$se.exec(n))?(r=i[1]==="-"?-1:1,e={y:yc(i[2],r),M:yc(i[3],r),w:yc(i[4],r),d:yc(i[5],r),h:yc(i[6],r),m:yc(i[7],r),s:yc(i[8],r)}):e==null?e={}:typeof e=="object"&&("from"in e||"to"in e)&&(o=Use(an(e.from),an(e.to)),e={},e.ms=o.milliseconds,e.M=o.months),s=new Dw(e),lb(n)&&Mt(n,"_locale")&&(s._locale=n._locale),lb(n)&&Mt(n,"_isValid")&&(s._isValid=n._isValid),s}$s.fn=Dw.prototype;$s.invalid=Ase;function yc(n,t){var e=n&&parseFloat(n.replace(",","."));return(isNaN(e)?0:e)*t}function lP(n,t){var e={};return e.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(e.months,"M").isAfter(t)&&--e.months,e.milliseconds=+t-+n.clone().add(e.months,"M"),e}function Use(n,t){var e;return n.isValid()&&t.isValid()?(t=uS(t,n),n.isBefore(t)?e=lP(n,t):(e=lP(t,n),e.milliseconds=-e.milliseconds,e.months=-e.months),e):{milliseconds:0,months:0}}function UL(n,t){return function(e,i){var r,s;return i!==null&&!isNaN(+i)&&(wL(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=e,e=i,i=s),r=$s(e,i),HL(this,r,n),this}}function HL(n,t,e,i){var r=t._milliseconds,s=J2(t._days),o=J2(t._months);n.isValid()&&(i=i??!0,o&&AL(n,km(n,"Month")+o*e),s&&EL(n,"Date",km(n,"Date")+s*e),r&&n._d.setTime(n._d.valueOf()+r*e),i&&Ce.updateOffset(n,s||o))}var Hse=UL(1,"add"),Wse=UL(-1,"subtract");function WL(n){return typeof n=="string"||n instanceof String}function qse(n){return Ps(n)||kp(n)||WL(n)||ka(n)||Kse(n)||Gse(n)||n===null||n===void 0}function Gse(n){var t=Fc(n)&&!qE(n),e=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,o=i.length;for(r=0;r<o;r+=1)s=i[r],e=e||Mt(n,s);return t&&e}function Kse(n){var t=Is(n),e=!1;return t&&(e=n.filter(function(i){return!ka(i)&&WL(n)}).length===0),t&&e}function Yse(n){var t=Fc(n)&&!qE(n),e=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<i.length;r+=1)s=i[r],e=e||Mt(n,s);return t&&e}function Zse(n,t){var e=n.diff(t,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"}function Jse(n,t){arguments.length===1&&(arguments[0]?qse(arguments[0])?(n=arguments[0],t=void 0):Yse(arguments[0])&&(t=arguments[0],n=void 0):(n=void 0,t=void 0));var e=n||an(),i=uS(e,this).startOf("day"),r=Ce.calendarFormat(this,i)||"sameElse",s=t&&(Ro(t[r])?t[r].call(this,e):t[r]);return this.format(s||this.localeData().calendar(r,this,an(e)))}function Xse(){return new Cp(this)}function Qse(n,t){var e=Ps(n)?n:an(n);return this.isValid()&&e.isValid()?(t=rs(t)||"millisecond",t==="millisecond"?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf()):!1}function eoe(n,t){var e=Ps(n)?n:an(n);return this.isValid()&&e.isValid()?(t=rs(t)||"millisecond",t==="millisecond"?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf()):!1}function toe(n,t,e,i){var r=Ps(n)?n:an(n),s=Ps(t)?t:an(t);return this.isValid()&&r.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,e):!this.isBefore(r,e))&&(i[1]===")"?this.isBefore(s,e):!this.isAfter(s,e))):!1}function noe(n,t){var e=Ps(n)?n:an(n),i;return this.isValid()&&e.isValid()?(t=rs(t)||"millisecond",t==="millisecond"?this.valueOf()===e.valueOf():(i=e.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function ioe(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function roe(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function soe(n,t,e){var i,r,s;if(!this.isValid())return NaN;if(i=uS(n,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,t=rs(t),t){case"year":s=cb(this,i)/12;break;case"month":s=cb(this,i);break;case"quarter":s=cb(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return e?s:Yr(s)}function cb(n,t){if(n.date()<t.date())return-cb(t,n);var e=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(e,"months"),r,s;return t-i<0?(r=n.clone().add(e-1,"months"),s=(t-i)/(i-r)):(r=n.clone().add(e+1,"months"),s=(t-i)/(r-i)),-(e+s)||0}Ce.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ce.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ooe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function aoe(n){if(!this.isValid())return null;var t=n!==!0,e=t?this.clone().utc():this;return e.year()<0||e.year()>9999?ab(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ro(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ab(e,"Z")):ab(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function loe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",t="",e,i,r,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),e="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(e+i+r+s)}function coe(n){n||(n=this.isUtc()?Ce.defaultFormatUtc:Ce.defaultFormat);var t=ab(this,n);return this.localeData().postformat(t)}function uoe(n,t){return this.isValid()&&(Ps(n)&&n.isValid()||an(n).isValid())?$s({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function doe(n){return this.from(an(),n)}function foe(n,t){return this.isValid()&&(Ps(n)&&n.isValid()||an(n).isValid())?$s({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hoe(n){return this.to(an(),n)}function qL(n){var t;return n===void 0?this._locale._abbr:(t=La(n),t!=null&&(this._locale=t),this)}var GL=is("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function KL(){return this._locale}var Zb=1e3,Dd=60*Zb,Jb=60*Dd,YL=(365*400+97)*24*Jb;function Ld(n,t){return(n%t+t)%t}function ZL(n,t,e){return n<100&&n>=0?new Date(n+400,t,e)-YL:new Date(n,t,e).valueOf()}function JL(n,t,e){return n<100&&n>=0?Date.UTC(n+400,t,e)-YL:Date.UTC(n,t,e)}function moe(n){var t,e;if(n=rs(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?JL:ZL,n){case"year":t=e(this.year(),0,1);break;case"quarter":t=e(this.year(),this.month()-this.month()%3,1);break;case"month":t=e(this.year(),this.month(),1);break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=e(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ld(t+(this._isUTC?0:this.utcOffset()*Dd),Jb);break;case"minute":t=this._d.valueOf(),t-=Ld(t,Dd);break;case"second":t=this._d.valueOf(),t-=Ld(t,Zb);break}return this._d.setTime(t),Ce.updateOffset(this,!0),this}function poe(n){var t,e;if(n=rs(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?JL:ZL,n){case"year":t=e(this.year()+1,0,1)-1;break;case"quarter":t=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=e(this.year(),this.month()+1,1)-1;break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=e(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Jb-Ld(t+(this._isUTC?0:this.utcOffset()*Dd),Jb)-1;break;case"minute":t=this._d.valueOf(),t+=Dd-Ld(t,Dd)-1;break;case"second":t=this._d.valueOf(),t+=Zb-Ld(t,Zb)-1;break}return this._d.setTime(t),Ce.updateOffset(this,!0),this}function goe(){return this._d.valueOf()-(this._offset||0)*6e4}function boe(){return Math.floor(this.valueOf()/1e3)}function woe(){return new Date(this.valueOf())}function voe(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function yoe(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function _oe(){return this.isValid()?this.toISOString():null}function xoe(){return GE(this)}function koe(){return Sl({},gt(this))}function Coe(){return gt(this).overflow}function Eoe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr");Je("NN",0,0,"eraAbbr");Je("NNN",0,0,"eraAbbr");Je("NNNN",0,0,"eraName");Je("NNNNN",0,0,"eraNarrow");Je("y",["y",1],"yo","eraYear");Je("y",["yy",2],0,"eraYear");Je("y",["yyy",3],0,"eraYear");Je("y",["yyyy",4],0,"eraYear");Be("N",dS);Be("NN",dS);Be("NNN",dS);Be("NNNN",Loe);Be("NNNNN",Voe);Gt(["N","NN","NNN","NNNN","NNNNN"],function(n,t,e,i){var r=e._locale.erasParse(n,i,e._strict);r?gt(e).era=r:gt(e).invalidEra=n});Be("y",vf);Be("yy",vf);Be("yyy",vf);Be("yyyy",vf);Be("yo",Foe);Gt(["y","yy","yyy","yyyy"],Ni);Gt(["yo"],function(n,t,e,i){var r;e._locale._eraYearOrdinalRegex&&(r=n.match(e._locale._eraYearOrdinalRegex)),e._locale.eraYearOrdinalParse?t[Ni]=e._locale.eraYearOrdinalParse(n,r):t[Ni]=parseInt(n,10)});function Soe(n,t){var e,i,r,s=this._eras||La("en")._eras;for(e=0,i=s.length;e<i;++e){switch(typeof s[e].since){case"string":r=Ce(s[e].since).startOf("day"),s[e].since=r.valueOf();break}switch(typeof s[e].until){case"undefined":s[e].until=1/0;break;case"string":r=Ce(s[e].until).startOf("day").valueOf(),s[e].until=r.valueOf();break}}return s}function Toe(n,t,e){var i,r,s=this.eras(),o,a,l;for(n=n.toUpperCase(),i=0,r=s.length;i<r;++i)if(o=s[i].name.toUpperCase(),a=s[i].abbr.toUpperCase(),l=s[i].narrow.toUpperCase(),e)switch(t){case"N":case"NN":case"NNN":if(a===n)return s[i];break;case"NNNN":if(o===n)return s[i];break;case"NNNNN":if(l===n)return s[i];break}else if([o,a,l].indexOf(n)>=0)return s[i]}function Aoe(n,t){var e=n.since<=n.until?1:-1;return t===void 0?Ce(n.since).year():Ce(n.since).year()+(t-n.offset)*e}function Ioe(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].name;return""}function Poe(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].narrow;return""}function Roe(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].abbr;return""}function Ooe(){var n,t,e,i,r=this.localeData().eras();for(n=0,t=r.length;n<t;++n)if(e=r[n].since<=r[n].until?1:-1,i=this.clone().startOf("day").valueOf(),r[n].since<=i&&i<=r[n].until||r[n].until<=i&&i<=r[n].since)return(this.year()-Ce(r[n].since).year())*e+r[n].offset;return this.year()}function Noe(n){return Mt(this,"_erasNameRegex")||fS.call(this),n?this._erasNameRegex:this._erasRegex}function Moe(n){return Mt(this,"_erasAbbrRegex")||fS.call(this),n?this._erasAbbrRegex:this._erasRegex}function Doe(n){return Mt(this,"_erasNarrowRegex")||fS.call(this),n?this._erasNarrowRegex:this._erasRegex}function dS(n,t){return t.erasAbbrRegex(n)}function Loe(n,t){return t.erasNameRegex(n)}function Voe(n,t){return t.erasNarrowRegex(n)}function Foe(n,t){return t._eraYearOrdinalRegex||vf}function fS(){var n=[],t=[],e=[],i=[],r,s,o,a,l,c=this.eras();for(r=0,s=c.length;r<s;++r)o=pa(c[r].name),a=pa(c[r].abbr),l=pa(c[r].narrow),t.push(o),n.push(a),e.push(l),i.push(o),i.push(a),i.push(l);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+e.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100});Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lw(n,t){Je(0,[n,n.length],0,t)}Lw("gggg","weekYear");Lw("ggggg","weekYear");Lw("GGGG","isoWeekYear");Lw("GGGGG","isoWeekYear");Be("G",Rw);Be("g",Rw);Be("GG",ln,Vr);Be("gg",ln,Vr);Be("GGGG",QE,XE);Be("gggg",QE,XE);Be("GGGGG",Pw,Aw);Be("ggggg",Pw,Aw);Sp(["gggg","ggggg","GGGG","GGGGG"],function(n,t,e,i){t[i.substr(0,2)]=kt(n)});Sp(["gg","GG"],function(n,t,e,i){t[i]=Ce.parseTwoDigitYear(n)});function Boe(n){return XL.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function joe(n){return XL.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function zoe(){return ga(this.year(),1,4)}function $oe(){return ga(this.isoWeekYear(),1,4)}function Uoe(){var n=this.localeData()._week;return ga(this.year(),n.dow,n.doy)}function Hoe(){var n=this.localeData()._week;return ga(this.weekYear(),n.dow,n.doy)}function XL(n,t,e,i,r){var s;return n==null?Em(this,i,r).year:(s=ga(n,i,r),t>s&&(t=s),Woe.call(this,n,t,e,i,r))}function Woe(n,t,e,i,r){var s=RL(n,t,e,i,r),o=Cm(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Je("Q",0,"Qo","quarter");Be("Q",yL);Gt("Q",function(n,t){t[sa]=(kt(n)-1)*3});function qoe(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date");Be("D",ln,yf);Be("DD",ln,Vr);Be("Do",function(n,t){return n?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Gt(["D","DD"],so);Gt("Do",function(n,t){t[so]=kt(n.match(ln)[0])});var QL=_f("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear");Be("DDD",Iw);Be("DDDD",_L);Gt(["DDD","DDDD"],function(n,t,e){e._dayOfYear=kt(n)});function Goe(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?t:this.add(n-t,"d")}Je("m",["mm",2],0,"minute");Be("m",ln,eS);Be("mm",ln,Vr);Gt(["m","mm"],ys);var Koe=_f("Minutes",!1);Je("s",["ss",2],0,"second");Be("s",ln,eS);Be("ss",ln,Vr);Gt(["s","ss"],oa);var Yoe=_f("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)});Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Je(0,["SSS",3],0,"millisecond");Je(0,["SSSS",4],0,function(){return this.millisecond()*10});Je(0,["SSSSS",5],0,function(){return this.millisecond()*100});Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Be("S",Iw,yL);Be("SS",Iw,Vr);Be("SSS",Iw,_L);var Tl,e9;for(Tl="SSSS";Tl.length<=9;Tl+="S")Be(Tl,vf);function Zoe(n,t){t[Mc]=kt(("0."+n)*1e3)}for(Tl="S";Tl.length<=9;Tl+="S")Gt(Tl,Zoe);e9=_f("Milliseconds",!1);Je("z",0,0,"zoneAbbr");Je("zz",0,0,"zoneName");function Joe(){return this._isUTC?"UTC":""}function Xoe(){return this._isUTC?"Coordinated Universal Time":""}var he=Cp.prototype;he.add=Hse;he.calendar=Jse;he.clone=Xse;he.diff=soe;he.endOf=poe;he.format=coe;he.from=uoe;he.fromNow=doe;he.to=foe;he.toNow=hoe;he.get=lre;he.invalidAt=Coe;he.isAfter=Qse;he.isBefore=eoe;he.isBetween=toe;he.isSame=noe;he.isSameOrAfter=ioe;he.isSameOrBefore=roe;he.isValid=xoe;he.lang=GL;he.locale=qL;he.localeData=KL;he.max=xse;he.min=_se;he.parsingFlags=koe;he.set=cre;he.startOf=moe;he.subtract=Wse;he.toArray=voe;he.toObject=yoe;he.toDate=woe;he.toISOString=aoe;he.inspect=loe;typeof Symbol<"u"&&Symbol.for!=null&&(he[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});he.toJSON=_oe;he.toString=ooe;he.unix=boe;he.valueOf=goe;he.creationData=Eoe;he.eraName=Ioe;he.eraNarrow=Poe;he.eraAbbr=Roe;he.eraYear=Ooe;he.year=CL;he.isLeapYear=are;he.weekYear=Boe;he.isoWeekYear=joe;he.quarter=he.quarters=qoe;he.month=IL;he.daysInMonth=wre;he.week=he.weeks=Sre;he.isoWeek=he.isoWeeks=Tre;he.weeksInYear=Uoe;he.weeksInWeekYear=Hoe;he.isoWeeksInYear=zoe;he.isoWeeksInISOWeekYear=$oe;he.date=QL;he.day=he.days=jre;he.weekday=zre;he.isoWeekday=$re;he.dayOfYear=Goe;he.hour=he.hours=Yre;he.minute=he.minutes=Koe;he.second=he.seconds=Yoe;he.millisecond=he.milliseconds=e9;he.utcOffset=Rse;he.utc=Nse;he.local=Mse;he.parseZone=Dse;he.hasAlignedHourOffset=Lse;he.isDST=Vse;he.isLocal=Bse;he.isUtcOffset=jse;he.isUtc=$L;he.isUTC=$L;he.zoneAbbr=Joe;he.zoneName=Xoe;he.dates=is("dates accessor is deprecated. Use date instead.",QL);he.months=is("months accessor is deprecated. Use month instead",IL);he.years=is("years accessor is deprecated. Use year instead",CL);he.zone=is("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ose);he.isDSTShifted=is("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Fse);function Qoe(n){return an(n*1e3)}function eae(){return an.apply(null,arguments).parseZone()}function t9(n){return n}var Dt=YE.prototype;Dt.calendar=Bie;Dt.longDateFormat=Uie;Dt.invalidDate=Wie;Dt.ordinal=Kie;Dt.preparse=t9;Dt.postformat=t9;Dt.relativeTime=Zie;Dt.pastFuture=Jie;Dt.set=Vie;Dt.eras=Soe;Dt.erasParse=Toe;Dt.erasConvertYear=Aoe;Dt.erasAbbrRegex=Moe;Dt.erasNameRegex=Noe;Dt.erasNarrowRegex=Doe;Dt.months=mre;Dt.monthsShort=pre;Dt.monthsParse=bre;Dt.monthsRegex=yre;Dt.monthsShortRegex=vre;Dt.week=xre;Dt.firstDayOfYear=Ere;Dt.firstDayOfWeek=Cre;Dt.weekdays=Dre;Dt.weekdaysMin=Vre;Dt.weekdaysShort=Lre;Dt.weekdaysParse=Bre;Dt.weekdaysRegex=Ure;Dt.weekdaysShortRegex=Hre;Dt.weekdaysMinRegex=Wre;Dt.isPM=Gre;Dt.meridiem=Zre;function Xb(n,t,e,i){var r=La(),s=Po().set(i,t);return r[e](s,n)}function n9(n,t,e){if(ka(n)&&(t=n,n=void 0),n=n||"",t!=null)return Xb(n,t,e,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Xb(n,i,e,"month");return r}function hS(n,t,e,i){typeof n=="boolean"?(ka(t)&&(e=t,t=void 0),t=t||""):(t=n,e=t,n=!1,ka(t)&&(e=t,t=void 0),t=t||"");var r=La(),s=n?r._week.dow:0,o,a=[];if(e!=null)return Xb(t,(e+s)%7,i,"day");for(o=0;o<7;o++)a[o]=Xb(t,(o+s)%7,i,"day");return a}function tae(n,t){return n9(n,t,"months")}function nae(n,t){return n9(n,t,"monthsShort")}function iae(n,t,e){return hS(n,t,e,"weekdays")}function rae(n,t,e){return hS(n,t,e,"weekdaysShort")}function sae(n,t,e){return hS(n,t,e,"weekdaysMin")}Pl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,e=kt(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+e}});Ce.lang=is("moment.lang is deprecated. Use moment.locale instead.",Pl);Ce.langData=is("moment.langData is deprecated. Use moment.localeData instead.",La);var Wo=Math.abs;function oae(){var n=this._data;return this._milliseconds=Wo(this._milliseconds),this._days=Wo(this._days),this._months=Wo(this._months),n.milliseconds=Wo(n.milliseconds),n.seconds=Wo(n.seconds),n.minutes=Wo(n.minutes),n.hours=Wo(n.hours),n.months=Wo(n.months),n.years=Wo(n.years),this}function i9(n,t,e,i){var r=$s(t,e);return n._milliseconds+=i*r._milliseconds,n._days+=i*r._days,n._months+=i*r._months,n._bubble()}function aae(n,t){return i9(this,n,t,1)}function lae(n,t){return i9(this,n,t,-1)}function cP(n){return n<0?Math.floor(n):Math.ceil(n)}function cae(){var n=this._milliseconds,t=this._days,e=this._months,i=this._data,r,s,o,a,l;return n>=0&&t>=0&&e>=0||n<=0&&t<=0&&e<=0||(n+=cP(Q2(e)+t)*864e5,t=0,e=0),i.milliseconds=n%1e3,r=Yr(n/1e3),i.seconds=r%60,s=Yr(r/60),i.minutes=s%60,o=Yr(s/60),i.hours=o%24,t+=Yr(o/24),l=Yr(r9(t)),e+=l,t-=cP(Q2(l)),a=Yr(e/12),e%=12,i.days=t,i.months=e,i.years=a,this}function r9(n){return n*4800/146097}function Q2(n){return n*146097/4800}function uae(n){if(!this.isValid())return NaN;var t,e,i=this._milliseconds;if(n=rs(n),n==="month"||n==="quarter"||n==="year")switch(t=this._days+i/864e5,e=this._months+r9(t),n){case"month":return e;case"quarter":return e/3;case"year":return e/12}else switch(t=this._days+Math.round(Q2(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+n)}}function Va(n){return function(){return this.as(n)}}var s9=Va("ms"),dae=Va("s"),fae=Va("m"),hae=Va("h"),mae=Va("d"),pae=Va("w"),gae=Va("M"),bae=Va("Q"),wae=Va("y"),vae=s9;function yae(){return $s(this)}function _ae(n){return n=rs(n),this.isValid()?this[n+"s"]():NaN}function wu(n){return function(){return this.isValid()?this._data[n]:NaN}}var xae=wu("milliseconds"),kae=wu("seconds"),Cae=wu("minutes"),Eae=wu("hours"),Sae=wu("days"),Tae=wu("months"),Aae=wu("years");function Iae(){return Yr(this.days()/7)}var Qo=Math.round,Td={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Pae(n,t,e,i,r){return r.relativeTime(t||1,!!e,n,i)}function Rae(n,t,e,i){var r=$s(n).abs(),s=Qo(r.as("s")),o=Qo(r.as("m")),a=Qo(r.as("h")),l=Qo(r.as("d")),c=Qo(r.as("M")),d=Qo(r.as("w")),h=Qo(r.as("y")),p=s<=e.ss&&["s",s]||s<e.s&&["ss",s]||o<=1&&["m"]||o<e.m&&["mm",o]||a<=1&&["h"]||a<e.h&&["hh",a]||l<=1&&["d"]||l<e.d&&["dd",l];return e.w!=null&&(p=p||d<=1&&["w"]||d<e.w&&["ww",d]),p=p||c<=1&&["M"]||c<e.M&&["MM",c]||h<=1&&["y"]||["yy",h],p[2]=t,p[3]=+n>0,p[4]=i,Pae.apply(null,p)}function Oae(n){return n===void 0?Qo:typeof n=="function"?(Qo=n,!0):!1}function Nae(n,t){return Td[n]===void 0?!1:t===void 0?Td[n]:(Td[n]=t,n==="s"&&(Td.ss=t-1),!0)}function Mae(n,t){if(!this.isValid())return this.localeData().invalidDate();var e=!1,i=Td,r,s;return typeof n=="object"&&(t=n,n=!1),typeof n=="boolean"&&(e=n),typeof t=="object"&&(i=Object.assign({},Td,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),r=this.localeData(),s=Rae(this,!e,i,r),e&&(s=r.pastFuture(+this,s)),r.postformat(s)}var F_=Math.abs;function od(n){return(n>0)-(n<0)||+n}function Vw(){if(!this.isValid())return this.localeData().invalidDate();var n=F_(this._milliseconds)/1e3,t=F_(this._days),e=F_(this._months),i,r,s,o,a=this.asSeconds(),l,c,d,h;return a?(i=Yr(n/60),r=Yr(i/60),n%=60,i%=60,s=Yr(e/12),e%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=od(this._months)!==od(a)?"-":"",d=od(this._days)!==od(a)?"-":"",h=od(this._milliseconds)!==od(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(e?c+e+"M":"")+(t?d+t+"D":"")+(r||i||n?"T":"")+(r?h+r+"H":"")+(i?h+i+"M":"")+(n?h+o+"S":"")):"P0D"}var Tt=Dw.prototype;Tt.isValid=Tse;Tt.abs=oae;Tt.add=aae;Tt.subtract=lae;Tt.as=uae;Tt.asMilliseconds=s9;Tt.asSeconds=dae;Tt.asMinutes=fae;Tt.asHours=hae;Tt.asDays=mae;Tt.asWeeks=pae;Tt.asMonths=gae;Tt.asQuarters=bae;Tt.asYears=wae;Tt.valueOf=vae;Tt._bubble=cae;Tt.clone=yae;Tt.get=_ae;Tt.milliseconds=xae;Tt.seconds=kae;Tt.minutes=Cae;Tt.hours=Eae;Tt.days=Sae;Tt.weeks=Iae;Tt.months=Tae;Tt.years=Aae;Tt.humanize=Mae;Tt.toISOString=Vw;Tt.toString=Vw;Tt.toJSON=Vw;Tt.locale=qL;Tt.localeData=KL;Tt.toIsoString=is("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vw);Tt.lang=GL;Je("X",0,0,"unix");Je("x",0,0,"valueOf");Be("x",Rw);Be("X",tre);Gt("X",function(n,t,e){e._d=new Date(parseFloat(n)*1e3)});Gt("x",function(n,t,e){e._d=new Date(kt(n))});//! moment.js
Ce.version="2.30.1";Die(an);Ce.fn=he;Ce.min=kse;Ce.max=Cse;Ce.now=Ese;Ce.utc=Po;Ce.unix=Qoe;Ce.months=tae;Ce.isDate=kp;Ce.locale=Pl;Ce.invalid=Tw;Ce.duration=$s;Ce.isMoment=Ps;Ce.weekdays=iae;Ce.parseZone=eae;Ce.localeData=La;Ce.isDuration=lb;Ce.monthsShort=nae;Ce.weekdaysMin=sae;Ce.defineLocale=sS;Ce.updateLocale=ese;Ce.locales=tse;Ce.weekdaysShort=rae;Ce.normalizeUnits=rs;Ce.relativeTimeRounding=Oae;Ce.relativeTimeThreshold=Nae;Ce.calendarFormat=Zse;Ce.prototype=he;Ce.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const mS=({props:n})=>v.jsx(Pn,{to:kE(n.category.slug,n.slug),children:v.jsx(Lr,{className:"pt-5",children:v.jsxs(zs,{children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex justify-between items-center gap-2",children:[v.jsx(Yc,{children:v.jsx(Zc,{src:n.author.avatar||vm})}),v.jsx("span",{children:n.author.name})]}),n.author.role==="admin"&&v.jsx(Nie,{variant:"outline",className:"bg-violet-500",children:"Admin"})]}),v.jsx("div",{className:"my-2",children:v.jsx("img",{src:n.featuredImage,className:"rounded"})}),v.jsxs("div",{children:[v.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[v.jsx(Mie,{}),v.jsx("span",{children:Ce(n.createdAt).format("DD-MM-YYYY")})]}),v.jsxs("h2",{className:"text-2xl font bold line-camp-2",children:[n.title," "]})]})]})})}),Dae=()=>{const{data:n,loading:t}=mi("http://localhost:3000/api/blog/blogs",{method:"get",credentials:"include"});return t?v.jsx(js,{}):v.jsx("div",{className:"grid md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-10",children:n&&n.blog.length>0?n.blog.map(e=>v.jsx(mS,{props:e},e._id)):v.jsx("div",{children:"Data Not Found."})})};var Tp=n=>n.type==="checkbox",Dc=n=>n instanceof Date,ji=n=>n==null;const o9=n=>typeof n=="object";var jn=n=>!ji(n)&&!Array.isArray(n)&&o9(n)&&!Dc(n),a9=n=>jn(n)&&n.target?Tp(n.target)?n.target.checked:n.target.value:n,Lae=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,l9=(n,t)=>n.has(Lae(t)),Vae=n=>{const t=n.constructor&&n.constructor.prototype;return jn(t)&&t.hasOwnProperty("isPrototypeOf")},pS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sr(n){let t;const e=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)t=new Date(n);else if(n instanceof Set)t=new Set(n);else if(!(pS&&(n instanceof Blob||i))&&(e||jn(n)))if(t=e?[]:{},!e&&!Vae(n))t=n;else for(const r in n)n.hasOwnProperty(r)&&(t[r]=sr(n[r]));else return n;return t}var Fw=n=>Array.isArray(n)?n.filter(Boolean):[],Ln=n=>n===void 0,ke=(n,t,e)=>{if(!t||!jn(n))return e;const i=Fw(t.split(/[,[\].]+?/)).reduce((r,s)=>ji(r)?r:r[s],n);return Ln(i)||i===n?Ln(n[t])?e:n[t]:i},Kr=n=>typeof n=="boolean",gS=n=>/^\w*$/.test(n),c9=n=>Fw(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Vt=(n,t,e)=>{let i=-1;const r=gS(t)?[t]:c9(t),s=r.length,o=s-1;for(;++i<s;){const a=r[i];let l=e;if(i!==o){const c=n[a];l=jn(c)||Array.isArray(c)?c:isNaN(+r[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}return n};const Qb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ws={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},u9=Se.createContext(null),Bw=()=>Se.useContext(u9),Fae=n=>{const{children:t,...e}=n;return Se.createElement(u9.Provider,{value:e},t)};var d9=(n,t,e,i=!0)=>{const r={defaultValues:t._defaultValues};for(const s in n)Object.defineProperty(r,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ws.all&&(t._proxyFormState[o]=!i||ws.all),e&&(e[o]=!0),n[o]}});return r},or=n=>jn(n)&&!Object.keys(n).length,f9=(n,t,e,i)=>{e(n);const{name:r,...s}=n;return or(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!i||ws.all))},Zh=n=>Array.isArray(n)?n:[n],h9=(n,t,e)=>!n||!t||n===t||Zh(n).some(i=>i&&(e?i===t:i.startsWith(t)||t.startsWith(i)));function bS(n){const t=Se.useRef(n);t.current=n,Se.useEffect(()=>{const e=!n.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{e&&e.unsubscribe()}},[n.disabled])}function Bae(n){const t=Bw(),{control:e=t.control,disabled:i,name:r,exact:s}=n||{},[o,a]=Se.useState(e._formState),l=Se.useRef(!0),c=Se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Se.useRef(r);return d.current=r,bS({disabled:i,next:h=>l.current&&h9(d.current,h.name,s)&&f9(h,c.current,e._updateFormState)&&a({...e._formState,...h}),subject:e._subjects.state}),Se.useEffect(()=>(l.current=!0,c.current.isValid&&e._updateValid(!0),()=>{l.current=!1}),[e]),Se.useMemo(()=>d9(o,e,c.current,!1),[o,e])}var ao=n=>typeof n=="string",m9=(n,t,e,i,r)=>ao(n)?(i&&t.watch.add(n),ke(e,n,r)):Array.isArray(n)?n.map(s=>(i&&t.watch.add(s),ke(e,s))):(i&&(t.watchAll=!0),e);function jae(n){const t=Bw(),{control:e=t.control,name:i,defaultValue:r,disabled:s,exact:o}=n||{},a=Se.useRef(i);a.current=i,bS({disabled:s,subject:e._subjects.values,next:d=>{h9(a.current,d.name,o)&&c(sr(m9(a.current,e._names,d.values||e._formValues,!1,r)))}});const[l,c]=Se.useState(e._getWatch(i,r));return Se.useEffect(()=>e._removeUnmounted()),l}function zae(n){const t=Bw(),{name:e,disabled:i,control:r=t.control,shouldUnregister:s}=n,o=l9(r._names.array,e),a=jae({control:r,name:e,defaultValue:ke(r._formValues,e,ke(r._defaultValues,e,n.defaultValue)),exact:!0}),l=Bae({control:r,name:e,exact:!0}),c=Se.useRef(r.register(e,{...n.rules,value:a,...Kr(n.disabled)?{disabled:n.disabled}:{}})),d=Se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(l.errors,e)},isDirty:{enumerable:!0,get:()=>!!ke(l.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!ke(l.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!ke(l.validatingFields,e)},error:{enumerable:!0,get:()=>ke(l.errors,e)}}),[l,e]),h=Se.useMemo(()=>({name:e,value:a,...Kr(i)||l.disabled?{disabled:l.disabled||i}:{},onChange:p=>c.current.onChange({target:{value:a9(p),name:e},type:Qb.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:ke(r._formValues,e),name:e},type:Qb.BLUR}),ref:p=>{const b=ke(r._fields,e);b&&p&&(b._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:_=>p.setCustomValidity(_),reportValidity:()=>p.reportValidity()})}}),[e,r._formValues,i,l.disabled,a,r._fields]);return Se.useEffect(()=>{const p=r._options.shouldUnregister||s,b=(_,x)=>{const C=ke(r._fields,_);C&&C._f&&(C._f.mount=x)};if(b(e,!0),p){const _=sr(ke(r._options.defaultValues,e));Vt(r._defaultValues,e,_),Ln(ke(r._formValues,e))&&Vt(r._formValues,e,_)}return!o&&r.register(e),()=>{(o?p&&!r._state.action:p)?r.unregister(e):b(e,!1)}},[e,r,o,s]),Se.useEffect(()=>{r._updateDisabledField({disabled:i,fields:r._fields,name:e})},[i,e,r]),Se.useMemo(()=>({field:h,formState:l,fieldState:d}),[h,l,d])}const $ae=n=>n.render(zae(n));var p9=(n,t,e,i,r)=>t?{...e[n],types:{...e[n]&&e[n].types?e[n].types:{},[i]:r||!0}}:{},uP=n=>({isOnSubmit:!n||n===ws.onSubmit,isOnBlur:n===ws.onBlur,isOnChange:n===ws.onChange,isOnAll:n===ws.all,isOnTouch:n===ws.onTouched}),dP=(n,t,e)=>!e&&(t.watchAll||t.watch.has(n)||[...t.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const Jh=(n,t,e,i)=>{for(const r of e||Object.keys(n)){const s=ke(n,r);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],r)&&!i)return!0;if(o.ref&&t(o.ref,o.name)&&!i)return!0;if(Jh(a,t))break}else if(jn(a)&&Jh(a,t))break}}};var Uae=(n,t,e)=>{const i=Zh(ke(n,e));return Vt(i,"root",t[e]),Vt(n,e,i),n},wS=n=>n.type==="file",oo=n=>typeof n=="function",e1=n=>{if(!pS)return!1;const t=n?n.ownerDocument:0;return n instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ub=n=>ao(n),vS=n=>n.type==="radio",t1=n=>n instanceof RegExp;const fP={value:!1,isValid:!1},hP={value:!0,isValid:!0};var g9=n=>{if(Array.isArray(n)){if(n.length>1){const t=n.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ln(n[0].attributes.value)?Ln(n[0].value)||n[0].value===""?hP:{value:n[0].value,isValid:!0}:hP:fP}return fP};const mP={isValid:!1,value:null};var b9=n=>Array.isArray(n)?n.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,mP):mP;function pP(n,t,e="validate"){if(ub(n)||Array.isArray(n)&&n.every(ub)||Kr(n)&&!n)return{type:e,message:ub(n)?n:"",ref:t}}var ad=n=>jn(n)&&!t1(n)?n:{value:n,message:""},gP=async(n,t,e,i,r,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:h,max:p,pattern:b,validate:_,name:x,valueAsNumber:C,mount:S}=n._f,T=ke(e,x);if(!S||t.has(x))return{};const A=a?a[0]:o,P=ee=>{r&&A.reportValidity&&(A.setCustomValidity(Kr(ee)?"":ee||""),A.reportValidity())},O={},D=vS(o),R=Tp(o),j=D||R,$=(C||wS(o))&&Ln(o.value)&&Ln(T)||e1(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,Z=p9.bind(null,x,i,O),ge=(ee,re,ne,ve=qo.maxLength,me=qo.minLength)=>{const fe=ee?re:ne;O[x]={type:ee?ve:me,message:fe,ref:o,...Z(ee?ve:me,fe)}};if(s?!Array.isArray(T)||!T.length:l&&(!j&&($||ji(T))||Kr(T)&&!T||R&&!g9(a).isValid||D&&!b9(a).isValid)){const{value:ee,message:re}=ub(l)?{value:!!l,message:l}:ad(l);if(ee&&(O[x]={type:qo.required,message:re,ref:A,...Z(qo.required,re)},!i))return P(re),O}if(!$&&(!ji(h)||!ji(p))){let ee,re;const ne=ad(p),ve=ad(h);if(!ji(T)&&!isNaN(T)){const me=o.valueAsNumber||T&&+T;ji(ne.value)||(ee=me>ne.value),ji(ve.value)||(re=me<ve.value)}else{const me=o.valueAsDate||new Date(T),fe=te=>new Date(new Date().toDateString()+" "+te),U=o.type=="time",K=o.type=="week";ao(ne.value)&&T&&(ee=U?fe(T)>fe(ne.value):K?T>ne.value:me>new Date(ne.value)),ao(ve.value)&&T&&(re=U?fe(T)<fe(ve.value):K?T<ve.value:me<new Date(ve.value))}if((ee||re)&&(ge(!!ee,ne.message,ve.message,qo.max,qo.min),!i))return P(O[x].message),O}if((c||d)&&!$&&(ao(T)||s&&Array.isArray(T))){const ee=ad(c),re=ad(d),ne=!ji(ee.value)&&T.length>+ee.value,ve=!ji(re.value)&&T.length<+re.value;if((ne||ve)&&(ge(ne,ee.message,re.message),!i))return P(O[x].message),O}if(b&&!$&&ao(T)){const{value:ee,message:re}=ad(b);if(t1(ee)&&!T.match(ee)&&(O[x]={type:qo.pattern,message:re,ref:o,...Z(qo.pattern,re)},!i))return P(re),O}if(_){if(oo(_)){const ee=await _(T,e),re=pP(ee,A);if(re&&(O[x]={...re,...Z(qo.validate,re.message)},!i))return P(re.message),O}else if(jn(_)){let ee={};for(const re in _){if(!or(ee)&&!i)break;const ne=pP(await _[re](T,e),A,re);ne&&(ee={...ne,...Z(re,ne.message)},P(ne.message),i&&(O[x]=ee))}if(!or(ee)&&(O[x]={ref:A,...ee},!i))return O}}return P(!0),O};function Hae(n,t){const e=t.slice(0,-1).length;let i=0;for(;i<e;)n=Ln(n)?i++:n[t[i++]];return n}function Wae(n){for(const t in n)if(n.hasOwnProperty(t)&&!Ln(n[t]))return!1;return!0}function Qn(n,t){const e=Array.isArray(t)?t:gS(t)?[t]:c9(t),i=e.length===1?n:Hae(n,e),r=e.length-1,s=e[r];return i&&delete i[s],r!==0&&(jn(i)&&or(i)||Array.isArray(i)&&Wae(i))&&Qn(n,e.slice(0,-1)),n}var B_=()=>{let n=[];return{get observers(){return n},next:r=>{for(const s of n)s.next&&s.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(s=>s!==r)}}),unsubscribe:()=>{n=[]}}},ek=n=>ji(n)||!o9(n);function yl(n,t){if(ek(n)||ek(t))return n===t;if(Dc(n)&&Dc(t))return n.getTime()===t.getTime();const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(const r of e){const s=n[r];if(!i.includes(r))return!1;if(r!=="ref"){const o=t[r];if(Dc(s)&&Dc(o)||jn(s)&&jn(o)||Array.isArray(s)&&Array.isArray(o)?!yl(s,o):s!==o)return!1}}return!0}var w9=n=>n.type==="select-multiple",qae=n=>vS(n)||Tp(n),j_=n=>e1(n)&&n.isConnected,v9=n=>{for(const t in n)if(oo(n[t]))return!0;return!1};function n1(n,t={}){const e=Array.isArray(n);if(jn(n)||e)for(const i in n)Array.isArray(n[i])||jn(n[i])&&!v9(n[i])?(t[i]=Array.isArray(n[i])?[]:{},n1(n[i],t[i])):ji(n[i])||(t[i]=!0);return t}function y9(n,t,e){const i=Array.isArray(n);if(jn(n)||i)for(const r in n)Array.isArray(n[r])||jn(n[r])&&!v9(n[r])?Ln(t)||ek(e[r])?e[r]=Array.isArray(n[r])?n1(n[r],[]):{...n1(n[r])}:y9(n[r],ji(t)?{}:t[r],e[r]):e[r]=!yl(n[r],t[r]);return e}var xh=(n,t)=>y9(n,t,n1(t)),_9=(n,{valueAsNumber:t,valueAsDate:e,setValueAs:i})=>Ln(n)?n:t?n===""?NaN:n&&+n:e&&ao(n)?new Date(n):i?i(n):n;function z_(n){const t=n.ref;return wS(t)?t.files:vS(t)?b9(n.refs).value:w9(t)?[...t.selectedOptions].map(({value:e})=>e):Tp(t)?g9(n.refs).value:_9(Ln(t.value)?n.ref.value:t.value,n)}var Gae=(n,t,e,i)=>{const r={};for(const s of n){const o=ke(t,s);o&&Vt(r,s,o._f)}return{criteriaMode:e,names:[...n],fields:r,shouldUseNativeValidation:i}},kh=n=>Ln(n)?n:t1(n)?n.source:jn(n)?t1(n.value)?n.value.source:n.value:n;const bP="AsyncFunction";var Kae=n=>!!n&&!!n.validate&&!!(oo(n.validate)&&n.validate.constructor.name===bP||jn(n.validate)&&Object.values(n.validate).find(t=>t.constructor.name===bP)),Yae=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function wP(n,t,e){const i=ke(n,e);if(i||gS(e))return{error:i,name:e};const r=e.split(".");for(;r.length;){const s=r.join("."),o=ke(t,s),a=ke(n,s);if(o&&!Array.isArray(o)&&e!==s)return{name:e};if(a&&a.type)return{name:s,error:a};r.pop()}return{name:e}}var Zae=(n,t,e,i,r)=>r.isOnAll?!1:!e&&r.isOnTouch?!(t||n):(e?i.isOnBlur:r.isOnBlur)?!n:(e?i.isOnChange:r.isOnChange)?n:!0,Jae=(n,t)=>!Fw(ke(n,t)).length&&Qn(n,t);const Xae={mode:ws.onSubmit,reValidateMode:ws.onChange,shouldFocusError:!0};function Qae(n={}){let t={...Xae,...n},e={submitCount:0,isDirty:!1,isLoading:oo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},r=jn(t.defaultValues)||jn(t.values)?sr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:sr(r),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:B_(),array:B_(),state:B_()},p=uP(t.mode),b=uP(t.reValidateMode),_=t.criteriaMode===ws.all,x=F=>H=>{clearTimeout(c),c=setTimeout(F,H)},C=async F=>{if(!t.disabled&&(d.isValid||F)){const H=t.resolver?or((await j()).errors):await Z(i,!0);H!==e.isValid&&h.state.next({isValid:H})}},S=(F,H)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((F||Array.from(a.mount)).forEach(X=>{X&&(H?Vt(e.validatingFields,X,H):Qn(e.validatingFields,X))}),h.state.next({validatingFields:e.validatingFields,isValidating:!or(e.validatingFields)}))},T=(F,H=[],X,xe,ye=!0,be=!0)=>{if(xe&&X&&!t.disabled){if(o.action=!0,be&&Array.isArray(ke(i,F))){const Q=X(ke(i,F),xe.argA,xe.argB);ye&&Vt(i,F,Q)}if(be&&Array.isArray(ke(e.errors,F))){const Q=X(ke(e.errors,F),xe.argA,xe.argB);ye&&Vt(e.errors,F,Q),Jae(e.errors,F)}if(d.touchedFields&&be&&Array.isArray(ke(e.touchedFields,F))){const Q=X(ke(e.touchedFields,F),xe.argA,xe.argB);ye&&Vt(e.touchedFields,F,Q)}d.dirtyFields&&(e.dirtyFields=xh(r,s)),h.state.next({name:F,isDirty:ee(F,H),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else Vt(s,F,H)},A=(F,H)=>{Vt(e.errors,F,H),h.state.next({errors:e.errors})},P=F=>{e.errors=F,h.state.next({errors:e.errors,isValid:!1})},O=(F,H,X,xe)=>{const ye=ke(i,F);if(ye){const be=ke(s,F,Ln(X)?ke(r,F):X);Ln(be)||xe&&xe.defaultChecked||H?Vt(s,F,H?be:z_(ye._f)):ve(F,be),o.mount&&C()}},D=(F,H,X,xe,ye)=>{let be=!1,Q=!1;const pe={name:F};if(!t.disabled){const ut=!!(ke(i,F)&&ke(i,F)._f&&ke(i,F)._f.disabled);if(!X||xe){d.isDirty&&(Q=e.isDirty,e.isDirty=pe.isDirty=ee(),be=Q!==pe.isDirty);const mt=ut||yl(ke(r,F),H);Q=!!(!ut&&ke(e.dirtyFields,F)),mt||ut?Qn(e.dirtyFields,F):Vt(e.dirtyFields,F,!0),pe.dirtyFields=e.dirtyFields,be=be||d.dirtyFields&&Q!==!mt}if(X){const mt=ke(e.touchedFields,F);mt||(Vt(e.touchedFields,F,X),pe.touchedFields=e.touchedFields,be=be||d.touchedFields&&mt!==X)}be&&ye&&h.state.next(pe)}return be?pe:{}},R=(F,H,X,xe)=>{const ye=ke(e.errors,F),be=d.isValid&&Kr(H)&&e.isValid!==H;if(t.delayError&&X?(l=x(()=>A(F,X)),l(t.delayError)):(clearTimeout(c),l=null,X?Vt(e.errors,F,X):Qn(e.errors,F)),(X?!yl(ye,X):ye)||!or(xe)||be){const Q={...xe,...be&&Kr(H)?{isValid:H}:{},errors:e.errors,name:F};e={...e,...Q},h.state.next(Q)}},j=async F=>{S(F,!0);const H=await t.resolver(s,t.context,Gae(F||a.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return S(F),H},$=async F=>{const{errors:H}=await j(F);if(F)for(const X of F){const xe=ke(H,X);xe?Vt(e.errors,X,xe):Qn(e.errors,X)}else e.errors=H;return H},Z=async(F,H,X={valid:!0})=>{for(const xe in F){const ye=F[xe];if(ye){const{_f:be,...Q}=ye;if(be){const pe=a.array.has(be.name),ut=ye._f&&Kae(ye._f);ut&&d.validatingFields&&S([xe],!0);const mt=await gP(ye,a.disabled,s,_,t.shouldUseNativeValidation&&!H,pe);if(ut&&d.validatingFields&&S([xe]),mt[be.name]&&(X.valid=!1,H))break;!H&&(ke(mt,be.name)?pe?Uae(e.errors,mt,be.name):Vt(e.errors,be.name,mt[be.name]):Qn(e.errors,be.name))}!or(Q)&&await Z(Q,H,X)}}return X.valid},ge=()=>{for(const F of a.unMount){const H=ke(i,F);H&&(H._f.refs?H._f.refs.every(X=>!j_(X)):!j_(H._f.ref))&&Fe(F)}a.unMount=new Set},ee=(F,H)=>!t.disabled&&(F&&H&&Vt(s,F,H),!yl(V(),r)),re=(F,H,X)=>m9(F,a,{...o.mount?s:Ln(H)?r:ao(F)?{[F]:H}:H},X,H),ne=F=>Fw(ke(o.mount?s:r,F,t.shouldUnregister?ke(r,F,[]):[])),ve=(F,H,X={})=>{const xe=ke(i,F);let ye=H;if(xe){const be=xe._f;be&&(!be.disabled&&Vt(s,F,_9(H,be)),ye=e1(be.ref)&&ji(H)?"":H,w9(be.ref)?[...be.ref.options].forEach(Q=>Q.selected=ye.includes(Q.value)):be.refs?Tp(be.ref)?be.refs.length>1?be.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray(ye)?!!ye.find(pe=>pe===Q.value):ye===Q.value)):be.refs[0]&&(be.refs[0].checked=!!ye):be.refs.forEach(Q=>Q.checked=Q.value===ye):wS(be.ref)?be.ref.value="":(be.ref.value=ye,be.ref.type||h.values.next({name:F,values:{...s}})))}(X.shouldDirty||X.shouldTouch)&&D(F,ye,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&te(F)},me=(F,H,X)=>{for(const xe in H){const ye=H[xe],be=`${F}.${xe}`,Q=ke(i,be);(a.array.has(F)||jn(ye)||Q&&!Q._f)&&!Dc(ye)?me(be,ye,X):ve(be,ye,X)}},fe=(F,H,X={})=>{const xe=ke(i,F),ye=a.array.has(F),be=sr(H);Vt(s,F,be),ye?(h.array.next({name:F,values:{...s}}),(d.isDirty||d.dirtyFields)&&X.shouldDirty&&h.state.next({name:F,dirtyFields:xh(r,s),isDirty:ee(F,be)})):xe&&!xe._f&&!ji(be)?me(F,be,X):ve(F,be,X),dP(F,a)&&h.state.next({...e}),h.values.next({name:o.mount?F:void 0,values:{...s}})},U=async F=>{o.mount=!0;const H=F.target;let X=H.name,xe=!0;const ye=ke(i,X),be=()=>H.type?z_(ye._f):a9(F),Q=pe=>{xe=Number.isNaN(pe)||Dc(pe)&&isNaN(pe.getTime())||yl(pe,ke(s,X,pe))};if(ye){let pe,ut;const mt=be(),Kt=F.type===Qb.BLUR||F.type===Qb.FOCUS_OUT,qs=!Yae(ye._f)&&!t.resolver&&!ke(e.errors,X)&&!ye._f.deps||Zae(Kt,ke(e.touchedFields,X),e.isSubmitted,b,p),Ci=dP(X,a,Kt);Vt(s,X,mt),Kt?(ye._f.onBlur&&ye._f.onBlur(F),l&&l(0)):ye._f.onChange&&ye._f.onChange(F);const gr=D(X,mt,Kt,!1),tc=!or(gr)||Ci;if(!Kt&&h.values.next({name:X,type:F.type,values:{...s}}),qs)return d.isValid&&(t.mode==="onBlur"&&Kt?C():Kt||C()),tc&&h.state.next({name:X,...Ci?{}:gr});if(!Kt&&Ci&&h.state.next({...e}),t.resolver){const{errors:Do}=await j([X]);if(Q(mt),xe){const Lo=wP(e.errors,i,X),Ha=wP(Do,i,Lo.name||X);pe=Ha.error,X=Ha.name,ut=or(Do)}}else S([X],!0),pe=(await gP(ye,a.disabled,s,_,t.shouldUseNativeValidation))[X],S([X]),Q(mt),xe&&(pe?ut=!1:d.isValid&&(ut=await Z(i,!0)));xe&&(ye._f.deps&&te(ye._f.deps),R(X,ut,pe,gr))}},K=(F,H)=>{if(ke(e.errors,H)&&F.focus)return F.focus(),1},te=async(F,H={})=>{let X,xe;const ye=Zh(F);if(t.resolver){const be=await $(Ln(F)?F:ye);X=or(be),xe=F?!ye.some(Q=>ke(be,Q)):X}else F?(xe=(await Promise.all(ye.map(async be=>{const Q=ke(i,be);return await Z(Q&&Q._f?{[be]:Q}:Q)}))).every(Boolean),!(!xe&&!e.isValid)&&C()):xe=X=await Z(i);return h.state.next({...!ao(F)||d.isValid&&X!==e.isValid?{}:{name:F},...t.resolver||!F?{isValid:X}:{},errors:e.errors}),H.shouldFocus&&!xe&&Jh(i,K,F?ye:a.mount),xe},V=F=>{const H={...o.mount?s:r};return Ln(F)?H:ao(F)?ke(H,F):F.map(X=>ke(H,X))},J=(F,H)=>({invalid:!!ke((H||e).errors,F),isDirty:!!ke((H||e).dirtyFields,F),error:ke((H||e).errors,F),isValidating:!!ke(e.validatingFields,F),isTouched:!!ke((H||e).touchedFields,F)}),We=F=>{F&&Zh(F).forEach(H=>Qn(e.errors,H)),h.state.next({errors:F?e.errors:{}})},Ve=(F,H,X)=>{const xe=(ke(i,F,{_f:{}})._f||{}).ref,ye=ke(e.errors,F)||{},{ref:be,message:Q,type:pe,...ut}=ye;Vt(e.errors,F,{...ut,...H,ref:xe}),h.state.next({name:F,errors:e.errors,isValid:!1}),X&&X.shouldFocus&&xe&&xe.focus&&xe.focus()},Xe=(F,H)=>oo(F)?h.values.subscribe({next:X=>F(re(void 0,H),X)}):re(F,H,!0),Fe=(F,H={})=>{for(const X of F?Zh(F):a.mount)a.mount.delete(X),a.array.delete(X),H.keepValue||(Qn(i,X),Qn(s,X)),!H.keepError&&Qn(e.errors,X),!H.keepDirty&&Qn(e.dirtyFields,X),!H.keepTouched&&Qn(e.touchedFields,X),!H.keepIsValidating&&Qn(e.validatingFields,X),!t.shouldUnregister&&!H.keepDefaultValue&&Qn(r,X);h.values.next({values:{...s}}),h.state.next({...e,...H.keepDirty?{isDirty:ee()}:{}}),!H.keepIsValid&&C()},ce=({disabled:F,name:H,field:X,fields:xe})=>{(Kr(F)&&o.mount||F||a.disabled.has(H))&&(F?a.disabled.add(H):a.disabled.delete(H),D(H,z_(X?X._f:ke(xe,H)._f),!1,!1,!0))},Te=(F,H={})=>{let X=ke(i,F);const xe=Kr(H.disabled)||Kr(t.disabled);return Vt(i,F,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:F}},name:F,mount:!0,...H}}),a.mount.add(F),X?ce({field:X,disabled:Kr(H.disabled)?H.disabled:t.disabled,name:F}):O(F,!0,H.value),{...xe?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:kh(H.min),max:kh(H.max),minLength:kh(H.minLength),maxLength:kh(H.maxLength),pattern:kh(H.pattern)}:{},name:F,onChange:U,onBlur:U,ref:ye=>{if(ye){Te(F,H),X=ke(i,F);const be=Ln(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Q=qae(be),pe=X._f.refs||[];if(Q?pe.find(ut=>ut===be):be===X._f.ref)return;Vt(i,F,{_f:{...X._f,...Q?{refs:[...pe.filter(j_),be,...Array.isArray(ke(r,F))?[{}]:[]],ref:{type:be.type,name:F}}:{ref:be}}}),O(F,!1,void 0,be)}else X=ke(i,F,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(l9(a.array,F)&&o.action)&&a.unMount.add(F)}}},De=()=>t.shouldFocusError&&Jh(i,K,a.mount),Ze=F=>{Kr(F)&&(h.state.next({disabled:F}),Jh(i,(H,X)=>{const xe=ke(i,X);xe&&(H.disabled=xe._f.disabled||F,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(ye=>{ye.disabled=xe._f.disabled||F}))},0,!1))},st=(F,H)=>async X=>{let xe;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ye=sr(s);if(a.disabled.size)for(const be of a.disabled)Vt(ye,be,void 0);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:be,values:Q}=await j();e.errors=be,ye=Q}else await Z(i);if(Qn(e.errors,"root"),or(e.errors)){h.state.next({errors:{}});try{await F(ye,X)}catch(be){xe=be}}else H&&await H({...e.errors},X),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:or(e.errors)&&!xe,submitCount:e.submitCount+1,errors:e.errors}),xe)throw xe},at=(F,H={})=>{ke(i,F)&&(Ln(H.defaultValue)?fe(F,sr(ke(r,F))):(fe(F,H.defaultValue),Vt(r,F,sr(H.defaultValue))),H.keepTouched||Qn(e.touchedFields,F),H.keepDirty||(Qn(e.dirtyFields,F),e.isDirty=H.defaultValue?ee(F,sr(ke(r,F))):ee()),H.keepError||(Qn(e.errors,F),d.isValid&&C()),h.state.next({...e}))},_t=(F,H={})=>{const X=F?sr(F):r,xe=sr(X),ye=or(F),be=ye?r:xe;if(H.keepDefaultValues||(r=X),!H.keepValues){if(H.keepDirtyValues){const Q=new Set([...a.mount,...Object.keys(xh(r,s))]);for(const pe of Array.from(Q))ke(e.dirtyFields,pe)?Vt(be,pe,ke(s,pe)):fe(pe,ke(be,pe))}else{if(pS&&Ln(F))for(const Q of a.mount){const pe=ke(i,Q);if(pe&&pe._f){const ut=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(e1(ut)){const mt=ut.closest("form");if(mt){mt.reset();break}}}}i={}}s=t.shouldUnregister?H.keepDefaultValues?sr(r):{}:sr(be),h.array.next({values:{...be}}),h.values.next({values:{...be}})}a={mount:H.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:H.keepSubmitCount?e.submitCount:0,isDirty:ye?!1:H.keepDirty?e.isDirty:!!(H.keepDefaultValues&&!yl(F,r)),isSubmitted:H.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:ye?{}:H.keepDirtyValues?H.keepDefaultValues&&s?xh(r,s):e.dirtyFields:H.keepDefaultValues&&F?xh(r,F):H.keepDirty?e.dirtyFields:{},touchedFields:H.keepTouched?e.touchedFields:{},errors:H.keepErrors?e.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1})},Xt=(F,H)=>_t(oo(F)?F(s):F,H);return{control:{register:Te,unregister:Fe,getFieldState:J,handleSubmit:st,setError:Ve,_executeSchema:j,_getWatch:re,_getDirty:ee,_updateValid:C,_removeUnmounted:ge,_updateFieldArray:T,_updateDisabledField:ce,_getFieldArray:ne,_reset:_t,_resetDefaultValues:()=>oo(t.defaultValues)&&t.defaultValues().then(F=>{Xt(F,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:F=>{e={...e,...F}},_disableForm:Ze,_subjects:h,_proxyFormState:d,_setErrors:P,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(F){o=F},get _defaultValues(){return r},get _names(){return a},set _names(F){a=F},get _formState(){return e},set _formState(F){e=F},get _options(){return t},set _options(F){t={...t,...F}}},trigger:te,register:Te,handleSubmit:st,watch:Xe,setValue:fe,getValues:V,reset:Xt,resetField:at,clearErrors:We,unregister:Fe,setError:Ve,setFocus:(F,H={})=>{const X=ke(i,F),xe=X&&X._f;if(xe){const ye=xe.refs?xe.refs[0]:xe.ref;ye.focus&&(ye.focus(),H.shouldSelect&&oo(ye.select)&&ye.select())}},getFieldState:J}}function ql(n={}){const t=Se.useRef(void 0),e=Se.useRef(void 0),[i,r]=Se.useState({isDirty:!1,isValidating:!1,isLoading:oo(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:oo(n.defaultValues)?void 0:n.defaultValues});t.current||(t.current={...Qae(n),formState:i});const s=t.current.control;return s._options=n,bS({subject:s._subjects.state,next:o=>{f9(o,s._proxyFormState,s._updateFormState,!0)&&r({...s._formState})}}),Se.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),Se.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),Se.useEffect(()=>{n.values&&!yl(n.values,e.current)?(s._reset(n.values,s._options.resetOptions),e.current=n.values,r(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),Se.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),Se.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Se.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),t.current.formState=d9(i,s),t.current}var ele="Label",x9=y.forwardRef((n,t)=>v.jsx(Li.label,{...n,ref:t,onMouseDown:e=>{var r;e.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));x9.displayName=ele;var k9=x9;const tle=fp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C9=y.forwardRef(({className:n,...t},e)=>v.jsx(k9,{ref:e,className:Ie(tle(),n),...t}));C9.displayName=k9.displayName;const Gl=Fae,E9=y.createContext({}),kn=({...n})=>v.jsx(E9.Provider,{value:{name:n.name},children:v.jsx($ae,{...n})}),jw=()=>{const n=y.useContext(E9),t=y.useContext(S9),{getFieldState:e,formState:i}=Bw(),r=e(n.name,i);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...r}},S9=y.createContext({}),fn=y.forwardRef(({className:n,...t},e)=>{const i=y.useId();return v.jsx(S9.Provider,{value:{id:i},children:v.jsx("div",{ref:e,className:Ie("space-y-2",n),...t})})});fn.displayName="FormItem";const hn=y.forwardRef(({className:n,...t},e)=>{const{error:i,formItemId:r}=jw();return v.jsx(C9,{ref:e,className:Ie(i&&"text-destructive",n),htmlFor:r,...t})});hn.displayName="FormLabel";const mn=y.forwardRef(({...n},t)=>{const{error:e,formItemId:i,formDescriptionId:r,formMessageId:s}=jw();return v.jsx(Eo,{ref:t,id:i,"aria-describedby":e?`${r} ${s}`:`${r}`,"aria-invalid":!!e,...n})});mn.displayName="FormControl";const nle=y.forwardRef(({className:n,...t},e)=>{const{formDescriptionId:i}=jw();return v.jsx("p",{ref:e,id:i,className:Ie("text-[0.8rem] text-muted-foreground",n),...t})});nle.displayName="FormDescription";const pn=y.forwardRef(({className:n,children:t,...e},i)=>{const{error:r,formMessageId:s}=jw(),o=r?String(r==null?void 0:r.message):t;return o?v.jsx("p",{ref:i,id:s,className:Ie("text-[0.8rem] font-medium text-destructive",n),...e,children:o}):null});pn.displayName="FormMessage";var St;(function(n){n.assertEqual=r=>r;function t(r){}n.assertIs=t;function e(r){throw new Error}n.assertNever=e,n.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},n.getValidEnumValues=r=>{const s=n.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(const a of s)o[a]=r[a];return n.objectValues(o)},n.objectValues=r=>n.objectKeys(r).map(function(s){return r[s]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},n.find=(r,s)=>{for(const o of r)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=i,n.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(St||(St={}));var tk;(function(n){n.mergeShapes=(t,e)=>({...t,...e})})(tk||(tk={}));const Me=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ea=n=>{switch(typeof n){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return isNaN(n)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(n)?Me.array:n===null?Me.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Me.promise:typeof Map<"u"&&n instanceof Map?Me.map:typeof Set<"u"&&n instanceof Set?Me.set:typeof Date<"u"&&n instanceof Date?Me.date:Me.object;default:return Me.unknown}},ue=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ile=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Pr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}format(t){const e=t||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(e(o));else{let a=i,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(e(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return r(this),i}static assert(t){if(!(t instanceof Pr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=e=>e.message){const e={},i=[];for(const r of this.issues)r.path.length>0?(e[r.path[0]]=e[r.path[0]]||[],e[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}Pr.create=n=>new Pr(n);const Kd=(n,t)=>{let e;switch(n.code){case ue.invalid_type:n.received===Me.undefined?e="Required":e=`Expected ${n.expected}, received ${n.received}`;break;case ue.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(n.expected,St.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:e=`Unrecognized key(s) in object: ${St.joinValues(n.keys,", ")}`;break;case ue.invalid_union:e="Invalid input";break;case ue.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${St.joinValues(n.options)}`;break;case ue.invalid_enum_value:e=`Invalid enum value. Expected ${St.joinValues(n.options)}, received '${n.received}'`;break;case ue.invalid_arguments:e="Invalid function arguments";break;case ue.invalid_return_type:e="Invalid function return type";break;case ue.invalid_date:e="Invalid date";break;case ue.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(e=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?e=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?e=`Invalid input: must end with "${n.validation.endsWith}"`:St.assertNever(n.validation):n.validation!=="regex"?e=`Invalid ${n.validation}`:e="Invalid";break;case ue.too_small:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:e="Invalid input";break;case ue.too_big:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?e=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:e="Invalid input";break;case ue.custom:e="Invalid input";break;case ue.invalid_intersection_types:e="Intersection results could not be merged";break;case ue.not_multiple_of:e=`Number must be a multiple of ${n.multipleOf}`;break;case ue.not_finite:e="Number must be finite";break;default:e=t.defaultError,St.assertNever(n)}return{message:e}};let T9=Kd;function rle(n){T9=n}function i1(){return T9}const r1=n=>{const{data:t,path:e,errorMaps:i,issueData:r}=n,s=[...e,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let a="";const l=i.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...r,path:s,message:a}},sle=[];function Ae(n,t){const e=i1(),i=r1({issueData:t,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,e,e===Kd?void 0:Kd].filter(r=>!!r)});n.common.issues.push(i)}class Di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,e){const i=[];for(const r of e){if(r.status==="aborted")return rt;r.status==="dirty"&&t.dirty(),i.push(r.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,e){const i=[];for(const r of e){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return Di.mergeObjectSync(t,i)}static mergeObjectSync(t,e){const i={};for(const r of e){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return rt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:t.value,value:i}}}const rt=Object.freeze({status:"aborted"}),Ad=n=>({status:"dirty",value:n}),qi=n=>({status:"valid",value:n}),nk=n=>n.status==="aborted",ik=n=>n.status==="dirty",eu=n=>n.status==="valid",Tm=n=>typeof Promise<"u"&&n instanceof Promise;function s1(n,t,e,i){if(typeof t=="function"?n!==t||!0:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(n)}function A9(n,t,e,i,r){if(typeof t=="function"?n!==t||!0:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(n,e),e}var Ke;(function(n){n.errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));var zh,$h;class bo{constructor(t,e,i,r){this._cachedPath=[],this.parent=t,this.data=e,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vP=(n,t)=>{if(eu(t))return{success:!0,data:t.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new Pr(n.common.issues);return this._error=e,this._error}}};function ft(n){if(!n)return{};const{errorMap:t,invalid_type_error:e,required_error:i,description:r}=n;if(t&&(e||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(o,a)=>{var l,c;const{message:d}=n;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??i)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??e)!==null&&c!==void 0?c:a.defaultError}},description:r}}class bt{get description(){return this._def.description}_getType(t){return ea(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:ea(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Di,ctx:{common:t.parent.common,data:t.data,parsedType:ea(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(Tm(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const i=this.safeParse(t,e);if(i.success)return i.data;throw i.error}safeParse(t,e){var i;const r={common:{issues:[],async:(i=e==null?void 0:e.async)!==null&&i!==void 0?i:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ea(t)},s=this._parseSync({data:t,path:r.path,parent:r});return vP(r,s)}"~validate"(t){var e,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ea(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return eu(s)?{value:s.value}:{issues:r.common.issues}}catch(s){!((i=(e=s==null?void 0:s.message)===null||e===void 0?void 0:e.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>eu(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,e){const i=await this.safeParseAsync(t,e);if(i.success)return i.data;throw i.error}async safeParseAsync(t,e){const i={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ea(t)},r=this._parse({data:t,path:i.path,parent:i}),s=await(Tm(r)?r:Promise.resolve(r));return vP(i,s)}refine(t,e){const i=r=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(r):e;return this._refinement((r,s)=>{const o=t(r),a=()=>s.addIssue({code:ue.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,e){return this._refinement((i,r)=>t(i)?!0:(r.addIssue(typeof e=="function"?e(i,r):e),!1))}_refinement(t){return new Rs({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return uo.create(this,this._def)}nullable(){return $l.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cs.create(this)}promise(){return Zd.create(this,this._def)}or(t){return Rm.create([this,t],this._def)}and(t){return Om.create(this,t,this._def)}transform(t){return new Rs({...ft(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new Vm({...ft(this._def),innerType:this,defaultValue:e,typeName:nt.ZodDefault})}brand(){return new yS({typeName:nt.ZodBranded,type:this,...ft(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new Fm({...ft(this._def),innerType:this,catchValue:e,typeName:nt.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return Ap.create(this,t)}readonly(){return Bm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ole=/^c[^\s-]{8,}$/i,ale=/^[0-9a-z]+$/,lle=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ule=/^[a-z0-9_-]{21}$/i,dle=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fle=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hle=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $_;const ple=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ble=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vle=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yle=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,I9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_le=new RegExp(`^${I9}$`);function P9(n){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?t=`${t}\\.\\d{${n.precision}}`:n.precision==null&&(t=`${t}(\\.\\d+)?`),t}function xle(n){return new RegExp(`^${P9(n)}$`)}function R9(n){let t=`${I9}T${P9(n)}`;const e=[];return e.push(n.local?"Z?":"Z"),n.offset&&e.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${e.join("|")})`,new RegExp(`^${t}$`)}function kle(n,t){return!!((t==="v4"||!t)&&ple.test(n)||(t==="v6"||!t)&&ble.test(n))}function Cle(n,t){if(!dle.test(n))return!1;try{const[e]=n.split("."),i=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||!r.typ||!r.alg||t&&r.alg!==t)}catch{return!1}}function Ele(n,t){return!!((t==="v4"||!t)&&gle.test(n)||(t==="v6"||!t)&&wle.test(n))}class _s extends bt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Me.string){const s=this._getOrReturnCtx(t);return Ae(s,{code:ue.invalid_type,expected:Me.string,received:s.parsedType}),rt}const i=new Di;let r;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")t.data.length>s.value&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(r=this._getOrReturnCtx(t,r),o?Ae(r,{code:ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ae(r,{code:ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")hle.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"email",code:ue.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")$_||($_=new RegExp(mle,"u")),$_.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"emoji",code:ue.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")cle.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"uuid",code:ue.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")ule.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"nanoid",code:ue.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")ole.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"cuid",code:ue.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")ale.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"cuid2",code:ue.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")lle.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"ulid",code:ue.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),Ae(r,{validation:"url",code:ue.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"regex",code:ue.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?R9(s).test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?_le.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?xle(s).test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?fle.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"duration",code:ue.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?kle(t.data,s.version)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"ip",code:ue.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?Cle(t.data,s.alg)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"jwt",code:ue.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?Ele(t.data,s.version)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"cidr",code:ue.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?vle.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"base64",code:ue.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?yle.test(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{validation:"base64url",code:ue.invalid_string,message:s.message}),i.dirty()):St.assertNever(s);return{status:i.value,value:t.data}}_regex(t,e,i){return this.refinement(r=>t.test(r),{validation:e,code:ue.invalid_string,...Ke.errToObj(i)})}_addCheck(t){return new _s({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){var e,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(e=t==null?void 0:t.offset)!==null&&e!==void 0?e:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:e==null?void 0:e.position,...Ke.errToObj(e==null?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...Ke.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...Ke.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...Ke.errToObj(e)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new _s({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _s({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _s({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}_s.create=n=>{var t;return new _s({checks:[],typeName:nt.ZodString,coerce:(t=n==null?void 0:n.coerce)!==null&&t!==void 0?t:!1,...ft(n)})};function Sle(n,t){const e=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,r=e>i?e:i,s=parseInt(n.toFixed(r).replace(".","")),o=parseInt(t.toFixed(r).replace(".",""));return s%o/Math.pow(10,r)}class Bl extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Me.number){const s=this._getOrReturnCtx(t);return Ae(s,{code:ue.invalid_type,expected:Me.number,received:s.parsedType}),rt}let i;const r=new Di;for(const s of this._def.checks)s.kind==="int"?St.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?Sle(t.data,s.value)!==0&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.not_finite,message:s.message}),r.dirty()):St.assertNever(s);return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,Ke.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Ke.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Ke.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Ke.toString(e))}setLimit(t,e,i,r){return new Bl({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:Ke.toString(r)}]})}_addCheck(t){return new Bl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&St.isInteger(t.value))}get isFinite(){let t=null,e=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(e===null||i.value>e)&&(e=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(e)&&Number.isFinite(t)}}Bl.create=n=>new Bl({checks:[],typeName:nt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ft(n)});class jl extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Me.bigint)return this._getInvalidInput(t);let i;const r=new Di;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ue.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):St.assertNever(s);return{status:r.value,value:t.data}}_getInvalidInput(t){const e=this._getOrReturnCtx(t);return Ae(e,{code:ue.invalid_type,expected:Me.bigint,received:e.parsedType}),rt}gte(t,e){return this.setLimit("min",t,!0,Ke.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Ke.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Ke.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Ke.toString(e))}setLimit(t,e,i,r){return new jl({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:Ke.toString(r)}]})}_addCheck(t){return new jl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}jl.create=n=>{var t;return new jl({checks:[],typeName:nt.ZodBigInt,coerce:(t=n==null?void 0:n.coerce)!==null&&t!==void 0?t:!1,...ft(n)})};class Am extends bt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Me.boolean){const i=this._getOrReturnCtx(t);return Ae(i,{code:ue.invalid_type,expected:Me.boolean,received:i.parsedType}),rt}return qi(t.data)}}Am.create=n=>new Am({typeName:nt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ft(n)});class tu extends bt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Me.date){const s=this._getOrReturnCtx(t);return Ae(s,{code:ue.invalid_type,expected:Me.date,received:s.parsedType}),rt}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ae(s,{code:ue.invalid_date}),rt}const i=new Di;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:ue.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):St.assertNever(s);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new tu({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t!=null?new Date(t):null}}tu.create=n=>new tu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:nt.ZodDate,...ft(n)});class o1 extends bt{_parse(t){if(this._getType(t)!==Me.symbol){const i=this._getOrReturnCtx(t);return Ae(i,{code:ue.invalid_type,expected:Me.symbol,received:i.parsedType}),rt}return qi(t.data)}}o1.create=n=>new o1({typeName:nt.ZodSymbol,...ft(n)});class Im extends bt{_parse(t){if(this._getType(t)!==Me.undefined){const i=this._getOrReturnCtx(t);return Ae(i,{code:ue.invalid_type,expected:Me.undefined,received:i.parsedType}),rt}return qi(t.data)}}Im.create=n=>new Im({typeName:nt.ZodUndefined,...ft(n)});class Pm extends bt{_parse(t){if(this._getType(t)!==Me.null){const i=this._getOrReturnCtx(t);return Ae(i,{code:ue.invalid_type,expected:Me.null,received:i.parsedType}),rt}return qi(t.data)}}Pm.create=n=>new Pm({typeName:nt.ZodNull,...ft(n)});class Yd extends bt{constructor(){super(...arguments),this._any=!0}_parse(t){return qi(t.data)}}Yd.create=n=>new Yd({typeName:nt.ZodAny,...ft(n)});class Bc extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qi(t.data)}}Bc.create=n=>new Bc({typeName:nt.ZodUnknown,...ft(n)});class Ca extends bt{_parse(t){const e=this._getOrReturnCtx(t);return Ae(e,{code:ue.invalid_type,expected:Me.never,received:e.parsedType}),rt}}Ca.create=n=>new Ca({typeName:nt.ZodNever,...ft(n)});class a1 extends bt{_parse(t){if(this._getType(t)!==Me.undefined){const i=this._getOrReturnCtx(t);return Ae(i,{code:ue.invalid_type,expected:Me.void,received:i.parsedType}),rt}return qi(t.data)}}a1.create=n=>new a1({typeName:nt.ZodVoid,...ft(n)});class Cs extends bt{_parse(t){const{ctx:e,status:i}=this._processInputParams(t),r=this._def;if(e.parsedType!==Me.array)return Ae(e,{code:ue.invalid_type,expected:Me.array,received:e.parsedType}),rt;if(r.exactLength!==null){const o=e.data.length>r.exactLength.value,a=e.data.length<r.exactLength.value;(o||a)&&(Ae(e,{code:o?ue.too_big:ue.too_small,minimum:a?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&e.data.length<r.minLength.value&&(Ae(e,{code:ue.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&e.data.length>r.maxLength.value&&(Ae(e,{code:ue.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map((o,a)=>r.type._parseAsync(new bo(e,o,e.path,a)))).then(o=>Di.mergeArray(i,o));const s=[...e.data].map((o,a)=>r.type._parseSync(new bo(e,o,e.path,a)));return Di.mergeArray(i,s)}get element(){return this._def.type}min(t,e){return new Cs({...this._def,minLength:{value:t,message:Ke.toString(e)}})}max(t,e){return new Cs({...this._def,maxLength:{value:t,message:Ke.toString(e)}})}length(t,e){return new Cs({...this._def,exactLength:{value:t,message:Ke.toString(e)}})}nonempty(t){return this.min(1,t)}}Cs.create=(n,t)=>new Cs({type:n,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...ft(t)});function vd(n){if(n instanceof yn){const t={};for(const e in n.shape){const i=n.shape[e];t[e]=uo.create(vd(i))}return new yn({...n._def,shape:()=>t})}else return n instanceof Cs?new Cs({...n._def,type:vd(n.element)}):n instanceof uo?uo.create(vd(n.unwrap())):n instanceof $l?$l.create(vd(n.unwrap())):n instanceof wo?wo.create(n.items.map(t=>vd(t))):n}class yn extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),e=St.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==Me.object){const c=this._getOrReturnCtx(t);return Ae(c,{code:ue.invalid_type,expected:Me.object,received:c.parsedType}),rt}const{status:i,ctx:r}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ca&&this._def.unknownKeys==="strip"))for(const c in r.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=s[c],h=r.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new bo(r,h,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof Ca){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(c==="strict")a.length>0&&(Ae(r,{code:ue.unrecognized_keys,keys:a}),i.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=r.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new bo(r,h,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,p=await d.value;c.push({key:h,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>Di.mergeObjectSync(i,c)):Di.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new yn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(e,i)=>{var r,s,o,a;const l=(o=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,e,i).message)!==null&&o!==void 0?o:i.defaultError;return e.code==="unrecognized_keys"?{message:(a=Ke.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new yn({...this._def,unknownKeys:"strip"})}passthrough(){return new yn({...this._def,unknownKeys:"passthrough"})}extend(t){return new yn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new yn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new yn({...this._def,catchall:t})}pick(t){const e={};return St.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(e[i]=this.shape[i])}),new yn({...this._def,shape:()=>e})}omit(t){const e={};return St.objectKeys(this.shape).forEach(i=>{t[i]||(e[i]=this.shape[i])}),new yn({...this._def,shape:()=>e})}deepPartial(){return vd(this)}partial(t){const e={};return St.objectKeys(this.shape).forEach(i=>{const r=this.shape[i];t&&!t[i]?e[i]=r:e[i]=r.optional()}),new yn({...this._def,shape:()=>e})}required(t){const e={};return St.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])e[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof uo;)s=s._def.innerType;e[i]=s}}),new yn({...this._def,shape:()=>e})}keyof(){return O9(St.objectKeys(this.shape))}}yn.create=(n,t)=>new yn({shape:()=>n,unknownKeys:"strip",catchall:Ca.create(),typeName:nt.ZodObject,...ft(t)});yn.strictCreate=(n,t)=>new yn({shape:()=>n,unknownKeys:"strict",catchall:Ca.create(),typeName:nt.ZodObject,...ft(t)});yn.lazycreate=(n,t)=>new yn({shape:n,unknownKeys:"strip",catchall:Ca.create(),typeName:nt.ZodObject,...ft(t)});class Rm extends bt{_parse(t){const{ctx:e}=this._processInputParams(t),i=this._def.options;function r(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return e.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Pr(a.ctx.common.issues));return Ae(e,{code:ue.invalid_union,unionErrors:o}),rt}if(e.common.async)return Promise.all(i.map(async s=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await s._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const l of i){const c={...e,common:{...e.common,issues:[]},parent:null},d=l._parseSync({data:e.data,path:e.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return e.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Pr(l));return Ae(e,{code:ue.invalid_union,unionErrors:a}),rt}}get options(){return this._def.options}}Rm.create=(n,t)=>new Rm({options:n,typeName:nt.ZodUnion,...ft(t)});const Zo=n=>n instanceof Mm?Zo(n.schema):n instanceof Rs?Zo(n.innerType()):n instanceof Dm?[n.value]:n instanceof zl?n.options:n instanceof Lm?St.objectValues(n.enum):n instanceof Vm?Zo(n._def.innerType):n instanceof Im?[void 0]:n instanceof Pm?[null]:n instanceof uo?[void 0,...Zo(n.unwrap())]:n instanceof $l?[null,...Zo(n.unwrap())]:n instanceof yS||n instanceof Bm?Zo(n.unwrap()):n instanceof Fm?Zo(n._def.innerType):[];class zw extends bt{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==Me.object)return Ae(e,{code:ue.invalid_type,expected:Me.object,received:e.parsedType}),rt;const i=this.discriminator,r=e.data[i],s=this.optionsMap.get(r);return s?e.common.async?s._parseAsync({data:e.data,path:e.path,parent:e}):s._parseSync({data:e.data,path:e.path,parent:e}):(Ae(e,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,i){const r=new Map;for(const s of e){const o=Zo(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(r.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);r.set(a,s)}}return new zw({typeName:nt.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:r,...ft(i)})}}function rk(n,t){const e=ea(n),i=ea(t);if(n===t)return{valid:!0,data:n};if(e===Me.object&&i===Me.object){const r=St.objectKeys(t),s=St.objectKeys(n).filter(a=>r.indexOf(a)!==-1),o={...n,...t};for(const a of s){const l=rk(n[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(e===Me.array&&i===Me.array){if(n.length!==t.length)return{valid:!1};const r=[];for(let s=0;s<n.length;s++){const o=n[s],a=t[s],l=rk(o,a);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return e===Me.date&&i===Me.date&&+n==+t?{valid:!0,data:n}:{valid:!1}}class Om extends bt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t),r=(s,o)=>{if(nk(s)||nk(o))return rt;const a=rk(s.value,o.value);return a.valid?((ik(s)||ik(o))&&e.dirty(),{status:e.value,value:a.data}):(Ae(i,{code:ue.invalid_intersection_types}),rt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Om.create=(n,t,e)=>new Om({left:n,right:t,typeName:nt.ZodIntersection,...ft(e)});class wo extends bt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==Me.array)return Ae(i,{code:ue.invalid_type,expected:Me.array,received:i.parsedType}),rt;if(i.data.length<this._def.items.length)return Ae(i,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&i.data.length>this._def.items.length&&(Ae(i,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const s=[...i.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new bo(i,o,i.path,a)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>Di.mergeArray(e,o)):Di.mergeArray(e,s)}get items(){return this._def.items}rest(t){return new wo({...this._def,rest:t})}}wo.create=(n,t)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wo({items:n,typeName:nt.ZodTuple,rest:null,...ft(t)})};class Nm extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==Me.object)return Ae(i,{code:ue.invalid_type,expected:Me.object,received:i.parsedType}),rt;const r=[],s=this._def.keyType,o=this._def.valueType;for(const a in i.data)r.push({key:s._parse(new bo(i,a,i.path,a)),value:o._parse(new bo(i,i.data[a],i.path,a)),alwaysSet:a in i.data});return i.common.async?Di.mergeObjectAsync(e,r):Di.mergeObjectSync(e,r)}get element(){return this._def.valueType}static create(t,e,i){return e instanceof bt?new Nm({keyType:t,valueType:e,typeName:nt.ZodRecord,...ft(i)}):new Nm({keyType:_s.create(),valueType:t,typeName:nt.ZodRecord,...ft(e)})}}class l1 extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==Me.map)return Ae(i,{code:ue.invalid_type,expected:Me.map,received:i.parsedType}),rt;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([a,l],c)=>({key:r._parse(new bo(i,a,i.path,[c,"key"])),value:s._parse(new bo(i,l,i.path,[c,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return rt;(c.status==="dirty"||d.status==="dirty")&&e.dirty(),a.set(c.value,d.value)}return{status:e.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return rt;(c.status==="dirty"||d.status==="dirty")&&e.dirty(),a.set(c.value,d.value)}return{status:e.value,value:a}}}}l1.create=(n,t,e)=>new l1({valueType:t,keyType:n,typeName:nt.ZodMap,...ft(e)});class nu extends bt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==Me.set)return Ae(i,{code:ue.invalid_type,expected:Me.set,received:i.parsedType}),rt;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(Ae(i,{code:ue.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),e.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(Ae(i,{code:ue.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),e.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return rt;d.status==="dirty"&&e.dirty(),c.add(d.value)}return{status:e.value,value:c}}const a=[...i.data.values()].map((l,c)=>s._parse(new bo(i,l,i.path,c)));return i.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,e){return new nu({...this._def,minSize:{value:t,message:Ke.toString(e)}})}max(t,e){return new nu({...this._def,maxSize:{value:t,message:Ke.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}nu.create=(n,t)=>new nu({valueType:n,minSize:null,maxSize:null,typeName:nt.ZodSet,...ft(t)});class Vd extends bt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==Me.function)return Ae(e,{code:ue.invalid_type,expected:Me.function,received:e.parsedType}),rt;function i(a,l){return r1({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i1(),Kd].filter(c=>!!c),issueData:{code:ue.invalid_arguments,argumentsError:l}})}function r(a,l){return r1({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i1(),Kd].filter(c=>!!c),issueData:{code:ue.invalid_return_type,returnTypeError:l}})}const s={errorMap:e.common.contextualErrorMap},o=e.data;if(this._def.returns instanceof Zd){const a=this;return qi(async function(...l){const c=new Pr([]),d=await a._def.args.parseAsync(l,s).catch(b=>{throw c.addIssue(i(l,b)),c}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(b=>{throw c.addIssue(r(h,b)),c})})}else{const a=this;return qi(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Pr([i(l,c.error)]);const d=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new Pr([r(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Vd({...this._def,args:wo.create(t).rest(Bc.create())})}returns(t){return new Vd({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,i){return new Vd({args:t||wo.create([]).rest(Bc.create()),returns:e||Bc.create(),typeName:nt.ZodFunction,...ft(i)})}}class Mm extends bt{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}Mm.create=(n,t)=>new Mm({getter:n,typeName:nt.ZodLazy,...ft(t)});class Dm extends bt{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return Ae(e,{received:e.data,code:ue.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Dm.create=(n,t)=>new Dm({value:n,typeName:nt.ZodLiteral,...ft(t)});function O9(n,t){return new zl({values:n,typeName:nt.ZodEnum,...ft(t)})}class zl extends bt{constructor(){super(...arguments),zh.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const e=this._getOrReturnCtx(t),i=this._def.values;return Ae(e,{expected:St.joinValues(i),received:e.parsedType,code:ue.invalid_type}),rt}if(s1(this,zh)||A9(this,zh,new Set(this._def.values)),!s1(this,zh).has(t.data)){const e=this._getOrReturnCtx(t),i=this._def.values;return Ae(e,{received:e.data,code:ue.invalid_enum_value,options:i}),rt}return qi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return zl.create(t,{...this._def,...e})}exclude(t,e=this._def){return zl.create(this.options.filter(i=>!t.includes(i)),{...this._def,...e})}}zh=new WeakMap;zl.create=O9;class Lm extends bt{constructor(){super(...arguments),$h.set(this,void 0)}_parse(t){const e=St.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Me.string&&i.parsedType!==Me.number){const r=St.objectValues(e);return Ae(i,{expected:St.joinValues(r),received:i.parsedType,code:ue.invalid_type}),rt}if(s1(this,$h)||A9(this,$h,new Set(St.getValidEnumValues(this._def.values))),!s1(this,$h).has(t.data)){const r=St.objectValues(e);return Ae(i,{received:i.data,code:ue.invalid_enum_value,options:r}),rt}return qi(t.data)}get enum(){return this._def.values}}$h=new WeakMap;Lm.create=(n,t)=>new Lm({values:n,typeName:nt.ZodNativeEnum,...ft(t)});class Zd extends bt{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==Me.promise&&e.common.async===!1)return Ae(e,{code:ue.invalid_type,expected:Me.promise,received:e.parsedType}),rt;const i=e.parsedType===Me.promise?e.data:Promise.resolve(e.data);return qi(i.then(r=>this._def.type.parseAsync(r,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Zd.create=(n,t)=>new Zd({type:n,typeName:nt.ZodPromise,...ft(t)});class Rs extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:i}=this._processInputParams(t),r=this._def.effect||null,s={addIssue:o=>{Ae(i,o),o.fatal?e.abort():e.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async a=>{if(e.value==="aborted")return rt;const l=await this._def.schema._parseAsync({data:a,path:i.path,parent:i});return l.status==="aborted"?rt:l.status==="dirty"||e.value==="dirty"?Ad(l.value):l});{if(e.value==="aborted")return rt;const a=this._def.schema._parseSync({data:o,path:i.path,parent:i});return a.status==="aborted"?rt:a.status==="dirty"||e.value==="dirty"?Ad(a.value):a}}if(r.type==="refinement"){const o=a=>{const l=r.refinement(a,s);if(i.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?rt:(a.status==="dirty"&&e.dirty(),o(a.value),{status:e.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?rt:(a.status==="dirty"&&e.dirty(),o(a.value).then(()=>({status:e.value,value:a.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!eu(o))return o;const a=r.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>eu(o)?Promise.resolve(r.transform(o.value,s)).then(a=>({status:e.value,value:a})):o);St.assertNever(r)}}Rs.create=(n,t,e)=>new Rs({schema:n,typeName:nt.ZodEffects,effect:t,...ft(e)});Rs.createWithPreprocess=(n,t,e)=>new Rs({schema:t,effect:{type:"preprocess",transform:n},typeName:nt.ZodEffects,...ft(e)});class uo extends bt{_parse(t){return this._getType(t)===Me.undefined?qi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}uo.create=(n,t)=>new uo({innerType:n,typeName:nt.ZodOptional,...ft(t)});class $l extends bt{_parse(t){return this._getType(t)===Me.null?qi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$l.create=(n,t)=>new $l({innerType:n,typeName:nt.ZodNullable,...ft(t)});class Vm extends bt{_parse(t){const{ctx:e}=this._processInputParams(t);let i=e.data;return e.parsedType===Me.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}Vm.create=(n,t)=>new Vm({innerType:n,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ft(t)});class Fm extends bt{_parse(t){const{ctx:e}=this._processInputParams(t),i={...e,common:{...e.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Tm(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pr(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Pr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Fm.create=(n,t)=>new Fm({innerType:n,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ft(t)});class c1 extends bt{_parse(t){if(this._getType(t)!==Me.nan){const i=this._getOrReturnCtx(t);return Ae(i,{code:ue.invalid_type,expected:Me.nan,received:i.parsedType}),rt}return{status:"valid",value:t.data}}}c1.create=n=>new c1({typeName:nt.ZodNaN,...ft(n)});const Tle=Symbol("zod_brand");class yS extends bt{_parse(t){const{ctx:e}=this._processInputParams(t),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class Ap extends bt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?rt:s.status==="dirty"?(e.dirty(),Ad(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?rt:r.status==="dirty"?(e.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(t,e){return new Ap({in:t,out:e,typeName:nt.ZodPipeline})}}class Bm extends bt{_parse(t){const e=this._def.innerType._parse(t),i=r=>(eu(r)&&(r.value=Object.freeze(r.value)),r);return Tm(e)?e.then(r=>i(r)):i(e)}unwrap(){return this._def.innerType}}Bm.create=(n,t)=>new Bm({innerType:n,typeName:nt.ZodReadonly,...ft(t)});function N9(n,t={},e){return n?Yd.create().superRefine((i,r)=>{var s,o;if(!n(i)){const a=typeof t=="function"?t(i):typeof t=="string"?{message:t}:t,l=(o=(s=a.fatal)!==null&&s!==void 0?s:e)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;r.addIssue({code:"custom",...c,fatal:l})}}):Yd.create()}const Ale={object:yn.lazycreate};var nt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(nt||(nt={}));const Ile=(n,t={message:`Input not instance of ${n.name}`})=>N9(e=>e instanceof n,t),M9=_s.create,D9=Bl.create,Ple=c1.create,Rle=jl.create,L9=Am.create,Ole=tu.create,Nle=o1.create,Mle=Im.create,Dle=Pm.create,Lle=Yd.create,Vle=Bc.create,Fle=Ca.create,Ble=a1.create,jle=Cs.create,zle=yn.create,$le=yn.strictCreate,Ule=Rm.create,Hle=zw.create,Wle=Om.create,qle=wo.create,Gle=Nm.create,Kle=l1.create,Yle=nu.create,Zle=Vd.create,Jle=Mm.create,Xle=Dm.create,Qle=zl.create,ece=Lm.create,tce=Zd.create,yP=Rs.create,nce=uo.create,ice=$l.create,rce=Rs.createWithPreprocess,sce=Ap.create,oce=()=>M9().optional(),ace=()=>D9().optional(),lce=()=>L9().optional(),cce={string:n=>_s.create({...n,coerce:!0}),number:n=>Bl.create({...n,coerce:!0}),boolean:n=>Am.create({...n,coerce:!0}),bigint:n=>jl.create({...n,coerce:!0}),date:n=>tu.create({...n,coerce:!0})},uce=rt;var Bt=Object.freeze({__proto__:null,defaultErrorMap:Kd,setErrorMap:rle,getErrorMap:i1,makeIssue:r1,EMPTY_PATH:sle,addIssueToContext:Ae,ParseStatus:Di,INVALID:rt,DIRTY:Ad,OK:qi,isAborted:nk,isDirty:ik,isValid:eu,isAsync:Tm,get util(){return St},get objectUtil(){return tk},ZodParsedType:Me,getParsedType:ea,ZodType:bt,datetimeRegex:R9,ZodString:_s,ZodNumber:Bl,ZodBigInt:jl,ZodBoolean:Am,ZodDate:tu,ZodSymbol:o1,ZodUndefined:Im,ZodNull:Pm,ZodAny:Yd,ZodUnknown:Bc,ZodNever:Ca,ZodVoid:a1,ZodArray:Cs,ZodObject:yn,ZodUnion:Rm,ZodDiscriminatedUnion:zw,ZodIntersection:Om,ZodTuple:wo,ZodRecord:Nm,ZodMap:l1,ZodSet:nu,ZodFunction:Vd,ZodLazy:Mm,ZodLiteral:Dm,ZodEnum:zl,ZodNativeEnum:Lm,ZodPromise:Zd,ZodEffects:Rs,ZodTransformer:Rs,ZodOptional:uo,ZodNullable:$l,ZodDefault:Vm,ZodCatch:Fm,ZodNaN:c1,BRAND:Tle,ZodBranded:yS,ZodPipeline:Ap,ZodReadonly:Bm,custom:N9,Schema:bt,ZodSchema:bt,late:Ale,get ZodFirstPartyTypeKind(){return nt},coerce:cce,any:Lle,array:jle,bigint:Rle,boolean:L9,date:Ole,discriminatedUnion:Hle,effect:yP,enum:Qle,function:Zle,instanceof:Ile,intersection:Wle,lazy:Jle,literal:Xle,map:Kle,nan:Ple,nativeEnum:ece,never:Fle,null:Dle,nullable:ice,number:D9,object:zle,oboolean:lce,onumber:ace,optional:nce,ostring:oce,pipeline:sce,preprocess:rce,promise:tce,record:Gle,set:Yle,strictObject:$le,string:M9,symbol:Nle,transformer:yP,tuple:qle,undefined:Mle,union:Ule,unknown:Vle,void:Ble,NEVER:uce,ZodIssueCode:ue,quotelessJson:ile,ZodError:Pr});const _P=(n,t,e)=>{if(n&&"reportValidity"in n){const i=ke(e,t);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},V9=(n,t)=>{for(const e in t.fields){const i=t.fields[e];i&&i.ref&&"reportValidity"in i.ref?_P(i.ref,e,n):i.refs&&i.refs.forEach(r=>_P(r,e,n))}},dce=(n,t)=>{t.shouldUseNativeValidation&&V9(n,t);const e={};for(const i in n){const r=ke(t.fields,i),s=Object.assign(n[i]||{},{ref:r&&r.ref});if(fce(t.names||Object.keys(n),i)){const o=Object.assign({},ke(e,i));Vt(o,"root",s),Vt(e,i,o)}else Vt(e,i,s)}return e},fce=(n,t)=>n.some(e=>e.startsWith(t+"."));var hce=function(n,t){for(var e={};n.length;){var i=n[0],r=i.code,s=i.message,o=i.path.join(".");if(!e[o])if("unionErrors"in i){var a=i.unionErrors[0].errors[0];e[o]={message:a.message,type:a.code}}else e[o]={message:s,type:r};if("unionErrors"in i&&i.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return n.push(h)})}),t){var l=e[o].types,c=l&&l[i.code];e[o]=p9(o,t,e,r,c?[].concat(c,i.message):i.message)}n.shift()}return e},Kl=function(n,t,e){return e===void 0&&(e={}),function(i,r,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[e.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(c){return s.shouldUseNativeValidation&&V9({},s),{errors:{},values:e.raw?i:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:dce(hce(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};function mce(n){return Un({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}var xP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},pce=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],a=n[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},B9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,b=c&63;l||(b=64,o||(p=64)),i.push(e[d],e[h],e[p],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(F9(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):pce(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const h=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new gce;const p=s<<2|a>>4;if(i.push(p),c!==64){const b=a<<4&240|c>>2;if(i.push(b),h!==64){const _=c<<6&192|h;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bce=function(n){const t=F9(n);return B9.encodeByteArray(t,!0)},j9=function(n){return bce(n).replace(/\./g,"")},z9=function(n){try{return B9.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce=()=>wce().__FIREBASE_DEFAULTS__,yce=()=>{if(typeof process>"u"||typeof xP>"u")return;const n=xP.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_ce=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&z9(n[1]);return t&&JSON.parse(t)},_S=()=>{try{return vce()||yce()||_ce()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xce=n=>{var t,e;return(e=(t=_S())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},$9=()=>{var n;return(n=_S())===null||n===void 0?void 0:n.config},U9=n=>{var t;return(t=_S())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gi())}function Ece(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sce(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Tce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ace(){const n=Gi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ice(){try{return typeof indexedDB=="object"}catch{return!1}}function Pce(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce="FirebaseError";class Yl extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Rce,Object.setPrototypeOf(this,Yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ip.prototype.create)}}class Ip{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?Oce(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Yl(r,a,i)}}function Oce(n,t){return n.replace(Nce,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Nce=/\{\$([^}]+)}/g;function Mce(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function u1(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(kP(s)&&kP(o)){if(!u1(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function kP(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Dce(n,t){const e=new Lce(n,t);return e.subscribe.bind(e)}class Lce{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Vce(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=U_),r.error===void 0&&(r.error=U_),r.complete===void 0&&(r.complete=U_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vce(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function U_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n){return n&&n._delegate?n._delegate:n}class Jd{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new kce;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jce(t))try{this.getOrInitializeService({instanceIdentifier:Rc})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Rc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rc){return this.instances.has(t)}getOptions(t=Rc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Bce(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Rc){return this.component?this.component.multipleInstances?t:Rc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bce(n){return n===Rc?void 0:n}function jce(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Fce(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Zt||(Zt={}));const $ce={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},Uce=Zt.INFO,Hce={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},Wce=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=Hce[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class H9{constructor(t){this.name=t,this._logLevel=Uce,this._logHandler=Wce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$ce[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const qce=(n,t)=>t.some(e=>n instanceof e);let CP,EP;function Gce(){return CP||(CP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kce(){return EP||(EP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W9=new WeakMap,sk=new WeakMap,q9=new WeakMap,H_=new WeakMap,xS=new WeakMap;function Yce(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Rl(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&W9.set(e,n)}).catch(()=>{}),xS.set(t,n),t}function Zce(n){if(sk.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});sk.set(n,t)}let ok={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return sk.get(n);if(t==="objectStoreNames")return n.objectStoreNames||q9.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Rl(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Jce(n){ok=n(ok)}function Xce(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(W_(this),t,...e);return q9.set(i,t.sort?t.sort():[t]),Rl(i)}:Kce().includes(n)?function(...t){return n.apply(W_(this),t),Rl(W9.get(this))}:function(...t){return Rl(n.apply(W_(this),t))}}function Qce(n){return typeof n=="function"?Xce(n):(n instanceof IDBTransaction&&Zce(n),qce(n,Gce())?new Proxy(n,ok):n)}function Rl(n){if(n instanceof IDBRequest)return Yce(n);if(H_.has(n))return H_.get(n);const t=Qce(n);return t!==n&&(H_.set(n,t),xS.set(t,n)),t}const W_=n=>xS.get(n);function eue(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=Rl(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Rl(o.result),l.oldVersion,l.newVersion,Rl(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const tue=["get","getKey","getAll","getAllKeys","count"],nue=["put","add","delete","clear"],q_=new Map;function SP(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(q_.get(t))return q_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=nue.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tue.includes(e)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),r&&l.done]))[0]};return q_.set(t,s),s}Jce(n=>({...n,get:(t,e,i)=>SP(t,e)||n.get(t,e,i),has:(t,e)=>!!SP(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(rue(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function rue(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ak="@firebase/app",TP="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new H9("@firebase/app"),sue="@firebase/app-compat",oue="@firebase/analytics-compat",aue="@firebase/analytics",lue="@firebase/app-check-compat",cue="@firebase/app-check",uue="@firebase/auth",due="@firebase/auth-compat",fue="@firebase/database",hue="@firebase/data-connect",mue="@firebase/database-compat",pue="@firebase/functions",gue="@firebase/functions-compat",bue="@firebase/installations",wue="@firebase/installations-compat",vue="@firebase/messaging",yue="@firebase/messaging-compat",_ue="@firebase/performance",xue="@firebase/performance-compat",kue="@firebase/remote-config",Cue="@firebase/remote-config-compat",Eue="@firebase/storage",Sue="@firebase/storage-compat",Tue="@firebase/firestore",Aue="@firebase/vertexai",Iue="@firebase/firestore-compat",Pue="firebase",Rue="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="[DEFAULT]",Oue={[ak]:"fire-core",[sue]:"fire-core-compat",[aue]:"fire-analytics",[oue]:"fire-analytics-compat",[cue]:"fire-app-check",[lue]:"fire-app-check-compat",[uue]:"fire-auth",[due]:"fire-auth-compat",[fue]:"fire-rtdb",[hue]:"fire-data-connect",[mue]:"fire-rtdb-compat",[pue]:"fire-fn",[gue]:"fire-fn-compat",[bue]:"fire-iid",[wue]:"fire-iid-compat",[vue]:"fire-fcm",[yue]:"fire-fcm-compat",[_ue]:"fire-perf",[xue]:"fire-perf-compat",[kue]:"fire-rc",[Cue]:"fire-rc-compat",[Eue]:"fire-gcs",[Sue]:"fire-gcs-compat",[Tue]:"fire-fst",[Iue]:"fire-fst-compat",[Aue]:"fire-vertex","fire-js":"fire-js",[Pue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map,Nue=new Map,ck=new Map;function AP(n,t){try{n.container.addComponent(t)}catch(e){Ea.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function jm(n){const t=n.name;if(ck.has(t))return Ea.debug(`There were multiple attempts to register component ${t}.`),!1;ck.set(t,n);for(const e of d1.values())AP(e,n);for(const e of Nue.values())AP(e,n);return!0}function G9(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function aa(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ol=new Ip("app","Firebase",Mue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Jd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ol.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=Rue;function K9(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:lk,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Ol.create("bad-app-name",{appName:String(r)});if(e||(e=$9()),!e)throw Ol.create("no-options");const s=d1.get(r);if(s){if(u1(e,s.options)&&u1(i,s.config))return s;throw Ol.create("duplicate-app",{appName:r})}const o=new zce(r);for(const l of ck.values())o.addComponent(l);const a=new Due(e,i,o);return d1.set(r,a),a}function Lue(n=lk){const t=d1.get(n);if(!t&&n===lk&&$9())return K9();if(!t)throw Ol.create("no-app",{appName:n});return t}function Fd(n,t,e){var i;let r=(i=Oue[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ea.warn(a.join(" "));return}jm(new Jd(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vue="firebase-heartbeat-database",Fue=1,zm="firebase-heartbeat-store";let G_=null;function Y9(){return G_||(G_=eue(Vue,Fue,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(zm)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ol.create("idb-open",{originalErrorMessage:n.message})})),G_}async function Bue(n){try{const e=(await Y9()).transaction(zm),i=await e.objectStore(zm).get(Z9(n));return await e.done,i}catch(t){if(t instanceof Yl)Ea.warn(t.message);else{const e=Ol.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ea.warn(e.message)}}}async function IP(n,t){try{const i=(await Y9()).transaction(zm,"readwrite");await i.objectStore(zm).put(t,Z9(n)),await i.done}catch(e){if(e instanceof Yl)Ea.warn(e.message);else{const i=Ol.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ea.warn(i.message)}}}function Z9(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jue=1024,zue=30*24*60*60*1e3;class $ue{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Hue(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PP();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=zue}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ea.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=PP(),{heartbeatsToSend:i,unsentEntries:r}=Uue(this._heartbeatsCache.heartbeats),s=j9(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ea.warn(e),""}}}function PP(){return new Date().toISOString().substring(0,10)}function Uue(n,t=jue){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),RP(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),RP(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Hue{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ice()?Pce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Bue(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return IP(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return IP(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function RP(n){return j9(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wue(n){jm(new Jd("platform-logger",t=>new iue(t),"PRIVATE")),jm(new Jd("heartbeat",t=>new $ue(t),"PRIVATE")),Fd(ak,TP,n),Fd(ak,TP,"esm2017"),Fd("fire-js","")}Wue("");function J9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const que=J9,X9=new Ip("auth","Firebase",J9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new H9("@firebase/auth");function Gue(n,...t){f1.logLevel<=Zt.WARN&&f1.warn(`Auth (${Rp}): ${n}`,...t)}function db(n,...t){f1.logLevel<=Zt.ERROR&&f1.error(`Auth (${Rp}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(n,...t){throw CS(n,...t)}function Es(n,...t){return CS(n,...t)}function kS(n,t,e){const i=Object.assign(Object.assign({},que()),{[t]:e});return new Ip("auth","Firebase",i).create(t,{appName:n.name})}function jc(n){return kS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kue(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&vo(n,"argument-error"),kS(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function CS(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return X9.create(n,...t)}function lt(n,t,...e){if(!n)throw CS(t,...e)}function la(n){const t="INTERNAL ASSERTION FAILED: "+n;throw db(t),new Error(t)}function Sa(n,t){n||la(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Yue(){return OP()==="http:"||OP()==="https:"}function OP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yue()||Sce()||"connection"in navigator)?navigator.onLine:!0}function Jue(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e){this.shortDelay=t,this.longDelay=e,Sa(e>t,"Short delay should be less than long delay!"),this.isMobile=Cce()||Tce()}get(){return Zue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n,t){Sa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Que=new Op(3e4,6e4);function SS(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function kf(n,t,e,i,r={}){return eV(n,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=Pp(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:t,headers:l},s);return Ece()||(c.referrerPolicy="no-referrer"),Q9.fetch()(tV(n,n.config.apiHost,e,a),c)})}async function eV(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Xue),t);try{const r=new tde(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw C0(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw C0(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw C0(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw C0(n,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kS(n,d,c);vo(n,d)}}catch(r){if(r instanceof Yl)throw r;vo(n,"network-request-failed",{message:String(r)})}}async function ede(n,t,e,i,r={}){const s=await kf(n,t,e,i,r);return"mfaPendingCredential"in s&&vo(n,"multi-factor-auth-required",{_serverResponse:s}),s}function tV(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?ES(n.config,r):`${n.config.apiScheme}://${r}`}class tde{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Es(this.auth,"network-request-failed")),Que.get())})}}function C0(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Es(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nde(n,t){return kf(n,"POST","/v1/accounts:delete",t)}async function nV(n,t){return kf(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ide(n,t=!1){const e=xf(n),i=await e.getIdToken(t),r=TS(i);lt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Xh(K_(r.auth_time)),issuedAtTime:Xh(K_(r.iat)),expirationTime:Xh(K_(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function K_(n){return Number(n)*1e3}function TS(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return db("JWT malformed, contained fewer than 3 sections"),null;try{const r=z9(e);return r?JSON.parse(r):(db("Failed to decode base64 JWT payload"),null)}catch(r){return db("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function NP(n){const t=TS(n);return lt(t,"internal-error"),lt(typeof t.exp<"u","internal-error"),lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Yl&&rde(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function rde({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(n){var t;const e=n.auth,i=await n.getIdToken(),r=await $m(n,nV(e,{idToken:i}));lt(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?iV(s.providerUserInfo):[],a=ade(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dk(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function ode(n){const t=xf(n);await h1(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ade(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function iV(n){return n.map(t=>{var{providerId:e}=t,i=pp(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lde(n,t){const e=await eV(n,{},async()=>{const i=Pp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=tV(n,r,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Q9.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function cde(n,t){return kf(n,"POST","/v2/accounts:revokeToken",SS(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){lt(t.idToken,"internal-error"),lt(typeof t.idToken<"u","internal-error"),lt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){lt(t.length!==0,"internal-error");const e=NP(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await lde(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Bd;return i&&(lt(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(lt(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(lt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bd,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n,t){lt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ca{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=pp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await $m(this,this.stsTokenManager.getToken(this.auth,t));return lt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ide(this,t)}reload(){return ode(this)}_assign(t){this!==t&&(lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ca(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await h1(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(aa(this.auth.app))return Promise.reject(jc(this.auth));const t=await this.getIdToken();return await $m(this,nde(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,d;const h=(i=e.displayName)!==null&&i!==void 0?i:void 0,p=(r=e.email)!==null&&r!==void 0?r:void 0,b=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=e.photoURL)!==null&&o!==void 0?o:void 0,x=(a=e.tenantId)!==null&&a!==void 0?a:void 0,C=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=e.createdAt)!==null&&c!==void 0?c:void 0,T=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:P,isAnonymous:O,providerData:D,stsTokenManager:R}=e;lt(A&&R,t,"internal-error");const j=Bd.fromJSON(this.name,R);lt(typeof A=="string",t,"internal-error"),dl(h,t.name),dl(p,t.name),lt(typeof P=="boolean",t,"internal-error"),lt(typeof O=="boolean",t,"internal-error"),dl(b,t.name),dl(_,t.name),dl(x,t.name),dl(C,t.name),dl(S,t.name),dl(T,t.name);const $=new ca({uid:A,auth:t,email:p,emailVerified:P,displayName:h,isAnonymous:O,photoURL:_,phoneNumber:b,tenantId:x,stsTokenManager:j,createdAt:S,lastLoginAt:T});return D&&Array.isArray(D)&&($.providerData=D.map(Z=>Object.assign({},Z))),C&&($._redirectEventId=C),$}static async _fromIdTokenResponse(t,e,i=!1){const r=new Bd;r.updateFromServerResponse(e);const s=new ca({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await h1(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];lt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?iV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Bd;a.updateFromIdToken(i);const l=new ca({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new dk(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=new Map;function ua(n){Sa(n instanceof Function,"Expected a class definition");let t=MP.get(n);return t?(Sa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,MP.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}rV.type="NONE";const DP=rV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n,t,e){return`firebase:${n}:${t}:${e}`}class jd{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=fb(this.userKey,r.apiKey,s),this.fullPersistenceKey=fb("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ca._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new jd(ua(DP),t,i);const r=(await Promise.all(e.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||ua(DP);const o=fb(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const d=await c._get(o);if(d){const h=ca._fromJSON(t,d);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new jd(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(e.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new jd(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lV(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sV(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uV(t))return"Blackberry";if(dV(t))return"Webos";if(oV(t))return"Safari";if((t.includes("chrome/")||aV(t))&&!t.includes("edge/"))return"Chrome";if(cV(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sV(n=Gi()){return/firefox\//i.test(n)}function oV(n=Gi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aV(n=Gi()){return/crios\//i.test(n)}function lV(n=Gi()){return/iemobile/i.test(n)}function cV(n=Gi()){return/android/i.test(n)}function uV(n=Gi()){return/blackberry/i.test(n)}function dV(n=Gi()){return/webos/i.test(n)}function AS(n=Gi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ude(n=Gi()){var t;return AS(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function dde(){return Ace()&&document.documentMode===10}function fV(n=Gi()){return AS(n)||cV(n)||dV(n)||uV(n)||/windows phone/i.test(n)||lV(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(n,t=[]){let e;switch(n){case"Browser":e=LP(Gi());break;case"Worker":e=`${LP(Gi())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Rp}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fde{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hde(n,t={}){return kf(n,"GET","/v2/passwordPolicy",SS(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mde=6;class pde{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:mde,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VP(this),this.idTokenSubscription=new VP(this),this.beforeStateQueue=new fde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ua(e)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await jd.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await nV(this,{idToken:t}),i=await ca._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(aa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await h1(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Jue()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(aa(this.app))return Promise.reject(jc(this));const e=t?xf(t):null;return e&&lt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return aa(this.app)?Promise.reject(jc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return aa(this.app)?Promise.reject(jc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hde(this),e=new pde(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ip("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await cde(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ua(t)||this._popupRedirectResolver;lt(e,this,"argument-error"),this.redirectPersistenceManager=await jd.create(this,[ua(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(e);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&Gue(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $w(n){return xf(n)}class VP{constructor(t){this.auth=t,this.observer=null,this.addObserver=Dce(e=>this.observer=e)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bde(n){IS=n}function wde(n){return IS.loadJS(n)}function vde(){return IS.gapiScript}function yde(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _de(n,t){const e=G9(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(u1(s,t??{}))return r;vo(r,"already-initialized")}return e.initialize({options:t})}function xde(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(ua);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function kde(n,t,e){const i=$w(n);lt(i._canInitEmulator,i,"emulator-config-failed"),lt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=mV(t),{host:o,port:a}=Cde(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),Ede()}function mV(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Cde(n){const t=mV(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:FP(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:FP(o)}}}function FP(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Ede(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return la("not implemented")}_getIdTokenResponse(t){return la("not implemented")}_linkToIdToken(t,e){return la("not implemented")}_getReauthenticationResolver(t){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n,t){return ede(n,"POST","/v1/accounts:signInWithIdp",SS(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sde="http://localhost";class iu extends pV{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new iu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):vo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=pp(e,["providerId","signInMethod"]);if(!i||!r)return null;const o=new iu(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return zd(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,zd(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zd(t,e)}buildRequest(){const t={requestUri:Sde,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Pp(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends PS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Np{constructor(){super("facebook.com")}static credential(t){return iu._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _l.credentialFromTaggedObject(t)}static credentialFromError(t){return _l.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _l.credential(t.oauthAccessToken)}catch{return null}}}_l.FACEBOOK_SIGN_IN_METHOD="facebook.com";_l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Np{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return iu._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ia.credential(e,i)}catch{return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com";ia.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Np{constructor(){super("github.com")}static credential(t){return iu._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xl.credentialFromTaggedObject(t)}static credentialFromError(t){return xl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xl.credential(t.oauthAccessToken)}catch{return null}}}xl.GITHUB_SIGN_IN_METHOD="github.com";xl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Np{constructor(){super("twitter.com")}static credential(t,e){return iu._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return kl.credentialFromTaggedObject(t)}static credentialFromError(t){return kl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return kl.credential(e,i)}catch{return null}}}kl.TWITTER_SIGN_IN_METHOD="twitter.com";kl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await ca._fromIdTokenResponse(t,i,r),o=BP(i);return new Xd({user:s,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=BP(i);return new Xd({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function BP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends Yl{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,m1.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new m1(t,e,i,r)}}function gV(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?m1._fromErrorAndOperation(n,s,t,i):s})}async function Tde(n,t,e=!1){const i=await $m(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Xd._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ade(n,t,e=!1){const{auth:i}=n;if(aa(i.app))return Promise.reject(jc(i));const r="reauthenticate";try{const s=await $m(n,gV(i,r,t,n),e);lt(s.idToken,i,"internal-error");const o=TS(s.idToken);lt(o,i,"internal-error");const{sub:a}=o;return lt(n.uid===a,i,"user-mismatch"),Xd._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vo(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ide(n,t,e=!1){if(aa(n.app))return Promise.reject(jc(n));const i="signIn",r=await gV(n,i,t),s=await Xd._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}function Pde(n,t,e,i){return xf(n).onIdTokenChanged(t,e,i)}function Rde(n,t,e){return xf(n).beforeAuthStateChanged(t,e)}const p1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(p1,"1"),this.storage.removeItem(p1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ode=1e3,Nde=10;class wV extends bV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);dde()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Nde):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},Ode)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}wV.type="LOCAL";const Mde=wV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV extends bV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}vV.type="SESSION";const yV=vV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dde(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Uw(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(e.origin,s)),l=await Dde(a);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=RS("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(){return window}function Vde(n){fo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(){return typeof fo().WorkerGlobalScope<"u"&&typeof fo().importScripts=="function"}async function Fde(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bde(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jde(){return _V()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="firebaseLocalStorageDb",zde=1,g1="firebaseLocalStorage",kV="fbase_key";class Mp{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hw(n,t){return n.transaction([g1],t?"readwrite":"readonly").objectStore(g1)}function $de(){const n=indexedDB.deleteDatabase(xV);return new Mp(n).toPromise()}function fk(){const n=indexedDB.open(xV,zde);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(g1,{keyPath:kV})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(g1)?t(i):(i.close(),await $de(),t(await fk()))})})}async function jP(n,t,e){const i=Hw(n,!0).put({[kV]:t,value:e});return new Mp(i).toPromise()}async function Ude(n,t){const e=Hw(n,!1).get(t),i=await new Mp(e).toPromise();return i===void 0?null:i.value}function zP(n,t){const e=Hw(n,!0).delete(t);return new Mp(e).toPromise()}const Hde=800,Wde=3;class CV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fk(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>Wde)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _V()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uw._getInstance(jde()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await Fde(),!this.activeServiceWorker)return;this.sender=new Lde(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Bde()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fk();return await jP(t,p1,"1"),await zP(t,p1),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>jP(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Ude(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>zP(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Hw(r,!1).getAll();return new Mp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CV.type="LOCAL";const qde=CV;new Op(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(n,t){return t?ua(t):(lt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends pV{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zd(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zd(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zd(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Gde(n){return Ide(n.auth,new OS(n),n.bypassAuthState)}function Kde(n){const{auth:t,user:e}=n;return lt(e,t,"internal-error"),Ade(e,new OS(n),n.bypassAuthState)}async function Yde(n){const{auth:t,user:e}=n;return lt(e,t,"internal-error"),Tde(e,new OS(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Gde;case"linkViaPopup":case"linkViaRedirect":return Yde;case"reauthViaPopup":case"reauthViaRedirect":return Kde;default:vo(this.auth,"internal-error")}}resolve(t){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zde=new Op(2e3,1e4);async function Jde(n,t,e){if(aa(n.app))return Promise.reject(Es(n,"operation-not-supported-in-this-environment"));const i=$w(n);Kue(n,t,PS);const r=EV(i,e);return new Lc(i,"signInViaPopup",t,r).executeNotNull()}class Lc extends SV{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return lt(t,this.auth,"internal-error"),t}async onExecution(){Sa(this.filter.length===1,"Popup operations only handle one event");const t=RS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Zde.get())};t()}}Lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xde="pendingRedirect",hb=new Map;class Qde extends SV{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=hb.get(this.auth._key());if(!t){try{const i=await efe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}hb.set(this.auth._key(),t)}return this.bypassAuthState||hb.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function efe(n,t){const e=ife(t),i=nfe(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function tfe(n,t){hb.set(n._key(),t)}function nfe(n){return ua(n._redirectPersistence)}function ife(n){return fb(Xde,n.config.apiKey,n.name)}async function rfe(n,t,e=!1){if(aa(n.app))return Promise.reject(jc(n));const i=$w(n),r=EV(i,t),o=await new Qde(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sfe=10*60*1e3;class ofe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!afe(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!TV(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Es(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sfe&&this.cachedEventUids.clear(),this.cachedEventUids.has($P(t))}saveEventToCache(t){this.cachedEventUids.add($P(t)),this.lastProcessedEventTime=Date.now()}}function $P(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function TV({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function afe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TV(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lfe(n,t={}){return kf(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ufe=/^https?/;async function dfe(n){if(n.config.emulator)return;const{authorizedDomains:t}=await lfe(n);for(const e of t)try{if(ffe(e))return}catch{}vo(n,"unauthorized-domain")}function ffe(n){const t=uk(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!ufe.test(e))return!1;if(cfe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hfe=new Op(3e4,6e4);function UP(){const n=fo().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function mfe(n){return new Promise((t,e)=>{var i,r,s;function o(){UP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{UP(),e(Es(n,"network-request-failed"))},timeout:hfe.get()})}if(!((r=(i=fo().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=fo().gapi)===null||s===void 0)&&s.load)o();else{const a=yde("iframefcb");return fo()[a]=()=>{gapi.load?o():e(Es(n,"network-request-failed"))},wde(`${vde()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw mb=null,t})}let mb=null;function pfe(n){return mb=mb||mfe(n),mb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe=new Op(5e3,15e3),bfe="__/auth/iframe",wfe="emulator/auth/iframe",vfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _fe(n){const t=n.config;lt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?ES(t,wfe):`https://${n.config.authDomain}/${bfe}`,i={apiKey:t.apiKey,appName:n.name,v:Rp},r=yfe.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${Pp(i).slice(1)}`}async function xfe(n){const t=await pfe(n),e=fo().gapi;return lt(e,n,"internal-error"),t.open({where:document.body,url:_fe(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vfe,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Es(n,"network-request-failed"),a=fo().setTimeout(()=>{s(o)},gfe.get());function l(){fo().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cfe=500,Efe=600,Sfe="_blank",Tfe="http://localhost";class HP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Afe(n,t,e,i=Cfe,r=Efe){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kfe),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Gi().toLowerCase();e&&(a=aV(c)?Sfe:e),sV(c)&&(t=t||Tfe,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[b,_])=>`${p}${b}=${_},`,"");if(ude(c)&&a!=="_self")return Ife(t||"",a),new HP(null);const h=window.open(t||"",a,d);lt(h,n,"popup-blocked");try{h.focus()}catch{}return new HP(h)}function Ife(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pfe="__/auth/handler",Rfe="emulator/auth/handler",Ofe=encodeURIComponent("fac");async function WP(n,t,e,i,r,s){lt(n.config.authDomain,n,"auth-domain-config-required"),lt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Rp,eventId:r};if(t instanceof PS){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",Mce(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(t instanceof Np){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),c=l?`#${Ofe}=${encodeURIComponent(l)}`:"";return`${Nfe(n)}?${Pp(a).slice(1)}${c}`}function Nfe({config:n}){return n.emulator?ES(n,Rfe):`https://${n.authDomain}/${Pfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="webStorageSupport";class Mfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yV,this._completeRedirectFn=rfe,this._overrideRedirectResult=tfe}async _openPopup(t,e,i,r){var s;Sa((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await WP(t,e,i,uk(),r);return Afe(t,o,RS())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await WP(t,e,i,uk(),r);return Vde(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Sa(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await xfe(t),i=new ofe(t);return e.register("authEvent",r=>(lt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Y_,{type:Y_},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Y_];o!==void 0&&e(!!o),vo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=dfe(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return fV()||oV()||AS()}}const Dfe=Mfe;var qP="@firebase/auth",GP="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vfe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ffe(n){jm(new Jd("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hV(n)},c=new gde(i,r,s,l);return xde(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),jm(new Jd("auth-internal",t=>{const e=$w(t.getProvider("auth").getImmediate());return(i=>new Lfe(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fd(qP,GP,Vfe(n)),Fd(qP,GP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe=5*60,jfe=U9("authIdTokenMaxAge")||Bfe;let KP=null;const zfe=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>jfe)return;const r=e==null?void 0:e.token;KP!==r&&(KP=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function $fe(n=Lue()){const t=G9(n,"auth");if(t.isInitialized())return t.getImmediate();const e=_de(n,{popupRedirectResolver:Dfe,persistence:[qde,Mde,yV]}),i=U9("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=zfe(s.toString());Rde(e,o,()=>o(e.currentUser)),Pde(e,a=>o(a))}}const r=xce("auth");return r&&kde(e,`http://${r}`),e}function Ufe(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}bde({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=Es("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",Ufe().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ffe("Browser");var Hfe="firebase",Wfe="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fd(Hfe,Wfe,"app");const qfe={apiKey:"AIzaSyAGhgs5frR55E6oGRHywkrLKhQVVROT8fU",authDomain:"mern-blog-884bc.firebaseapp.com",projectId:"mern-blog-884bc",storageBucket:"mern-blog-884bc.firebasestorage.app",messagingSenderId:"389478098948",appId:"1:389478098948:web:b640d110ac190609ae2d51"},Gfe=K9(qfe),Kfe=$fe(Gfe),Yfe=new ia,AV=()=>{const n=gw(),t=So(),e=async()=>{try{const r=(await Jde(Kfe,Yfe)).user,s={name:r.displayName,email:r.email,avatar:r.photoURL},o=await fetch("http://localhost:3000/api/auth/googlelogin",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}),a=await o.json();if(console.log(a),console.log(o),!o.ok)return dt("error",a.message);n(HE(a.user)),t(Gc),dt("success",a.message)}catch(i){dt("error",i.message)}};return v.jsx("div",{children:v.jsxs(Bn,{variant:"outline",className:"w-full",onClick:e,children:[v.jsx(mce,{}),"Continue With Google"]})})},Zfe=()=>{const n=gw(),t=So(),e=Bt.object({email:Bt.string().email(),password:Bt.string().min(8,"password must required ")}),i=ql({resolver:Kl(e),defaultValues:{email:"",password:""}});async function r(s){try{const o=await fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}),a=await o.json();if(!o.ok)return dt("error",a.message);n(HE(a.user)),t(Gc),dt("success",a.message)}catch(o){dt("error",o.message)}}return v.jsx("div",{className:"flex justify-center items-center h-screen w-screen",children:v.jsxs(Lr,{className:"w-[400px] p-5",children:[v.jsx("div",{className:"flex justify-center items-center mb-2",children:v.jsx(Pn,{to:Gc,children:v.jsx("img",{src:iM,height:20,width:80})})}),v.jsx("h1",{className:"text-2xl font-bold text-center mb-5",children:"Login Into Account"}),v.jsxs("div",{children:[v.jsx(AV,{}),v.jsx("div",{className:"border my-5 flex justify-center items-center",children:v.jsx("span",{className:"absolute bg-white text-sm",children:"Or"})})]}),v.jsx(Gl,{...i,children:v.jsxs("form",{onSubmit:i.handleSubmit(r),children:[v.jsx("div",{className:"mb-3 ",children:v.jsx(kn,{control:i.control,name:"email",render:({field:s})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Email"}),v.jsx(mn,{children:v.jsx(Gn,{className:"border-2 border-blue-200",placeholder:"Enter your email",...s})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:i.control,name:"password",render:({field:s})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Password"}),v.jsx(mn,{children:v.jsx(Gn,{type:"password",className:"border-2 border-blue-200",placeholder:"Enter your password",...s})}),v.jsx(pn,{})]})})}),v.jsxs("div",{className:"mt-5",children:[v.jsx(Bn,{type:"submit",className:"w-full",children:"Sign In"}),v.jsxs("div",{className:"mt-5 text-sm flex justify-center items-center gap-2",children:[v.jsx("p",{children:"Don't have account"}),v.jsx(Pn,{className:"text-blue-500 hover:underline",to:aM,children:"Sign Up"})]})]})]})})]})})},Jfe=()=>{const n=So(),t=Bt.object({name:Bt.string().min(3,"Name must be at least 3 character long"),email:Bt.string().email(),password:Bt.string().min(8,"password must be at least 8 character long"),confirnmPassword:Bt.string().refine(r=>r.password===r.confirnmPassword,"password and confirnmPassword do not match")}),e=ql({resolver:Kl(t),defaultValues:{name:"",email:"",password:"",confirnmPassword:""}});async function i(r){try{const s=await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(r)}),o=await s.json();if(!s.ok)return dt("error",o.message);n(Kc),dt("success",o.message)}catch(s){dt("error",s.message)}}return v.jsx("div",{className:"flex justify-center items-center h-screen w-screen",children:v.jsxs(Lr,{className:"w-[400px] p-5",children:[v.jsx("h1",{className:"text-2xl font-bold text-center mb-5",children:"Create Your Account"}),v.jsxs("div",{children:[v.jsx(AV,{}),v.jsx("div",{className:"border my-5 flex justify-center items-center",children:v.jsx("span",{className:"absolute bg-white text-sm",children:"Or"})})]}),v.jsx(Gl,{...e,children:v.jsxs("form",{onSubmit:e.handleSubmit(i),children:[v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:e.control,name:"name",render:({field:r})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Name"}),v.jsx(mn,{children:v.jsx(Gn,{className:"border-2 border-blue-200",placeholder:"Enter your name",...r})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:e.control,name:"email",render:({field:r})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Email"}),v.jsx(mn,{children:v.jsx(Gn,{className:"border-2 border-blue-200",placeholder:"Enter your email",...r})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:e.control,name:"password",render:({field:r})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Password"}),v.jsx(mn,{children:v.jsx(Gn,{type:"password",className:"border-2 border-blue-200",placeholder:"Enter your password",...r})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:e.control,name:"confirnmPassword",render:({field:r})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"ConfirnmPassword"}),v.jsx(mn,{children:v.jsx(Gn,{type:"password",className:"border-2 border-blue-200",placeholder:"Enter your confirnmpassword",...r})}),v.jsx(pn,{})]})})}),v.jsxs("div",{className:"mt-5",children:[v.jsx(Bn,{type:"submit",className:"w-full",children:"Sign Up"}),v.jsxs("div",{className:"mt-5 text-sm flex justify-center items-center gap-2",children:[v.jsx("p",{children:"Already have account ?"}),v.jsx(Pn,{className:"text-blue-500 hover:underline",to:Kc,children:"Sign In"})]})]})]})})]})})},NS=y.forwardRef(({className:n,...t},e)=>v.jsx("textarea",{className:Ie("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:e,...t}));NS.displayName="Textarea";function Xfe(n){return Un({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m350.54 148.68-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 0 0-32 32v192a32 32 0 0 0 32 32h352a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"272",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M124 158v-22h-24v22"},child:[]}]})(n)}var Z_={exports:{}},J_,YP;function Qfe(){if(YP)return J_;YP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J_=n,J_}var X_,ZP;function ehe(){if(ZP)return X_;ZP=1;var n=Qfe();function t(){}function e(){}return e.resetWarningCache=t,X_=function(){function i(o,a,l,c,d,h){if(h!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return s.PropTypes=s,s},X_}var JP;function the(){return JP||(JP=1,Z_.exports=ehe()()),Z_.exports}var nhe=the();const wt=fu(nhe),ihe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Qd(n,t,e){const i=rhe(n),{webkitRelativePath:r}=n,s=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${n.name}`;return typeof i.path!="string"&&XP(i,"path",s),XP(i,"relativePath",s),i}function rhe(n){const{name:t}=n;if(t&&t.lastIndexOf(".")!==-1&&!n.type){const i=t.split(".").pop().toLowerCase(),r=ihe.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}function XP(n,t,e){Object.defineProperty(n,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const she=[".DS_Store","Thumbs.db"];function ohe(n){return pu(this,void 0,void 0,function*(){return b1(n)&&ahe(n.dataTransfer)?dhe(n.dataTransfer,n.type):lhe(n)?che(n):Array.isArray(n)&&n.every(t=>"getFile"in t&&typeof t.getFile=="function")?uhe(n):[]})}function ahe(n){return b1(n)}function lhe(n){return b1(n)&&b1(n.target)}function b1(n){return typeof n=="object"&&n!==null}function che(n){return hk(n.target.files).map(t=>Qd(t))}function uhe(n){return pu(this,void 0,void 0,function*(){return(yield Promise.all(n.map(e=>e.getFile()))).map(e=>Qd(e))})}function dhe(n,t){return pu(this,void 0,void 0,function*(){if(n.items){const e=hk(n.items).filter(r=>r.kind==="file");if(t!=="drop")return e;const i=yield Promise.all(e.map(fhe));return QP(IV(i))}return QP(hk(n.files).map(e=>Qd(e)))})}function QP(n){return n.filter(t=>she.indexOf(t.name)===-1)}function hk(n){if(n===null)return[];const t=[];for(let e=0;e<n.length;e++){const i=n[e];t.push(i)}return t}function fhe(n){if(typeof n.webkitGetAsEntry!="function")return e4(n);const t=n.webkitGetAsEntry();return t&&t.isDirectory?PV(t):e4(n,t)}function IV(n){return n.reduce((t,e)=>[...t,...Array.isArray(e)?IV(e):[e]],[])}function e4(n,t){return pu(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const s=yield n.getAsFileSystemHandle();if(s===null)throw new Error(`${n} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Qd(o)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return Qd(i,(e=t==null?void 0:t.fullPath)!==null&&e!==void 0?e:void 0)})}function hhe(n){return pu(this,void 0,void 0,function*(){return n.isDirectory?PV(n):mhe(n)})}function PV(n){const t=n.createReader();return new Promise((e,i)=>{const r=[];function s(){t.readEntries(o=>pu(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(hhe));r.push(a),s()}else try{const a=yield Promise.all(r);e(a)}catch(a){i(a)}}),o=>{i(o)})}s()})}function mhe(n){return pu(this,void 0,void 0,function*(){return new Promise((t,e)=>{n.file(i=>{const r=Qd(i,n.fullPath);t(r)},i=>{e(i)})})})}var E0={},t4;function phe(){return t4||(t4=1,E0.__esModule=!0,E0.default=function(n,t){if(n&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return e.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0}),E0}var ghe=phe();const Q_=fu(ghe);function n4(n){return vhe(n)||whe(n)||OV(n)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function whe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vhe(n){if(Array.isArray(n))return mk(n)}function i4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function r4(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(e),!0).forEach(function(i){RV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i4(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function RV(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Um(n,t){return xhe(n)||_he(n,t)||OV(n,t)||yhe()}function yhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OV(n,t){if(n){if(typeof n=="string")return mk(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return mk(n,t)}}function mk(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function _he(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i=[],r=!0,s=!1,o,a;try{for(e=e.call(n);!(r=(o=e.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&e.return!=null&&e.return()}finally{if(s)throw a}}return i}}function xhe(n){if(Array.isArray(n))return n}var khe=typeof Q_=="function"?Q_:Q_.default,Che="file-invalid-type",Ehe="file-too-large",She="file-too-small",The="too-many-files",Ahe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),i=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:Che,message:"File type must be ".concat(i)}},s4=function(t){return{code:Ehe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},o4=function(t){return{code:She,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ihe={code:The,message:"Too many files"};function NV(n,t){var e=n.type==="application/x-moz-file"||khe(n,t);return[e,e?null:Ahe(t)]}function MV(n,t,e){if(Nc(n.size))if(Nc(t)&&Nc(e)){if(n.size>e)return[!1,s4(e)];if(n.size<t)return[!1,o4(t)]}else{if(Nc(t)&&n.size<t)return[!1,o4(t)];if(Nc(e)&&n.size>e)return[!1,s4(e)]}return[!0,null]}function Nc(n){return n!=null}function Phe(n){var t=n.files,e=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,o=n.maxFiles,a=n.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(l){var c=NV(l,e),d=Um(c,1),h=d[0],p=MV(l,i,r),b=Um(p,1),_=b[0],x=a?a(l):null;return h&&_&&!x})}function w1(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function S0(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!n.target&&!!n.target.files}function a4(n){n.preventDefault()}function Rhe(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Ohe(n){return n.indexOf("Edge/")!==-1}function Nhe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Rhe(n)||Ohe(n)}function Xs(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return t.some(function(a){return!w1(i)&&a&&a.apply(void 0,[i].concat(s)),w1(i)})}}function Mhe(){return"showOpenFilePicker"in window}function Dhe(n){if(Nc(n)){var t=Object.entries(n).filter(function(e){var i=Um(e,2),r=i[0],s=i[1],o=!0;return DV(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(LV))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(e,i){var r=Um(i,2),s=r[0],o=r[1];return r4(r4({},e),{},RV({},s,o))},{});return[{description:"Files",accept:t}]}return n}function Lhe(n){if(Nc(n))return Object.entries(n).reduce(function(t,e){var i=Um(e,2),r=i[0],s=i[1];return[].concat(n4(t),[r],n4(s))},[]).filter(function(t){return DV(t)||LV(t)}).join(",")}function Vhe(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Fhe(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function DV(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function LV(n){return/^.*\.[\w]+$/.test(n)}var Bhe=["children"],jhe=["open"],zhe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],$he=["refKey","onChange","onClick"];function Uhe(n){return qhe(n)||Whe(n)||VV(n)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qhe(n){if(Array.isArray(n))return pk(n)}function ex(n,t){return Yhe(n)||Khe(n,t)||VV(n,t)||Ghe()}function Ghe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VV(n,t){if(n){if(typeof n=="string")return pk(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return pk(n,t)}}function pk(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function Khe(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i=[],r=!0,s=!1,o,a;try{for(e=e.call(n);!(r=(o=e.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&e.return!=null&&e.return()}finally{if(s)throw a}}return i}}function Yhe(n){if(Array.isArray(n))return n}function l4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function vn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(e),!0).forEach(function(i){gk(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):l4(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function gk(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function v1(n,t){if(n==null)return{};var e=Zhe(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function Zhe(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}var Cf=y.forwardRef(function(n,t){var e=n.children,i=v1(n,Bhe),r=Jhe(i),s=r.open,o=v1(r,jhe);return y.useImperativeHandle(t,function(){return{open:s}},[s]),Se.createElement(y.Fragment,null,e(vn(vn({},o),{},{open:s})))});Cf.displayName="Dropzone";var FV={disabled:!1,getFilesFromEvent:ohe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Cf.defaultProps=FV;Cf.propTypes={children:wt.func,accept:wt.objectOf(wt.arrayOf(wt.string)),multiple:wt.bool,preventDropOnDocument:wt.bool,noClick:wt.bool,noKeyboard:wt.bool,noDrag:wt.bool,noDragEventsBubbling:wt.bool,minSize:wt.number,maxSize:wt.number,maxFiles:wt.number,disabled:wt.bool,getFilesFromEvent:wt.func,onFileDialogCancel:wt.func,onFileDialogOpen:wt.func,useFsAccessApi:wt.bool,autoFocus:wt.bool,onDragEnter:wt.func,onDragLeave:wt.func,onDragOver:wt.func,onDrop:wt.func,onDropAccepted:wt.func,onDropRejected:wt.func,onError:wt.func,validator:wt.func};var bk={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Jhe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=vn(vn({},FV),n),e=t.accept,i=t.disabled,r=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,h=t.onDragOver,p=t.onDrop,b=t.onDropAccepted,_=t.onDropRejected,x=t.onFileDialogCancel,C=t.onFileDialogOpen,S=t.useFsAccessApi,T=t.autoFocus,A=t.preventDropOnDocument,P=t.noClick,O=t.noKeyboard,D=t.noDrag,R=t.noDragEventsBubbling,j=t.onError,$=t.validator,Z=y.useMemo(function(){return Lhe(e)},[e]),ge=y.useMemo(function(){return Dhe(e)},[e]),ee=y.useMemo(function(){return typeof C=="function"?C:c4},[C]),re=y.useMemo(function(){return typeof x=="function"?x:c4},[x]),ne=y.useRef(null),ve=y.useRef(null),me=y.useReducer(Xhe,bk),fe=ex(me,2),U=fe[0],K=fe[1],te=U.isFocused,V=U.isFileDialogActive,J=y.useRef(typeof window<"u"&&window.isSecureContext&&S&&Mhe()),We=function(){!J.current&&V&&setTimeout(function(){if(ve.current){var pe=ve.current.files;pe.length||(K({type:"closeDialog"}),re())}},300)};y.useEffect(function(){return window.addEventListener("focus",We,!1),function(){window.removeEventListener("focus",We,!1)}},[ve,V,re,J]);var Ve=y.useRef([]),Xe=function(pe){ne.current&&ne.current.contains(pe.target)||(pe.preventDefault(),Ve.current=[])};y.useEffect(function(){return A&&(document.addEventListener("dragover",a4,!1),document.addEventListener("drop",Xe,!1)),function(){A&&(document.removeEventListener("dragover",a4),document.removeEventListener("drop",Xe))}},[ne,A]),y.useEffect(function(){return!i&&T&&ne.current&&ne.current.focus(),function(){}},[ne,T,i]);var Fe=y.useCallback(function(Q){j?j(Q):console.error(Q)},[j]),ce=y.useCallback(function(Q){Q.preventDefault(),Q.persist(),X(Q),Ve.current=[].concat(Uhe(Ve.current),[Q.target]),S0(Q)&&Promise.resolve(r(Q)).then(function(pe){if(!(w1(Q)&&!R)){var ut=pe.length,mt=ut>0&&Phe({files:pe,accept:Z,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:$}),Kt=ut>0&&!mt;K({isDragAccept:mt,isDragReject:Kt,isDragActive:!0,type:"setDraggedFiles"}),c&&c(Q)}}).catch(function(pe){return Fe(pe)})},[r,c,Fe,R,Z,o,s,a,l,$]),Te=y.useCallback(function(Q){Q.preventDefault(),Q.persist(),X(Q);var pe=S0(Q);if(pe&&Q.dataTransfer)try{Q.dataTransfer.dropEffect="copy"}catch{}return pe&&h&&h(Q),!1},[h,R]),De=y.useCallback(function(Q){Q.preventDefault(),Q.persist(),X(Q);var pe=Ve.current.filter(function(mt){return ne.current&&ne.current.contains(mt)}),ut=pe.indexOf(Q.target);ut!==-1&&pe.splice(ut,1),Ve.current=pe,!(pe.length>0)&&(K({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),S0(Q)&&d&&d(Q))},[ne,d,R]),Ze=y.useCallback(function(Q,pe){var ut=[],mt=[];Q.forEach(function(Kt){var qs=NV(Kt,Z),Ci=ex(qs,2),gr=Ci[0],tc=Ci[1],Do=MV(Kt,o,s),Lo=ex(Do,2),Ha=Lo[0],nc=Lo[1],ic=$?$(Kt):null;if(gr&&Ha&&!ic)ut.push(Kt);else{var rc=[tc,nc];ic&&(rc=rc.concat(ic)),mt.push({file:Kt,errors:rc.filter(function(Mf){return Mf})})}}),(!a&&ut.length>1||a&&l>=1&&ut.length>l)&&(ut.forEach(function(Kt){mt.push({file:Kt,errors:[Ihe]})}),ut.splice(0)),K({acceptedFiles:ut,fileRejections:mt,isDragReject:mt.length>0,type:"setFiles"}),p&&p(ut,mt,pe),mt.length>0&&_&&_(mt,pe),ut.length>0&&b&&b(ut,pe)},[K,a,Z,o,s,l,p,b,_,$]),st=y.useCallback(function(Q){Q.preventDefault(),Q.persist(),X(Q),Ve.current=[],S0(Q)&&Promise.resolve(r(Q)).then(function(pe){w1(Q)&&!R||Ze(pe,Q)}).catch(function(pe){return Fe(pe)}),K({type:"reset"})},[r,Ze,Fe,R]),at=y.useCallback(function(){if(J.current){K({type:"openDialog"}),ee();var Q={multiple:a,types:ge};window.showOpenFilePicker(Q).then(function(pe){return r(pe)}).then(function(pe){Ze(pe,null),K({type:"closeDialog"})}).catch(function(pe){Vhe(pe)?(re(pe),K({type:"closeDialog"})):Fhe(pe)?(J.current=!1,ve.current?(ve.current.value=null,ve.current.click()):Fe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Fe(pe)});return}ve.current&&(K({type:"openDialog"}),ee(),ve.current.value=null,ve.current.click())},[K,ee,re,S,Ze,Fe,ge,a]),_t=y.useCallback(function(Q){!ne.current||!ne.current.isEqualNode(Q.target)||(Q.key===" "||Q.key==="Enter"||Q.keyCode===32||Q.keyCode===13)&&(Q.preventDefault(),at())},[ne,at]),Xt=y.useCallback(function(){K({type:"focus"})},[]),xi=y.useCallback(function(){K({type:"blur"})},[]),ki=y.useCallback(function(){P||(Nhe()?setTimeout(at,0):at())},[P,at]),On=function(pe){return i?null:pe},F=function(pe){return O?null:On(pe)},H=function(pe){return D?null:On(pe)},X=function(pe){R&&pe.stopPropagation()},xe=y.useMemo(function(){return function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=Q.refKey,ut=pe===void 0?"ref":pe,mt=Q.role,Kt=Q.onKeyDown,qs=Q.onFocus,Ci=Q.onBlur,gr=Q.onClick,tc=Q.onDragEnter,Do=Q.onDragOver,Lo=Q.onDragLeave,Ha=Q.onDrop,nc=v1(Q,zhe);return vn(vn(gk({onKeyDown:F(Xs(Kt,_t)),onFocus:F(Xs(qs,Xt)),onBlur:F(Xs(Ci,xi)),onClick:On(Xs(gr,ki)),onDragEnter:H(Xs(tc,ce)),onDragOver:H(Xs(Do,Te)),onDragLeave:H(Xs(Lo,De)),onDrop:H(Xs(Ha,st)),role:typeof mt=="string"&&mt!==""?mt:"presentation"},ut,ne),!i&&!O?{tabIndex:0}:{}),nc)}},[ne,_t,Xt,xi,ki,ce,Te,De,st,O,D,i]),ye=y.useCallback(function(Q){Q.stopPropagation()},[]),be=y.useMemo(function(){return function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=Q.refKey,ut=pe===void 0?"ref":pe,mt=Q.onChange,Kt=Q.onClick,qs=v1(Q,$he),Ci=gk({accept:Z,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:On(Xs(mt,st)),onClick:On(Xs(Kt,ye)),tabIndex:-1},ut,ve);return vn(vn({},Ci),qs)}},[ve,e,a,st,i]);return vn(vn({},U),{},{isFocused:te&&!i,getRootProps:xe,getInputProps:be,rootRef:ne,inputRef:ve,open:On(at)})}function Xhe(n,t){switch(t.type){case"focus":return vn(vn({},n),{},{isFocused:!0});case"blur":return vn(vn({},n),{},{isFocused:!1});case"openDialog":return vn(vn({},bk),{},{isFileDialogActive:!0});case"closeDialog":return vn(vn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return vn(vn({},n),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return vn(vn({},n),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return vn({},bk);default:return n}}function c4(){}const Qhe=()=>{const[n,t]=y.useState(),[e,i]=y.useState(),r=Io(p=>p.user),{data:s,loading:o}=mi(`http://localhost:3000/api/user/getuser/${r.user._id}`,{method:"get",credentials:"include"}),a=gw(),l=Bt.object({name:Bt.string().min(3,"Name must be at least 3 character long."),email:Bt.string().email(),bio:Bt.string().min(3,"Bio must be at least 3 character long.")}),c=ql({resolver:Kl(l),defaultValues:{name:"",email:"",bio:"",password:""}});y.useEffect(()=>{s&&s.success&&c.reset({name:s.user.name,email:s.user.email,bio:s.user.bio})},[s]);async function d(p){try{const b=new FormData;b.append("file",e),b.append("data",JSON.stringify(p));const _=await fetch(`http://localhost:3000/api/user/updateuser/${s.user._id}`,{method:"put",credentials:"include",body:b}),x=await _.json();if(!_.ok)return dt("error",x.message);a(HE(x.user)),dt("success",x.message)}catch(b){dt("error",b.message)}}const h=p=>{const b=p[0],_=URL.createObjectURL(b);i(b),t(_)};return o?v.jsx(js,{}):v.jsx(Lr,{className:"max-w-screen-md mx-auto ",children:v.jsxs(zs,{children:[v.jsx("div",{className:"flex justify-center items-center mt-10",children:v.jsx(Cf,{onDrop:p=>h(p),children:({getRootProps:p,getInputProps:b})=>{var _;return v.jsxs("div",{...p(),children:[v.jsx("input",{...b()}),v.jsxs(Yc,{className:"w-28 h-28 relative group",children:[v.jsx(Zc,{src:n||((_=s==null?void 0:s.user)==null?void 0:_.avatar)}),v.jsx("div",{className:"absolute z-50 w-full h-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 justify-center items-center bg-black bg-opacity-20 border-2 border-violet-500 rounded-full group-hover:flex hidden cursor-pointer",children:v.jsx(Xfe,{color:"#7c3aed"})})]})]})}})}),v.jsx("div",{children:v.jsx(Gl,{...c,children:v.jsxs("form",{onSubmit:c.handleSubmit(d),children:[v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:c.control,name:"name",render:({field:p})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Name"}),v.jsx(mn,{children:v.jsx(Gn,{placeholder:"Enter your name",...p})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:c.control,name:"email",render:({field:p})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Email"}),v.jsx(mn,{children:v.jsx(Gn,{placeholder:"Enter your email address",...p})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:c.control,name:"bio",render:({field:p})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Bio"}),v.jsx(mn,{children:v.jsx(NS,{type:"password",placeholder:"Enter bio",...p})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:c.control,name:"password",render:({field:p})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Password"}),v.jsx(mn,{children:v.jsx(Gn,{type:"password",placeholder:"Enter your password",...p})}),v.jsx(pn,{})]})})}),v.jsx(Bn,{type:"submit",className:"w-full",children:"Save Changes"})]})})})]})})};var pb={exports:{}},eme=pb.exports,u4;function tme(){return u4||(u4=1,function(n,t){(function(e,i,r){n.exports=r(),n.exports.default=r()})("slugify",eme,function(){var e=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),i=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function r(s,o){if(typeof s!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var a=i[o.locale]||{},l=o.replacement===void 0?"-":o.replacement,c=o.trim===void 0?!0:o.trim,d=s.normalize().split("").reduce(function(h,p){var b=a[p];return b===void 0&&(b=e[p]),b===void 0&&(b=p),b===l&&(b=" "),h+b.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(d=d.replace(/[^A-Za-z0-9\s]/g,"")),c&&(d=d.trim()),d=d.replace(/\s+/g,l),o.lower&&(d=d.toLowerCase()),d}return r.extend=function(s){Object.assign(e,s)},r})}(pb)),pb.exports}var nme=tme();const Ww=fu(nme),ime=()=>{const n=Bt.object({name:Bt.string().min(3,"Name must be at least 3 character long"),slug:Bt.string().min(3,"Slug must be at least 3 character long.")}),t=ql({resolver:Kl(n),defaultValues:{name:"",slug:""}}),e=t.watch("name");y.useEffect(()=>{if(e){const r=Ww(e,{lower:!0});t.setValue("slug",r)}},[e]);async function i(r){try{const s=await fetch("http://localhost:3000/api/category/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(r)}),o=await s.json();if(!s.ok)return dt("error",o.message);t.reset(),dt("success",o.message)}catch(s){dt("error",s.message)}}return v.jsx("div",{children:v.jsx(Lr,{className:"pt-5 max-w-screen-md mx-auto",children:v.jsx(zs,{children:v.jsx(Gl,{...t,children:v.jsxs("form",{onSubmit:t.handleSubmit(i),children:[v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:t.control,name:"name",render:({field:r})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Name"}),v.jsx(mn,{children:v.jsx(Gn,{className:"border-2 border-blue-200",placeholder:"Enter your name",...r})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:t.control,name:"slug",render:({field:r})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Slug"}),v.jsx(mn,{children:v.jsx(Gn,{className:"border-2 border-blue-200",placeholder:"Enter your email",...r})}),v.jsx(pn,{})]})})}),v.jsx(Bn,{type:"submit",className:"w-full",children:"Save"})]})})})})})},Dp=y.forwardRef(({className:n,...t},e)=>v.jsx("div",{className:"relative w-full overflow-auto",children:v.jsx("table",{ref:e,className:Ie("w-full caption-bottom text-sm",n),...t})}));Dp.displayName="Table";const Lp=y.forwardRef(({className:n,...t},e)=>v.jsx("thead",{ref:e,className:Ie("[&_tr]:border-b",n),...t}));Lp.displayName="TableHeader";const Vp=y.forwardRef(({className:n,...t},e)=>v.jsx("tbody",{ref:e,className:Ie("[&_tr:last-child]:border-0",n),...t}));Vp.displayName="TableBody";const rme=y.forwardRef(({className:n,...t},e)=>v.jsx("tfoot",{ref:e,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...t}));rme.displayName="TableFooter";const Rr=y.forwardRef(({className:n,...t},e)=>v.jsx("tr",{ref:e,className:Ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...t}));Rr.displayName="TableRow";const Vn=y.forwardRef(({className:n,...t},e)=>v.jsx("th",{ref:e,className:Ie("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t}));Vn.displayName="TableHead";const on=y.forwardRef(({className:n,...t},e)=>v.jsx("td",{ref:e,className:Ie("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t}));on.displayName="TableCell";const sme=y.forwardRef(({className:n,...t},e)=>v.jsx("caption",{ref:e,className:Ie("mt-4 text-sm text-muted-foreground",n),...t}));sme.displayName="TableCaption";function BV(n){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(n)}const qw=async n=>{if(confirm("Are you sure to delete this data?"))try{const e=await fetch(n,{method:"DELETE",credentials:"include"}),i=await e.json();if(!e.ok)throw new Error(e.statusText);return!0}catch(e){return console.log(e),!1}else return!1},ome=()=>{const[n,t]=y.useState(!1),{data:e,loading:i}=mi("http://localhost:3000/api/category/allcategory",{method:"get",credentials:"include"},[n]),r=s=>{qw(`http://localhost:3000/api/category/delete/${s}`)?(t(!n),dt("success","Data deleted.")):dt("error","Data not deleted.")};return i?v.jsx(js,{}):v.jsx("div",{children:v.jsxs(Lr,{children:[v.jsx(WE,{children:v.jsx("div",{children:v.jsx(Bn,{children:v.jsx(Pn,{to:uM,children:"Add Category"})})})}),v.jsx(zs,{children:v.jsxs(Dp,{children:[v.jsx(Lp,{children:v.jsxs(Rr,{children:[v.jsx(Vn,{children:"Category"}),v.jsx(Vn,{children:"Slug"}),v.jsx(Vn,{children:"Action"})]})}),v.jsx(Vp,{children:e&&e.category.length>0?e.category.map(s=>v.jsxs(Rr,{children:[v.jsx(on,{children:s.name}),v.jsx(on,{children:s.slug}),v.jsxs(on,{className:"flex gap-3",children:[v.jsx(Bn,{variant:"outline",className:"hover:bg-violet-500",aschild:!0,children:v.jsx(Pn,{to:dM(s._id),children:v.jsx(BV,{})})}),v.jsx(Bn,{onClick:()=>r(s._id),variant:"outline",className:"hover:bg-violet-500",children:v.jsx(mw,{})})]})]},s._id)):v.jsx(Rr,{children:v.jsx(on,{colspan:"3",children:"Data not found"})})})]})})]})})},ame=()=>{const{category_id:n}=rw(),{data:t}=mi(`http://localhost:3000/api/category/show/${n}`,{method:"get",credentials:"include"},[n]);console.log(t);const e=Bt.object({name:Bt.string().min(3,"Name must be at least 3 character long"),slug:Bt.string().min(3,"Slug must be at least 3 character long.")}),i=ql({resolver:Kl(e),defaultValues:{name:"",slug:""}}),r=i.watch("name");y.useEffect(()=>{if(r){const o=Ww(r,{lower:!0});i.setValue("slug",o)}},[r]),y.useEffect(()=>{t&&(i.setValue("name",t.category.name),i.setValue("slug",t.category.slug))},[t]);async function s(o){try{const a=await fetch(`http://localhost:3000/api/category/update/${n}`,{method:"put",headers:{"content-type":"application/json"},body:JSON.stringify(o)}),l=await a.json();if(!a.ok)return dt("error",l.message);dt("success",l.message)}catch(a){dt("error",a.message)}}return v.jsx("div",{children:v.jsx(Lr,{className:"pt-5 max-w-screen-md mx-auto",children:v.jsx(zs,{children:v.jsx(Gl,{...i,children:v.jsxs("form",{onSubmit:i.handleSubmit(s),children:[v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:i.control,name:"name",render:({field:o})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Name"}),v.jsx(mn,{children:v.jsx(Gn,{className:"border-2 border-blue-200",placeholder:"Enter your name",...o})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:i.control,name:"slug",render:({field:o})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Slug"}),v.jsx(mn,{children:v.jsx(Gn,{className:"border-2 border-blue-200",placeholder:"Enter your email",...o})}),v.jsx(pn,{})]})})}),v.jsx(Bn,{type:"submit",className:"w-full",children:"Save"})]})})})})})};function d4(n,[t,e]){return Math.min(e,Math.max(t,n))}var MS=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(cme);if(s){const o=s.props.children,a=r.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(wk,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(wk,{...i,ref:t,children:e})});MS.displayName="Slot";var wk=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=dme(e),s=ume(i,e.props);return e.type!==y.Fragment&&(s.ref=t?Co(t,r):r),y.cloneElement(e,s)}return y.Children.count(e)>1?y.Children.only(null):null});wk.displayName="SlotClone";var lme=({children:n})=>v.jsx(v.Fragment,{children:n});function cme(n){return y.isValidElement(n)&&n.type===lme}function ume(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...a)=>{s(...a),r(...a)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function dme(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var fme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kn=fme.reduce((n,t)=>{const e=y.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?MS:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{});function hme(n,t){n&&hu.flushSync(()=>n.dispatchEvent(t))}var mme="DismissableLayer",vk="dismissableLayer.update",pme="dismissableLayer.pointerDownOutside",gme="dismissableLayer.focusOutside",f4,jV=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zV=y.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=y.useContext(jV),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=y.useState({}),_=vt(t,R=>h(R)),x=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(C),T=d?x.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,P=T>=S,O=vme(R=>{const j=R.target,$=[...c.branches].some(Z=>Z.contains(j));!P||$||(r==null||r(R),o==null||o(R),R.defaultPrevented||a==null||a())},p),D=yme(R=>{const j=R.target;[...c.branches].some(Z=>Z.contains(j))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},p);return qC(R=>{T===c.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return e&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(f4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),h4(),()=>{e&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=f4)}},[d,p,e,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),h4())},[d,c]),y.useEffect(()=>{const R=()=>b({});return document.addEventListener(vk,R),()=>document.removeEventListener(vk,R)},[]),v.jsx(Kn.div,{...l,ref:_,style:{pointerEvents:A?P?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,D.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,O.onPointerDownCapture)})});zV.displayName=mme;var bme="DismissableLayerBranch",wme=y.forwardRef((n,t)=>{const e=y.useContext(jV),i=y.useRef(null),r=vt(t,i);return y.useEffect(()=>{const s=i.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),v.jsx(Kn.div,{...n,ref:r})});wme.displayName=bme;function vme(n,t=globalThis==null?void 0:globalThis.document){const e=En(n),i=y.useRef(!1),r=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){$V(pme,e,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=l,t.addEventListener("click",r.current,{once:!0})):l()}else t.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function yme(n,t=globalThis==null?void 0:globalThis.document){const e=En(n),i=y.useRef(!1);return y.useEffect(()=>{const r=s=>{s.target&&!i.current&&$V(gme,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function h4(){const n=new CustomEvent(vk);document.dispatchEvent(n)}function $V(n,t,e,{discrete:i}){const r=e.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(n,t,{once:!0}),i?hme(r,s):r.dispatchEvent(s)}var tx="focusScope.autoFocusOnMount",nx="focusScope.autoFocusOnUnmount",m4={bubbles:!1,cancelable:!0},_me="FocusScope",UV=y.forwardRef((n,t)=>{const{loop:e=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[a,l]=y.useState(null),c=En(r),d=En(s),h=y.useRef(null),p=vt(t,x=>l(x)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(i){let x=function(A){if(b.paused||!a)return;const P=A.target;a.contains(P)?h.current=P:gl(h.current,{select:!0})},C=function(A){if(b.paused||!a)return;const P=A.relatedTarget;P!==null&&(a.contains(P)||gl(h.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&gl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",C);const T=new MutationObserver(S);return a&&T.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",C),T.disconnect()}}},[i,a,b.paused]),y.useEffect(()=>{if(a){g4.add(b);const x=document.activeElement;if(!a.contains(x)){const S=new CustomEvent(tx,m4);a.addEventListener(tx,c),a.dispatchEvent(S),S.defaultPrevented||(xme(Tme(HV(a)),{select:!0}),document.activeElement===x&&gl(a))}return()=>{a.removeEventListener(tx,c),setTimeout(()=>{const S=new CustomEvent(nx,m4);a.addEventListener(nx,d),a.dispatchEvent(S),S.defaultPrevented||gl(x??document.body,{select:!0}),a.removeEventListener(nx,d),g4.remove(b)},0)}}},[a,c,d,b]);const _=y.useCallback(x=>{if(!e&&!i||b.paused)return;const C=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(C&&S){const T=x.currentTarget,[A,P]=kme(T);A&&P?!x.shiftKey&&S===P?(x.preventDefault(),e&&gl(A,{select:!0})):x.shiftKey&&S===A&&(x.preventDefault(),e&&gl(P,{select:!0})):S===T&&x.preventDefault()}},[e,i,b.paused]);return v.jsx(Kn.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});UV.displayName=_me;function xme(n,{select:t=!1}={}){const e=document.activeElement;for(const i of n)if(gl(i,{select:t}),document.activeElement!==e)return}function kme(n){const t=HV(n),e=p4(t,n),i=p4(t.reverse(),n);return[e,i]}function HV(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function p4(n,t){for(const e of n)if(!Cme(e,{upTo:t}))return e}function Cme(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Eme(n){return n instanceof HTMLInputElement&&"select"in n}function gl(n,{select:t=!1}={}){if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),n!==e&&Eme(n)&&t&&n.select()}}var g4=Sme();function Sme(){let n=[];return{add(t){const e=n[0];t!==e&&(e==null||e.pause()),n=b4(n,t),n.unshift(t)},remove(t){var e;n=b4(n,t),(e=n[0])==null||e.resume()}}}function b4(n,t){const e=[...n],i=e.indexOf(t);return i!==-1&&e.splice(i,1),e}function Tme(n){return n.filter(t=>t.tagName!=="A")}var Ame="Arrow",WV=y.forwardRef((n,t)=>{const{children:e,width:i=10,height:r=5,...s}=n;return v.jsx(Kn.svg,{...s,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});WV.displayName=Ame;var Ime=WV,DS="Popper",[qV,GV]=Fs(DS),[Pme,KV]=qV(DS),YV=n=>{const{__scopePopper:t,children:e}=n,[i,r]=y.useState(null);return v.jsx(Pme,{scope:t,anchor:i,onAnchorChange:r,children:e})};YV.displayName=DS;var ZV="PopperAnchor",JV=y.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...r}=n,s=KV(ZV,e),o=y.useRef(null),a=vt(t,o);return y.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:v.jsx(Kn.div,{...r,ref:a})});JV.displayName=ZV;var LS="PopperContent",[Rme,Ome]=qV(LS),XV=y.forwardRef((n,t)=>{var ce,Te,De,Ze,st,at;const{__scopePopper:e,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:b="optimized",onPlaced:_,...x}=n,C=KV(LS,e),[S,T]=y.useState(null),A=vt(t,_t=>T(_t)),[P,O]=y.useState(null),D=bE(P),R=(D==null?void 0:D.width)??0,j=(D==null?void 0:D.height)??0,$=i+(s!=="center"?"-"+s:""),Z=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},ge=Array.isArray(c)?c:[c],ee=ge.length>0,re={padding:Z,boundary:ge.filter(Mme),altBoundary:ee},{refs:ne,floatingStyles:ve,placement:me,isPositioned:fe,middlewareData:U}=cE({strategy:"fixed",placement:$,whileElementsMounted:(..._t)=>lE(..._t,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[uE({mainAxis:r+j,alignmentAxis:o}),l&&dE({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fE():void 0,...re}),l&&hE({...re}),mE({...re,apply:({elements:_t,rects:Xt,availableWidth:xi,availableHeight:ki})=>{const{width:On,height:F}=Xt.reference,H=_t.floating.style;H.setProperty("--radix-popper-available-width",`${xi}px`),H.setProperty("--radix-popper-available-height",`${ki}px`),H.setProperty("--radix-popper-anchor-width",`${On}px`),H.setProperty("--radix-popper-anchor-height",`${F}px`)}}),P&&gE({element:P,padding:a}),Dme({arrowWidth:R,arrowHeight:j}),p&&pE({strategy:"referenceHidden",...re})]}),[K,te]=tF(me),V=En(_);Cn(()=>{fe&&(V==null||V())},[fe,V]);const J=(ce=U.arrow)==null?void 0:ce.x,We=(Te=U.arrow)==null?void 0:Te.y,Ve=((De=U.arrow)==null?void 0:De.centerOffset)!==0,[Xe,Fe]=y.useState();return Cn(()=>{S&&Fe(window.getComputedStyle(S).zIndex)},[S]),v.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:fe?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(Ze=U.transformOrigin)==null?void 0:Ze.x,(st=U.transformOrigin)==null?void 0:st.y].join(" "),...((at=U.hide)==null?void 0:at.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(Rme,{scope:e,placedSide:K,onArrowChange:O,arrowX:J,arrowY:We,shouldHideArrow:Ve,children:v.jsx(Kn.div,{"data-side":K,"data-align":te,...x,ref:A,style:{...x.style,animation:fe?void 0:"none"}})})})});XV.displayName=LS;var QV="PopperArrow",Nme={top:"bottom",right:"left",bottom:"top",left:"right"},eF=y.forwardRef(function(t,e){const{__scopePopper:i,...r}=t,s=Ome(QV,i),o=Nme[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(Ime,{...r,ref:e,style:{...r.style,display:"block"}})})});eF.displayName=QV;function Mme(n){return n!==null}var Dme=n=>({name:"transformOrigin",options:n,fn(t){var C,S,T;const{placement:e,rects:i,middlewareData:r}=t,o=((C=r.arrow)==null?void 0:C.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,d]=tF(e),h={start:"0%",center:"50%",end:"100%"}[d],p=(((S=r.arrow)==null?void 0:S.x)??0)+a/2,b=(((T=r.arrow)==null?void 0:T.y)??0)+l/2;let _="",x="";return c==="bottom"?(_=o?h:`${p}px`,x=`${-l}px`):c==="top"?(_=o?h:`${p}px`,x=`${i.floating.height+l}px`):c==="right"?(_=`${-l}px`,x=o?h:`${b}px`):c==="left"&&(_=`${i.floating.width+l}px`,x=o?h:`${b}px`),{data:{x:_,y:x}}}});function tF(n){const[t,e="center"]=n.split("-");return[t,e]}var Lme=YV,Vme=JV,Fme=XV,Bme=eF,jme="Portal",nF=y.forwardRef((n,t)=>{var a;const{container:e,...i}=n,[r,s]=y.useState(!1);Cn(()=>s(!0),[]);const o=e||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?WC.createPortal(v.jsx(Kn.div,{...i,ref:t}),o):null});nF.displayName=jme;function zme(n){const t=y.useRef({value:n,previous:n});return y.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var $me="VisuallyHidden",iF=y.forwardRef((n,t)=>v.jsx(Kn.span,{...n,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));iF.displayName=$me;var Ume=[" ","Enter","ArrowUp","ArrowDown"],Hme=[" ","Enter"],Fp="Select",[Gw,Kw,Wme]=EE(Fp),[Ef,W9e]=Fs(Fp,[Wme,GV]),Yw=GV(),[qme,Zl]=Ef(Fp),[Gme,Kme]=Ef(Fp),rF=n=>{const{__scopeSelect:t,children:e,open:i,defaultOpen:r,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:b,form:_}=n,x=Yw(t),[C,S]=y.useState(null),[T,A]=y.useState(null),[P,O]=y.useState(!1),D=SE(c),[R=!1,j]=Hd({prop:i,defaultProp:r,onChange:s}),[$,Z]=Hd({prop:o,defaultProp:a,onChange:l}),ge=y.useRef(null),ee=C?_||!!C.closest("form"):!0,[re,ne]=y.useState(new Set),ve=Array.from(re).map(me=>me.props.value).join(";");return v.jsx(Lme,{...x,children:v.jsxs(qme,{required:b,scope:t,trigger:C,onTriggerChange:S,valueNode:T,onValueNodeChange:A,valueNodeHasChildren:P,onValueNodeHasChildrenChange:O,contentId:lo(),value:$,onValueChange:Z,open:R,onOpenChange:j,dir:D,triggerPointerDownPosRef:ge,disabled:p,children:[v.jsx(Gw.Provider,{scope:t,children:v.jsx(Gme,{scope:n.__scopeSelect,onNativeOptionAdd:y.useCallback(me=>{ne(fe=>new Set(fe).add(me))},[]),onNativeOptionRemove:y.useCallback(me=>{ne(fe=>{const U=new Set(fe);return U.delete(me),U})},[]),children:e})}),ee?v.jsxs(IF,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:h,value:$,onChange:me=>Z(me.target.value),disabled:p,form:_,children:[$===void 0?v.jsx("option",{value:""}):null,Array.from(re)]},ve):null]})})};rF.displayName=Fp;var sF="SelectTrigger",oF=y.forwardRef((n,t)=>{const{__scopeSelect:e,disabled:i=!1,...r}=n,s=Yw(e),o=Zl(sF,e),a=o.disabled||i,l=vt(t,o.onTriggerChange),c=Kw(e),d=y.useRef("touch"),[h,p,b]=PF(x=>{const C=c().filter(A=>!A.disabled),S=C.find(A=>A.value===o.value),T=RF(C,x,S);T!==void 0&&o.onValueChange(T.value)}),_=x=>{a||(o.onOpenChange(!0),b()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return v.jsx(Vme,{asChild:!0,...s,children:v.jsx(Kn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":AF(o.value)?"":void 0,...r,ref:l,onClick:Le(r.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&_(x)}),onPointerDown:Le(r.onPointerDown,x=>{d.current=x.pointerType;const C=x.target;C.hasPointerCapture(x.pointerId)&&C.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(_(x),x.preventDefault())}),onKeyDown:Le(r.onKeyDown,x=>{const C=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(C&&x.key===" ")&&Ume.includes(x.key)&&(_(),x.preventDefault())})})})});oF.displayName=sF;var aF="SelectValue",lF=y.forwardRef((n,t)=>{const{__scopeSelect:e,className:i,style:r,children:s,placeholder:o="",...a}=n,l=Zl(aF,e),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=vt(t,l.onValueNodeChange);return Cn(()=>{c(d)},[c,d]),v.jsx(Kn.span,{...a,ref:h,style:{pointerEvents:"none"},children:AF(l.value)?v.jsx(v.Fragment,{children:o}):s})});lF.displayName=aF;var Yme="SelectIcon",cF=y.forwardRef((n,t)=>{const{__scopeSelect:e,children:i,...r}=n;return v.jsx(Kn.span,{"aria-hidden":!0,...r,ref:t,children:i||""})});cF.displayName=Yme;var Zme="SelectPortal",uF=n=>v.jsx(nF,{asChild:!0,...n});uF.displayName=Zme;var ru="SelectContent",dF=y.forwardRef((n,t)=>{const e=Zl(ru,n.__scopeSelect),[i,r]=y.useState();if(Cn(()=>{r(new DocumentFragment)},[]),!e.open){const s=i;return s?hu.createPortal(v.jsx(fF,{scope:n.__scopeSelect,children:v.jsx(Gw.Slot,{scope:n.__scopeSelect,children:v.jsx("div",{children:n.children})})}),s):null}return v.jsx(hF,{...n,ref:t})});dF.displayName=ru;var ms=10,[fF,Jl]=Ef(ru),Jme="SelectContentImpl",hF=y.forwardRef((n,t)=>{const{__scopeSelect:e,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:b,sticky:_,hideWhenDetached:x,avoidCollisions:C,...S}=n,T=Zl(ru,e),[A,P]=y.useState(null),[O,D]=y.useState(null),R=vt(t,ce=>P(ce)),[j,$]=y.useState(null),[Z,ge]=y.useState(null),ee=Kw(e),[re,ne]=y.useState(!1),ve=y.useRef(!1);y.useEffect(()=>{if(A)return ZC(A)},[A]),YC();const me=y.useCallback(ce=>{const[Te,...De]=ee().map(at=>at.ref.current),[Ze]=De.slice(-1),st=document.activeElement;for(const at of ce)if(at===st||(at==null||at.scrollIntoView({block:"nearest"}),at===Te&&O&&(O.scrollTop=0),at===Ze&&O&&(O.scrollTop=O.scrollHeight),at==null||at.focus(),document.activeElement!==st))return},[ee,O]),fe=y.useCallback(()=>me([j,A]),[me,j,A]);y.useEffect(()=>{re&&fe()},[re,fe]);const{onOpenChange:U,triggerPointerDownPosRef:K}=T;y.useEffect(()=>{if(A){let ce={x:0,y:0};const Te=Ze=>{var st,at;ce={x:Math.abs(Math.round(Ze.pageX)-(((st=K.current)==null?void 0:st.x)??0)),y:Math.abs(Math.round(Ze.pageY)-(((at=K.current)==null?void 0:at.y)??0))}},De=Ze=>{ce.x<=10&&ce.y<=10?Ze.preventDefault():A.contains(Ze.target)||U(!1),document.removeEventListener("pointermove",Te),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",De,{capture:!0})}}},[A,U,K]),y.useEffect(()=>{const ce=()=>U(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[U]);const[te,V]=PF(ce=>{const Te=ee().filter(st=>!st.disabled),De=Te.find(st=>st.ref.current===document.activeElement),Ze=RF(Te,ce,De);Ze&&setTimeout(()=>Ze.ref.current.focus())}),J=y.useCallback((ce,Te,De)=>{const Ze=!ve.current&&!De;(T.value!==void 0&&T.value===Te||Ze)&&($(ce),Ze&&(ve.current=!0))},[T.value]),We=y.useCallback(()=>A==null?void 0:A.focus(),[A]),Ve=y.useCallback((ce,Te,De)=>{const Ze=!ve.current&&!De;(T.value!==void 0&&T.value===Te||Ze)&&ge(ce)},[T.value]),Xe=i==="popper"?yk:mF,Fe=Xe===yk?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:b,sticky:_,hideWhenDetached:x,avoidCollisions:C}:{};return v.jsx(fF,{scope:e,content:A,viewport:O,onViewportChange:D,itemRefCallback:J,selectedItem:j,onItemLeave:We,itemTextRefCallback:Ve,focusSelectedItem:fe,selectedItemText:Z,position:i,isPositioned:re,searchRef:te,children:v.jsx(aw,{as:MS,allowPinchZoom:!0,children:v.jsx(UV,{asChild:!0,trapped:T.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Le(r,ce=>{var Te;(Te=T.trigger)==null||Te.focus({preventScroll:!0}),ce.preventDefault()}),children:v.jsx(zV,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:v.jsx(Xe,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ce=>ce.preventDefault(),...S,...Fe,onPlaced:()=>ne(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Le(S.onKeyDown,ce=>{const Te=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Te&&ce.key.length===1&&V(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ze=ee().filter(st=>!st.disabled).map(st=>st.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const st=ce.target,at=Ze.indexOf(st);Ze=Ze.slice(at+1)}setTimeout(()=>me(Ze)),ce.preventDefault()}})})})})})})});hF.displayName=Jme;var Xme="SelectItemAlignedPosition",mF=y.forwardRef((n,t)=>{const{__scopeSelect:e,onPlaced:i,...r}=n,s=Zl(ru,e),o=Jl(ru,e),[a,l]=y.useState(null),[c,d]=y.useState(null),h=vt(t,R=>d(R)),p=Kw(e),b=y.useRef(!1),_=y.useRef(!0),{viewport:x,selectedItem:C,selectedItemText:S,focusSelectedItem:T}=o,A=y.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&x&&C&&S){const R=s.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),Z=S.getBoundingClientRect();if(s.dir!=="rtl"){const st=Z.left-j.left,at=$.left-st,_t=R.left-at,Xt=R.width+_t,xi=Math.max(Xt,j.width),ki=window.innerWidth-ms,On=d4(at,[ms,Math.max(ms,ki-xi)]);a.style.minWidth=Xt+"px",a.style.left=On+"px"}else{const st=j.right-Z.right,at=window.innerWidth-$.right-st,_t=window.innerWidth-R.right-at,Xt=R.width+_t,xi=Math.max(Xt,j.width),ki=window.innerWidth-ms,On=d4(at,[ms,Math.max(ms,ki-xi)]);a.style.minWidth=Xt+"px",a.style.right=On+"px"}const ge=p(),ee=window.innerHeight-ms*2,re=x.scrollHeight,ne=window.getComputedStyle(c),ve=parseInt(ne.borderTopWidth,10),me=parseInt(ne.paddingTop,10),fe=parseInt(ne.borderBottomWidth,10),U=parseInt(ne.paddingBottom,10),K=ve+me+re+U+fe,te=Math.min(C.offsetHeight*5,K),V=window.getComputedStyle(x),J=parseInt(V.paddingTop,10),We=parseInt(V.paddingBottom,10),Ve=R.top+R.height/2-ms,Xe=ee-Ve,Fe=C.offsetHeight/2,ce=C.offsetTop+Fe,Te=ve+me+ce,De=K-Te;if(Te<=Ve){const st=ge.length>0&&C===ge[ge.length-1].ref.current;a.style.bottom="0px";const at=c.clientHeight-x.offsetTop-x.offsetHeight,_t=Math.max(Xe,Fe+(st?We:0)+at+fe),Xt=Te+_t;a.style.height=Xt+"px"}else{const st=ge.length>0&&C===ge[0].ref.current;a.style.top="0px";const _t=Math.max(Ve,ve+x.offsetTop+(st?J:0)+Fe)+De;a.style.height=_t+"px",x.scrollTop=Te-Ve+x.offsetTop}a.style.margin=`${ms}px 0`,a.style.minHeight=te+"px",a.style.maxHeight=ee+"px",i==null||i(),requestAnimationFrame(()=>b.current=!0)}},[p,s.trigger,s.valueNode,a,c,x,C,S,s.dir,i]);Cn(()=>A(),[A]);const[P,O]=y.useState();Cn(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const D=y.useCallback(R=>{R&&_.current===!0&&(A(),T==null||T(),_.current=!1)},[A,T]);return v.jsx(epe,{scope:e,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:v.jsx(Kn.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});mF.displayName=Xme;var Qme="SelectPopperPosition",yk=y.forwardRef((n,t)=>{const{__scopeSelect:e,align:i="start",collisionPadding:r=ms,...s}=n,o=Yw(e);return v.jsx(Fme,{...o,...s,ref:t,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yk.displayName=Qme;var[epe,VS]=Ef(ru,{}),_k="SelectViewport",pF=y.forwardRef((n,t)=>{const{__scopeSelect:e,nonce:i,...r}=n,s=Jl(_k,e),o=VS(_k,e),a=vt(t,s.onViewportChange),l=y.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),v.jsx(Gw.Slot,{scope:e,children:v.jsx(Kn.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Le(r.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const b=Math.abs(l.current-d.scrollTop);if(b>0){const _=window.innerHeight-ms*2,x=parseFloat(h.style.minHeight),C=parseFloat(h.style.height),S=Math.max(x,C);if(S<_){const T=S+b,A=Math.min(_,T),P=T-A;h.style.height=A+"px",h.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});pF.displayName=_k;var gF="SelectGroup",[tpe,npe]=Ef(gF),ipe=y.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n,r=lo();return v.jsx(tpe,{scope:e,id:r,children:v.jsx(Kn.div,{role:"group","aria-labelledby":r,...i,ref:t})})});ipe.displayName=gF;var bF="SelectLabel",wF=y.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n,r=npe(bF,e);return v.jsx(Kn.div,{id:r.id,...i,ref:t})});wF.displayName=bF;var y1="SelectItem",[rpe,vF]=Ef(y1),yF=y.forwardRef((n,t)=>{const{__scopeSelect:e,value:i,disabled:r=!1,textValue:s,...o}=n,a=Zl(y1,e),l=Jl(y1,e),c=a.value===i,[d,h]=y.useState(s??""),[p,b]=y.useState(!1),_=vt(t,T=>{var A;return(A=l.itemRefCallback)==null?void 0:A.call(l,T,i,r)}),x=lo(),C=y.useRef("touch"),S=()=>{r||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(rpe,{scope:e,value:i,disabled:r,textId:x,isSelected:c,onItemTextChange:y.useCallback(T=>{h(A=>A||((T==null?void 0:T.textContent)??"").trim())},[]),children:v.jsx(Gw.ItemSlot,{scope:e,value:i,disabled:r,textValue:d,children:v.jsx(Kn.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:_,onFocus:Le(o.onFocus,()=>b(!0)),onBlur:Le(o.onBlur,()=>b(!1)),onClick:Le(o.onClick,()=>{C.current!=="mouse"&&S()}),onPointerUp:Le(o.onPointerUp,()=>{C.current==="mouse"&&S()}),onPointerDown:Le(o.onPointerDown,T=>{C.current=T.pointerType}),onPointerMove:Le(o.onPointerMove,T=>{var A;C.current=T.pointerType,r?(A=l.onItemLeave)==null||A.call(l):C.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,T=>{var A;T.currentTarget===document.activeElement&&((A=l.onItemLeave)==null||A.call(l))}),onKeyDown:Le(o.onKeyDown,T=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&T.key===" "||(Hme.includes(T.key)&&S(),T.key===" "&&T.preventDefault())})})})})});yF.displayName=y1;var Uh="SelectItemText",_F=y.forwardRef((n,t)=>{const{__scopeSelect:e,className:i,style:r,...s}=n,o=Zl(Uh,e),a=Jl(Uh,e),l=vF(Uh,e),c=Kme(Uh,e),[d,h]=y.useState(null),p=vt(t,S=>h(S),l.onItemTextChange,S=>{var T;return(T=a.itemTextRefCallback)==null?void 0:T.call(a,S,l.value,l.disabled)}),b=d==null?void 0:d.textContent,_=y.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:b},l.value),[l.disabled,l.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:C}=c;return Cn(()=>(x(_),()=>C(_)),[x,C,_]),v.jsxs(v.Fragment,{children:[v.jsx(Kn.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hu.createPortal(s.children,o.valueNode):null]})});_F.displayName=Uh;var xF="SelectItemIndicator",kF=y.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n;return vF(xF,e).isSelected?v.jsx(Kn.span,{"aria-hidden":!0,...i,ref:t}):null});kF.displayName=xF;var xk="SelectScrollUpButton",CF=y.forwardRef((n,t)=>{const e=Jl(xk,n.__scopeSelect),i=VS(xk,n.__scopeSelect),[r,s]=y.useState(!1),o=vt(t,i.onScrollButtonChange);return Cn(()=>{if(e.viewport&&e.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=e.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),r?v.jsx(SF,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=e;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});CF.displayName=xk;var kk="SelectScrollDownButton",EF=y.forwardRef((n,t)=>{const e=Jl(kk,n.__scopeSelect),i=VS(kk,n.__scopeSelect),[r,s]=y.useState(!1),o=vt(t,i.onScrollButtonChange);return Cn(()=>{if(e.viewport&&e.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=e.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),r?v.jsx(SF,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=e;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});EF.displayName=kk;var SF=y.forwardRef((n,t)=>{const{__scopeSelect:e,onAutoScroll:i,...r}=n,s=Jl("SelectScrollButton",e),o=y.useRef(null),a=Kw(e),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Cn(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),v.jsx(Kn.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:Le(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:Le(r.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:Le(r.onPointerLeave,()=>{l()})})}),spe="SelectSeparator",TF=y.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n;return v.jsx(Kn.div,{"aria-hidden":!0,...i,ref:t})});TF.displayName=spe;var Ck="SelectArrow",ope=y.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n,r=Yw(e),s=Zl(Ck,e),o=Jl(Ck,e);return s.open&&o.position==="popper"?v.jsx(Bme,{...r,...i,ref:t}):null});ope.displayName=Ck;function AF(n){return n===""||n===void 0}var IF=y.forwardRef((n,t)=>{const{value:e,...i}=n,r=y.useRef(null),s=vt(t,r),o=zme(e);return y.useEffect(()=>{const a=r.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),v.jsx(iF,{asChild:!0,children:v.jsx("select",{...i,ref:s,defaultValue:e})})});IF.displayName="BubbleSelect";function PF(n){const t=En(n),e=y.useRef(""),i=y.useRef(0),r=y.useCallback(o=>{const a=e.current+o;t(a),function l(c){e.current=c,window.clearTimeout(i.current),c!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=y.useCallback(()=>{e.current="",window.clearTimeout(i.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(i.current),[]),[e,r,s]}function RF(n,t,e){const r=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=e?n.indexOf(e):-1;let o=ape(n,Math.max(s,0));r.length===1&&(o=o.filter(c=>c!==e));const l=o.find(c=>c.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==e?l:void 0}function ape(n,t){return n.map((e,i)=>n[(t+i)%n.length])}var lpe=rF,OF=oF,cpe=lF,upe=cF,dpe=uF,NF=dF,fpe=pF,MF=wF,DF=yF,hpe=_F,mpe=kF,LF=CF,VF=EF,FF=TF;const BF=lpe,jF=cpe,FS=y.forwardRef(({className:n,children:t,...e},i)=>v.jsxs(OF,{ref:i,className:Ie("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...e,children:[t,v.jsx(upe,{asChild:!0,children:v.jsx(D7,{className:"h-4 w-4 opacity-50"})})]}));FS.displayName=OF.displayName;const zF=y.forwardRef(({className:n,...t},e)=>v.jsx(LF,{ref:e,className:Ie("flex cursor-default items-center justify-center py-1",n),...t,children:v.jsx(hY,{className:"h-4 w-4"})}));zF.displayName=LF.displayName;const $F=y.forwardRef(({className:n,...t},e)=>v.jsx(VF,{ref:e,className:Ie("flex cursor-default items-center justify-center py-1",n),...t,children:v.jsx(D7,{className:"h-4 w-4"})}));$F.displayName=VF.displayName;const BS=y.forwardRef(({className:n,children:t,position:e="popper",...i},r)=>v.jsx(dpe,{children:v.jsxs(NF,{ref:r,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:e,...i,children:[v.jsx(zF,{}),v.jsx(fpe,{className:Ie("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),v.jsx($F,{})]})}));BS.displayName=NF.displayName;const ppe=y.forwardRef(({className:n,...t},e)=>v.jsx(MF,{ref:e,className:Ie("px-2 py-1.5 text-sm font-semibold",n),...t}));ppe.displayName=MF.displayName;const jS=y.forwardRef(({className:n,children:t,...e},i)=>v.jsxs(DF,{ref:i,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...e,children:[v.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(mpe,{children:v.jsx(M7,{className:"h-4 w-4"})})}),v.jsx(hpe,{children:t})]}));jS.displayName=DF.displayName;const gpe=y.forwardRef(({className:n,...t},e)=>v.jsx(FF,{ref:e,className:Ie("-mx-1 my-1 h-px bg-muted",n),...t}));gpe.displayName=FF.displayName;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function bpe(){const n={resolve:null,promise:null};return n.promise=new Promise(t=>{n.resolve=t}),n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function wpe(n){let t=null;return(...e)=>(t||(t={current:n(...e)}),t.current)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Ii=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function vpe(){const[n,t,e,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Ii[n>>0&255]+Ii[n>>8&255]+Ii[n>>16&255]+Ii[n>>24&255]+Ii[t>>0&255]+Ii[t>>8&255]+Ii[t>>16&255]+Ii[t>>24&255]+Ii[e>>0&255]+Ii[e>>8&255]+Ii[e>>16&255]+Ii[e>>24&255]+Ii[i>>0&255]+Ii[i>>8&255]+Ii[i>>16&255]+Ii[i>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function ype(n,t){const e=n.extraPlugins||[];return{...n,extraPlugins:[...e,...t.filter(i=>!e.includes(i))]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function UF(n){return!!n&&/^\d+\.\d+\.\d+/.test(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function HF(n){return n?["nightly","alpha","internal"].some(t=>n.includes(t)):!1}function _pe(n){return UF(n)||HF(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function xpe(n){if(!UF(n))throw new Error(`Invalid semantic version: ${n||"<blank>"}.`);const[t,e,i]=n.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(e,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function kpe(n){if(HF(n))return 3;const{major:t}=xpe(n);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Cpe(){const{CKEDITOR_VERSION:n,CKEDITOR:t}=window;return _pe(n)?{source:t?"cdn":"npm",version:n}:null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Epe(){const n=Cpe();return n?kpe(n.version):null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function WF(n,t){switch(t||(t=Epe()||void 0),t){case 1:case 2:return n===void 0;case 3:return n==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Spe(n,t){return function(i){WF(i.config.get("licenseKey"))||i.on("collectUsageData",(r,{setUsageData:s})=>{s(`integration.${n}`,t)})}}var Tpe=Object.defineProperty,Ape=(n,t,e)=>t in n?Tpe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,zi=(n,t,e)=>Ape(n,typeof t!="symbol"?t+"":t,e);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const qF=class GF{constructor(t,e){zi(this,"_lifecycle"),zi(this,"_element"),zi(this,"_releaseLock",null),zi(this,"_value",null),zi(this,"_afterMountCallbacks",[]),zi(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),zi(this,"release",wpe(()=>{const{_releaseLock:i,_state:r,_element:s,_lifecycle:o}=this;r.mountingInProgress?r.mountingInProgress.then(()=>o.unmount({element:s,mountResult:this.value})).catch(a=>{console.error("Semaphore unmounting error:",a)}).then(i.resolve).then(()=>{this._value=null}):(r.destroyedBeforeInitialization=!0,i.resolve())})),this._element=t,this._lifecycle=e,this._lock()}get value(){return this._value}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(e=>e(t)),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:e,_afterMountCallbacks:i}=this;e?t(e):i.push(t)}_lock(){const{_semaphores:t}=GF,{_state:e,_element:i,_lifecycle:r}=this,s=t.get(i)||Promise.resolve(null),o=bpe();this._releaseLock=o;const a=s.then(()=>e.destroyedBeforeInitialization?Promise.resolve(void 0):(e.mountingInProgress=r.mount().then(l=>(l&&this.unsafeSetValue(l),l)),e.mountingInProgress)).then(async l=>{l&&r.afterMount&&await r.afterMount({element:i,mountResult:l})}).then(()=>o.promise).catch(l=>{console.error("Semaphore mounting error:",l)}).then(()=>{t.get(i)===a&&t.delete(i)});t.set(i,a)}};zi(qF,"_semaphores",new Map);let Ipe=qF;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Ppe="$__CKEditorReactContextMetadata";function Rpe(n,t){return{...t,[Ppe]:n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Ope=Se.createContext(null),Npe=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),KF=n=>t=>Npe(t)&&t.status===n,w4=KF("initializing"),Mpe=n=>KF("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Dpe=Spe("react",{version:"9.4.0",frameworkVersion:Se.version});/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Lpe(n){return WF(n.licenseKey)?n:ype(n,[Dpe])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const ix="Lock from React integration (@ckeditor/ckeditor5-react)";class zS extends Se.Component{constructor(t){super(t),zi(this,"domContainer",Se.createRef()),zi(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[e]=t.split(".").map(Number);e>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:e,editorSemaphore:i}=this;return t.id!==e.id||t.disableWatchdog!==e.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:r})=>{this._shouldUpdateEditorData(e,t,r)&&r.data.set(t.data)}),"disabled"in t&&i.runAfterMount(({instance:r})=>{t.disabled?r.enableReadOnlyMode(ix):r.disableReadOnlyMode(ix)})),!1)}componentDidMount(){w4(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){w4(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new Ipe(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:t})=>{const{onReady:e}=this.props;e&&this.domContainer.current!==null&&e(t.instance)},unmount:async({element:t,mountResult:e})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(e),t.innerHTML=""}finally{i&&i(e.instance)}}})}render(){return Se.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=Mpe(this.context)?new Vpe(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),e={current:0};return t.setCreator(async(i,r)=>{var s;const{editorSemaphore:o}=this,{onAfterDestroy:a}=this.props;e.current>0&&a&&((s=o==null?void 0:o.value)!=null&&s.instance)&&a(o.value.instance);const l=await this._createEditor(i,r);return o&&e.current>0&&(o.unsafeSetValue({instance:l,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),e.current++,l}),t.on("error",(i,{error:r,causesRestart:s})=>{(this.props.onError||console.error)(r,{phase:"runtime",willEditorRestart:s})}),await t.create(this.domContainer.current,this._getConfig()).catch(i=>{(this.props.onError||console.error)(i,{phase:"initialization",willEditorRestart:!1})}),{watchdog:t,instance:t.editor}}_createEditor(t,e){const{contextItemMetadata:i}=this.props;return i&&(e=Rpe(i,e)),this.props.editor.create(t,Lpe(e)).then(r=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&r.enableReadOnlyMode(ix)}const s=r.model.document,o=r.editing.view.document;return s.on("change:data",a=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(a,r)}),o.on("focus",a=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(a,r)}),o.on("blur",a=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(a,r)}),r})}async _destroyEditor(t){const{watchdog:e,instance:i}=t;return new Promise((r,s)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(e)return await e.destroy(),r();if(i)return await i.destroy(),r();r()}catch(o){console.error(o),s(o)}})})}_shouldUpdateEditorData(t,e,i){return!(t.data===e.data||i.data.get()===e.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}zi(zS,"contextType",Ope);zi(zS,"propTypes",{editor:wt.func.isRequired,data:wt.string,config:wt.object,disableWatchdog:wt.bool,watchdogConfig:wt.object,onChange:wt.func,onReady:wt.func,onFocus:wt.func,onBlur:wt.func,onError:wt.func,disabled:wt.bool,id:wt.any});class Vpe{constructor(t){zi(this,"_contextWatchdog"),zi(this,"_id"),zi(this,"_creator"),this._contextWatchdog=t,this._id=vpe()}setCreator(t){this._creator=t}create(t,e){return this._contextWatchdog.add({sourceElementOrData:t,config:e,creator:this._creator,id:this._id,type:"editor"})}on(t,e){this._contextWatchdog.on("itemError",(i,{itemId:r,error:s})=>{r===this._id&&e(null,{error:s,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function YF(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}const Fpe=y.memo(y.forwardRef(({id:n,semaphore:t,rootName:e},i)=>{const r=y.useRef(null);return y.useEffect(()=>{let s,o;return t.runAfterMount(({instance:a})=>{if(!r.current)return;o=a;const{ui:l,model:c}=o,d=c.document.getRoot(e);d&&o.ui.getEditableElement(e)&&o.detachEditable(d),s=l.view.createEditable(e,r.current),l.addEditable(s),a.editing.view.forceRender()}),()=>{if(o&&o.state!=="destroyed"&&r.current){const a=o.model.document.getRoot(e);/* istanbul ignore else -- @preserve */a&&o.detachEditable(a)}}},[t.revision]),Se.createElement("div",{key:t.revision,id:n,ref:YF(i,r)})}));Fpe.displayName="EditorEditable";const Bpe=y.forwardRef(({editor:n},t)=>{const e=y.useRef(null);return y.useEffect(()=>{const i=e.current;if(!n||!i)return;const r=n.ui.view.toolbar.element;return i.appendChild(r),()=>{i.contains(r)&&i.removeChild(r)}},[n&&n.id]),Se.createElement("div",{ref:YF(e,t)})});Bpe.displayName="EditorToolbarWrapper";var ZF=typeof global=="object"&&global&&global.Object===Object&&global,jpe=typeof self=="object"&&self&&self.Object===Object&&self,Us=ZF||jpe||Function("return this")(),yo=Us.Symbol,JF=Object.prototype,zpe=JF.hasOwnProperty,$pe=JF.toString,Ch=yo?yo.toStringTag:void 0;function Upe(n){var t=zpe.call(n,Ch),e=n[Ch];try{n[Ch]=void 0;var i=!0}catch{}var r=$pe.call(n);return i&&(t?n[Ch]=e:delete n[Ch]),r}var Hpe=Object.prototype,Wpe=Hpe.toString;function qpe(n){return Wpe.call(n)}var Gpe="[object Null]",Kpe="[object Undefined]",v4=yo?yo.toStringTag:void 0;function Xl(n){return n==null?n===void 0?Kpe:Gpe:v4&&v4 in Object(n)?Upe(n):qpe(n)}function Qr(n){return n!=null&&typeof n=="object"}var Ype="[object Symbol]";function Zw(n){return typeof n=="symbol"||Qr(n)&&Xl(n)==Ype}function XF(n,t){for(var e=-1,i=n==null?0:n.length,r=Array(i);++e<i;)r[e]=t(n[e],e,n);return r}var hr=Array.isArray,y4=yo?yo.prototype:void 0,_4=y4?y4.toString:void 0;function QF(n){if(typeof n=="string")return n;if(hr(n))return XF(n,QF)+"";if(Zw(n))return _4?_4.call(n):"";var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}var Zpe=/\s/;function Jpe(n){for(var t=n.length;t--&&Zpe.test(n.charAt(t)););return t}var Xpe=/^\s+/;function Qpe(n){return n&&n.slice(0,Jpe(n)+1).replace(Xpe,"")}function qt(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var x4=NaN,ege=/^[-+]0x[0-9a-f]+$/i,tge=/^0b[01]+$/i,nge=/^0o[0-7]+$/i,ige=parseInt;function k4(n){if(typeof n=="number")return n;if(Zw(n))return x4;if(qt(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=qt(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=Qpe(n);var e=tge.test(n);return e||nge.test(n)?ige(n.slice(2),e?2:8):ege.test(n)?x4:+n}function Cl(n){return n}var rge="[object AsyncFunction]",sge="[object Function]",oge="[object GeneratorFunction]",age="[object Proxy]";function su(n){if(!qt(n))return!1;var t=Xl(n);return t==sge||t==oge||t==rge||t==age}var rx=Us["__core-js_shared__"],C4=function(){var n=/[^.]+$/.exec(rx&&rx.keys&&rx.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function lge(n){return!!C4&&C4 in n}var cge=Function.prototype,uge=cge.toString;function vu(n){if(n!=null){try{return uge.call(n)}catch{}try{return n+""}catch{}}return""}var dge=/[\\^$.*+?()[\]{}|]/g,fge=/^\[object .+?Constructor\]$/,hge=Function.prototype,mge=Object.prototype,pge=hge.toString,gge=mge.hasOwnProperty,bge=RegExp("^"+pge.call(gge).replace(dge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wge(n){if(!qt(n)||lge(n))return!1;var t=su(n)?bge:fge;return t.test(vu(n))}function vge(n,t){return n==null?void 0:n[t]}function yu(n,t){var e=vge(n,t);return wge(e)?e:void 0}var Ek=yu(Us,"WeakMap"),E4=Object.create,yge=function(){function n(){}return function(t){if(!qt(t))return{};if(E4)return E4(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function _ge(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function eB(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}var xge=800,kge=16,Cge=Date.now;function Ege(n){var t=0,e=0;return function(){var i=Cge(),r=kge-(i-e);if(e=i,r>0){if(++t>=xge)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Sge(n){return function(){return n}}var _1=function(){try{var n=yu(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Tge=_1?function(n,t){return _1(n,"toString",{configurable:!0,enumerable:!1,value:Sge(t),writable:!0})}:Cl,Age=Ege(Tge);function Ige(n,t){for(var e=-1,i=n==null?0:n.length;++e<i&&t(n[e],e,n)!==!1;);return n}var Pge=9007199254740991,Rge=/^(?:0|[1-9]\d*)$/;function Jw(n,t){var e=typeof n;return t=t??Pge,!!t&&(e=="number"||e!="symbol"&&Rge.test(n))&&n>-1&&n%1==0&&n<t}function Xw(n,t,e){t=="__proto__"&&_1?_1(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Bp(n,t){return n===t||n!==n&&t!==t}var Oge=Object.prototype,Nge=Oge.hasOwnProperty;function $S(n,t,e){var i=n[t];(!(Nge.call(n,t)&&Bp(i,e))||e===void 0&&!(t in n))&&Xw(n,t,e)}function Sf(n,t,e,i){var r=!e;e||(e={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=n[a]),r?Xw(e,a,l):$S(e,a,l)}return e}var S4=Math.max;function Mge(n,t,e){return t=S4(t===void 0?n.length-1:t,0),function(){for(var i=arguments,r=-1,s=S4(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=e(o),_ge(n,this,a)}}function Dge(n,t){return Age(Mge(n,t,Cl),n+"")}var Lge=9007199254740991;function US(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Lge}function Tf(n){return n!=null&&US(n.length)&&!su(n)}function Vge(n,t,e){if(!qt(e))return!1;var i=typeof t;return(i=="number"?Tf(e)&&Jw(t,e.length):i=="string"&&t in e)?Bp(e[t],n):!1}function HS(n){return Dge(function(t,e){var i=-1,r=e.length,s=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,o&&Vge(e[0],e[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var a=e[i];a&&n(t,a,i,s)}return t})}var Fge=Object.prototype;function WS(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Fge;return n===e}function Bge(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}var jge="[object Arguments]";function T4(n){return Qr(n)&&Xl(n)==jge}var tB=Object.prototype,zge=tB.hasOwnProperty,$ge=tB.propertyIsEnumerable,x1=T4(function(){return arguments}())?T4:function(n){return Qr(n)&&zge.call(n,"callee")&&!$ge.call(n,"callee")};function Uge(){return!1}var nB=typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,A4=nB&&typeof Oi=="object"&&Oi&&!Oi.nodeType&&Oi,Hge=A4&&A4.exports===nB,I4=Hge?Us.Buffer:void 0,Wge=I4?I4.isBuffer:void 0,Hm=Wge||Uge,qge="[object Arguments]",Gge="[object Array]",Kge="[object Boolean]",Yge="[object Date]",Zge="[object Error]",Jge="[object Function]",Xge="[object Map]",Qge="[object Number]",e0e="[object Object]",t0e="[object RegExp]",n0e="[object Set]",i0e="[object String]",r0e="[object WeakMap]",s0e="[object ArrayBuffer]",o0e="[object DataView]",a0e="[object Float32Array]",l0e="[object Float64Array]",c0e="[object Int8Array]",u0e="[object Int16Array]",d0e="[object Int32Array]",f0e="[object Uint8Array]",h0e="[object Uint8ClampedArray]",m0e="[object Uint16Array]",p0e="[object Uint32Array]",sn={};sn[a0e]=sn[l0e]=sn[c0e]=sn[u0e]=sn[d0e]=sn[f0e]=sn[h0e]=sn[m0e]=sn[p0e]=!0;sn[qge]=sn[Gge]=sn[s0e]=sn[Kge]=sn[o0e]=sn[Yge]=sn[Zge]=sn[Jge]=sn[Xge]=sn[Qge]=sn[e0e]=sn[t0e]=sn[n0e]=sn[i0e]=sn[r0e]=!1;function g0e(n){return Qr(n)&&US(n.length)&&!!sn[Xl(n)]}function qS(n){return function(t){return n(t)}}var iB=typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,Qh=iB&&typeof Oi=="object"&&Oi&&!Oi.nodeType&&Oi,b0e=Qh&&Qh.exports===iB,sx=b0e&&ZF.process,ef=function(){try{var n=Qh&&Qh.require&&Qh.require("util").types;return n||sx&&sx.binding&&sx.binding("util")}catch{}}(),P4=ef&&ef.isTypedArray,GS=P4?qS(P4):g0e,w0e=Object.prototype,v0e=w0e.hasOwnProperty;function rB(n,t){var e=hr(n),i=!e&&x1(n),r=!e&&!i&&Hm(n),s=!e&&!i&&!r&&GS(n),o=e||i||r||s,a=o?Bge(n.length,String):[],l=a.length;for(var c in n)(t||v0e.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Jw(c,l)))&&a.push(c);return a}function sB(n,t){return function(e){return n(t(e))}}var y0e=sB(Object.keys,Object),_0e=Object.prototype,x0e=_0e.hasOwnProperty;function k0e(n){if(!WS(n))return y0e(n);var t=[];for(var e in Object(n))x0e.call(n,e)&&e!="constructor"&&t.push(e);return t}function jp(n){return Tf(n)?rB(n):k0e(n)}function C0e(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var E0e=Object.prototype,S0e=E0e.hasOwnProperty;function T0e(n){if(!qt(n))return C0e(n);var t=WS(n),e=[];for(var i in n)i=="constructor"&&(t||!S0e.call(n,i))||e.push(i);return e}function Af(n){return Tf(n)?rB(n,!0):T0e(n)}var oB=HS(function(n,t){Sf(t,Af(t),n)}),A0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I0e=/^\w*$/;function KS(n,t){if(hr(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||Zw(n)?!0:I0e.test(n)||!A0e.test(n)||t!=null&&n in Object(t)}var Wm=yu(Object,"create");function P0e(){this.__data__=Wm?Wm(null):{},this.size=0}function R0e(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var O0e="__lodash_hash_undefined__",N0e=Object.prototype,M0e=N0e.hasOwnProperty;function D0e(n){var t=this.__data__;if(Wm){var e=t[n];return e===O0e?void 0:e}return M0e.call(t,n)?t[n]:void 0}var L0e=Object.prototype,V0e=L0e.hasOwnProperty;function F0e(n){var t=this.__data__;return Wm?t[n]!==void 0:V0e.call(t,n)}var B0e="__lodash_hash_undefined__";function j0e(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Wm&&t===void 0?B0e:t,this}function ou(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ou.prototype.clear=P0e;ou.prototype.delete=R0e;ou.prototype.get=D0e;ou.prototype.has=F0e;ou.prototype.set=j0e;function z0e(){this.__data__=[],this.size=0}function Qw(n,t){for(var e=n.length;e--;)if(Bp(n[e][0],t))return e;return-1}var $0e=Array.prototype,U0e=$0e.splice;function H0e(n){var t=this.__data__,e=Qw(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():U0e.call(t,e,1),--this.size,!0}function W0e(n){var t=this.__data__,e=Qw(t,n);return e<0?void 0:t[e][1]}function q0e(n){return Qw(this.__data__,n)>-1}function G0e(n,t){var e=this.__data__,i=Qw(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}function Fa(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Fa.prototype.clear=z0e;Fa.prototype.delete=H0e;Fa.prototype.get=W0e;Fa.prototype.has=q0e;Fa.prototype.set=G0e;var qm=yu(Us,"Map");function K0e(){this.size=0,this.__data__={hash:new ou,map:new(qm||Fa),string:new ou}}function Y0e(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function ev(n,t){var e=n.__data__;return Y0e(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Z0e(n){var t=ev(this,n).delete(n);return this.size-=t?1:0,t}function J0e(n){return ev(this,n).get(n)}function X0e(n){return ev(this,n).has(n)}function Q0e(n,t){var e=ev(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}function Ba(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Ba.prototype.clear=K0e;Ba.prototype.delete=Z0e;Ba.prototype.get=J0e;Ba.prototype.has=X0e;Ba.prototype.set=Q0e;var ebe="Expected a function";function YS(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(ebe);var e=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=e.cache;if(s.has(r))return s.get(r);var o=n.apply(this,i);return e.cache=s.set(r,o)||s,o};return e.cache=new(YS.Cache||Ba),e}YS.Cache=Ba;var tbe=500;function nbe(n){var t=YS(n,function(i){return e.size===tbe&&e.clear(),i}),e=t.cache;return t}var ibe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rbe=/\\(\\)?/g,sbe=nbe(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(ibe,function(e,i,r,s){t.push(r?s.replace(rbe,"$1"):i||e)}),t});function zp(n){return n==null?"":QF(n)}function tv(n,t){return hr(n)?n:KS(n,t)?[n]:sbe(zp(n))}function If(n){if(typeof n=="string"||Zw(n))return n;var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}function ZS(n,t){t=tv(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[If(t[e++])];return e&&e==i?n:void 0}function tf(n,t,e){var i=n==null?void 0:ZS(n,t);return i===void 0?e:i}function aB(n,t){for(var e=-1,i=t.length,r=n.length;++e<i;)n[r+e]=t[e];return n}var JS=sB(Object.getPrototypeOf,Object),obe="[object Object]",abe=Function.prototype,lbe=Object.prototype,lB=abe.toString,cbe=lbe.hasOwnProperty,ube=lB.call(Object);function vs(n){if(!Qr(n)||Xl(n)!=obe)return!1;var t=JS(n);if(t===null)return!0;var e=cbe.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&lB.call(e)==ube}function cB(n,t,e){var i=-1,r=n.length;t<0&&(t=-t>r?0:r+t),e=e>r?r:e,e<0&&(e+=r),r=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(r);++i<r;)s[i]=n[i+t];return s}function dbe(n,t,e){var i=n.length;return e=e===void 0?i:e,cB(n,t,e)}var fbe="\\ud800-\\udfff",hbe="\\u0300-\\u036f",mbe="\\ufe20-\\ufe2f",pbe="\\u20d0-\\u20ff",gbe=hbe+mbe+pbe,bbe="\\ufe0e\\ufe0f",wbe="\\u200d",vbe=RegExp("["+wbe+fbe+gbe+bbe+"]");function uB(n){return vbe.test(n)}function ybe(n){return n.split("")}var dB="\\ud800-\\udfff",_be="\\u0300-\\u036f",xbe="\\ufe20-\\ufe2f",kbe="\\u20d0-\\u20ff",Cbe=_be+xbe+kbe,Ebe="\\ufe0e\\ufe0f",Sbe="["+dB+"]",Sk="["+Cbe+"]",Tk="\\ud83c[\\udffb-\\udfff]",Tbe="(?:"+Sk+"|"+Tk+")",fB="[^"+dB+"]",hB="(?:\\ud83c[\\udde6-\\uddff]){2}",mB="[\\ud800-\\udbff][\\udc00-\\udfff]",Abe="\\u200d",pB=Tbe+"?",gB="["+Ebe+"]?",Ibe="(?:"+Abe+"(?:"+[fB,hB,mB].join("|")+")"+gB+pB+")*",Pbe=gB+pB+Ibe,Rbe="(?:"+[fB+Sk+"?",Sk,hB,mB,Sbe].join("|")+")",Obe=RegExp(Tk+"(?="+Tk+")|"+Rbe+Pbe,"g");function Nbe(n){return n.match(Obe)||[]}function Mbe(n){return uB(n)?Nbe(n):ybe(n)}function Dbe(n){return function(t){t=zp(t);var e=uB(t)?Mbe(t):void 0,i=e?e[0]:t.charAt(0),r=e?dbe(e,1).join(""):t.slice(1);return i[n]()+r}}var bB=Dbe("toUpperCase");function Lbe(n,t,e,i){for(var r=-1,s=n==null?0:n.length;++r<s;)e=t(e,n[r],r,n);return e}function Vbe(n){return function(t){return n==null?void 0:n[t]}}var Fbe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Bbe=Vbe(Fbe),jbe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zbe="\\u0300-\\u036f",$be="\\ufe20-\\ufe2f",Ube="\\u20d0-\\u20ff",Hbe=zbe+$be+Ube,Wbe="["+Hbe+"]",qbe=RegExp(Wbe,"g");function Gbe(n){return n=zp(n),n&&n.replace(jbe,Bbe).replace(qbe,"")}var Kbe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Ybe(n){return n.match(Kbe)||[]}var Zbe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Jbe(n){return Zbe.test(n)}var wB="\\ud800-\\udfff",Xbe="\\u0300-\\u036f",Qbe="\\ufe20-\\ufe2f",e1e="\\u20d0-\\u20ff",t1e=Xbe+Qbe+e1e,vB="\\u2700-\\u27bf",yB="a-z\\xdf-\\xf6\\xf8-\\xff",n1e="\\xac\\xb1\\xd7\\xf7",i1e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",r1e="\\u2000-\\u206f",s1e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_B="A-Z\\xc0-\\xd6\\xd8-\\xde",o1e="\\ufe0e\\ufe0f",xB=n1e+i1e+r1e+s1e,kB="[']",R4="["+xB+"]",a1e="["+t1e+"]",CB="\\d+",l1e="["+vB+"]",EB="["+yB+"]",SB="[^"+wB+xB+CB+vB+yB+_B+"]",c1e="\\ud83c[\\udffb-\\udfff]",u1e="(?:"+a1e+"|"+c1e+")",d1e="[^"+wB+"]",TB="(?:\\ud83c[\\udde6-\\uddff]){2}",AB="[\\ud800-\\udbff][\\udc00-\\udfff]",yd="["+_B+"]",f1e="\\u200d",O4="(?:"+EB+"|"+SB+")",h1e="(?:"+yd+"|"+SB+")",N4="(?:"+kB+"(?:d|ll|m|re|s|t|ve))?",M4="(?:"+kB+"(?:D|LL|M|RE|S|T|VE))?",IB=u1e+"?",PB="["+o1e+"]?",m1e="(?:"+f1e+"(?:"+[d1e,TB,AB].join("|")+")"+PB+IB+")*",p1e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",g1e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",b1e=PB+IB+m1e,w1e="(?:"+[l1e,TB,AB].join("|")+")"+b1e,v1e=RegExp([yd+"?"+EB+"+"+N4+"(?="+[R4,yd,"$"].join("|")+")",h1e+"+"+M4+"(?="+[R4,yd+O4,"$"].join("|")+")",yd+"?"+O4+"+"+N4,yd+"+"+M4,g1e,p1e,CB,w1e].join("|"),"g");function y1e(n){return n.match(v1e)||[]}function _1e(n,t,e){return n=zp(n),t=t,t===void 0?Jbe(n)?y1e(n):Ybe(n):n.match(t)||[]}var x1e="[']",k1e=RegExp(x1e,"g");function C1e(n){return function(t){return Lbe(_1e(Gbe(t).replace(k1e,"")),n,"")}}function E1e(){this.__data__=new Fa,this.size=0}function S1e(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function T1e(n){return this.__data__.get(n)}function A1e(n){return this.__data__.has(n)}var I1e=200;function P1e(n,t){var e=this.__data__;if(e instanceof Fa){var i=e.__data__;if(!qm||i.length<I1e-1)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new Ba(i)}return e.set(n,t),this.size=e.size,this}function Ss(n){var t=this.__data__=new Fa(n);this.size=t.size}Ss.prototype.clear=E1e;Ss.prototype.delete=S1e;Ss.prototype.get=T1e;Ss.prototype.has=A1e;Ss.prototype.set=P1e;function R1e(n,t){return n&&Sf(t,jp(t),n)}function O1e(n,t){return n&&Sf(t,Af(t),n)}var RB=typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,D4=RB&&typeof Oi=="object"&&Oi&&!Oi.nodeType&&Oi,N1e=D4&&D4.exports===RB,L4=N1e?Us.Buffer:void 0,V4=L4?L4.allocUnsafe:void 0;function OB(n,t){if(t)return n.slice();var e=n.length,i=V4?V4(e):new n.constructor(e);return n.copy(i),i}function M1e(n,t){for(var e=-1,i=n==null?0:n.length,r=0,s=[];++e<i;){var o=n[e];t(o,e,n)&&(s[r++]=o)}return s}function NB(){return[]}var D1e=Object.prototype,L1e=D1e.propertyIsEnumerable,F4=Object.getOwnPropertySymbols,XS=F4?function(n){return n==null?[]:(n=Object(n),M1e(F4(n),function(t){return L1e.call(n,t)}))}:NB;function V1e(n,t){return Sf(n,XS(n),t)}var F1e=Object.getOwnPropertySymbols,MB=F1e?function(n){for(var t=[];n;)aB(t,XS(n)),n=JS(n);return t}:NB;function B1e(n,t){return Sf(n,MB(n),t)}function DB(n,t,e){var i=t(n);return hr(n)?i:aB(i,e(n))}function Ak(n){return DB(n,jp,XS)}function j1e(n){return DB(n,Af,MB)}var Ik=yu(Us,"DataView"),Pk=yu(Us,"Promise"),Rk=yu(Us,"Set"),B4="[object Map]",z1e="[object Object]",j4="[object Promise]",z4="[object Set]",$4="[object WeakMap]",U4="[object DataView]",$1e=vu(Ik),U1e=vu(qm),H1e=vu(Pk),W1e=vu(Rk),q1e=vu(Ek),ps=Xl;(Ik&&ps(new Ik(new ArrayBuffer(1)))!=U4||qm&&ps(new qm)!=B4||Pk&&ps(Pk.resolve())!=j4||Rk&&ps(new Rk)!=z4||Ek&&ps(new Ek)!=$4)&&(ps=function(n){var t=Xl(n),e=t==z1e?n.constructor:void 0,i=e?vu(e):"";if(i)switch(i){case $1e:return U4;case U1e:return B4;case H1e:return j4;case W1e:return z4;case q1e:return $4}return t});var G1e=Object.prototype,K1e=G1e.hasOwnProperty;function Y1e(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&K1e.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var k1=Us.Uint8Array;function QS(n){var t=new n.constructor(n.byteLength);return new k1(t).set(new k1(n)),t}function Z1e(n,t){var e=t?QS(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var J1e=/\w*$/;function X1e(n){var t=new n.constructor(n.source,J1e.exec(n));return t.lastIndex=n.lastIndex,t}var H4=yo?yo.prototype:void 0,W4=H4?H4.valueOf:void 0;function Q1e(n){return W4?Object(W4.call(n)):{}}function LB(n,t){var e=t?QS(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var ewe="[object Boolean]",twe="[object Date]",nwe="[object Map]",iwe="[object Number]",rwe="[object RegExp]",swe="[object Set]",owe="[object String]",awe="[object Symbol]",lwe="[object ArrayBuffer]",cwe="[object DataView]",uwe="[object Float32Array]",dwe="[object Float64Array]",fwe="[object Int8Array]",hwe="[object Int16Array]",mwe="[object Int32Array]",pwe="[object Uint8Array]",gwe="[object Uint8ClampedArray]",bwe="[object Uint16Array]",wwe="[object Uint32Array]";function vwe(n,t,e){var i=n.constructor;switch(t){case lwe:return QS(n);case ewe:case twe:return new i(+n);case cwe:return Z1e(n,e);case uwe:case dwe:case fwe:case hwe:case mwe:case pwe:case gwe:case bwe:case wwe:return LB(n,e);case nwe:return new i;case iwe:case owe:return new i(n);case rwe:return X1e(n);case swe:return new i;case awe:return Q1e(n)}}function VB(n){return typeof n.constructor=="function"&&!WS(n)?yge(JS(n)):{}}var ywe="[object Map]";function _we(n){return Qr(n)&&ps(n)==ywe}var q4=ef&&ef.isMap,xwe=q4?qS(q4):_we,kwe="[object Set]";function Cwe(n){return Qr(n)&&ps(n)==kwe}var G4=ef&&ef.isSet,Ewe=G4?qS(G4):Cwe,Swe=1,Twe=2,Awe=4,FB="[object Arguments]",Iwe="[object Array]",Pwe="[object Boolean]",Rwe="[object Date]",Owe="[object Error]",BB="[object Function]",Nwe="[object GeneratorFunction]",Mwe="[object Map]",Dwe="[object Number]",jB="[object Object]",Lwe="[object RegExp]",Vwe="[object Set]",Fwe="[object String]",Bwe="[object Symbol]",jwe="[object WeakMap]",zwe="[object ArrayBuffer]",$we="[object DataView]",Uwe="[object Float32Array]",Hwe="[object Float64Array]",Wwe="[object Int8Array]",qwe="[object Int16Array]",Gwe="[object Int32Array]",Kwe="[object Uint8Array]",Ywe="[object Uint8ClampedArray]",Zwe="[object Uint16Array]",Jwe="[object Uint32Array]",en={};en[FB]=en[Iwe]=en[zwe]=en[$we]=en[Pwe]=en[Rwe]=en[Uwe]=en[Hwe]=en[Wwe]=en[qwe]=en[Gwe]=en[Mwe]=en[Dwe]=en[jB]=en[Lwe]=en[Vwe]=en[Fwe]=en[Bwe]=en[Kwe]=en[Ywe]=en[Zwe]=en[Jwe]=!0;en[Owe]=en[BB]=en[jwe]=!1;function $d(n,t,e,i,r,s){var o,a=t&Swe,l=t&Twe,c=t&Awe;if(e&&(o=r?e(n,i,r,s):e(n)),o!==void 0)return o;if(!qt(n))return n;var d=hr(n);if(d){if(o=Y1e(n),!a)return eB(n,o)}else{var h=ps(n),p=h==BB||h==Nwe;if(Hm(n))return OB(n,a);if(h==jB||h==FB||p&&!r){if(o=l||p?{}:VB(n),!a)return l?B1e(n,O1e(o,n)):V1e(n,R1e(o,n))}else{if(!en[h])return r?n:{};o=vwe(n,h,a)}}s||(s=new Ss);var b=s.get(n);if(b)return b;s.set(n,o),Ewe(n)?n.forEach(function(C){o.add($d(C,t,e,C,n,s))}):xwe(n)&&n.forEach(function(C,S){o.set(S,$d(C,t,e,S,n,s))});var _=c?l?j1e:Ak:l?Af:jp,x=d?void 0:_(n);return Ige(x||n,function(C,S){x&&(S=C,C=n[S]),$S(o,S,$d(C,t,e,S,n,s))}),o}var Xwe=4;function zB(n){return $d(n,Xwe)}var Qwe=1,eve=4;function ss(n){return $d(n,Qwe|eve)}var tve=1,nve=4;function eT(n,t){return t=typeof t=="function"?t:void 0,$d(n,tve|nve,t)}var ive="__lodash_hash_undefined__";function rve(n){return this.__data__.set(n,ive),this}function sve(n){return this.__data__.has(n)}function C1(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new Ba;++t<e;)this.add(n[t])}C1.prototype.add=C1.prototype.push=rve;C1.prototype.has=sve;function ove(n,t){for(var e=-1,i=n==null?0:n.length;++e<i;)if(t(n[e],e,n))return!0;return!1}function ave(n,t){return n.has(t)}var lve=1,cve=2;function $B(n,t,e,i,r,s){var o=e&lve,a=n.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),d=s.get(t);if(c&&d)return c==t&&d==n;var h=-1,p=!0,b=e&cve?new C1:void 0;for(s.set(n,t),s.set(t,n);++h<a;){var _=n[h],x=t[h];if(i)var C=o?i(x,_,h,t,n,s):i(_,x,h,n,t,s);if(C!==void 0){if(C)continue;p=!1;break}if(b){if(!ove(t,function(S,T){if(!ave(b,T)&&(_===S||r(_,S,e,i,s)))return b.push(T)})){p=!1;break}}else if(!(_===x||r(_,x,e,i,s))){p=!1;break}}return s.delete(n),s.delete(t),p}function uve(n){var t=-1,e=Array(n.size);return n.forEach(function(i,r){e[++t]=[r,i]}),e}function dve(n){var t=-1,e=Array(n.size);return n.forEach(function(i){e[++t]=i}),e}var fve=1,hve=2,mve="[object Boolean]",pve="[object Date]",gve="[object Error]",bve="[object Map]",wve="[object Number]",vve="[object RegExp]",yve="[object Set]",_ve="[object String]",xve="[object Symbol]",kve="[object ArrayBuffer]",Cve="[object DataView]",K4=yo?yo.prototype:void 0,ox=K4?K4.valueOf:void 0;function Eve(n,t,e,i,r,s,o){switch(e){case Cve:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case kve:return!(n.byteLength!=t.byteLength||!s(new k1(n),new k1(t)));case mve:case pve:case wve:return Bp(+n,+t);case gve:return n.name==t.name&&n.message==t.message;case vve:case _ve:return n==t+"";case bve:var a=uve;case yve:var l=i&fve;if(a||(a=dve),n.size!=t.size&&!l)return!1;var c=o.get(n);if(c)return c==t;i|=hve,o.set(n,t);var d=$B(a(n),a(t),i,r,s,o);return o.delete(n),d;case xve:if(ox)return ox.call(n)==ox.call(t)}return!1}var Sve=1,Tve=Object.prototype,Ave=Tve.hasOwnProperty;function Ive(n,t,e,i,r,s){var o=e&Sve,a=Ak(n),l=a.length,c=Ak(t),d=c.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var p=a[h];if(!(o?p in t:Ave.call(t,p)))return!1}var b=s.get(n),_=s.get(t);if(b&&_)return b==t&&_==n;var x=!0;s.set(n,t),s.set(t,n);for(var C=o;++h<l;){p=a[h];var S=n[p],T=t[p];if(i)var A=o?i(T,S,p,t,n,s):i(S,T,p,n,t,s);if(!(A===void 0?S===T||r(S,T,e,i,s):A)){x=!1;break}C||(C=p=="constructor")}if(x&&!C){var P=n.constructor,O=t.constructor;P!=O&&"constructor"in n&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(x=!1)}return s.delete(n),s.delete(t),x}var Pve=1,Y4="[object Arguments]",Z4="[object Array]",T0="[object Object]",Rve=Object.prototype,J4=Rve.hasOwnProperty;function Ove(n,t,e,i,r,s){var o=hr(n),a=hr(t),l=o?Z4:ps(n),c=a?Z4:ps(t);l=l==Y4?T0:l,c=c==Y4?T0:c;var d=l==T0,h=c==T0,p=l==c;if(p&&Hm(n)){if(!Hm(t))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new Ss),o||GS(n)?$B(n,t,e,i,r,s):Eve(n,t,l,e,i,r,s);if(!(e&Pve)){var b=d&&J4.call(n,"__wrapped__"),_=h&&J4.call(t,"__wrapped__");if(b||_){var x=b?n.value():n,C=_?t.value():t;return s||(s=new Ss),r(x,C,e,i,s)}}return p?(s||(s=new Ss),Ive(n,t,e,i,r,s)):!1}function $p(n,t,e,i,r){return n===t?!0:n==null||t==null||!Qr(n)&&!Qr(t)?n!==n&&t!==t:Ove(n,t,e,i,$p,r)}var Nve=1,Mve=2;function Dve(n,t,e,i){var r=e.length,s=r;if(n==null)return!s;for(n=Object(n);r--;){var o=e[r];if(o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++r<s;){o=e[r];var a=o[0],l=n[a],c=o[1];if(o[2]){if(l===void 0&&!(a in n))return!1}else{var d=new Ss,h;if(!(h===void 0?$p(c,l,Nve|Mve,i,d):h))return!1}}return!0}function UB(n){return n===n&&!qt(n)}function Lve(n){for(var t=jp(n),e=t.length;e--;){var i=t[e],r=n[i];t[e]=[i,r,UB(r)]}return t}function HB(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}function Vve(n){var t=Lve(n);return t.length==1&&t[0][2]?HB(t[0][0],t[0][1]):function(e){return e===n||Dve(e,n,t)}}function Fve(n,t){return n!=null&&t in Object(n)}function Bve(n,t,e){t=tv(t,n);for(var i=-1,r=t.length,s=!1;++i<r;){var o=If(t[i]);if(!(s=n!=null&&e(n,o)))break;n=n[o]}return s||++i!=r?s:(r=n==null?0:n.length,!!r&&US(r)&&Jw(o,r)&&(hr(n)||x1(n)))}function jve(n,t){return n!=null&&Bve(n,t,Fve)}var zve=1,$ve=2;function Uve(n,t){return KS(n)&&UB(t)?HB(If(n),t):function(e){var i=tf(e,n);return i===void 0&&i===t?jve(e,n):$p(t,i,zve|$ve)}}function Hve(n){return function(t){return t==null?void 0:t[n]}}function Wve(n){return function(t){return ZS(t,n)}}function qve(n){return KS(n)?Hve(If(n)):Wve(n)}function WB(n){return typeof n=="function"?n:n==null?Cl:typeof n=="object"?hr(n)?Uve(n[0],n[1]):Vve(n):qve(n)}function Gve(n){return function(t,e,i){for(var r=-1,s=Object(t),o=i(t),a=o.length;a--;){var l=o[++r];if(e(s[l],l,s)===!1)break}return t}}var qB=Gve();function GB(n,t){return n&&qB(n,t,jp)}function Kve(n,t){return function(e,i){if(e==null)return e;if(!Tf(e))return n(e,i);for(var r=e.length,s=-1,o=Object(e);++s<r&&i(o[s],s,o)!==!1;);return e}}var Yve=Kve(GB),ax=function(){return Us.Date.now()},Zve="Expected a function",Jve=Math.max,Xve=Math.min;function mr(n,t,e){var i,r,s,o,a,l,c=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(Zve);t=k4(t)||0,qt(e)&&(d=!!e.leading,h="maxWait"in e,s=h?Jve(k4(e.maxWait)||0,t):s,p="trailing"in e?!!e.trailing:p);function b(D){var R=i,j=r;return i=r=void 0,c=D,o=n.apply(j,R),o}function _(D){return c=D,a=setTimeout(S,t),d?b(D):o}function x(D){var R=D-l,j=D-c,$=t-R;return h?Xve($,s-j):$}function C(D){var R=D-l,j=D-c;return l===void 0||R>=t||R<0||h&&j>=s}function S(){var D=ax();if(C(D))return T(D);a=setTimeout(S,x(D))}function T(D){return a=void 0,p&&i?b(D):(i=r=void 0,o)}function A(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function P(){return a===void 0?o:T(ax())}function O(){var D=ax(),R=C(D);if(i=arguments,r=this,l=D,R){if(a===void 0)return _(l);if(h)return clearTimeout(a),a=setTimeout(S,t),b(l)}return a===void 0&&(a=setTimeout(S,t)),o}return O.cancel=A,O.flush=P,O}function Ok(n,t,e){(e!==void 0&&!Bp(n[t],e)||e===void 0&&!(t in n))&&Xw(n,t,e)}function Qve(n){return Qr(n)&&Tf(n)}function Nk(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function eye(n){return Sf(n,Af(n))}function tye(n,t,e,i,r,s,o){var a=Nk(n,e),l=Nk(t,e),c=o.get(l);if(c){Ok(n,e,c);return}var d=s?s(a,l,e+"",n,t,o):void 0,h=d===void 0;if(h){var p=hr(l),b=!p&&Hm(l),_=!p&&!b&&GS(l);d=l,p||b||_?hr(a)?d=a:Qve(a)?d=eB(a):b?(h=!1,d=OB(l,!0)):_?(h=!1,d=LB(l,!0)):d=[]:vs(l)||x1(l)?(d=a,x1(a)?d=eye(a):(!qt(a)||su(a))&&(d=VB(l))):h=!1}h&&(o.set(l,d),r(d,l,i,s,o),o.delete(l)),Ok(n,e,d)}function tT(n,t,e,i,r){n!==t&&qB(t,function(s,o){if(r||(r=new Ss),qt(s))tye(n,t,o,e,tT,i,r);else{var a=i?i(Nk(n,o),s,o+"",n,t,r):void 0;a===void 0&&(a=s),Ok(n,o,a)}},Af)}var nye=HS(function(n,t,e,i){tT(n,t,e,i)});function iye(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}var KB=/[\\^$.*+?()[\]{}|]/g,rye=RegExp(KB.source);function YB(n){return n=zp(n),n&&rye.test(n)?n.replace(KB,"\\$&"):n}function sye(n,t){var e=-1,i=Tf(n)?Array(n.length):[];return Yve(n,function(r,s,o){i[++e]=t(r,s,o)}),i}function oye(n,t){var e=hr(n)?XF:sye;return e(n,WB(t))}var aye="[object String]";function X4(n){return typeof n=="string"||!hr(n)&&Qr(n)&&Xl(n)==aye}function lye(n,t){return t.length<2?n:ZS(n,cB(t,0,-1))}function Ta(n){return Qr(n)&&n.nodeType===1&&!vs(n)}function nf(n,t){return $p(n,t)}function cye(n,t,e){e=typeof e=="function"?e:void 0;var i=e?e(n,t):void 0;return i===void 0?$p(n,t,void 0,e):!!i}function uye(n,t){var e={};return t=WB(t),GB(n,function(i,r,s){Xw(e,r,t(i,r,s))}),e}var nT=HS(function(n,t,e){tT(n,t,e)});function dye(n,t){return t=tv(t,n),n=lye(n,t),n==null||delete n[If(iye(t))]}function fye(n,t,e,i){if(!qt(n))return n;t=tv(t,n);for(var r=-1,s=t.length,o=s-1,a=n;a!=null&&++r<s;){var l=If(t[r]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=o){var d=a[l];c=void 0,c===void 0&&(c=qt(d)?d:Jw(t[r+1])?[]:{})}$S(a,l,c),a=a[l]}return n}function ZB(n,t,e){return n==null?n:fye(n,t,e)}var hye=C1e(function(n,t,e){return n+(e?" ":"")+bB(t)}),mye="Expected a function";function au(n,t,e){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(mye);return qt(e)&&(i="leading"in e?!!e.leading:i,r="trailing"in e?!!e.trailing:r),mr(n,t,{leading:i,maxWait:t,trailing:r})}function pye(n,t){return n==null?!0:dye(n,t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let Mk;try{Mk={window,document}}catch{/* istanbul ignore next -- @preserve */Mk={window:{},document:{}}}var _e=Mk;function gye(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const _c=gye(),qe={isMac:JB(_c),isWindows:bye(_c),isGecko:wye(_c),isSafari:vye(_c),isiOS:yye(_c),isAndroid:_ye(_c),isBlink:xye(_c),get isMediaForcedColors(){return Cye()},features:{isRegExpUnicodePropertySupported:kye()}};function JB(n){return n.indexOf("macintosh")>-1}function bye(n){return n.indexOf("windows")>-1}function wye(n){return!!n.match(/gecko\/\d+/)}function vye(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function yye(n){return!!n.match(/iphone|ipad/i)||JB(n)&&navigator.maxTouchPoints>0}function _ye(n){return n.indexOf("android")>-1}function xye(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function kye(){let n=!1;try{n="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}function Cye(){return _e.window.matchMedia?_e.window.matchMedia("(forced-colors: active)").matches:!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XB(n,t,e,i){e=e||function(l,c){return l===c};const r=Array.isArray(n)?n:Array.prototype.slice.call(n),s=Array.isArray(t)?t:Array.prototype.slice.call(t),o=Eye(r,s,e);return i?Tye(o,s.length):Sye(s,o)}function Eye(n,t,e){const i=Q4(n,t,e);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=e6(n,i),s=e6(t,i),o=Q4(r,s,e),a=n.length-o,l=t.length-o;return{firstIndex:i,lastIndexOld:a,lastIndexNew:l}}function Q4(n,t,e){for(let i=0;i<Math.max(n.length,t.length);i++)if(n[i]===void 0||t[i]===void 0||!e(n[i],t[i]))return i;return-1}function e6(n,t){return n.slice(t).reverse()}function Sye(n,t){const e=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:s}=t;return s-i>0&&e.push({index:i,type:"insert",values:n.slice(i,s)}),r-i>0&&e.push({index:i+(s-i),type:"delete",howMany:r-i}),e}function Tye(n,t){const{firstIndex:e,lastIndexOld:i,lastIndexNew:r}=n;if(e===-1)return Array(t).fill("equal");let s=[];return e>0&&(s=s.concat(Array(e).fill("equal"))),r-e>0&&(s=s.concat(Array(r-e).fill("insert"))),i-e>0&&(s=s.concat(Array(i-e).fill("delete"))),r<t&&(s=s.concat(Array(t-r).fill("equal"))),s}function em(n,t,e){e=e||function(x,C){return x===C};const i=n.length,r=t.length;if(i>200||r>200||i+r>300)return em.fastDiff(n,t,e,!0);let s,o;if(r<i){const x=n;n=t,t=x,s="delete",o="insert"}else s="insert",o="delete";const a=n.length,l=t.length,c=l-a,d={},h={};function p(x){const C=(h[x-1]!==void 0?h[x-1]:-1)+1,S=h[x+1]!==void 0?h[x+1]:-1,T=C>S?-1:1;d[x+T]&&(d[x]=d[x+T].slice(0)),d[x]||(d[x]=[]),d[x].push(C>S?s:o);let A=Math.max(C,S),P=A-x;for(;P<a&&A<l&&e(n[P],t[A]);)P++,A++,d[x].push("equal");return A}let b=0,_;do{for(_=-b;_<c;_++)h[_]=p(_);for(_=c+b;_>c;_--)h[_]=p(_);h[c]=p(c),b++}while(h[c]!==l);return d[c].slice(1)}em.fastDiff=XB;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function t6(){return function n(){n.called=!0}}class Aa{constructor(t,e){g(this,"source");g(this,"name");g(this,"path");g(this,"stop");g(this,"off");g(this,"return");this.source=t,this.name=e,this.path=[],this.stop=t6(),this.off=t6()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Pi=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function ii(){const[n,t,e,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Pi[n>>0&255]+Pi[n>>8&255]+Pi[n>>16&255]+Pi[n>>24&255]+Pi[t>>0&255]+Pi[t>>8&255]+Pi[t>>16&255]+Pi[t>>24&255]+Pi[e>>0&255]+Pi[e>>8&255]+Pi[e>>16&255]+Pi[e>>24&255]+Pi[i>>0&255]+Pi[i>>8&255]+Pi[i>>16&255]+Pi[i>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Tr={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function QB(n,t){const e=Tr.get(t.priority);let i=0,r=n.length;for(;i<r;){const s=i+r>>1;Tr.get(n[s].priority)<e?r=s:i=s+1}n.splice(i,0,t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Aye="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class M extends Error{constructor(e,i,r){super(Pye(e,r));g(this,"context");g(this,"data");this.name="CKEditorError",this.context=i,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const r=new M(e.message,i);throw r.stack=e.stack,r}}function ht(n,t){console.warn(...tj(n,t))}function Iye(n,t){console.error(...tj(n,t))}function ej(n){return`
Read more: ${Aye}#error-${n}`}function Pye(n,t){const e=new WeakSet,r=t?` ${JSON.stringify(t,(o,a)=>{if(typeof a=="object"&&a!==null){if(e.has(a))return`[object ${a.constructor.name}]`;e.add(a)}return a})}`:"",s=ej(n);return n+r+s}function tj(n,t){const e=ej(n);return t?[n,t,e]:[n,e]}const Rye="44.1.0",Oye=new Date(2024,11,16);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Rye;const _d=Symbol("listeningTo"),Dk=Symbol("emitterId"),Go=Symbol("delegations"),nj=$t(Object);function $t(n){if(!n)return nj;class t extends n{on(i,r,s){this.listenTo(this,i,r,s)}once(i,r,s){let o=!1;const a=(l,...c)=>{o||(o=!0,l.off(),r.call(this,l,...c))};this.listenTo(this,i,a,s)}off(i,r){this.stopListening(this,i,r)}listenTo(i,r,s,o={}){let a,l;this[_d]||(this[_d]={});const c=this[_d];lx(i)||ij(i);const d=lx(i);(a=c[d])||(a=c[d]={emitter:i,callbacks:{}}),(l=a.callbacks[r])||(l=a.callbacks[r]=[]),l.push(s),Vye(this,i,r,s,o)}stopListening(i,r,s){const o=this[_d];let a=i&&lx(i);const l=o&&a?o[a]:void 0,c=l&&r?l.callbacks[r]:void 0;if(!(!o||i&&!l||r&&!c))if(s)cx(this,i,r,s),c.indexOf(s)!==-1&&(c.length===1?delete l.callbacks[r]:cx(this,i,r,s));else if(c){for(;s=c.pop();)cx(this,i,r,s);delete l.callbacks[r]}else if(l){for(r in l.callbacks)this.stopListening(i,r);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[_d]}}fire(i,...r){try{const s=i instanceof Aa?i:new Aa(this,i),o=s.name;let a=Lye(this,o);if(s.path.push(this),a){a=a.slice();for(let c=0;c<a.length;c++){const d=a[c].callback;if(d.call(this,s,...r),s.off.called&&(delete s.off.called,this._removeEventListener(o,d)),s.stop.called)break}}const l=this[Go];if(l){const c=l.get(o),d=l.get("*");c&&n6(c,s,r),d&&n6(d,s,r)}return s.return}catch(s){/* istanbul ignore next -- @preserve */M.rethrowUnexpectedError(s,this)}}delegate(...i){return{to:(r,s)=>{this[Go]||(this[Go]=new Map),i.forEach(o=>{const a=this[Go].get(o);a?a.set(r,s):this[Go].set(o,new Map([[r,s]]))})}}}stopDelegating(i,r){if(this[Go])if(!i)this[Go].clear();else if(!r)this[Go].delete(i);else{const s=this[Go].get(i);s&&s.delete(r)}}_addEventListener(i,r,s){Dye(this,i);const o=Lk(this,i),a=Tr.get(s.priority),l={callback:r,priority:a};for(const c of o)QB(c,l)}_removeEventListener(i,r){const s=Lk(this,i);for(const o of s)for(let a=0;a<o.length;a++)o[a].callback==r&&(o.splice(a,1),a--)}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{$t[n]=nj.prototype[n]});function Nye(n,t){const e=n[_d];return e&&e[t]?e[t].emitter:null}function ij(n,t){n[Dk]||(n[Dk]=t||ii())}function lx(n){return n[Dk]}function rj(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function Mye(){return{callbacks:[],childEvents:[]}}function Dye(n,t){const e=rj(n);if(e[t])return;let i=t,r=null;const s=[];for(;i!==""&&!e[i];)e[i]=Mye(),s.push(e[i]),r&&e[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of s)o.callbacks=e[i].callbacks.slice();e[i].childEvents.push(r)}}function Lk(n,t){const e=rj(n)[t];if(!e)return[];let i=[e.callbacks];for(let r=0;r<e.childEvents.length;r++){const s=Lk(n,e.childEvents[r]);i=i.concat(s)}return i}function Lye(n,t){if(!n._events)return null;let e=t;do{const i=n._events[e];if(i&&i.callbacks&&i.callbacks.length)return i.callbacks;const r=e.lastIndexOf(":");e=r>-1?e.substring(0,r):""}while(e);return null}function n6(n,t,e){for(let[i,r]of n){r?typeof r=="function"&&(r=r(t.name)):r=t.name;const s=new Aa(t.source,r);s.path=[...t.path],i.fire(s,...e)}}function Vye(n,t,e,i,r){t._addEventListener?t._addEventListener(e,i,r):n._addEventListener.call(t,e,i,r)}function cx(n,t,e,i){t._removeEventListener?t._removeEventListener(e,i):n._removeEventListener.call(t,e,i)}const tm=Symbol("observableProperties"),Gm=Symbol("boundObservables"),nm=Symbol("boundProperties"),xc=Symbol("decoratedMethods"),i6=Symbol("decoratedOriginal"),sj=Ot($t());function Ot(n){var e,i,r,s,o;if(!n)return sj;class t extends(o=n,s=tm,r=xc,i=nm,e=Gm,o){constructor(){super(...arguments);g(this,s);g(this,r);g(this,i);g(this,e)}set(c,d){if(qt(c)){Object.keys(c).forEach(p=>{this.set(p,c[p])},this);return}ux(this);const h=this[tm];if(c in this&&!h.has(c))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,c,{enumerable:!0,configurable:!0,get(){return h.get(c)},set(p){const b=h.get(c);let _=this.fire(`set:${c}`,c,p,b);_===void 0&&(_=p),(b!==_||!h.has(c))&&(h.set(c,_),this.fire(`change:${c}`,c,_,b))}}),this[c]=d}bind(...c){if(!c.length||!r6(c))throw new M("observable-bind-wrong-properties",this);if(new Set(c).size!==c.length)throw new M("observable-bind-duplicate-properties",this);ux(this);const d=this[nm];c.forEach(p=>{if(d.has(p))throw new M("observable-bind-rebind",this)});const h=new Map;return c.forEach(p=>{const b={property:p,to:[]};d.set(p,b),h.set(p,b)}),{to:Fye,toMany:Bye,_observable:this,_bindProperties:c,_to:[],_bindings:h}}unbind(...c){if(!this[tm])return;const d=this[nm],h=this[Gm];if(c.length){if(!r6(c))throw new M("observable-unbind-wrong-properties",this);c.forEach(p=>{const b=d.get(p);b&&(b.to.forEach(([_,x])=>{const C=h.get(_),S=C[x];S.delete(b),S.size||delete C[x],Object.keys(C).length||(h.delete(_),this.stopListening(_,"change"))}),d.delete(p))})}else h.forEach((p,b)=>{this.stopListening(b,"change")}),h.clear(),d.clear()}decorate(c){ux(this);const d=this[c];if(!d)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:c});this.on(c,(h,p)=>{h.return=d.apply(this,p)}),this[c]=function(...h){return this.fire(c,h)},this[c][i6]=d,this[xc]||(this[xc]=[]),this[xc].push(c)}stopListening(c,d,h){if(!c&&this[xc]){for(const p of this[xc])this[p]=this[p][i6];delete this[xc]}super.stopListening(c,d,h)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Ot[n]=sj.prototype[n]});function ux(n){n[tm]||(Object.defineProperty(n,tm,{value:new Map}),Object.defineProperty(n,Gm,{value:new Map}),Object.defineProperty(n,nm,{value:new Map}))}function Fye(...n){const t=zye(...n),e=Array.from(this._bindings.keys()),i=e.length;if(!t.callback&&t.to.length>1)throw new M("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new M("observable-bind-to-extra-callback",this);t.to.forEach(r=>{if(r.properties.length&&r.properties.length!==i)throw new M("observable-bind-to-properties-length",this);r.properties.length||(r.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),Hye(this._observable,this._to),Uye(this),this._bindProperties.forEach(r=>{oj(this._observable,r)})}function Bye(n,t,e){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...jye(n,t),e)}function jye(n,t){const e=n.map(i=>[i,t]);return Array.prototype.concat.apply([],e)}function r6(n){return n.every(t=>typeof t=="string")}function zye(...n){if(!n.length)throw new M("observable-bind-to-parse-error",null);const t={to:[]};let e;return typeof n[n.length-1]=="function"&&(t.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")e.properties.push(i);else if(typeof i=="object")e={observable:i,properties:[]},t.to.push(e);else throw new M("observable-bind-to-parse-error",null)}),t}function $ye(n,t,e,i){const r=n[Gm],s=r.get(e),o=s||{};o[i]||(o[i]=new Set),o[i].add(t),s||r.set(e,o)}function Uye(n){let t;n._bindings.forEach((e,i)=>{n._to.forEach(r=>{t=r.properties[e.callback?0:n._bindProperties.indexOf(i)],e.to.push([r.observable,t]),$ye(n._observable,e,r.observable,t)})})}function oj(n,t){const i=n[nm].get(t);let r;i.callback?r=i.callback.apply(n,i.to.map(s=>s[0][s[1]])):(r=i.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(n,t)?n[t]=r:n.set(t,r)}function Hye(n,t){t.forEach(e=>{const i=n[Gm];let r;i.get(e.observable)||n.listenTo(e.observable,"change",(s,o)=>{r=i.get(e.observable)[o],r&&r.forEach(a=>{oj(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class aj{constructor(){g(this,"_replacedElements");this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Vk(n){let t=0;for(const e of n)t++;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ri(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)if(n[i]!=t[i])return i;return n.length==t.length?"same":n.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Mr(n){return!!(n&&n[Symbol.iterator])}function di(n,t,e={},i=[]){const r=e&&e.xmlns,s=r?n.createElementNS(r,t):n.createElement(t);for(const o in e)s.setAttribute(o,e[o]);(X4(i)||!Mr(i))&&(i=[i]);for(let o of i)X4(o)&&(o=n.createTextNode(o)),s.appendChild(o);return s}class lj{constructor(t,e){g(this,"_config");this._config=Object.create(null),e&&this.define(s6(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,i,r=!1){if(vs(e)){this._setObjectToTarget(t,e,r);return}const s=e.split(".");e=s.pop();for(const o of s)vs(t[o])||(t[o]=Object.create(null)),t=t[o];if(vs(i)){vs(t[e])||(t[e]=Object.create(null)),t=t[e],this._setObjectToTarget(t,i,r);return}r&&typeof t[e]<"u"||(t[e]=i)}_getFromSource(t,e){const i=e.split(".");e=i.pop();for(const r of i){if(!vs(t[r])){t=null;break}t=t[r]}return t?s6(t[e]):void 0}_setObjectToTarget(t,e,i){Object.keys(e).forEach(r=>{this._setToTarget(t,r,e[r],i)})}}function s6(n){return eT(n,Wye)}function Wye(n){return Ta(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ul(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function E1(n){const t=Object.prototype.toString.apply(n);return t=="[object Window]"||t=="[object global]"}const cj=Ji($t());function Ji(n){if(!n)return cj;class t extends n{listenTo(i,r,s,o={}){if(Ul(i)||E1(i)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(i,a)||new qye(i,a);this.listenTo(l,r,s,o)}else super.listenTo(i,r,s,o)}stopListening(i,r,s){if(Ul(i)||E1(i)){const o=this._getAllProxyEmitters(i);for(const a of o)this.stopListening(a,r,s)}else super.stopListening(i,r,s)}_getProxyEmitter(i,r){return Nye(this,uj(i,r))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(i,r)).filter(r=>!!r)}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Ji[n]=cj.prototype[n]});class qye extends $t(){constructor(e,i){super();g(this,"_domNode");g(this,"_options");g(this,"_domListeners");ij(this,uj(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;this._domListeners[e]&&(!(i=this._events[e])||!i.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,i,r){this.attach(e),$t().prototype._addEventListener.call(this,e,i,r)}_removeEventListener(e,i){$t().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=r=>{this.fire(e,r)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function Gye(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ii())}function uj(n,t){let e=Gye(n);for(const i of Object.keys(t).sort())t[i]&&(e+="-"+i);return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function dj(n){const t=[];let e=n;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Kye(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fj(n){const t=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hj(n){if(!n.target)return null;const t=n.target.ownerDocument,e=n.clientX,i=n.clientY;let r=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(e,i)?r=t.caretRangeFromPoint(e,i):n.rangeParent&&(r=t.createRange(),r.setStart(n.rangeParent,n.rangeOffset),r.collapse(!0)),r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _n(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nv(n){return Object.prototype.toString.apply(n)=="[object Range]"}function mj(n){return!n||!n.parentNode||n.offsetParent===_e.document.body?null:n.offsetParent}const pj=["top","right","bottom","left","width","height"];class Ye{constructor(t){g(this,"top");g(this,"right");g(this,"bottom");g(this,"left");g(this,"width");g(this,"height");g(this,"_source");const e=nv(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Fk(t)||e)if(e){const i=Ye.getDomRangeRects(t);A0(this,Ye.getBoundingRect(i))}else A0(this,t.getBoundingClientRect());else if(E1(t)){const{innerWidth:i,innerHeight:r}=t;A0(this,{top:0,right:i,bottom:r,left:0,width:i,height:r})}else A0(this,t)}clone(){return new Ye(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const i=new Ye(e);return i._source=this._source,i}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(o6(t))return e;let i=t,r=t.parentNode||t.commonAncestorContainer,s;for(;r&&!o6(r);){const o=Yye(r)==="visible";i instanceof HTMLElement&&a6(i)==="absolute"&&(s=i);const a=a6(r);if(o||s&&(a==="relative"&&o||a!=="relative")){i=r,r=r.parentNode;continue}const l=new Ye(r),c=e.getIntersection(l);if(c)c.getArea()<e.getArea()&&(e=c);else return null;i=r,r=r.parentNode}return e}isEqual(t){for(const e of pj)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!!(e&&e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=_e.window,i=this.clone().moveBy(t,e);if(Fk(i._source)){const r=mj(i._source);r&&Zye(i,r)}return i}excludeScrollbarsAndBorders(){const t=this._source;let e,i,r;if(E1(t))e=t.innerWidth-t.document.documentElement.clientWidth,i=t.innerHeight-t.document.documentElement.clientHeight,r=t.getComputedStyle(t.document.documentElement).direction;else{const s=fj(t);e=t.offsetWidth-t.clientWidth-s.left-s.right,i=t.offsetHeight-t.clientHeight-s.top-s.bottom,r=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,r==="ltr"?this.right-=e:this.left+=e,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const e=[],i=Array.from(t.getClientRects());if(i.length)for(const r of i)e.push(new Ye(r));else{let r=t.startContainer;_n(r)&&(r=r.parentNode);const s=new Ye(r.getBoundingClientRect());s.right=s.left,s.width=0,e.push(s)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const r of t)i++,e.left=Math.min(e.left,r.left),e.top=Math.min(e.top,r.top),e.right=Math.max(e.right,r.right),e.bottom=Math.max(e.bottom,r.bottom);return i==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Ye(e))}}function A0(n,t){for(const e of pj)n[e]=t[e]}function o6(n){return Fk(n)?n===n.ownerDocument.body:!1}function Fk(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function a6(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function Yye(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function Zye(n,t){const e=new Ye(t),i=fj(t);let r=0,s=0;r-=e.left,s-=e.top,r+=t.scrollLeft,s+=t.scrollTop,r-=i.left,s-=i.top,n.moveBy(r,s)}var Yt;let Up=(Yt=class{constructor(t,e){g(this,"_element");g(this,"_callback");Yt._observerInstance||Yt._createObserver(),this._element=t,this._callback=e,Yt._addElementCallback(t,e),Yt._observerInstance.observe(t)}get element(){return this._element}destroy(){Yt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Yt._elementCallbacks||(Yt._elementCallbacks=new Map);let i=Yt._elementCallbacks.get(t);i||(i=new Set,Yt._elementCallbacks.set(t,i)),i.add(e)}static _deleteElementCallback(t,e){const i=Yt._getElementCallbacks(t);i&&(i.delete(e),i.size||(Yt._elementCallbacks.delete(t),Yt._observerInstance.unobserve(t))),Yt._elementCallbacks&&!Yt._elementCallbacks.size&&(Yt._observerInstance=null,Yt._elementCallbacks=null)}static _getElementCallbacks(t){return Yt._elementCallbacks?Yt._elementCallbacks.get(t):null}static _createObserver(){Yt._observerInstance=new _e.window.ResizeObserver(t=>{for(const e of t){const i=Yt._getElementCallbacks(e.target);if(i)for(const r of i)r(e)}})}},g(Yt,"_observerInstance",null),g(Yt,"_elementCallbacks",null),Yt);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function l6(n,t){n instanceof HTMLTextAreaElement&&(n.value=t),n.innerHTML=t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ql(n){return t=>t+n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Hh(n){let t=0;for(;n.previousSibling;)n=n.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gj(n,t,e){n.insertBefore(e,n.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function im(n){return n&&n.nodeType===Node.COMMENT_NODE}function bj(n){try{_e.document.createAttribute(n)}catch{return!1}return!0}function _o(n){return n?_n(n)?_o(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function iT({element:n,target:t,positions:e,limiter:i,fitInViewport:r,viewportOffsetConfig:s}){su(t)&&(t=t()),su(i)&&(i=i());const o=mj(n),a=Jye(s),l=new Ye(n),c=c6(t,a);let d;if(!c||!a.getIntersection(c))return null;const h={targetRect:c,elementRect:l,positionedElementAncestor:o,viewportRect:a};if(!i&&!r)d=new wj(e[0],h);else{if(i){const p=c6(i,a);p&&(h.limiterRect=p)}d=Xye(e,h)}return d}function c6(n,t){const e=new Ye(n).getVisible();return e?e.getIntersection(t):null}function Jye(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const t=new Ye(_e.window);return t.top+=n.top,t.height-=n.top,t.bottom-=n.bottom,t.height-=n.bottom,t}function Xye(n,t){const{elementRect:e}=t,i=e.getArea(),r=n.map(a=>new wj(a,t)).filter(a=>!!a.name);let s=0,o=null;for(const a of r){const{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===i)return a;const d=c**2+l**2;d>s&&(s=d,o=a)}return o}class wj{constructor(t,e){g(this,"name");g(this,"config");g(this,"_positioningFunctionCoordinates");g(this,"_options");g(this,"_cachedRect");g(this,"_cachedAbsoluteRect");const i=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!i)return;const{left:r,top:s,name:o,config:a}=i;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:r,top:s},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function u6(n){const t=n.parentNode;t&&t.removeChild(n)}function vj({target:n,viewportOffset:t=0,ancestorOffset:e=0,alignToTop:i,forceScroll:r}){const s=rT(n);let o=s,a=null;for(t=t_e(t);o;){let l;o==s?l=d6(n):l=d6(a),e_e({parent:l,getRect:()=>dx(n,o),alignToTop:i,ancestorOffset:e,forceScroll:r});let c=dx(n,o);const d=dx(l,o);if(c.height>d.height){const h=c.getIntersection(d);h&&(c=h)}if(Qye({window:o,rect:c,viewportOffset:t,alignToTop:i,forceScroll:r}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function Qye({window:n,rect:t,alignToTop:e,forceScroll:i,viewportOffset:r}){const s=t.clone().moveBy(0,r.bottom),o=t.clone().moveBy(0,-r.top),a=new Ye(n).excludeScrollbarsAndBorders(),l=[o,s],c=e&&i,d=l.every(x=>a.contains(x));let{scrollX:h,scrollY:p}=n;const b=h,_=p;c?p-=a.top-t.top+r.top:d||(_j(o,a)?p-=a.top-t.top+r.top:yj(s,a)&&(e?p+=t.top-a.top-r.top:p+=t.bottom-a.bottom+r.bottom)),d||(xj(t,a)?h-=a.left-t.left+r.left:kj(t,a)&&(h+=t.right-a.right+r.right)),(h!=b||p!==_)&&n.scrollTo(h,p)}function e_e({parent:n,getRect:t,alignToTop:e,forceScroll:i,ancestorOffset:r=0,limiterElement:s}){const o=rT(n),a=e&&i;let l,c,d;const h=s||o.document.body;for(;n!=h;)c=t(),l=new Ye(n).excludeScrollbarsAndBorders(),d=l.contains(c),a?n.scrollTop-=l.top-c.top+r:d||(_j(c,l)?n.scrollTop-=l.top-c.top+r:yj(c,l)&&(e?n.scrollTop+=c.top-l.top-r:n.scrollTop+=c.bottom-l.bottom+r)),d||(xj(c,l)?n.scrollLeft-=l.left-c.left+r:kj(c,l)&&(n.scrollLeft+=c.right-l.right+r)),n=n.parentNode}function yj(n,t){return n.bottom>t.bottom}function _j(n,t){return n.top<t.top}function xj(n,t){return n.left<t.left}function kj(n,t){return n.right>t.right}function rT(n){return nv(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function d6(n){if(nv(n)){let t=n.commonAncestorContainer;return _n(t)&&(t=t.parentNode),t}else return n.parentNode}function dx(n,t){const e=rT(n),i=new Ye(n);if(e===t)return i;{let r=e;for(;r!=t;){const s=r.frameElement,o=new Ye(s).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),r=r.parent}}return i}function t_e(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const n_e={ctrl:"",cmd:"",alt:"",shift:""},i_e={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},f6={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},ct=l_e(),r_e=Object.fromEntries(Object.entries(ct).map(([n,t])=>{let e;return t in f6?e=f6[t]:e=n.charAt(0).toUpperCase()+n.slice(1),[t,e]}));function lu(n){let t;if(typeof n=="string"){if(t=ct[n.toLowerCase()],!t)throw new M("keyboard-unknown-key",null,{key:n})}else t=n.keyCode+(n.altKey?ct.alt:0)+(n.ctrlKey?ct.ctrl:0)+(n.shiftKey?ct.shift:0)+(n.metaKey?ct.cmd:0);return t}function iv(n){return typeof n=="string"&&(n=c_e(n)),n.map(t=>typeof t=="string"?o_e(t):t).reduce((t,e)=>e+t,0)}function S1(n){let t=iv(n);return Object.entries(qe.isMac||qe.isiOS?n_e:i_e).reduce((r,[s,o])=>(t&ct[s]&&(t&=~ct[s],r+=o),r),"")+(t?r_e[t]:"")}function s_e(n){return n==ct.arrowright||n==ct.arrowleft||n==ct.arrowup||n==ct.arrowdown}function rv(n,t){const e=t==="ltr";switch(n){case ct.arrowleft:return e?"left":"right";case ct.arrowright:return e?"right":"left";case ct.arrowup:return"up";case ct.arrowdown:return"down"}}function o_e(n){if(n.endsWith("!"))return lu(n.slice(0,-1));const t=lu(n);return(qe.isMac||qe.isiOS)&&t==ct.ctrl?ct.cmd:t}function a_e(n,t){const e=rv(n,t);return e==="down"||e==="right"}function l_e(){const n={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const e=String.fromCharCode(t);n[e.toLowerCase()]=t}for(let t=48;t<=57;t++)n[t-48]=t;for(let t=112;t<=123;t++)n["f"+(t-111)]=t;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function c_e(n){return n.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const u_e=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Bk(n){return u_e.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ct(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */_e.window.CKEDITOR_TRANSLATIONS||(_e.window.CKEDITOR_TRANSLATIONS={});function d_e(n,t,e=1,i){if(typeof e!="number")throw new M("translation-service-quantity-not-a-number",null,{quantity:e});const r=i||_e.window.CKEDITOR_TRANSLATIONS,s=m_e(r);s===1&&(n=Object.keys(r)[0]);const o=t.id||t.string;if(s===0||!h_e(n,o,r))return e!==1?t.plural:t.string;const a=r[n].dictionary,l=r[n].getPluralForm||(h=>h===1?0:1),c=a[o];if(typeof c=="string")return c;const d=Number(l(e));return c[d]}function f_e(n){return Array.isArray(n)?n.reduce((t,e)=>nT(t,e)):n}function h_e(n,t,e){return!!e[n]&&!!e[n].dictionary[t]}function m_e(n){return Object.keys(n).length}class p_e{constructor({uiLanguage:t="en",contentLanguage:e,translations:i}={}){g(this,"uiLanguage");g(this,"uiLanguageDirection");g(this,"contentLanguage");g(this,"contentLanguageDirection");g(this,"t");g(this,"translations");this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=Bk(this.uiLanguage),this.contentLanguageDirection=Bk(this.contentLanguage),this.translations=f_e(i),this.t=(r,s)=>this._t(r,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=Ct(e),typeof t=="string"&&(t={string:t});const r=!!t.plural?e[0]:1,s=d_e(this.uiLanguage,t,r,this.translations);return g_e(s,e)}}function g_e(n,t){return n.replace(/%(\d+)/g,(e,i)=>i<t.length?t[i]:e)}class Sn extends $t(){constructor(e={},i={}){super();g(this,"_items");g(this,"_itemMap");g(this,"_idProperty");g(this,"_bindToCollection");g(this,"_bindToExternalToInternalMap");g(this,"_bindToInternalToExternalMap");g(this,"_skippedIndexesFromExternal");const r=Mr(e);if(r||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new M("collection-add-item-invalid-index",this);let r=0;for(const s of e){const o=this._getItemIdBeforeAdding(s),a=i+r;this._items.splice(a,0,s),this._itemMap.set(o,s),this.fire("add",s,a),r++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else if(typeof e=="number")i=this._items[e];else throw new M("collection-get-invalid-arg",this);return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=this._idProperty,r=e[i];return r&&this._itemMap.has(r)}}getIndex(e){let i;return typeof e=="string"?i=this._itemMap.get(e):i=e,i?this._items.indexOf(i):-1}remove(e){const[i,r]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:r}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(r=>new i(r))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(r=>r[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,r=(s,o,a)=>{const l=i._bindToCollection==this,c=i._bindToInternalToExternalMap.get(o);if(l&&c)this._bindToExternalToInternalMap.set(o,c),this._bindToInternalToExternalMap.set(c,o);else{const d=e(o);if(!d){this._skippedIndexesFromExternal.push(a);return}let h=a;for(const p of this._skippedIndexesFromExternal)a>p&&h--;for(const p of i._skippedIndexesFromExternal)h>=p&&h++;this._bindToExternalToInternalMap.set(o,d),this._bindToInternalToExternalMap.set(d,o),this.add(d,h);for(let p=0;p<i._skippedIndexesFromExternal.length;p++)h<=i._skippedIndexesFromExternal[p]&&i._skippedIndexesFromExternal[p]++}};for(const s of i)r(null,s,i.getIndex(s));this.listenTo(i,"add",r),this.listenTo(i,"remove",(s,o,a)=>{const l=this._bindToExternalToInternalMap.get(o);l&&this.remove(l),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((c,d)=>(a<d&&c.push(d-1),a>d&&c.push(d),c),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let r;if(i in e){if(r=e[i],typeof r!="string")throw new M("collection-add-invalid-id",this);if(this.get(r))throw new M("collection-add-item-already-exists",this)}else e[i]=r=ii();return r}_remove(e){let i,r,s,o=!1;const a=this._idProperty;if(typeof e=="string"?(r=e,s=this._itemMap.get(r),o=!s,s&&(i=this._items.indexOf(s))):typeof e=="number"?(i=e,s=this._items[i],o=!s,s&&(r=s[a])):(s=e,r=s[a],i=this._items.indexOf(s),o=i==-1||!this._itemMap.get(r)),o)throw new M("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(r);const l=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(l),this.fire("remove",s,i),[s,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ut(n){const t=n.next();return t.done?null:t.value}class Pt extends Ji(Ot()){constructor(){super();g(this,"_elements",new Set);g(this,"_externalViews",new Set);g(this,"_blurTimeout",null);this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(m6(e))this._addElement(e);else if(h6(e))this._addView(e);else{if(!e.element)throw new M("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){m6(e)?this._removeElement(e):h6(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new M("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const i=this.externalViews.find(r=>b_e(e,r));i?this._focus(i.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(r=>r.contains(document.activeElement))||this.externalViews.find(r=>r.focusTracker.isFocused&&!r.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function h6(n){return"focusTracker"in n&&n.focusTracker instanceof Pt}function m6(n){return Ta(n)}function b_e(n,t){return p6(n,t)?!0:!!t.focusTracker.externalViews.find(e=>p6(n,e))}function p6(n,t){return!!t.element&&t.element.contains(document.activeElement)&&n.contains(t.element)}class jt{constructor(){g(this,"_listener");this._listener=new(Ji())}listenTo(t){this._listener.listenTo(t,"keydown",(e,i)=>{this._listener.fire("_keydown:"+lu(i),i)})}set(t,e,i={}){const r=iv(t),s=i.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(o,a)=>{i.filter&&!i.filter(a)||(e(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0)},{priority:s})}press(t){return!!this._listener.fire("_keydown:"+lu(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function w_e(n){const t=new Map;for(const e in n)t.set(e,n[e]);return t}function Os(n){return Mr(n)?new Map(n):w_e(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function g6(n,t,e){const i=n.length,r=t.length;for(let s=i-1;s>=e;s--)n[s+r]=n[s];for(let s=0;s<r;s++)n[e+s]=t[s]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sT(n,t){let e;function i(...r){i.cancel(),e=setTimeout(()=>n(...r),t)}return i.cancel=()=>{clearTimeout(e)},i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oT(n){try{if(!n.startsWith("ey"))return null;const t=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(t)}catch{return null}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function v_e(){const n=[];for(let t=0;t<256;t++){let e=t;for(let i=0;i<8;i++)e&1?e=3988292384^e>>>1:e=e>>>1;n[t]=e}return n}function y_e(n){const t=Array.isArray(n)?n:[n],e=v_e();let i=-1;const r=t.map(s=>Array.isArray(s)?s.join(""):String(s)).join("");for(let s=0;s<r.length;s++){const o=r.charCodeAt(s);i=i>>>8^e[(i^o)&255]}return i=(i^-1)>>>0,i.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function __e(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function x_e(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function k_e(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function aT(n,t){return x_e(n.charAt(t-1))&&k_e(n.charAt(t))}function lT(n,t){return __e(n.charAt(t))}const C_e=E_e();function Cj(n,t){const e=String(n).matchAll(C_e);return Array.from(e).some(i=>i.index<t&&t<i.index+i[0].length)}function E_e(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+n.map(r=>r.source).join("|")+")",i=`${t}|${e}(?:${e})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gb=new WeakMap;let b6=!1;function sv({view:n,element:t,text:e,isDirectHost:i=!0,keepOnFocus:r=!1}){const s=n.document;gb.has(s)||(gb.set(s,new Map),s.registerPostFixer(a=>fx(s,a)),s.on("change:isComposing",()=>{n.change(a=>fx(s,a))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(a,l,c)=>{o(c)}),t.placeholder?o(t.placeholder):e&&o(e),e&&T_e();function o(a){gb.get(s).set(t,{text:a,isDirectHost:i,keepOnFocus:r,hostElement:i?t:null}),n.change(l=>fx(s,l))}}function Ej(n,t){return t.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",t),!0)}function jk(n,t){return t.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",t),!0):!1}function Sj(n,t){if(!n.isAttached()||Array.from(n.getChildren()).some(o=>!o.is("uiElement")))return!1;const i=n.document,s=i.selection.anchor;return i.isComposing&&s&&s.parent===n?!1:t||!i.isFocused?!0:!!s&&s.parent!==n}function fx(n,t){const e=gb.get(n),i=[];let r=!1;for(const[s,o]of e)o.isDirectHost&&(i.push(s),w6(t,s,o)&&(r=!0));for(const[s,o]of e){if(o.isDirectHost)continue;const a=S_e(s);a&&(i.includes(a)||(o.hostElement=a,w6(t,s,o)&&(r=!0)))}return r}function w6(n,t,e){const{text:i,isDirectHost:r,hostElement:s}=e;let o=!1;return s.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,s),o=!0),(r||t.childCount==1)&&Sj(s,e.keepOnFocus)?Ej(n,s)&&(o=!0):jk(n,s)&&(o=!0),o}function S_e(n){if(n.childCount){const t=n.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}function T_e(){b6||ht("enableplaceholder-deprecated-text-option"),b6=!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let _u=class{is(){throw new Error("is() method is abstract")}},xu=class extends $t(_u){constructor(e){super();g(this,"document");g(this,"parent");this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new M("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let r=e.includeSelf?this:this.parent;for(;r;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}getCommonAncestor(e,i={}){const r=this.getAncestors(i),s=e.getAncestors(i);let o=0;for(;r[o]==s[o]&&r[o];)o++;return o===0?null:r[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),r=e.getPath(),s=Ri(i,r);switch(s){case"prefix":return!0;case"extension":return!1;default:return i[s]<r[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=zB(this);return delete e.parent,e}};xu.prototype.is=function(n){return n==="node"||n==="view:node"};let yi=class zk extends xu{constructor(e,i){super(e);g(this,"_textData");this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof zk?this===e||this.data===e.data:!1}_clone(){return new zk(this.document,this.data)}};yi.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};let ta=class extends _u{constructor(e,i,r){super();g(this,"textNode");g(this,"data");g(this,"offsetInText");if(this.textNode=e,i<0||i>e.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(r<0||i+r>e.data.length)throw new M("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+r),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}};ta.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class Ki{constructor(...t){g(this,"_patterns",[]);this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const i of this._patterns){const r=v6(e,i);if(r)return{element:e,pattern:i,match:r}}return null}matchAll(...t){const e=[];for(const i of t)for(const r of this._patterns){const s=v6(i,r);s&&e.push({element:i,pattern:r,match:s})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t!="function"&&e&&!(e instanceof RegExp)?e:null}}function v6(n,t){if(typeof t=="function")return t(n);const e={};return t.name&&(e.name=A_e(t.name,n.name),!e.name)||t.attributes&&(e.attributes=O_e(t.attributes,n),!e.attributes)||t.classes&&(e.classes=N_e(t.classes,n),!e.classes)||t.styles&&(e.styles=M_e(t.styles,n),!e.styles)?null:e}function A_e(n,t){return n instanceof RegExp?!!t.match(n):n===t}function cT(n,t,e){const i=I_e(n),r=Array.from(t),s=[];if(i.forEach(([o,a])=>{r.forEach(l=>{P_e(o,l)&&R_e(a,l,e)&&s.push(l)})}),!(!i.length||s.length<i.length))return s}function I_e(n){if(Array.isArray(n))return n.map(e=>typeof e!="object"||e instanceof RegExp?[e,!0]:((e.key===void 0||e.value===void 0)&&ht("matcher-pattern-missing-key-or-value",e),[e.key,e.value]));if(typeof n!="object"||n instanceof RegExp)return[[n,!0]];const t=[];for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.push([e,n[e]]);return t}function P_e(n,t){return n===!0||n===t||n instanceof RegExp&&t.match(n)}function R_e(n,t,e){if(n===!0)return!0;const i=e(t);return n===i||n instanceof RegExp&&!!String(i).match(n)}function O_e(n,t){const e=new Set(t.getAttributeKeys());return typeof n=="object"&&!(n instanceof RegExp)&&!Array.isArray(n)?(n.style!==void 0&&ht("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&ht("matcher-pattern-deprecated-attributes-class-key",n)):(e.delete("style"),e.delete("class")),cT(n,e,i=>t.getAttribute(i))}function N_e(n,t){return cT(n,t.getClassNames(),()=>{})}function M_e(n,t){return cT(n,t.getStyleNames(!0),e=>t.getStyle(e))}class T1{constructor(t){g(this,"_styles");g(this,"_cachedStyleNames",null);g(this,"_cachedExpandedStyleNames",null);g(this,"_styleProcessor");this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=L_e(t);for(const[i,r]of e)this._styleProcessor.toNormalizedForm(i,r,this._styles)}has(t){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(t,this._styles).find(([r])=>r===t);return Array.isArray(i)}set(t,e){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,qt(t))for(const[i,r]of Object.entries(t))this._styleProcessor.toNormalizedForm(i,r,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const e=$k(t);pye(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!qt(this._styles[t]))return this._styles[t];const i=this._styleProcessor.getReducedForm(t,this._styles).find(([r])=>r===t);if(Array.isArray(i))return i[1]}getStyleNames(t=!1){return this.isEmpty?[]:t?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map(([e])=>e),this._cachedStyleNames)}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const i of e)t.push(...this._styleProcessor.getReducedForm(i,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const r=e.splice(0,e.length-1).join("."),s=tf(this._styles,r);if(!s)return;!Object.keys(s).length&&this.remove(r)}}class D_e{constructor(){g(this,"_normalizers");g(this,"_extractors");g(this,"_reducers");g(this,"_consumables");this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,i){if(qt(e)){hx(i,$k(t),e);return}if(this._normalizers.has(t)){const r=this._normalizers.get(t),{path:s,value:o}=r(e);hx(i,s,o)}else hx(i,t,e)}getNormalized(t,e){if(!t)return nT({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const i=this._extractors.get(t);if(typeof i=="string")return tf(e,i);const r=i(t,e);if(r)return r}return tf(e,$k(t))}getReducedForm(t,e){const i=this.getNormalized(t,e);return i===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(i):[[t,i]]}getStyleNames(t){const e=new Set;for(const i of this._consumables.keys()){const r=this.getNormalized(i,t);r&&(typeof r!="object"||Object.keys(r).length)&&e.add(i)}for(const i of Object.keys(t))e.add(i);return Array.from(e)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const i of e)this._mapStyleNames(i,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function L_e(n){let t=null,e=0,i=0,r=null;const s=new Map;if(n==="")return s;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(t===null)switch(a){case":":r||(r=n.substr(e,o-e),i=o+1);break;case'"':case"'":t=a;break;case";":{const l=n.substr(i,o-i);r&&s.set(r.trim(),l.trim()),r=null,e=o+1;break}}else a===t&&(t=null)}return s}function $k(n){return n.replace("-",".")}function hx(n,t,e){let i=e;qt(e)&&(i=nT({},tf(n,t),e)),ZB(n,t,i)}let Ia=class Tj extends xu{constructor(e,i,r,s){super(e);g(this,"name");g(this,"_unsafeAttributesToRender",[]);g(this,"_attrs");g(this,"_children");g(this,"_classes");g(this,"_styles");g(this,"_customProperties",new Map);if(this.name=i,this._attrs=V_e(r),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const o=this._attrs.get("class");y6(this._classes,o),this._attrs.delete("class")}this._styles=new T1(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Tj))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,r]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==r)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new Ki(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(i.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),r=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const s of this.getChildren())i.push(s._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,i);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let r=0;const s=F_e(this.document,i);for(const o of s)o.parent!==null&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,r++;return r}_removeChildren(e,i=1){this._fireChange("children",this);for(let r=e;r<e+i;r++)this._children[r].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const r=String(i);this._fireChange("attributes",this),e=="class"?y6(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of Ct(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of Ct(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of Ct(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ia.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function V_e(n){const t=Os(n);for(const[e,i]of t)i===null?t.delete(e):typeof i!="string"&&t.set(e,String(i));return t}function y6(n,t){const e=t.split(/\s+/);n.clear(),e.forEach(i=>n.add(i))}function F_e(n,t){if(typeof t=="string")return[new yi(n,t)];Mr(t)||(t=[t]);const e=[];for(const i of t)typeof i=="string"?e.push(new yi(n,i)):i instanceof ta?e.push(new yi(n,i.data)):e.push(i);return e}class Km extends Ia{constructor(t,e,i,r){super(t,e,i,r),this.getFillerOffset=B_e}}Km.prototype.is=function(n,t){return t?t===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function B_e(){const n=[...this.getChildren()],t=n[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of n)if(!e.is("uiElement"))return null;return this.childCount}class ov extends Ot(Km){constructor(t,e,i,r){super(t,e,i,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",s=>s&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}ov.prototype.is=function(n,t){return t?t===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const _6=Symbol("rootName");class Aj extends ov{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(_6)}set rootName(t){this._setCustomProperty(_6,t)}set _name(t){this.name=t}}Aj.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};let Vc=class{constructor(t={}){g(this,"direction");g(this,"boundaries");g(this,"singleCharacters");g(this,"shallow");g(this,"ignoreElementEnd");g(this,"_position");g(this,"_boundaryStartParent");g(this,"_boundaryEndParent");if(!t.boundaries&&!t.startPosition)throw new M("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new M("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=Ee._createAt(t.startPosition):this._position=Ee._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,i;do i=this.position,e=this.next();while(!e.done&&t(e.value));e.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,i=t.parent;if(i.parent===null&&t.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(i&&i.is("view:$text")){if(t.isAtEnd)return this._position=Ee._createAfter(i),this._next();r=i.data[t.offset]}else r=i.getChild(t.offset);if(typeof r=="string"){let s;this.singleCharacters?s=1:s=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-t.offset;const o=new ta(i,t.offset,s);return t.offset+=s,this._position=t,this._formatReturnValue("text",o,e,t,s)}if(r&&r.is("view:element")){if(!this.shallow)t=new Ee(r,0);else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,this._formatReturnValue("elementStart",r,e,t,1)}if(r&&r.is("view:$text")){if(this.singleCharacters)return t=new Ee(r,0),this._position=t,this._next();let s=r.data.length,o;return r==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new ta(r,0,s),t=Ee._createAfter(o)):(o=new ta(r,0,r.data.length),t.offset++),this._position=t,this._formatReturnValue("text",o,e,t,s)}return t=Ee._createAfter(i),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,e,t)}_previous(){let t=this.position.clone();const e=this.position,i=t.parent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(i.is("view:$text")){if(t.isAtStart)return this._position=Ee._createBefore(i),this._previous();r=i.data[t.offset-1]}else r=i.getChild(t.offset-1);if(typeof r=="string"){let s;if(this.singleCharacters)s=1;else{const a=i===this._boundaryStartParent?this.boundaries.start.offset:0;s=t.offset-a}t.offset-=s;const o=new ta(i,t.offset,s);return this._position=t,this._formatReturnValue("text",o,e,t,s)}if(r&&r.is("view:element"))return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",r,e,t,1)):(t=new Ee(r,r.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,e,t));if(r&&r.is("view:$text")){if(this.singleCharacters)return t=new Ee(r,r.data.length),this._position=t,this._previous();let s=r.data.length,o;if(r==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new ta(r,a,r.data.length-a),s=o.data.length,t=Ee._createBefore(o)}else o=new ta(r,0,r.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",o,e,t,s)}return t=Ee._createBefore(i),this._position=t,this._formatReturnValue("elementStart",i,e,t,1)}_formatReturnValue(t,e,i,r,s){return e.is("view:$textProxy")&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(r=Ee._createAfter(e.textNode),this._position=r):i=Ee._createAfter(e.textNode)),e.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(r=Ee._createBefore(e.textNode),this._position=r):i=Ee._createBefore(e.textNode))),{done:!1,value:{type:t,item:e,previousPosition:i,nextPosition:r,length:s}}}},Ee=class Jo extends _u{constructor(e,i){super();g(this,"parent");g(this,"offset");this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof ov);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const i=Jo._createAt(this),r=i.offset+e;return i.offset=r<0?0:r,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const r=new Vc(i);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),r=e.getAncestors();let s=0;for(;i[s]==r[s]&&i[s];)s++;return s===0?null:i[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),r.push(e.offset);const s=Ri(i,r);switch(s){case"prefix":return"before";case"extension":return"after";default:return i[s]<r[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Vc(e)}clone(){return new Jo(this.parent,this.offset)}static _createAt(e,i){if(e instanceof Jo)return new this(e.parent,e.offset);{const r=e;if(i=="end")i=r.is("$text")?r.data.length:r.childCount;else{if(i=="before")return this._createBefore(r);if(i=="after")return this._createAfter(r);if(i!==0&&!i)throw new M("view-createpositionat-offset-required",r)}return new Jo(r,i)}}static _createAfter(e){if(e.is("$textProxy"))return new Jo(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new M("view-position-after-root",e,{root:e});return new Jo(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Jo(e.textNode,e.offsetInText);if(!e.parent)throw new M("view-position-before-root",e,{root:e});return new Jo(e.parent,e.index)}};Ee.prototype.is=function(n){return n==="position"||n==="view:position"};let pt=class bl extends _u{constructor(e,i=null){super();g(this,"start");g(this,"end");this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new Vc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(I0,{direction:"backward"}),i=this.end.getLastMatchingPosition(I0);return e.parent.is("$text")&&e.isAtStart&&(e=Ee._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Ee._createAfter(i.parent)),new bl(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(I0);if(e.isAfter(this.end)||e.isEqual(this.end))return new bl(e,e);let i=this.end.getLastMatchingPosition(I0,{direction:"backward"});const r=e.nodeAfter,s=i.nodeBefore;return r&&r.is("$text")&&(e=new Ee(r,0)),s&&s.is("$text")&&(i=new Ee(s,s.data.length)),new bl(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const r=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return r&&s}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new bl(this.start,e.start)),this.containsPosition(e.end)&&i.push(new bl(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,r=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(r=e.end),new bl(i,r)}return null}getWalker(e={}){return e.boundaries=this,new Vc(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new bl(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Vc(e);for(const r of i)yield r.item}*getPositions(e={}){e.boundaries=this;const i=new Vc(e);yield i.position;for(const r of i)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,r,s){return new this(new Ee(e,i),new Ee(r,s))}static _createFromPositionAndShift(e,i){const r=e,s=e.getShiftedBy(i);return i>0?new this(r,s):new this(s,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ee._createBefore(e),i)}};pt.prototype.is=function(n){return n==="range"||n==="view:range"};function I0(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}let ba=class Ij extends $t(_u){constructor(...e){super();g(this,"_ranges");g(this,"_lastRangeBackward");g(this,"_isFake");g(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)(!e||i.start.isBefore(e.start))&&(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)(!e||i.end.isAfter(e.end))&&(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let r=!1;for(const s of e._ranges)if(i.isEqual(s)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Vk(this.getRanges()),r=Vk(e.getRanges());if(i!=r)return!1;if(i==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let o=!1;for(let a of e.getRanges())if(a=a.getTrimmed(),s.start.isEqual(a.start)&&s.end.isEqual(a.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,r,s]=e;if(typeof r=="object"&&(s=r,r=void 0),i===null)this._setRanges([]),this._setFakeOptions(s);else if(i instanceof Ij||i instanceof uT)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof pt)this._setRanges([i],s&&s.backward),this._setFakeOptions(s);else if(i instanceof Ee)this._setRanges([new pt(i)]),this._setFakeOptions(s);else if(i instanceof xu){const o=!!s&&!!s.backward;let a;if(r===void 0)throw new M("view-selection-setto-required-second-parameter",this);r=="in"?a=pt._createIn(i):r=="on"?a=pt._createOn(i):a=new pt(Ee._createAt(i,r)),this._setRanges([a],o),this._setFakeOptions(s)}else if(Mr(i))this._setRanges(i,s&&s.backward),this._setFakeOptions(s);else throw new M("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new M("view-selection-setfocus-no-ranges",this);const r=Ee._createAt(e,i);if(r.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),r.compareWith(s)=="before"?this._addRange(new pt(r,s),!0):this._addRange(new pt(s,r)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof pt))throw new M("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new M("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new pt(e.start,e.end))}};ba.prototype.is=function(n){return n==="selection"||n==="view:selection"};let uT=class extends $t(_u){constructor(...e){super();g(this,"_selection");this._selection=new ba,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}};uT.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Pf extends Aa{constructor(e,i,r){super(e,i);g(this,"startRange");g(this,"_eventPhase");g(this,"_currentTarget");this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const mx=Symbol("bubbling contexts");function Uk(n){class t extends n{fire(i,...r){try{const s=i instanceof Aa?i:new Aa(this,i),o=px(this);if(!o.size)return;if(Eh(s,"capturing",this),ld(o,"$capture",s,...r))return s.return;const a=s.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!Pj(o,l):!1;let d=l||j_e(a);if(Eh(s,"atTarget",d),!c){if(ld(o,"$text",s,...r))return s.return;Eh(s,"bubbling",d)}for(;d;){if(d.is("rootElement")){if(ld(o,"$root",s,...r))return s.return}else if(d.is("element")&&ld(o,d.name,s,...r))return s.return;if(ld(o,d,s,...r))return s.return;d=d.parent,Eh(s,"bubbling",d)}return Eh(s,"bubbling",this),ld(o,"$document",s,...r),s.return}catch(s){/* istanbul ignore next -- @preserve */M.rethrowUnexpectedError(s,this)}}_addEventListener(i,r,s){const o=Ct(s.context||"$document"),a=px(this);for(const l of o){let c=a.get(l);c||(c=new($t()),a.set(l,c)),this.listenTo(c,i,r,s)}}_removeEventListener(i,r){const s=px(this);for(const o of s.values())this.stopListening(o,i,r)}}return t}{const n=Uk(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{Uk[t]=n.prototype[t]})}function Eh(n,t,e){n instanceof Pf&&(n._eventPhase=t,n._currentTarget=e)}function ld(n,t,e,...i){const r=typeof t=="string"?n.get(t):Pj(n,t);return r?(r.fire(e,...i),e.stop.called):!1}function Pj(n,t){for(const[e,i]of n)if(typeof e=="function"&&e(t))return i;return null}function px(n){return n[mx]||(n[mx]=new Map),n[mx]}function j_e(n){if(!n)return null;const t=n.start.parent,e=n.end.parent,i=t.getPath(),r=e.getPath();return i.length>r.length?t:e}let av=class extends Uk(Ot()){constructor(e){super();g(this,"selection");g(this,"roots");g(this,"stylesProcessor");g(this,"_postFixers",new Set);this.selection=new uT,this.roots=new Sn({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const r of this._postFixers)if(i=r(e),i)break;while(i)}};const x6=10;class zc extends Ia{constructor(e,i,r,s){super(e,i,r,s);g(this,"_priority",x6);g(this,"_id",null);g(this,"_clonesGroup",null);this.getFillerOffset=z_e}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}g(zc,"DEFAULT_PRIORITY",x6);zc.prototype.is=function(n,t){return t?t===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function z_e(){if(gx(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(gx(n)>1)return null;n=n.parent}return!n||gx(n)>1?null:this.childCount}function gx(n){return Array.from(n.getChildren()).filter(t=>!t.is("uiElement")).length}class dT extends Ia{constructor(t,e,i,r){super(t,e,i,r),this.getFillerOffset=$_e}_insertChild(t,e){if(e&&(e instanceof xu||Array.from(e).length>0))throw new M("view-emptyelement-cannot-add",[this,e]);return 0}}dT.prototype.is=function(n,t){return t?t===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function $_e(){return null}class lv extends Ia{constructor(t,e,i,r){super(t,e,i,r),this.getFillerOffset=H_e}_insertChild(t,e){if(e&&(e instanceof xu||Array.from(e).length>0))throw new M("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const i of this.getAttributeKeys())e.setAttribute(i,this.getAttribute(i));return e}}lv.prototype.is=function(n,t){return t?t===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function U_e(n){n.document.on("arrowKey",(t,e)=>W_e(t,e,n.domConverter),{priority:"low"})}function H_e(){return null}function W_e(n,t,e){if(t.keyCode==ct.arrowright){const i=t.domTarget.ownerDocument.defaultView.getSelection(),r=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(r||t.shiftKey){const s=i.focusNode,o=i.focusOffset,a=e.domPositionToView(s,o);if(a===null)return;let l=!1;const c=a.getLastMatchingPosition(d=>(d.item.is("uiElement")&&(l=!0),!!(d.item.is("uiElement")||d.item.is("attributeElement"))));if(l){const d=e.viewPositionToDom(c);r?i.collapse(d.parent,d.offset):i.extend(d.parent,d.offset)}}}}class fT extends Ia{constructor(t,e,i,r){super(t,e,i,r),this.getFillerOffset=q_e}_insertChild(t,e){if(e&&(e instanceof xu||Array.from(e).length>0))throw new M("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}fT.prototype.is=function(n,t){return t?t===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function q_e(){return null}let $c=class extends $t(_u){constructor(e,i){super();g(this,"document");g(this,"_children",[]);g(this,"_customProperties",new Map);this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let r=0;const s=G_e(this.document,i);for(const o of s)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,r++;return r}_removeChildren(e,i=1){this._fireChange("children",this);for(let r=e;r<e+i;r++)this._children[r].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}};$c.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function G_e(n,t){return typeof t=="string"?[new yi(n,t)]:(Mr(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new yi(n,e):e instanceof ta?new yi(n,e.data):e))}class hT{constructor(t){g(this,"document");g(this,"_cloneGroups",new Map);g(this,"_slotFactory",null);this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new $c(this.document,t)}createText(t){return new yi(this.document,t)}createAttributeElement(t,e,i={}){const r=new zc(this.document,t,e);return typeof i.priority=="number"&&(r._priority=i.priority),i.id&&(r._id=i.id),i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createContainerElement(t,e,i={},r={}){let s=null;vs(i)?r=i:s=i;const o=new Km(this.document,t,e,s);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEditableElement(t,e,i={}){const r=new ov(this.document,t,e);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createEmptyElement(t,e,i={}){const r=new dT(this.document,t,e);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createUIElement(t,e,i){const r=new lv(this.document,t,e);return i&&(r.render=i),r}createRawElement(t,e,i,r={}){const s=new fT(this.document,t,e);return i&&(s.render=i),r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}setAttribute(t,e,i){i._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){vs(t)&&i===void 0?e._setStyle(t):i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Ee?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!e.parent)throw new M("view-writer-break-root",this.document);if(t.isAtStart)return Ee._createBefore(e);if(!t.isAtEnd){const i=e._clone(!1);this.insert(Ee._createAfter(e),i);const r=new pt(t,Ee._createAt(e,"end")),s=new Ee(i,0);this.move(r,s)}return Ee._createAfter(e)}mergeAttributes(t){const e=t.offset,i=t.parent;if(i.is("$text"))return t;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Ee(o,a))}const r=i.getChild(e-1),s=i.getChild(e);if(!r||!s)return t;if(r.is("$text")&&s.is("$text"))return C6(r,s);if(r.is("attributeElement")&&s.is("attributeElement")&&r.isSimilar(s)){const o=r.childCount;return r._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ee(r,o))}return t}mergeContainers(t){const e=t.nodeBefore,i=t.nodeAfter;if(!e||!i||!e.is("containerElement")||!i.is("containerElement"))throw new M("view-writer-merge-containers-invalid-position",this.document);const r=e.getChild(e.childCount-1),s=r instanceof yi?Ee._createAt(r,"end"):Ee._createAt(e,"end");return this.move(pt._createIn(i),Ee._createAt(e,"end")),this.remove(pt._createOn(i)),s}insert(t,e){e=Mr(e)?[...e]:[e],Rj(e,this.document);const i=e.reduce((o,a)=>{const l=o[o.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?o.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),o},[]);let r=null,s=t;for(const{nodes:o,breakAttributes:a}of i){const l=this._insertNodes(s,o,a);r||(r=l.start),s=l.end}return r?new pt(r,s):new pt(t)}remove(t){const e=t instanceof pt?t:pt._createOn(t);if(Sh(e,this.document),e.isCollapsed)return new $c(this.document);const{start:i,end:r}=this._breakAttributesRange(e,!0),s=i.parent,o=r.offset-i.offset,a=s._removeChildren(i.offset,o);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(i);return e.start=l,e.end=l.clone(),new $c(this.document,a)}clear(t,e){Sh(t,this.document);const i=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of i){const s=r.item;let o;if(s.is("element")&&e.isSimilar(s))o=pt._createOn(s);else if(!r.nextPosition.isAfter(t.start)&&s.is("$textProxy")){const a=s.getAncestors().find(l=>l.is("element")&&e.isSimilar(l));a&&(o=pt._createIn(a))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let i;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);const r=e.parent,s=r.childCount;t=this._breakAttributesRange(t,!0),i=this.remove(t),e.offset+=r.childCount-s}else i=this.remove(t);return this.insert(e,i)}wrap(t,e){if(!(e instanceof zc))throw new M("view-writer-wrap-invalid-attribute",this.document);if(Sh(t,this.document),t.isCollapsed){let i=t.start;i.parent.is("element")&&!K_e(i.parent)&&(i=i.getLastMatchingPosition(s=>s.item.is("uiElement"))),i=this._wrapPosition(i,e);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(i),new pt(i)}else return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof zc))throw new M("view-writer-unwrap-invalid-attribute",this.document);if(Sh(t,this.document),t.isCollapsed)return t;const{start:i,end:r}=this._breakAttributesRange(t,!0),s=i.parent,o=this._unwrapChildren(s,i.offset,r.offset,e),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new pt(a,l)}rename(t,e){const i=new Km(this.document,t,e.getAttributes());return this.insert(Ee._createAfter(e),i),this.move(pt._createIn(e),Ee._createAt(i,0)),this.remove(pt._createOn(e)),i}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return Ee._createAt(t,e)}createPositionAfter(t){return Ee._createAfter(t)}createPositionBefore(t){return Ee._createBefore(t)}createRange(t,e){return new pt(t,e)}createRangeOn(t){return pt._createOn(t)}createRangeIn(t){return pt._createIn(t)}createSelection(...t){return new ba(...t)}createSlot(t="children"){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,i){let r;if(i?r=Hk(t):r=t.parent.is("$text")?t.parent.parent:t.parent,!r)throw new M("view-writer-invalid-position-container",this.document);let s;i?s=this._breakAttributes(t,!0):s=t.parent.is("$text")?bx(t):t;const o=r._insertChild(s.offset,e);for(const d of e)this._addToClonedElementsGroup(d);const a=s.getShiftedBy(o),l=this.mergeAttributes(s);l.isEqual(s)||a.offset--;const c=this.mergeAttributes(a);return new pt(l,c)}_wrapChildren(t,e,i,r){let s=e;const o=[];for(;s<i;){const l=t.getChild(s),c=l.is("$text"),d=l.is("attributeElement");if(d&&this._wrapAttributeElement(r,l))o.push(new Ee(t,s));else if(c||!d||Y_e(r,l)){const h=r._clone();l._remove(),h._appendChild(l),t._insertChild(s,h),this._addToClonedElementsGroup(h),o.push(new Ee(t,s))}else this._wrapChildren(l,0,l.childCount,r);s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==e)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return pt._createFromParentsAndOffsets(t,e,t,i)}_unwrapChildren(t,e,i,r){let s=e;const o=[];for(;s<i;){const l=t.getChild(s);if(!l.is("attributeElement")){s++;continue}if(l.isSimilar(r)){const c=l.getChildren(),d=l.childCount;l._remove(),t._insertChild(s,c),this._removeFromClonedElementsGroup(l),o.push(new Ee(t,s),new Ee(t,s+d)),s+=d,i+=d-1;continue}if(this._unwrapAttributeElement(r,l)){o.push(new Ee(t,s),new Ee(t,s+1)),s++;continue}this._unwrapChildren(l,0,l.childCount,r),s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==e||l.offset==i)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return pt._createFromParentsAndOffsets(t,e,t,i)}_wrapRange(t,e){const{start:i,end:r}=this._breakAttributesRange(t,!0),s=i.parent,o=this._wrapChildren(s,i.offset,r.offset,e),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new pt(a,l)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return k6(t.clone());t.parent.is("$text")&&(t=bx(t));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,t.parent._insertChild(t.offset,i);const r=new pt(t,t.getShiftedBy(1));this.wrap(r,e);const s=new Ee(i.parent,i.index);i._remove();const o=s.nodeBefore,a=s.nodeAfter;return o&&o.is("view:$text")&&a&&a.is("view:$text")?C6(o,a):k6(s)}_wrapAttributeElement(t,e){if(!E6(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const i of t.getAttributeKeys())if(!(i==="class"||i==="style")&&e.hasAttribute(i)&&e.getAttribute(i)!==t.getAttribute(i))return!1;for(const i of t.getStyleNames())if(e.hasStyle(i)&&e.getStyle(i)!==t.getStyle(i))return!1;for(const i of t.getAttributeKeys())i==="class"||i==="style"||e.hasAttribute(i)||this.setAttribute(i,t.getAttribute(i),e);for(const i of t.getStyleNames())e.hasStyle(i)||this.setStyle(i,t.getStyle(i),e);for(const i of t.getClassNames())e.hasClass(i)||this.addClass(i,e);return!0}_unwrapAttributeElement(t,e){if(!E6(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const i of t.getAttributeKeys())if(!(i==="class"||i==="style")&&(!e.hasAttribute(i)||e.getAttribute(i)!==t.getAttribute(i)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const i of t.getStyleNames())if(!e.hasStyle(i)||e.getStyle(i)!==t.getStyle(i))return!1;for(const i of t.getAttributeKeys())i==="class"||i==="style"||this.removeAttribute(i,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const i=t.start,r=t.end;if(Sh(t,this.document),t.isCollapsed){const l=this._breakAttributes(t.start,e);return new pt(l,l)}const s=this._breakAttributes(r,e),o=s.parent.childCount,a=this._breakAttributes(i,e);return s.offset+=s.parent.childCount-o,new pt(a,s)}_breakAttributes(t,e=!1){const i=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&Wk(r.parent)||Wk(r))return t.clone();if(r.is("$text"))return this._breakAttributes(bx(t),e);const s=r.childCount;if(i==s){const o=new Ee(r.parent,r.index+1);return this._breakAttributes(o,e)}else if(i===0){const o=new Ee(r.parent,r.index);return this._breakAttributes(o,e)}else{const o=r.index+1,a=r._clone();r.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=r.childCount-i,c=r._removeChildren(i,l);a._appendChild(c);const d=new Ee(r.parent,o);return this._breakAttributes(d,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const r of t.getChildren())this._addToClonedElementsGroup(r);const e=t.id;if(!e)return;let i=this._cloneGroups.get(e);i||(i=new Set,this._cloneGroups.set(e,i)),i.add(t),t._clonesGroup=i}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const r of t.getChildren())this._removeFromClonedElementsGroup(r);const e=t.id;if(!e)return;const i=this._cloneGroups.get(e);i&&i.delete(t)}}function K_e(n){return Array.from(n.getChildren()).some(t=>!t.is("uiElement"))}function Hk(n){let t=n.parent;for(;!Wk(t);){if(!t)return;t=t.parent}return t}function Y_e(n,t){return n.priority<t.priority?!0:n.priority>t.priority?!1:n.getIdentity()<t.getIdentity()}function k6(n){const t=n.nodeBefore;if(t&&t.is("$text"))return new Ee(t,t.data.length);const e=n.nodeAfter;return e&&e.is("$text")?new Ee(e,0):n}function bx(n){if(n.offset==n.parent.data.length)return new Ee(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Ee(n.parent.parent,n.parent.index);const t=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new yi(n.root.document,t)),new Ee(n.parent.parent,n.parent.index+1)}function C6(n,t){const e=n.data.length;return n._data+=t.data,t._remove(),new Ee(n,e)}const Z_e=[yi,zc,Km,dT,fT,lv];function Rj(n,t){for(const e of n){if(!Z_e.some(i=>e instanceof i))throw new M("view-writer-insert-invalid-node-type",t);e.is("$text")||Rj(e.getChildren(),t)}}function Wk(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Sh(n,t){const e=Hk(n.start),i=Hk(n.end);if(!e||!i||e!==i)throw new M("view-writer-invalid-range-container",t)}function E6(n,t){return n.id===null&&t.id===null}const Oj=n=>n.createTextNode(""),Nj=n=>{const t=n.createElement("span");return t.dataset.ckeFiller="true",t.innerText="",t},Mj=n=>{const t=n.createElement("br");return t.dataset.ckeFiller="true",t},xs=7,Ym="".repeat(xs);function Er(n){return typeof n=="string"?n.substr(0,xs)===Ym:_n(n)&&n.data.substr(0,xs)===Ym}function Id(n){return n.data.length==xs&&Er(n)}function S6(n){const t=typeof n=="string"?n:n.data;return Er(n)?t.slice(xs):t}function J_e(n){n.document.on("arrowKey",X_e,{priority:"low"})}function X_e(n,t){if(t.keyCode==ct.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const i=e.getRangeAt(0).startContainer,r=e.getRangeAt(0).startOffset;Er(i)&&r<=xs&&e.collapse(i,0)}}}let Q_e=class extends Ot(){constructor(e,i){super();g(this,"domDocuments",new Set);g(this,"domConverter");g(this,"markedAttributes",new Set);g(this,"markedChildren",new Set);g(this,"markedTexts",new Set);g(this,"selection");g(this,"_inlineFiller",null);g(this,"_fakeSelectionContainer",null);this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),qe.isBlink&&!qe.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else if(e==="children")this.markedChildren.add(i);else throw new M("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!qe.isAndroid)return;let e=null;const i=qe.isBlink&&!qe.isAndroid?!this.isSelecting:!0;for(const r of this.markedChildren)this._updateChildrenMappings(r);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ee._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(i)if(e){const r=this.domConverter.viewPositionToDom(e),s=r.parent.ownerDocument;Er(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=T6(s,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const r=Array.from(i.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(r,s),a=this._findUpdateActions(o,r,s,txe);if(a.indexOf("update")!==-1){const l={equal:0,insert:0,delete:0};for(const c of a)if(c==="update"){const d=l.equal+l.insert,h=l.equal+l.delete,p=e.getChild(d);p&&!p.is("uiElement")&&!p.is("rawElement")&&this._updateElementMappings(p,r[h]),u6(s[d]),l.equal++}else l[c]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ee._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&_n(i.parent)&&Er(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Er(e))throw new M("view-renderer-filler-was-lost",this);Id(e)?e.remove():e.data=e.data.substr(xs),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!exe(i))return!1;const s=e.nodeBefore,o=e.nodeAfter;return!(s instanceof yi||o instanceof yi||r===i.getFillerOffset()&&(!s||!s.is("element","br"))||qe.isAndroid&&(s||o))}_updateText(e,i){const r=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const a=i.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(o=Ym+o),this._updateTextNode(r,o)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(i){for(const r of Array.from(i.attributes)){const s=r.name;e.hasAttribute(s)||this.domConverter.removeDomElementAttribute(i,s)}for(const r of e.getAttributeKeys())this.domConverter.setDomElementAttribute(i,r,e.getAttribute(r),e)}}_updateChildren(e,i){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(qe.isAndroid){let p=null;for(const b of Array.from(r.childNodes)){if(p&&_n(p)&&_n(b)){r.normalize();break}p=b}}const s=i.inlineFillerPosition,o=r.childNodes,a=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&T6(r.ownerDocument,a,s.offset);const l=this._diffNodeLists(o,a),c=this._findUpdateActions(l,o,a,nxe);let d=0;const h=new Set;for(const p of c)p==="delete"?(h.add(o[d]),u6(o[d])):(p==="equal"||p==="update")&&d++;d=0;for(const p of c)p==="insert"?(gj(r,d,a[d]),d++):p==="update"?(this._updateTextNode(o[d],a[d].data),d++):p==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(a[d])),d++);for(const p of h)p.parentNode||this.domConverter.unbindDomElement(p)}_diffNodeLists(e,i){return e=sxe(e,this._fakeSelectionContainer),em(e,i,ixe.bind(null,this.domConverter))}_findUpdateActions(e,i,r,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let o=[],a=[],l=[];const c={equal:0,insert:0,delete:0};for(const d of e)d==="insert"?l.push(r[c.equal+c.insert]):d==="delete"?a.push(i[c.equal+c.delete]):(o=o.concat(em(a,l,s).map(h=>h==="equal"?"update":h)),o.push("equal"),a=[],l=[]),c[d]++;return o.concat(em(a,l,s).map(d=>d==="equal"?"update":d))}_updateTextNode(e,i){const r=e.data;r!=i&&(qe.isAndroid&&this.isComposing&&r.replace(/\u00A0/g," ")==i.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,i))}_updateTextNodeInternal(e,i){const r=XB(e.data,i);for(const s of r)s.type==="insert"?e.insertData(s.index,s.values.join("")):e.deleteData(s.index,s.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(qe.isBlink&&!qe.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&qe.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=oxe(i));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!r.parentElement||r.parentElement!=e)&&e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||"";const s=i.getSelection(),o=i.createRange();s.removeAllRanges(),o.selectNodeContents(r),s.addRange(o)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(r.parent,r.offset,s.parent,s.offset),qe.isGecko&&rxe(s,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return!(i&&this.selection.isEqual(i)||!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!i||i.parentElement!==e||r.anchorNode!==i&&!i.contains(r.anchorNode)?!0:i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const r=e.activeElement,s=this.domConverter.mapDomToView(r);r&&s&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function exe(n){if(n.getAttribute("contenteditable")=="false")return!1;const t=n.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||t.getAttribute("contenteditable")=="true"}function T6(n,t,e){const i=t instanceof Array?t:t.childNodes,r=i[e];if(_n(r))return r.data=Ym+r.data,r;{const s=n.createTextNode(Ym);return Array.isArray(t)?i.splice(e,0,s):gj(t,e,s),s}}function txe(n,t){return Ul(n)&&Ul(t)&&!_n(n)&&!_n(t)&&!im(n)&&!im(t)&&n.tagName.toLowerCase()===t.tagName.toLowerCase()}function nxe(n,t){return Ul(n)&&Ul(t)&&_n(n)&&_n(t)}function ixe(n,t,e){return t===e?!0:_n(t)&&_n(e)?t.data===e.data:!!(n.isBlockFiller(t)&&n.isBlockFiller(e))}function rxe(n,t){let e=n.parent,i=n.offset;if(_n(e)&&Id(e)&&(i=Hh(e)+1,e=e.parentNode),e.nodeType!=Node.ELEMENT_NODE||i!=e.childNodes.length-1)return;const r=e.childNodes[i];r&&r.tagName=="BR"&&t.addRange(t.getRangeAt(0))}function sxe(n,t){const e=Array.from(n);return e.length==0||!t||e[e.length-1]==t&&e.pop(),e}function oxe(n){const t=n.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="",t}const axe=Mj(_e.document),lxe=Oj(_e.document),cxe=Nj(_e.document),P0="data-ck-unsafe-attribute-",A6="data-ck-unsafe-element";class cv{constructor(t,{blockFillerMode:e,renderingMode:i="editing"}={}){g(this,"document");g(this,"renderingMode");g(this,"blockFillerMode");g(this,"preElements");g(this,"blockElements");g(this,"inlineObjectElements");g(this,"unsafeElements");g(this,"_domDocument");g(this,"_domToViewMapping",new WeakMap);g(this,"_viewToDomMapping",new WeakMap);g(this,"_fakeSelectionMapping",new WeakMap);g(this,"_rawContentElementMatcher",new Ki);g(this,"_inlineObjectElementMatcher",new Ki);g(this,"_elementsWithTemporaryCustomProperties",new Set);this.document=t,this.renderingMode=i,this.blockFillerMode=e||(i==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?_e.document:_e.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new ba(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const i of t.children)this.unbindDomElement(i)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,i){return this.renderingMode==="data"?!0:(t=t.toLowerCase(),t.startsWith("on")||t==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(t==="src"||t==="srcset")||i==="source"&&t==="srcset"?!0:!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data"){t.innerHTML=e;return}const i=new DOMParser().parseFromString(e,"text/html"),r=i.createDocumentFragment(),s=i.body.childNodes;for(;s.length>0;)r.appendChild(s[0]);const o=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const c of a){for(const h of c.getAttributeNames())this.setDomElementAttribute(c,h,c.getAttribute(h));const d=c.tagName.toLowerCase();this._shouldRenameElement(d)&&(P6(d),c.replaceWith(this._createReplacementDomElement(d,c)))}for(;t.firstChild;)t.firstChild.remove();t.append(r)}viewToDom(t,e={}){if(t.is("$text")){const i=this._processDataFromViewText(t);return this._domDocument.createTextNode(i)}else{const i=t;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let r;if(i.is("documentFragment"))r=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(r,i);else{if(i.is("uiElement"))return i.name==="$comment"?r=this._domDocument.createComment(i.getCustomProperty("$rawContent")):r=i.render(this._domDocument,this),e.bind&&this.bindElements(r,i),r;this._shouldRenameElement(i.name)?(P6(i.name),r=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?r=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):r=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(r,this),e.bind&&this.bindElements(r,i);for(const s of i.getAttributeKeys())this.setDomElementAttribute(r,s,i.getAttribute(s),i)}if(e.withChildren!==!1)for(const s of this.viewChildrenToDom(i,e))r instanceof HTMLTemplateElement?r.content.appendChild(s):r.appendChild(s);return r}}setDomElementAttribute(t,e,i,r){const s=this.shouldRenderAttribute(e,i,t.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(e);if(s||ht("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:i}),!bj(e)){ht("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:i});return}t.hasAttribute(e)&&!s?t.removeAttribute(e):t.hasAttribute(P0+e)&&s&&t.removeAttribute(P0+e),t.setAttribute(s?e:P0+e,i)}removeDomElementAttribute(t,e){e!=A6&&(t.removeAttribute(e),t.removeAttribute(P0+e))}*viewChildrenToDom(t,e={}){const i=t.getFillerOffset&&t.getFillerOffset();let r=0;for(const s of t.getChildren()){i===r&&(yield this._getBlockFiller());const o=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!Ut(s.getAttributes());if(o&&this.renderingMode=="data")if(s.is("rawElement")){const a=this._domDocument.createElement(s.name);s.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(s,e);else o&&ht("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,e);r++}i===r&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),i=this.viewPositionToDom(t.end),r=this._domDocument.createRange();return r.setStart(e.parent,e.offset),r.setEnd(i.parent,i.offset),r}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const i=this.findCorrespondingDomText(e);if(!i)return null;let r=t.offset;return Er(i)&&(r+=xs),{parent:i,offset:r}}else{let i,r,s;if(t.offset===0){if(i=this.mapViewToDom(e),!i)return null;s=i.childNodes[0]}else{const a=t.nodeBefore;if(r=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!r)return null;i=r.parentNode,s=r.nextSibling}if(_n(s)&&Er(s))return{parent:s,offset:xs};const o=r?Hh(r)+1:0;return{parent:i,offset:o}}}domToView(t,e={}){const i=[],r=this._domToView(t,e,i),s=r.next().value;return!s||(r.next(),this._processDomInlineNodes(null,i,e),s.is("$text")&&s.data.length==0)?null:s}*domChildrenToView(t,e={},i=[]){let r=[];t instanceof HTMLTemplateElement?r=[...t.content.childNodes]:r=[...t.childNodes];for(let s=0;s<r.length;s++){const o=r[s],a=this._domToView(o,e,i),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(t,i,e),yield l,a.next())}this._processDomInlineNodes(t,i,e)}domSelectionToView(t){if(fxe(t))return new ba([]);if(t.rangeCount===1){let r=t.getRangeAt(0).startContainer;_n(r)&&(r=r.parentNode);const s=this.fakeSelectionToView(r);if(s)return s}const e=this.isDomSelectionBackward(t),i=[];for(let r=0;r<t.rangeCount;r++){const s=t.getRangeAt(r),o=this.domRangeToView(s);o&&i.push(o)}return new ba(i,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),i=this.domPositionToView(t.endContainer,t.endOffset);return e&&i?new pt(e,i):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Hh(t));const i=this.mapDomToView(t);if(i&&(i.is("uiElement")||i.is("rawElement")))return Ee._createBefore(i);if(_n(t)){if(Id(t))return this.domPositionToView(t.parentNode,Hh(t));const r=this.findCorrespondingViewText(t);let s=e;return r?(Er(t)&&(s-=xs,s=s<0?0:s),new Ee(r,s)):null}else{if(e===0){const r=this.mapDomToView(t);if(r)return new Ee(r,0)}else{const r=t.childNodes[e-1];if(_n(r)&&Id(r)||r&&this.isBlockFiller(r))return this.domPositionToView(r.parentNode,Hh(r));const s=_n(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(s&&s.parent)return new Ee(s.parent,s.index+1)}return null}}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Id(t))return null;const e=this.getHostViewElement(t);if(e)return e;const i=t.previousSibling;if(i){if(!this.isElement(i))return null;const r=this.mapDomToView(i);if(r){const s=r.nextSibling;return s instanceof yi?s:null}}else{const r=this.mapDomToView(t.parentNode);if(r){const s=r.getChild(0);return s instanceof yi?s:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:i,scrollY:r}=_e.window,s=[];I6(e,o=>{const{scrollLeft:a,scrollTop:l}=o;s.push([a,l])}),e.focus(),I6(e,o=>{const[a,l]=s.shift();o.scrollLeft=a,o.scrollTop=l}),_e.window.scrollTo(i,r)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(e);i&&i.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(axe):t.tagName==="BR"&&Dj(t,this.blockElements)&&t.parentNode.childNodes.length===1?!0:t.isEqualNode(cxe)||dxe(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const i=e.collapsed;return e.detach(),i}getHostViewElement(t){const e=dj(t);for(e.pop();e.length;){const i=e.pop(),r=this._domToViewMapping.get(i);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Oj(this._domDocument);case"markedNbsp":return Nj(this._domDocument);case"br":return Mj(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(_n(t)&&Er(t)&&e<xs||this.isElement(t)&&Er(t.childNodes[e]))return!1;const i=this.mapDomToView(t);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(t,e,i){if(this.isBlockFiller(t))return null;const r=this.getHostViewElement(t);if(r)return r;if(im(t)&&e.skipComments)return null;if(_n(t)){if(Id(t))return null;{const s=t.data;if(s==="")return null;const o=new yi(this.document,s);return i.push(o),o}}else{let s=this.mapDomToView(t);if(s)return this._isInlineObjectElement(s)&&i.push(s),s;if(this.isDocumentFragment(t))s=new $c(this.document),e.bind&&this.bindDocumentFragments(t,s);else{s=this._createViewElement(t,e),e.bind&&this.bindElements(t,s);const a=t.attributes;if(a)for(let l=a.length,c=0;c<l;c++)s._setAttribute(a[c].name,a[c].value);if(this._isViewElementWithRawContent(s,e))return s._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(s)||i.push(s),s;if(im(t))return s._setCustomProperty("$rawContent",t.data),s}yield s;const o=[];if(e.withChildren!==!1)for(const a of this.domChildrenToView(t,e,o))s._appendChild(a);if(this._isInlineObjectElement(s))i.push(s),this._processDomInlineNodes(null,o,e);else for(const a of o)i.push(a)}}_processDomInlineNodes(t,e,i){if(!e.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let r=!1;for(let s=0;s<e.length;s++){const o=e[s];if(!o.is("$text")){r=!1;continue}let a,l=!1;if(this._isPreFormatted(o))a=S6(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const c=s>0?e[s-1]:null,d=s+1<e.length?e[s+1]:null,h=!c||c.is("element")&&c.name=="br"||r,p=d?!1:!Er(o.data);i.withChildren!==!1&&(h&&(a=a.replace(/^ /,"")),p&&(a=a.replace(/ $/,""))),a=S6(a),a=a.replace(/ \u00A0/g,"  ");const b=d&&d.is("element")&&d.name!="br",_=d&&d.is("$text")&&d.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!d||b||_)&&(a=a.replace(/\u00A0$/," ")),(h||c&&c.is("element")&&c.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),e.splice(s,1),s--):(o._data=a,r=l)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(e.charAt(0)==" "){const i=this._getTouchingInlineViewNode(t,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(e=""+e.substr(1))}if(e.charAt(e.length-1)==" "){const i=this._getTouchingInlineViewNode(t,!0),r=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(e.charAt(e.length-2)==" "||!i||r)&&(e=e.substr(0,e.length-1)+"")}return e.replace(/ {2}/g," ")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_isPreFormatted(t){if(uxe(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(!(!e.is("element")||!e.hasStyle("white-space")||e.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const i=new Vc({startPosition:e?Ee._createAfter(t):Ee._createBefore(t),direction:e?"forward":"backward"});for(const{item:r}of i){if(r.is("$textProxy"))return r;if(r.is("element")&&r.getCustomProperty("dataPipeline:transparentRendering"))continue;if(r.is("element","br"))return null;if(this._isInlineObjectElement(r))return r;if(r.is("containerElement"))return null}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return t.is("element")?t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t):!1}_createViewElement(t,e){if(im(t))return new lv(this.document,"$comment");const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Ia(this.document,i)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const i=this._domDocument.createElement("span");if(i.setAttribute(A6,t),e){for(;e.firstChild;)i.appendChild(e.firstChild);for(const r of e.getAttributeNames())i.setAttribute(r,e.getAttribute(r))}return i}}function uxe(n,t){return n.getAncestors().some(e=>e.is("element")&&t.includes(e.name))}function I6(n,t){let e=n;for(;e;)t(e),e=e.parentElement}function dxe(n,t){return n.isEqualNode(lxe)&&Dj(n,t)&&n.parentNode.childNodes.length===1}function Dj(n,t){const e=n.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function P6(n){n==="script"&&ht("domconverter-unsafe-script-element-detected"),n==="style"&&ht("domconverter-unsafe-style-element-detected")}function fxe(n){if(!qe.isGecko||!n.rangeCount)return!1;const t=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch{return!0}return!1}class Hs extends Ji(){constructor(e){super();g(this,"view");g(this,"document");g(this,"_isEnabled",!1);this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class rf{constructor(t,e,i){g(this,"view");g(this,"document");g(this,"domEvent");g(this,"domTarget");this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,oB(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ja extends Hs{constructor(){super(...arguments);g(this,"useCapture",!1);g(this,"usePassive",!1)}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(s,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,i,r){this.isEnabled&&this.document.fire(e,new rf(this.view,i,r))}}class hxe extends ja{constructor(){super(...arguments);g(this,"domEventType",["keydown","keyup"])}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return lu(this)}};this.fire(e.type,e,i)}}class mxe extends Hs{constructor(e){super(e);g(this,"_fireSelectionChangeDoneDebounced");this._fireSelectionChangeDoneDebounced=mr(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,r=new ba(i.getRanges(),{backward:i.isBackward,fake:!1});(e==ct.arrowleft||e==ct.arrowup)&&r.setTo(r.getFirstPosition()),(e==ct.arrowright||e==ct.arrowdown)&&r.setTo(r.getLastPosition());const s={oldSelection:i,newSelection:r,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}let Lj=class extends Hs{constructor(e){super(e);g(this,"domConverter");g(this,"_config");g(this,"_domElements");g(this,"_mutationObserver");this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,r=new Set,s=new Set;for(const a of e){const l=i.mapDomToView(a.target);l&&(l.is("uiElement")||l.is("rawElement")||a.type==="childList"&&!this._isBogusBrMutation(a)&&s.add(l))}for(const a of e){const l=i.mapDomToView(a.target);if(!(l&&(l.is("uiElement")||l.is("rawElement")))&&a.type==="characterData"){const c=i.findCorrespondingViewText(a.target);c&&!s.has(c.parent)?r.add(c):!c&&Er(a.target)&&s.add(i.mapDomToView(a.target.parentNode))}}const o=[];for(const a of r)o.push({type:"text",node:a});for(const a of s){const l=i.mapViewToDom(a),c=Array.from(a.getChildren()),d=Array.from(i.domChildrenToView(l,{withChildren:!1}));cye(c,d,pxe)||o.push({type:"children",node:a})}o.length&&this.document.fire("mutations",{mutations:o})}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}};function pxe(n,t){if(!Array.isArray(n))return n===t?!0:n.is("$text")&&t.is("$text")?n.data===t.data:!1}class A1 extends ja{constructor(e){super(e);g(this,"_renderTimeoutId",null);g(this,"_isFocusChanging",!1);g(this,"domEventType",["focus","blur"]);this.useCapture=!0;const i=this.document;i.on("focus",()=>this._handleFocus()),i.on("blur",(r,s)=>this._handleBlur(s)),i.on("beforeinput",()=>{i.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const i=this.document.selection.editableElement;(i===null||i===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class gxe extends Hs{constructor(e){super(e);g(this,"mutationObserver");g(this,"focusObserver");g(this,"selection");g(this,"domConverter");g(this,"_documents");g(this,"_fireSelectionChangeDoneDebounced");g(this,"_clearInfiniteLoopInterval");g(this,"_documentIsSelectingInactivityTimeoutDebounced");g(this,"_loopbackCounter");this.mutationObserver=e.getObserver(Lj),this.focusObserver=e.getObserver(A1),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=mr(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=mr(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,r=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",r,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(i)&&(this.listenTo(i,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",()=>{this.document.isComposing&&!qe.isAndroid||(this._handleSelectionChange(i),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(i)},{priority:"lowest"}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const i=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(i);if(r.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(i))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(r))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:r,domSelection:i};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class bxe extends ja{constructor(e){super(e);g(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Vj{constructor(t,e={}){g(this,"_files");g(this,"_native");this._files=e.cacheFiles?R6(t):null,this._native=t}get files(){return this._files||(this._files=R6(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,i){this._native.setDragImage(t,e,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function R6(n){const t=Array.from(n.files||[]),e=Array.from(n.items||[]);return t.length?t:e.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class wxe extends ja{constructor(){super(...arguments);g(this,"domEventType","beforeinput")}onDomEvent(e){const i=e.getTargetRanges(),r=this.view,s=r.document;let o=null,a=null,l=[];if(e.dataTransfer&&(o=new Vj(e.dataTransfer)),e.data!==null?a=e.data:o&&(a=o.getData("text/plain")),s.selection.isFake)l=Array.from(s.selection.getRanges());else if(i.length)l=i.map(c=>{const d=r.domConverter.domPositionToView(c.startContainer,c.startOffset),h=r.domConverter.domPositionToView(c.endContainer,c.endOffset);if(d)return r.createRange(d,h);if(h)return r.createRange(h)}).filter(c=>!!c);else if(qe.isAndroid){const c=e.target.ownerDocument.defaultView.getSelection();l=Array.from(r.domConverter.domSelectionToView(c).getRanges())}if(qe.isAndroid&&e.inputType=="insertCompositionText"&&a&&a.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(l[0].end)]});return}if(e.inputType=="insertText"&&a&&a.includes(`
`)){const c=a.split(/\n{1,2}/g);let d=l;for(let h=0;h<c.length;h++){const p=c[h];p!=""&&(this.fire(e.type,e,{data:p,dataTransfer:o,targetRanges:d,inputType:e.inputType,isComposing:e.isComposing}),d=[s.selection.getFirstRange()]),h+1<c.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:d}),d=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:a,dataTransfer:o,targetRanges:l,inputType:e.inputType,isComposing:e.isComposing})}}class vxe extends Hs{constructor(t){super(t),this.document.on("keydown",(e,i)=>{if(this.isEnabled&&s_e(i.keyCode)){const r=new Pf(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(r,i),r.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class yxe extends Hs{constructor(t){super(t);const e=this.document;e.on("keydown",(i,r)=>{if(!this.isEnabled||r.keyCode!=ct.tab||r.ctrlKey)return;const s=new Pf(e,"tab",e.selection.getFirstRange());e.fire(s,r),s.stop.called&&i.stop()})}observe(){}stopObserving(){}}let _xe=class extends Ot(){constructor(e){super();g(this,"document");g(this,"domConverter");g(this,"domRoots",new Map);g(this,"_renderer");g(this,"_initialDomRootAttributes",new WeakMap);g(this,"_observers",new Map);g(this,"_writer");g(this,"_ongoingChange",!1);g(this,"_postFixersInProgress",!1);g(this,"_renderingDisabled",!1);g(this,"_hasChangedSinceTheLastRendering",!1);this.document=new av(e),this.domConverter=new cv(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Q_e(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new hT(this.document),this.addObserver(Lj),this.addObserver(A1),this.addObserver(gxe),this.addObserver(hxe),this.addObserver(mxe),this.addObserver(bxe),this.addObserver(vxe),this.addObserver(wxe),this.addObserver(yxe),J_e(this),U_e(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),qe.isiOS&&this.listenTo(this.document,"blur",(i,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(i,{mutations:r})=>{r.forEach(s=>this._renderer.markToSync(s.type,s.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,i="main"){const r=this.document.getRoot(i);r._name=e.tagName.toLowerCase();const s={};for(const{name:a,value:l}of Array.from(e.attributes))s[a]=l,a==="class"?this._writer.addClass(l.split(" "),r):r.hasAttribute(a)||this._writer.setAttribute(a,l,r);this._initialDomRootAttributes.set(e,s);const o=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};o(),this.domRoots.set(i,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(a,l)=>this._renderer.markToSync("children",l)),r.on("change:attributes",(a,l)=>this._renderer.markToSync("attributes",l)),r.on("change:text",(a,l)=>this._renderer.markToSync("text",l)),r.on("change:isReadOnly",()=>this.change(o)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const a of this._observers.values())a.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:s})=>i.removeAttribute(s));const r=this._initialDomRootAttributes.get(i);for(const s in r)i.setAttribute(s,r[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const s of this._observers.values())s.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[r,s]of this.domRoots)i.observe(s,r);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:r=20,ancestorOffset:s=20}={}){const o=this.document.selection.getFirstRange();if(!o)return;const a=ss({alignToTop:e,forceScroll:i,viewportOffset:r,ancestorOffset:s});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const l={target:this.domConverter.viewRangeToDom(o),viewportOffset:r,ancestorOffset:s,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",l,a),vj(l)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){/* istanbul ignore next -- @preserve */M.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(A1).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Ee._createAt(e,i)}createPositionAfter(e){return Ee._createAfter(e)}createPositionBefore(e){return Ee._createBefore(e)}createRange(e,i){return new pt(e,i)}createRangeOn(e){return pt._createOn(e)}createRangeIn(e){return pt._createIn(e)}createSelection(...e){return new ba(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ec{is(){throw new Error("is() method is abstract")}}class ks extends ec{constructor(e,i,r){super();g(this,"textNode");g(this,"data");g(this,"offsetInText");if(this.textNode=e,i<0||i>e.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(r<0||i+r>e.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+r),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let r=e.includeSelf?this:this.parent;for(;r;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ks.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class da{constructor(t){g(this,"direction");g(this,"boundaries");g(this,"singleCharacters");g(this,"shallow");g(this,"ignoreElementEnd");g(this,"_position");g(this,"_boundaryStartParent");g(this,"_boundaryEndParent");g(this,"_visitedParent");if(!t||!t.boundaries&&!t.startPosition)throw new M("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new M("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=ie._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,i,r,s;do r=this.position,s=this._visitedParent,{done:e,value:i}=this.next();while(!e&&t(i));e||(this._position=r,this._visitedParent=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=rm(e,i),s=r||Fj(e,i,r);if(s&&s.is("model:element")){if(!this.shallow)e.path.push(0),this._visitedParent=s;else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,kc("elementStart",s,t,e,1)}if(s&&s.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let c=s.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),o=c-e.offset}const a=e.offset-s.startOffset,l=new ks(s,a,o);return e.offset+=o,this._position=e,kc("text",l,t,e,o)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():kc("elementEnd",i,t,e)}_previous(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=e.parent,s=rm(e,r),o=s||Bj(e,r,s);if(o&&o.is("model:element"))return e.offset--,this.shallow?(this._position=e,kc("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this._position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():kc("elementEnd",o,t,e));if(o&&o.is("model:$text")){let a;if(this.singleCharacters)a=1;else{let d=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>d&&(d=this.boundaries.start.offset),a=e.offset-d}const l=e.offset-o.startOffset,c=new ks(o,l-a,a);return e.offset-=a,this._position=e,kc("text",c,t,e,a)}return e.path.pop(),this._position=e,this._visitedParent=i.parent,kc("elementStart",i,t,e,1)}}function kc(n,t,e,i,r){return{done:!1,value:{type:n,item:t,previousPosition:e,nextPosition:i,length:r}}}class ie extends ec{constructor(e,i,r="toNone"){super();g(this,"root");g(this,"path");g(this,"stickiness");if(!e.is("element")&&!e.is("documentFragment"))throw new M("model-position-root-invalid",e);if(!Array.isArray(i)||i.length===0)throw new M("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChildAtOffset(this.path[i]),!e)throw new M("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return rm(this,this.parent)}get nodeAfter(){const e=this.parent;return Fj(this,e,rm(this,e))}get nodeBefore(){const e=this.parent;return Bj(this,e,rm(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChildAtOffset(this.path[i]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=Ri(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const r=new da(i);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=Ri(this.path,e.path),r=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,r)}getCommonAncestor(e){const i=this.getAncestors(),r=e.getAncestors();let s=0;for(;i[s]==r[s]&&i[s];)s++;return s===0?null:i[s-1]}getShiftedBy(e){const i=this.clone(),r=i.offset+e;return i.offset=r<0?0:r,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let r=0;r<i;r++){const s=this.path[r]-e.path[r];if(s<-1||s>1)return!1;if(s===1)return O6(e,this,r);if(s===-1)return O6(this,e,r)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?qk(this.path,i):qk(e.path,i)}hasSameParentAs(e){if(this.root!==e.root)return!1;const i=this.getParentPath(),r=e.getParentPath();return Ri(i,r)=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=ie._createAt(this);break}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange,r=i.containsPosition(this)||i.start.isEqual(this);let s;return r?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=ie._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,i){const r=ie._createAt(this);if(this.root!=e.root)return r;if(Ri(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;r.offset-=i}}else if(Ri(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+i>this.path[s])return null;r.path[s]-=i}}return r}_getTransformedByInsertion(e,i){const r=ie._createAt(this);if(this.root!=e.root)return r;if(Ri(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=i);else if(Ri(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(r.path[s]+=i)}return r}_getTransformedByMove(e,i,r){if(i=i._getTransformedByDeletion(e,r),e.isEqual(i))return ie._createAt(this);const s=this._getTransformedByDeletion(e,r);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):s._getTransformedByInsertion(i,r)}_getCombined(e,i){const r=e.path.length-1,s=ie._createAt(i);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[r]-e.offset,s.path=[...s.path,...this.path.slice(r+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,r="toNone"){if(e.is("model:position"))return new ie(e.root,e.path,e.stickiness);{const s=e;if(i=="end")i=s.maxOffset;else{if(i=="before")return this._createBefore(s,r);if(i=="after")return this._createAfter(s,r);if(i!==0&&!i)throw new M("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,e]);const o=s.getPath();return o.push(i),new this(s.root,o,r)}}static _createAfter(e,i){if(!e.parent)throw new M("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new M("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const r=new ie(i.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!i.getRoot(e.root))throw new M("model-position-fromjson-no-root",i,{rootName:e.root});return new ie(i.getRoot(e.root),e.path,e.stickiness)}}ie.prototype.is=function(n){return n==="position"||n==="model:position"};function rm(n,t){const e=t.getChildAtOffset(n.offset);return e&&e.is("$text")&&e.startOffset<n.offset?e:null}function Fj(n,t,e){return e!==null?null:t.getChildAtOffset(n.offset)}function Bj(n,t,e){return e!==null?null:t.getChild(t.offsetToIndex(n.offset)-1)}function O6(n,t,e){return!(e+1===n.path.length||!qk(t.path,e+1)||!xxe(n,e+1))}function qk(n,t){for(;t<n.length;){if(n[t]!==0)return!1;t++}return!0}function xxe(n,t){let e=n.parent,i=n.path.length-1,r=0;for(;i>=t;){if(n.path[i]+r!==e.maxOffset)return!1;r=1,i--,e=e.parent}return!0}class G extends ec{constructor(e,i){super();g(this,"start");g(this,"end");this.start=ie._createAt(e),this.end=i?ie._createAt(i):ie._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new da({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),i=this.end.getParentPath();return Ri(e,i)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const r=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return r&&s}containsItem(e){const i=ie._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new G(this.start,e.start)),this.containsPosition(e.end)&&i.push(new G(e.end,this.end))):i.push(new G(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,r=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(r=e.end),new G(i,r)}return null}getJoined(e,i=!1){let r=this.isIntersecting(e);if(r||(this.start.isBefore(e.start)?r=i?this.end.isTouching(e.start):this.end.isEqual(e.start):r=i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let s=this.start,o=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(o)&&(o=e.end),new G(s,o)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,r=ie._createAt(this.start);let s=r.parent;for(;r.path.length>i+1;){const o=s.maxOffset-r.offset;o!==0&&e.push(new G(r,r.getShiftedBy(o))),r.path=r.path.slice(0,-1),r.offset++,s=s.parent}for(;r.path.length<=this.end.path.length;){const o=this.end.path[r.path.length-1],a=o-r.offset;a!==0&&e.push(new G(r,r.getShiftedBy(a))),r.offset=o,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new da(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new da(e);for(const r of i)yield r.item}*getPositions(e={}){e.boundaries=this;const i=new da(e);yield i.position;for(const r of i)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new G(this.start,this.end)]}getTransformedByOperations(e){const i=[new G(this.start,this.end)];for(const r of e)for(let s=0;s<i.length;s++){const o=i[s].getTransformedByOperation(r);i.splice(s,1,...o),s+=o.length-1}for(let r=0;r<i.length;r++){const s=i[r];for(let o=r+1;o<i.length;o++){const a=i[o];(s.containsRange(a)||a.containsRange(s)||s.isEqual(a))&&i.splice(o,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const r=e.sourcePosition,s=e.howMany,o=e.targetPosition;return this._getTransformedByMove(r,o,s,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),i.root!=r.root&&(r=this.end.getShiftedBy(-1)),new G(i,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new G(this.start);let i=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return i.root!=r.root&&(r=this.end.getShiftedBy(-1)),i.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(i=ie._createAt(r),i.offset=0):(e.deletionPosition.isEqual(i)||(r=e.deletionPosition),i=e.targetPosition),new G(i,r)):new G(i,r)}_getTransformedByInsertion(e,i,r=!1){if(r&&this.containsPosition(e))return[new G(this.start,e),new G(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const s=new G(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,i),s.end=s.end._getTransformedByInsertion(e,i),[s]}}_getTransformedByMove(e,i,r,s=!1){if(this.isCollapsed){const p=this.start._getTransformedByMove(e,i,r);return[new G(p)]}const o=G._createFromPositionAndShift(e,r),a=i._getTransformedByDeletion(e,r);if(this.containsPosition(i)&&!s&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const p=this.start._getTransformedByMove(e,i,r),b=this.end._getTransformedByMove(e,i,r);return[new G(p,b)]}let l;const c=this.getDifference(o);let d=null;const h=this.getIntersection(o);if(c.length==1?d=new G(c[0].start._getTransformedByDeletion(e,r),c[0].end._getTransformedByDeletion(e,r)):c.length==2&&(d=new G(this.start,this.end._getTransformedByDeletion(e,r))),d?l=d._getTransformedByInsertion(a,r,h!==null||s):l=[],h){const p=new G(h.start._getCombined(o.start,a),h.end._getCombined(o.start,a));l.length==2?l.splice(1,0,p):l.push(p)}return l}_getTransformedByDeletion(e,i){let r=this.start._getTransformedByDeletion(e,i),s=this.end._getTransformedByDeletion(e,i);return r==null&&s==null?null:(r==null&&(r=e),s==null&&(s=e),new G(r,s))}static _createFromPositionAndShift(e,i){const r=e,s=e.getShiftedBy(i);return i>0?new this(r,s):new this(s,r)}static _createIn(e){return new this(ie._createAt(e,0),ie._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(ie._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new M("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((o,a)=>o.start.isAfter(a.start)?1:-1);const r=e.indexOf(i),s=new this(i.start,i.end);for(let o=r-1;o>=0&&e[o].end.isEqual(s.start);o--)s.start=ie._createAt(e[o].start);for(let o=r+1;o<e.length&&e[o].start.isEqual(s.end);o++)s.end=ie._createAt(e[o].end);return s}static fromJSON(e,i){return new this(ie.fromJSON(e.start,i),ie.fromJSON(e.end,i))}}G.prototype.is=function(n){return n==="range"||n==="model:range"};class jj extends $t(){constructor(){super();g(this,"_modelToViewMapping",new WeakMap);g(this,"_viewToModelMapping",new WeakMap);g(this,"_viewToModelLengthCallbacks",new Map);g(this,"_markerNameToElements",new Map);g(this,"_elementToMarkerNames",new Map);g(this,"_deferredBindingRemovals",new Map);g(this,"_unboundMarkerNames",new Set);this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const r=this._modelToViewMapping.get(i.modelPosition.parent);if(!r)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(r,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const r=this.findMappedViewAncestor(i.viewPosition),s=this._viewToModelMapping.get(r),o=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,r);i.modelPosition=ie._createAt(s,o)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const r=this._markerNameToElements.get(i)||new Set;r.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(i),this._markerNameToElements.set(i,r),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,i){const r=this._markerNameToElements.get(i);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(i));const s=this._elementToMarkerNames.get(e);s&&(s.delete(i),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new G(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new pt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const r={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const r=new Set;for(const s of i)if(s.is("attributeElement"))for(const o of s.getElementsWithSameId())r.add(o);else r.add(s);return r}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,r){if(r!=e){const o=this._toModelOffset(e.parent,e.index,r),a=this._toModelOffset(e,i,e);return o+a}if(e.is("$text"))return i;let s=0;for(let o=0;o<i;o++)s+=this.getModelLength(e.getChild(o));return s}getModelLength(e){const i=[e];let r=0;for(;i.length>0;){const s=i.pop(),o=s.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(s.name);if(o)r+=o(s);else if(this._viewToModelMapping.has(s))r+=1;else if(s.is("$text"))r+=s.data.length;else{if(s.is("uiElement"))continue;for(const a of s.getChildren())i.push(a)}}return r}findPositionIn(e,i){let r,s=0,o=0,a=0;if(e.is("$text"))return new Ee(e,i);for(;o<i;)r=e.getChild(a),s=this.getModelLength(r),o+=s,a++;return o==i?this._moveViewPositionToTextNode(new Ee(e,a)):this.findPositionIn(r,i-(o-s))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,r=e.nodeAfter;return i&&i.is("view:$text")?new Ee(i,i.data.length):r&&r.is("view:$text")?new Ee(r,0):e}}class kxe{constructor(){g(this,"_consumable",new Map);g(this,"_textProxyRegistry",new Map)}add(t,e){e=R0(e),t instanceof ks&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=R0(e),t instanceof ks&&(t=this._getSymbolForTextProxy(t)),this.test(t,e)?(this._consumable.get(t).set(e,!1),!0):!1}test(t,e){e=R0(e),t instanceof ks&&(t=this._getSymbolForTextProxy(t));const i=this._consumable.get(t);if(i===void 0)return null;const r=i.get(e);return r===void 0?null:r}revert(t,e){e=R0(e),t instanceof ks&&(t=this._getSymbolForTextProxy(t));const i=this.test(t,e);return i===!1?(this._consumable.get(t).set(e,!0),!0):i===!0?!1:null}verifyAllConsumed(t){const e=[];for(const[i,r]of this._consumable)for(const[s,o]of r){const a=s.split(":")[0];o&&t==a&&e.push({event:s,item:i.name||i.description})}if(e.length)throw new M("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const i=this._textProxyRegistry.get(t.startOffset);if(i){const r=i.get(t.endOffset);r&&(e=r.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,i=t.endOffset,r=t.parent,s=Symbol("$textProxy:"+t.data);let o,a;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),a=o.get(i),a||(a=new Map,o.set(i,a)),a.set(r,s),s}}function R0(n){const t=n.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?n:t.length>1?t[0]+":"+t[1]:t[0]}class zj extends $t(){constructor(e){super();g(this,"_conversionApi");g(this,"_firedEventsMap");this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,i,r){const s=this._createConversionApi(r,e.getRefreshedItems());for(const a of e.getMarkersToRemove())this._convertMarkerRemove(a.name,a.range,s);const o=this._reduceChanges(e.getChanges());for(const a of o)a.type==="insert"?this._convertInsert(G._createFromPositionAndShift(a.position,a.length),s):a.type==="reinsert"?this._convertReinsert(G._createFromPositionAndShift(a.position,a.length),s):a.type==="remove"?this._convertRemove(a.position,a.length,a.name,s):this._convertAttribute(a.range,a.attributeKey,a.attributeOldValue,a.attributeNewValue,s);s.mapper.flushDeferredBindings();for(const a of s.mapper.flushUnboundMarkerNames()){const l=i.get(a).getRange();this._convertMarkerRemove(a,l,s),this._convertMarkerAdd(a,l,s)}for(const a of e.getMarkersToAdd())this._convertMarkerAdd(a.name,a.range,s);s.consumable.verifyAllConsumed("insert")}convert(e,i,r,s={}){const o=this._createConversionApi(r,void 0,s);this._convertInsert(e,o);for(const[a,l]of i)this._convertMarkerAdd(a,l,o);o.consumable.verifyAllConsumed("insert")}convertSelection(e,i,r){const s=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},s);const o=e.getFirstPosition().root;if(!s.mapper.toViewElement(o))return;const a=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,a),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const l of a)if(s.consumable.test(e,"addMarker:"+l.name)){const c=l.getRange();if(!Cxe(e.getFirstPosition(),l,s.mapper))continue;const d={item:e,markerName:l.name,markerRange:c};this.fire(`addMarker:${l.name}`,d,s)}for(const l of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+l)){const c={item:e,range:e.getFirstRange(),attributeKey:l,attributeOldValue:null,attributeNewValue:e.getAttribute(l)};this.fire(`attribute:${l}:$text`,c,s)}}}_convertInsert(e,i,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const s of e.getWalker({shallow:!0}))this._testAndFire("insert",N6(s),i)}_convertRemove(e,i,r,s){this.fire(`remove:${r}`,{position:e,length:i},s)}_convertAttribute(e,i,r,s,o){this._addConsumablesForRange(o.consumable,e,`attribute:${i}`);for(const a of e){const l={item:a.item,range:G._createFromPositionAndShift(a.previousPosition,a.length),attributeKey:i,attributeOldValue:r,attributeNewValue:s};this._testAndFire(`attribute:${i}`,l,o)}}_convertReinsert(e,i){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,r);for(const s of r.map(N6))this._testAndFire("insert",{...s,reconversion:!0},i)}_convertMarkerAdd(e,i,r){if(i.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(r.consumable.add(i,s),this.fire(s,{markerName:e,markerRange:i},r),!!r.consumable.consume(i,s)){this._addConsumablesForRange(r.consumable,i,s);for(const o of i.getItems()){if(!r.consumable.test(o,s))continue;const a={item:o,range:G._createOn(o),markerName:e,markerRange:i};this.fire(s,a,r)}}}_convertMarkerRemove(e,i,r){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},r)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const r of i){const s=r.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const o of s.getAttributeKeys())e.add(s,"attribute:"+o)}}return e}_addConsumablesForRange(e,i,r){for(const s of i.getItems())e.add(s,r);return e}_addConsumablesForSelection(e,i,r){e.add(i,"selection");for(const s of r)e.add(i,"addMarker:"+s.name);for(const s of i.getAttributeKeys())e.add(i,"attribute:"+s);return e}_testAndFire(e,i,r){const s=Exe(e,i),o=i.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(i.item):i.item,a=this._firedEventsMap.get(r),l=a.get(o);if(!l)a.set(o,new Set([s]));else if(!l.has(s))l.add(s);else return;this.fire(s,i,r)}_testAndFireAddAttributes(e,i){const r={item:e,range:G._createOn(e)};for(const s of r.item.getAttributeKeys())r.attributeKey=s,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(s),this._testAndFire(`attribute:${s}`,r,i)}_createConversionApi(e,i=new Set,r={}){const s={...this._conversionApi,consumable:new kxe,writer:e,options:r,convertItem:o=>this._convertInsert(G._createOn(o),s),convertChildren:o=>this._convertInsert(G._createIn(o),s,{doNotAddConsumables:!0}),convertAttributes:o=>this._testAndFireAddAttributes(o,s),canReuseView:o=>!i.has(s.mapper.toModelElement(o))};return this._firedEventsMap.set(s,new Map),s}}function Cxe(n,t,e){const i=t.getRange(),r=Array.from(n.getAncestors());return r.shift(),r.reverse(),!r.some(o=>{if(i.containsItem(o))return!!e.toViewElement(o).getCustomProperty("addHighlight")})}function Exe(n,t){const e=t.item.is("element")?t.item.name:"$text";return`${n}:${e}`}function N6(n){return{item:n.item,range:G._createFromPositionAndShift(n.previousPosition,n.length)}}let ku=class extends ec{constructor(e){super();g(this,"parent",null);g(this,"_attrs");g(this,"_index",null);g(this,"_startOffset",null);this._attrs=Os(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let r=e.includeSelf?this:this.parent;for(;r;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}getCommonAncestor(e,i={}){const r=this.getAncestors(i),s=e.getAncestors(i);let o=0;for(;r[o]==s[o]&&r[o];)o++;return o===0?null:r[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),r=e.getPath(),s=Ri(i,r);switch(s){case"prefix":return!0;case"extension":return!1;default:return i[s]<r[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,r)=>(i[r[0]]=r[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=Os(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};ku.prototype.is=function(n){return n==="node"||n==="model:node"};class Sr extends $t(ec){constructor(...e){super();g(this,"_lastRangeBackward",!1);g(this,"_attrs",new Map);g(this,"_ranges",[]);e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let r=!1;for(const s of e._ranges)if(i.isEqual(s)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new G(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)(!e||i.start.isBefore(e.start))&&(e=i);return e?new G(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)(!e||i.end.isAfter(e.end))&&(e=i);return e?new G(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,r,s]=e;if(typeof r=="object"&&(s=r,r=void 0),i===null)this._setRanges([]);else if(i instanceof Sr)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof G)this._setRanges([i],!!s&&!!s.backward);else if(i instanceof ie)this._setRanges([new G(i)]);else if(i instanceof ku){const o=!!s&&!!s.backward;let a;if(r=="in")a=G._createIn(i);else if(r=="on")a=G._createOn(i);else if(r!==void 0)a=new G(ie._createAt(i,r));else throw new M("model-selection-setto-required-second-parameter",[this,i]);this._setRanges([a],o)}else if(Mr(i))this._setRanges(i,s&&!!s.backward);else throw new M("model-selection-setto-not-selectable",[this,i])}_setRanges(e,i=!1){const r=Array.from(e),s=r.some(o=>{if(!(o instanceof G))throw new M("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(a=>!a.isEqual(o))});r.length===this._ranges.length&&!s||(this._replaceAllRanges(r),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new M("model-selection-setfocus-no-ranges",[this,e]);const r=ie._createAt(e,i);if(r.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(s)=="before"?(this._pushRange(new G(r,s)),this._lastRangeBackward=!0):(this._pushRange(new G(s,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const r=M6(i.start,e);Txe(r,i)&&(yield r);for(const o of i.getWalker()){const a=o.item;o.type=="elementEnd"&&Sxe(a,e,i)&&(yield a)}const s=M6(i.end,e);Axe(s,i)&&(yield s)}}containsEntireContent(e=this.anchor.root){const i=ie._createAt(e,0),r=ie._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new G(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new M("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Sr.prototype.is=function(n){return n==="selection"||n==="model:selection"};function $j(n,t){return t.has(n)?!1:(t.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function Sxe(n,t,e){return $j(n,t)&&mT(n,e)}function M6(n,t){const i=n.parent.root.document.model.schema,r=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const o=r.find(a=>s?!1:(s=i.isLimit(a),!s&&$j(a,t)));return r.forEach(a=>t.add(a)),o}function mT(n,t){const e=Ixe(n);return e?!t.containsRange(G._createOn(e),!0):!0}function Txe(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.start.isTouching(ie._createAt(n,n.maxOffset))?!1:mT(n,t):!1}function Axe(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.end.isTouching(ie._createAt(n,0))?!1:mT(n,t):!1}function Ixe(n){const t=n.root.document.model.schema;let e=n.parent;for(;e;){if(t.isBlock(e))return e;e=e.parent}}class Ui extends $t(G){constructor(t,e){super(t,e),Pxe.call(this)}detach(){this.stopListening()}toRange(){return new G(this.start,this.end)}static fromRange(t){return new Ui(t.start,t.end)}}Ui.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function Pxe(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&Rxe.call(this,e)},{priority:"low"})}function Rxe(n){const t=this.getTransformedByOperation(n),e=G._createFromRanges(t),i=!e.isEqual(this),r=Oxe(this,n);let s=null;if(i){e.root.rootName=="$graveyard"&&(n.type=="remove"?s=n.sourcePosition:s=n.deletionPosition);const o=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",o,{deletionPosition:s})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:s})}function Oxe(n,t){switch(t.type){case"insert":return n.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(t.sourcePosition)||n.start.isEqual(t.sourcePosition)||n.containsPosition(t.targetPosition);case"split":return n.containsPosition(t.splitPosition)||n.containsPosition(t.insertionPosition)}return!1}class tn extends ku{constructor(e,i){super(i);g(this,"_data");this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new tn(this.data,this.getAttributes())}static fromJSON(e){return new tn(e.data,e.attributes)}}tn.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const Zm="selection:";class Ns extends $t(ec){constructor(e){super();g(this,"_selection");this._selection=new Nxe(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Zm+e}static _isStoreAttributeKey(e){return e.startsWith(Zm)}}Ns.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class Nxe extends Sr{constructor(e){super();g(this,"markers",new Sn({idProperty:"name"}));g(this,"_model");g(this,"_document");g(this,"_attributePriority",new Map);g(this,"_selectionRestorePosition",null);g(this,"_hasChangedRange",!1);g(this,"_overriddenGravityRegister",new Set);g(this,"_observedMarkers",new Set);this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,r)=>{const s=r[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,r,s,o)=>{this._updateMarker(r,o)}),this.listenTo(this._document,"change",(i,r)=>{Mxe(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=ii();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new M("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new M("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=Ui.fromRange(e);return i.on("change:range",(r,s,o)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=o.deletionPosition;const a=this._ranges.indexOf(i);this._ranges.splice(a,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const s of this._model.markers){const o=s.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;const a=s.getRange();for(const l of this.getRanges())a.containsRange(l,!l.isCollapsed)&&e.push(s)}const r=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),i=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),i=!0);i&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,i){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let s=!1;const o=Array.from(this.markers),a=this.markers.has(e);if(!i)a&&(this.markers.remove(e),s=!0);else{let l=!1;for(const c of this.getRanges())if(i.containsRange(c,!c.isCollapsed)){l=!0;break}l&&!a?(this.markers.add(e),s=!0):!l&&a&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(e){const i=Os(this._getSurroundingAttributes()),r=Os(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,a]of this._attributePriority)a=="low"&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(i);const s=[];for(const[o,a]of this.getAttributes())(!r.has(o)||r.get(o)!==a)&&s.push(o);for(const[o]of r)this.hasAttribute(o)||s.push(o);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,i,r=!0){const s=r?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===i?!1:(this._attrs.set(e,i),this._attributePriority.set(e,s),!0)}_removeAttribute(e,i=!0){const r=i?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,r),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const i=new Set;for(const[r,s]of this.getAttributes())e.get(r)!==s&&this._removeAttribute(r,!1);for(const[r,s]of e)this._setAttribute(r,s,!1)&&i.add(r);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(Zm)&&(yield[i.substr(Zm.length),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=Th(s,i)),r||(r=Th(o,i)),!this.isGravityOverridden&&!r){let a=s;for(;a&&!r;)a=a.previousSibling,r=Th(a,i)}if(!r){let a=o;for(;a&&!r;)a=a.nextSibling,r=Th(a,i)}r||(r=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const o of s){if(o.item.is("element")&&i.isObject(o.item)){r=Th(o.item,i);break}if(o.type=="text"){r=o.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Th(n,t){if(!n)return null;if(n instanceof ks||n instanceof tn)return n.getAttributes();if(!t.isInline(n))return null;if(!t.isObject(n))return[];const e=[];for(const[i,r]of n.getAttributes())t.checkAttribute("$text",i)&&t.getAttributeProperties(i).copyFromObject!==!1&&e.push([i,r]);return e}function Mxe(n,t){const e=n.document.differ;for(const i of e.getChanges()){if(i.type!="insert")continue;const r=i.position.parent;i.length===r.maxOffset&&n.enqueueChange(t,o=>{const a=Array.from(r.getAttributeKeys()).filter(l=>l.startsWith(Zm));for(const l of a)o.removeAttribute(l,r)})}}class sm{constructor(t){g(this,"_nodes",[]);g(this,"_offsetToNode",[]);t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(t){return this._nodes[t]||null}getNodeAtOffset(t){return this._offsetToNode[t]||null}getNodeIndex(t){return t.index}getNodeStartOffset(t){return t.startOffset}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){if(t==this._offsetToNode.length)return this._nodes.length;const e=this._offsetToNode[t];if(!e)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.getNodeIndex(e)}_insertNodes(t,e){const i=[];for(const s of e){if(!(s instanceof ku))throw new M("model-nodelist-insertnodes-not-node",this);i.push(s)}let r=this.indexToOffset(t);g6(this._nodes,i,t),g6(this._offsetToNode,Dxe(i),r);for(let s=t;s<this._nodes.length;s++)this._nodes[s]._index=s,this._nodes[s]._startOffset=r,r+=this._nodes[s].offsetSize}_removeNodes(t,e=1){if(e==0)return[];let i=this.indexToOffset(t);const r=this._nodes.splice(t,e),s=r[r.length-1],o=s.startOffset+s.offsetSize-i;this._offsetToNode.splice(i,o);for(const a of r)a._index=null,a._startOffset=null;for(let a=t;a<this._nodes.length;a++)this._nodes[a]._index=a,this._nodes[a]._startOffset=i,i+=this._nodes[a].offsetSize;return r}_removeNodesArray(t){if(t.length==0)return;for(const i of t)i._index=null,i._startOffset=null;this._nodes=this._nodes.filter(i=>i.index!==null),this._offsetToNode=this._offsetToNode.filter(i=>i.index!==null);let e=0;for(let i=0;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=e,e+=this._nodes[i].offsetSize}toJSON(){return this._nodes.map(t=>t.toJSON())}}function Dxe(n){const t=[];let e=0;for(const i of n)for(let r=0;r<i.offsetSize;r++)t[e++]=i;return t}let dn=class bb extends ku{constructor(e,i,r){super(i);g(this,"name");g(this,"_children",new sm);this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const r of e)i=i.getChildAtOffset(r);return i}findAncestor(e,i={}){let r=i.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Vxe(this._children):void 0;return new bb(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const r=Lxe(i);for(const s of r)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,i=1){const r=this._children._removeNodes(e,i);for(const s of r)s.parent=null;return r}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const i of e)i.parent=null}static fromJSON(e){let i;if(e.children){i=[];for(const r of e.children)r.name?i.push(bb.fromJSON(r)):i.push(tn.fromJSON(r))}return new bb(e.name,e.attributes,i)}};dn.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function Lxe(n){if(typeof n=="string")return[new tn(n)];Mr(n)||(n=[n]);const t=[];for(const e of n)typeof e=="string"?t.push(new tn(e)):e instanceof ks?t.push(new tn(e.data,e.getAttributes())):t.push(e);return t}function Vxe(n){const t=[];for(const e of n)t.push(e._clone(!0));return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Uj{constructor(t){g(this,"_dispatchers");this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class Fxe extends Uj{elementToElement(t){return this.add(n2e(t))}elementToStructure(t){return this.add(i2e(t))}attributeToElement(t){return this.add(r2e(t))}attributeToAttribute(t){return this.add(s2e(t))}markerToElement(t){return this.add(o2e(t))}markerToHighlight(t){return this.add(l2e(t))}markerToData(t){return this.add(a2e(t))}}function Hj(){return(n,t,e)=>{if(!e.consumable.consume(t.item,n.name))return;const i=e.writer,r=e.mapper.toViewPosition(t.range.start),s=i.createText(t.item.data);i.insert(r,s)}}function Wj(){return(n,t,e)=>{e.convertAttributes(t.item),!t.reconversion&&t.item.is("element")&&!t.item.isEmpty&&e.convertChildren(t.item)}}function Bxe(){return(n,t,e)=>{const i=e.mapper.toViewPosition(t.position),r=t.position.getShiftedBy(t.length),s=e.mapper.toViewPosition(r,{isPhantom:!0}),o=e.writer.createRange(i,s),a=e.writer.remove(o.getTrimmed());for(const l of e.writer.createRangeIn(a).getItems())e.mapper.unbindViewElement(l,{defer:!0})}}function qj(n,t){const e=n.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function jxe(){return(n,t,e)=>{const i=t.selection;if(i.isCollapsed||!e.consumable.consume(i,"selection"))return;const r=[];for(const s of i.getRanges())r.push(e.mapper.toViewRange(s));e.writer.setSelection(r,{backward:i.isBackward})}}function zxe(){return(n,t,e)=>{const i=t.selection;if(!i.isCollapsed||!e.consumable.consume(i,"selection"))return;const r=e.writer,s=i.getFirstPosition(),o=e.mapper.toViewPosition(s),a=r.breakAttributes(o);r.setSelection(a)}}function $xe(){return(n,t,e)=>{const i=e.writer,r=i.document.selection;for(const s of r.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&e.writer.mergeAttributes(s.start);i.setSelection(null)}}function Uxe(n){return(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const r=n(e.attributeOldValue,i,e),s=n(e.attributeNewValue,i,e);if(!r&&!s)return;i.consumable.consume(e.item,t.name);const o=i.writer,a=o.document.selection;if(e.item instanceof Sr||e.item instanceof Ns)o.wrap(a.getFirstRange(),s);else{let l=i.mapper.toViewRange(e.range);e.attributeOldValue!==null&&r&&(l=o.unwrap(l,r)),e.attributeNewValue!==null&&s&&o.wrap(l,s)}}}function Hxe(n,t=p2e){return(e,i,r)=>{if(!t(i.item,r.consumable,{preflight:!0}))return;const s=n(i.item,r,i);if(!s)return;t(i.item,r.consumable);const o=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,s),r.writer.insert(o,s),r.convertAttributes(i.item),Jj(s,i.item.getChildren(),r,{reconversion:i.reconversion})}}function Wxe(n,t){return(e,i,r)=>{if(!t(i.item,r.consumable,{preflight:!0}))return;const s=new Map;r.writer._registerSlotFactory(d2e(i.item,s,r));const o=n(i.item,r,i);if(r.writer._clearSlotFactory(),!o)return;f2e(i.item,s,r),t(i.item,r.consumable);const a=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,o),r.writer.insert(a,o),r.convertAttributes(i.item),h2e(o,s,r,{reconversion:i.reconversion})}}function qxe(n){return(t,e,i)=>{e.isOpening=!0;const r=n(e,i);e.isOpening=!1;const s=n(e,i);if(!r||!s)return;const o=e.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,t.name))return;for(const c of o)if(!i.consumable.consume(c.item,t.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(o.start),r),i.mapper.bindElementToMarker(r,e.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),s),i.mapper.bindElementToMarker(s,e.markerName)),t.stop()}}function Gxe(){return(n,t,e)=>{const i=e.mapper.markerNameToElements(t.markerName);if(i){for(const r of i)e.mapper.unbindElementFromMarkerName(r,t.markerName),e.writer.clear(e.writer.createRangeOn(r),r);e.writer.clearClonedElementsGroup(t.markerName),n.stop()}}}function Kxe(n){return(t,e,i)=>{const r=n(e.markerName,i);if(!r)return;const s=e.markerRange;i.consumable.consume(s,t.name)&&(D6(s,!1,i,e,r),D6(s,!0,i,e,r),t.stop())}}function D6(n,t,e,i,r){const s=t?n.start:n.end,o=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,a=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(o||a){let c,d;t&&o||!t&&!a?(c=o,d=!0):(c=a,d=!1);const h=e.mapper.toViewElement(c);if(h){Yxe(h,t,d,e,i,r);return}}const l=e.mapper.toViewPosition(s);Zxe(l,t,e,i,r)}function Yxe(n,t,e,i,r,s){const o=`data-${s.group}-${t?"start":"end"}-${e?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(s.name),i.writer.setAttribute(o,a.join(","),n),i.mapper.bindElementToMarker(n,r.markerName)}function Zxe(n,t,e,i,r){const s=`${r.group}-${t?"start":"end"}`,o=r.name?{name:r.name}:null,a=e.writer.createUIElement(s,o);e.writer.insert(n,a),e.mapper.bindElementToMarker(a,i.markerName)}function Jxe(n){return(t,e,i)=>{const r=n(e.markerName,i);if(!r)return;const s=i.mapper.markerNameToElements(e.markerName);if(!s)return;for(const a of s)i.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("containerElement")?(o(`data-${r.group}-start-before`,a),o(`data-${r.group}-start-after`,a),o(`data-${r.group}-end-before`,a),o(`data-${r.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(e.markerName),t.stop();function o(a,l){if(l.hasAttribute(a)){const c=new Set(l.getAttribute(a).split(","));c.delete(r.name),c.size==0?i.writer.removeAttribute(a,l):i.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function Xxe(n){return(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const r=n(e.attributeOldValue,i,e),s=n(e.attributeNewValue,i,e);if(!r&&!s)return;i.consumable.consume(e.item,t.name);const o=i.mapper.toViewElement(e.item),a=i.writer;if(!o)throw new M("conversion-attribute-to-attribute-on-text",i.dispatcher,e);if(e.attributeOldValue!==null&&r)if(r.key=="class"){const l=typeof r.value=="string"?r.value.split(/\s+/):r.value;for(const c of l)a.removeClass(c,o)}else if(r.key=="style")if(typeof r.value=="string"){const l=new T1(a.document.stylesProcessor);l.setTo(r.value);for(const[c]of l.getStylesEntries())a.removeStyle(c,o)}else{const l=Object.keys(r.value);for(const c of l)a.removeStyle(c,o)}else a.removeAttribute(r.key,o);if(e.attributeNewValue!==null&&s)if(s.key=="class"){const l=typeof s.value=="string"?s.value.split(/\s+/):s.value;for(const c of l)a.addClass(c,o)}else if(s.key=="style")if(typeof s.value=="string"){const l=new T1(a.document.stylesProcessor);l.setTo(s.value);for(const[c,d]of l.getStylesEntries())a.setStyle(c,d,o)}else{const l=Object.keys(s.value);for(const c of l)a.setStyle(c,s.value[c],o)}else a.setAttribute(s.key,s.value,o)}}function Qxe(n){return(t,e,i)=>{if(!e.item||!(e.item instanceof Sr||e.item instanceof Ns)&&!e.item.is("$textProxy"))return;const r=pT(n,e,i);if(!r||!i.consumable.consume(e.item,t.name))return;const s=i.writer,o=qj(s,r),a=s.document.selection;if(e.item instanceof Sr||e.item instanceof Ns)s.wrap(a.getFirstRange(),o);else{const l=i.mapper.toViewRange(e.range),c=s.wrap(l,o);for(const d of c.getItems())if(d.is("attributeElement")&&d.isSimilar(o)){i.mapper.bindElementToMarker(d,e.markerName);break}}}}function e2e(n){return(t,e,i)=>{if(!e.item||!(e.item instanceof dn))return;const r=pT(n,e,i);if(!r||!i.consumable.test(e.item,t.name))return;const s=i.mapper.toViewElement(e.item);if(s&&s.getCustomProperty("addHighlight")){i.consumable.consume(e.item,t.name);for(const a of G._createIn(e.item))i.consumable.consume(a.item,t.name);s.getCustomProperty("addHighlight")(s,r,i.writer),i.mapper.bindElementToMarker(s,e.markerName)}}}function t2e(n){return(t,e,i)=>{if(e.markerRange.isCollapsed)return;const r=pT(n,e,i);if(!r)return;const s=qj(i.writer,r),o=i.mapper.markerNameToElements(e.markerName);if(o){for(const a of o)i.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),s):a.getCustomProperty("removeHighlight")(a,r.id,i.writer);i.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function n2e(n){const t=Gj(n.model),e=Jm(n.view,"container");return t.attributes.length&&(t.children=!0),i=>{i.on(`insert:${t.name}`,Hxe(e,Zj(t)),{priority:n.converterPriority||"normal"}),(t.children||t.attributes.length)&&i.on("reduceChanges",Yj(t),{priority:"low"})}}function i2e(n){const t=Gj(n.model),e=Jm(n.view,"container");return t.children=!0,i=>{if(i._conversionApi.schema.checkChild(t.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",i,{elementName:t.name});i.on(`insert:${t.name}`,Wxe(e,Zj(t)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",Yj(t),{priority:"low"})}}function r2e(n){n=ss(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const r of t.values)n.view[r]=Jm(n.view[r],"attribute");else n.view=Jm(n.view,"attribute");const i=Kj(n);return r=>{r.on(e,Uxe(i),{priority:n.converterPriority||"normal"})}}function s2e(n){n=ss(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const r of t.values)n.view[r]=L6(n.view[r]);else n.view=L6(n.view);const i=Kj(n);return r=>{r.on(e,Xxe(i),{priority:n.converterPriority||"normal"})}}function o2e(n){const t=Jm(n.view,"ui");return e=>{e.on(`addMarker:${n.model}`,qxe(t),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,Gxe(),{priority:n.converterPriority||"normal"})}}function a2e(n){n=ss(n);const t=n.model;let e=n.view;return e||(e=i=>({group:t,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${t}`,Kxe(e),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${t}`,Jxe(e),{priority:n.converterPriority||"normal"})}}function l2e(n){return t=>{t.on(`addMarker:${n.model}`,Qxe(n.view),{priority:n.converterPriority||"normal"}),t.on(`addMarker:${n.model}`,e2e(n.view),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,t2e(n.view),{priority:n.converterPriority||"normal"})}}function Gj(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Ct(n.attributes):[],children:!!n.children}}function Jm(n,t){return typeof n=="function"?n:(e,i)=>c2e(n,i,t)}function c2e(n,t,e){typeof n=="string"&&(n={name:n});let i;const r=t.writer,s=Object.assign({},n.attributes);if(e=="container")i=r.createContainerElement(n.name,s);else if(e=="attribute"){const o={priority:n.priority||zc.DEFAULT_PRIORITY};i=r.createAttributeElement(n.name,s,o)}else i=r.createUIElement(n.name,s);if(n.styles){const o=Object.keys(n.styles);for(const a of o)r.setStyle(a,n.styles[a],i)}if(n.classes){const o=n.classes;if(typeof o=="string")r.addClass(o,i);else for(const a of o)r.addClass(a,i)}return i}function Kj(n){return n.model.values?(t,e,i)=>{const r=n.view[t];return r?r(t,e,i):null}:n.view}function L6(n){return typeof n=="string"?t=>({key:n,value:t}):typeof n=="object"?n.value?()=>n:t=>({key:n.key,value:t}):n}function pT(n,t,e){const i=typeof n=="function"?n(t,e):n;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function u2e(n){return(t,e)=>{if(!t.is("element",n.name))return!1;if(e.type=="attribute"){if(n.attributes.includes(e.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function Yj(n){const t=u2e(n);return(e,i)=>{const r=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const s of i.changes){const o=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(!o||!t(o,s)){r.push(s);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const a=ie._createBefore(o);let l=r.length;for(let c=r.length-1;c>=0;c--){const d=r[c],p=(d.type=="attribute"?d.range.start:d.position).compareWith(a);if(p=="before"||d.type=="remove"&&p=="same")break;l=c}r.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}i.changes=r}}function Zj(n){return(t,e,i={})=>{const r=["insert"];for(const s of n.attributes)t.hasAttribute(s)&&r.push(`attribute:${s}`);return r.every(s=>e.test(t,s))?(i.preflight||r.forEach(s=>e.consume(t,s)),!0):!1}}function d2e(n,t,e){return(i,r)=>{const s=i.createContainerElement("$slot");let o=null;if(r==="children")o=Array.from(n.getChildren());else if(typeof r=="function")o=Array.from(n.getChildren()).filter(a=>r(a));else throw new M("conversion-slot-mode-unknown",e.dispatcher,{modeOrFilter:r});return t.set(s,o),s}}function f2e(n,t,e){const i=Array.from(t.values()).flat(),r=new Set(i);if(r.size!=i.length)throw new M("conversion-slot-filter-overlap",e.dispatcher,{element:n});if(r.size!=n.childCount)throw new M("conversion-slot-filter-incomplete",e.dispatcher,{element:n})}function h2e(n,t,e,i){e.mapper.on("modelToViewPosition",o,{priority:"highest"});let r=null,s=null;for([r,s]of t)Jj(n,s,e,i),e.writer.move(e.writer.createRangeIn(r),e.writer.createPositionBefore(r)),e.writer.remove(r);e.mapper.off("modelToViewPosition",o);function o(a,l){const c=l.modelPosition.nodeAfter,d=s.indexOf(c);d<0||(l.viewPosition=l.mapper.findPositionIn(r,d))}}function Jj(n,t,e,i){for(const r of t)m2e(n.root,r,e,i)||e.convertItem(r)}function m2e(n,t,e,i){const{writer:r,mapper:s}=e;if(!i.reconversion)return!1;const o=s.toViewElement(t);return!o||o.root==n||!e.canReuseView(o)?!1:(r.move(r.createRangeOn(o),s.toViewPosition(ie._createBefore(t))),!0)}function p2e(n,t,{preflight:e}={}){return e?t.test(n,"insert"):t.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Xj(n){const{schema:t,document:e}=n.model;for(const i of e.getRoots())if(i.isEmpty&&!t.checkChild(i,"$text")&&t.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function Qj(n,t,e){const i=e.createContext(n);return!(!e.checkChild(i,"paragraph")||!e.checkChild(i.push("paragraph"),t))}function ez(n,t){const e=t.createElement("paragraph");return t.insert(e,n),t.createPositionAt(e,0)}class g2e extends Uj{elementToElement(t){return this.add(tz(t))}elementToAttribute(t){return this.add(v2e(t))}attributeToAttribute(t){return this.add(y2e(t))}elementToMarker(t){return this.add(_2e(t))}dataToMarker(t){return this.add(x2e(t))}}function V6(){return(n,t,e)=>{if(!t.modelRange&&e.consumable.consume(t.viewItem,{name:!0})){const{modelRange:i,modelCursor:r}=e.convertChildren(t.viewItem,t.modelCursor);t.modelRange=i,t.modelCursor=r}}}function b2e(){return(n,t,{schema:e,consumable:i,writer:r})=>{let s=t.modelCursor;if(!i.test(t.viewItem))return;if(!e.checkChild(s,"$text")){if(!Qj(s,"$text",e)||t.viewItem.data.trim().length==0)return;s=ez(s,r)}i.consume(t.viewItem);const o=r.createText(t.viewItem.data);r.insert(o,s),t.modelRange=r.createRange(s,s.getShiftedBy(o.offsetSize)),t.modelCursor=t.modelRange.end}}function w2e(n,t){return(e,i)=>{const r=i.newSelection,s=[];for(const a of r.getRanges())s.push(t.toModelRange(a));const o=n.createSelection(s,{backward:r.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function tz(n){n=ss(n);const t=Gk(n),e=gT(n.view),i=e?`element:${e}`:"element";return r=>{r.on(i,t,{priority:n.converterPriority||"normal"})}}function v2e(n){n=ss(n),nz(n);const t=iz(n,!1),e=gT(n.view),i=e?`element:${e}`:"element";return r=>{r.on(i,t,{priority:n.converterPriority||"low"})}}function y2e(n){n=ss(n);let t=null;(typeof n.view=="string"||n.view.key)&&(t=E2e(n)),nz(n,t);const e=iz(n,!0);return i=>{i.on("element",e,{priority:n.converterPriority||"low"})}}function _2e(n){const t=A2e(n.model);return tz({...n,model:t})}function x2e(n){n=ss(n),n.model||(n.model=r=>r?n.view+":"+r:n.view);const t={view:n.view,model:n.model},e=Gk(F6(t,"start")),i=Gk(F6(t,"end"));return r=>{r.on(`element:${n.view}-start`,e,{priority:n.converterPriority||"normal"}),r.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const s=Tr.low,o=Tr.highest,a=Tr.get(n.converterPriority)/o;r.on("element",k2e(t),{priority:s+a})}}function k2e(n){return(t,e,i)=>{const r=`data-${n.view}`;if(!i.consumable.test(e.viewItem,{attributes:r+"-end-after"})&&!i.consumable.test(e.viewItem,{attributes:r+"-start-after"})&&!i.consumable.test(e.viewItem,{attributes:r+"-end-before"})&&!i.consumable.test(e.viewItem,{attributes:r+"-start-before"}))return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor)),i.consumable.consume(e.viewItem,{attributes:r+"-end-after"})&&s(e.modelRange.end,e.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(e.viewItem,{attributes:r+"-start-after"})&&s(e.modelRange.end,e.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(e.viewItem,{attributes:r+"-end-before"})&&s(e.modelRange.start,e.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(e.viewItem,{attributes:r+"-start-before"})&&s(e.modelRange.start,e.viewItem.getAttribute(r+"-start-before").split(","));function s(o,a){for(const l of a){const c=n.model(l,i),d=i.writer.createElement("$marker",{"data-name":c});i.writer.insert(d,o),e.modelCursor.isEqual(o)?e.modelCursor=e.modelCursor.getShiftedBy(1):e.modelCursor=e.modelCursor._getTransformedByInsertion(o,1),e.modelRange=e.modelRange._getTransformedByInsertion(o,1)[0]}}}}function gT(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Gk(n){const t=new Ki(n.view);return(e,i,r)=>{const s=t.match(i.viewItem);if(!s)return;const o=s.match;if(o.name=!0,!r.consumable.test(i.viewItem,o))return;const a=C2e(n.model,i.viewItem,r);a&&r.safeInsert(a,i.modelCursor)&&(r.consumable.consume(i.viewItem,o),r.convertChildren(i.viewItem,a),r.updateConversionResult(a,i))}}function C2e(n,t,e){return n instanceof Function?n(t,e):e.writer.createElement(n)}function E2e(n){typeof n.view=="string"&&(n.view={key:n.view});const t=n.view.key,e=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let i;return t=="class"||t=="style"?i={[t=="class"?"classes":"styles"]:e}:i={attributes:{[t]:e}},n.view.name&&(i.name=n.view.name),n.view=i,t}function nz(n,t=null){const e=t===null?!0:s=>s.getAttribute(t),i=typeof n.model!="object"?n.model:n.model.key,r=typeof n.model!="object"||typeof n.model.value>"u"?e:n.model.value;n.model={key:i,value:r}}function iz(n,t){const e=new Ki(n.view);return(i,r,s)=>{if(!r.modelRange&&t)return;const o=e.match(r.viewItem);if(!o||(S2e(n.view,r.viewItem)?o.match.name=!0:delete o.match.name,!s.consumable.test(r.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(r.viewItem,s):n.model.value;if(l===null)return;r.modelRange||Object.assign(r,s.convertChildren(r.viewItem,r.modelCursor)),T2e(r.modelRange,{key:a,value:l},t,s)&&(s.consumable.test(r.viewItem,{name:!0})&&(o.match.name=!0),s.consumable.consume(r.viewItem,o.match))}}function S2e(n,t){const e=typeof n=="function"?n(t):n;return typeof e=="object"&&!gT(e)?!1:!e.classes&&!e.attributes&&!e.styles}function T2e(n,t,e,i){let r=!1;for(const s of Array.from(n.getItems({shallow:e})))i.schema.checkAttribute(s,t.key)&&(r=!0,!s.hasAttribute(t.key)&&i.writer.setAttribute(t.key,t.value,s));return r}function A2e(n){return(t,e)=>{const i=typeof n=="string"?n:n(t,e);return e.writer.createElement("$marker",{"data-name":i})}}function F6(n,t){const e=(i,r)=>{const s=i.getAttribute("name"),o=n.model(s,r);return r.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${t}`,model:e}}function I2e(n){n.document.registerPostFixer(t=>P2e(t,n))}function P2e(n,t){const e=t.document.selection,i=t.schema,r=[];let s=!1;for(const o of e.getRanges()){const a=rz(o,i);a&&!a.isEqual(o)?(r.push(a),s=!0):r.push(o)}return s&&n.setSelection(M2e(r),{backward:e.isBackward}),!1}function rz(n,t){return n.isCollapsed?R2e(n,t):O2e(n,t)}function R2e(n,t){const e=n.start,i=t.getNearestSelectionRange(e);if(!i){const s=e.getAncestors().reverse().find(o=>t.isObject(o));return s?G._createOn(s):null}if(!i.isCollapsed)return i;const r=i.start;return e.isEqual(r)?null:new G(r)}function O2e(n,t){const{start:e,end:i}=n,r=t.checkChild(e,"$text"),s=t.checkChild(i,"$text"),o=t.getLimitElement(e),a=t.getLimitElement(i);if(o===a){if(r&&s)return null;if(N2e(e,i,t)){const h=e.nodeAfter&&t.isSelectable(e.nodeAfter)?null:t.getNearestSelectionRange(e,"forward"),b=i.nodeBefore&&t.isSelectable(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward"),_=h?h.start:e,x=b?b.end:i;return new G(_,x)}}const l=o&&!o.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const d=e.nodeAfter&&i.nodeBefore&&e.nodeAfter.parent===i.nodeBefore.parent,h=l&&(!d||!j6(e.nodeAfter,t)),p=c&&(!d||!j6(i.nodeBefore,t));let b=e,_=i;return h&&(b=ie._createBefore(B6(o,t))),p&&(_=ie._createAfter(B6(a,t))),new G(b,_)}return null}function B6(n,t){let e=n,i=e;for(;t.isLimit(i)&&i.parent;)e=i,i=i.parent;return e}function N2e(n,t,e){const i=n.nodeAfter&&!e.isLimit(n.nodeAfter)||e.checkChild(n,"$text"),r=t.nodeBefore&&!e.isLimit(t.nodeBefore)||e.checkChild(t,"$text");return i||r}function M2e(n){const t=[...n],e=new Set;let i=1;for(;i<t.length;){const s=t[i],o=t.slice(0,i);for(const[a,l]of o.entries())if(!e.has(a)){if(s.isEqual(l))e.add(a);else if(s.isIntersecting(l)){e.add(a),e.add(i);const c=s.getJoined(l);t.push(c)}}i++}return t.filter((s,o)=>!e.has(o))}function j6(n,t){return n&&t.isSelectable(n)}class D2e extends Ot(){constructor(e,i){super();g(this,"model");g(this,"view");g(this,"mapper");g(this,"downcastDispatcher");this.model=e,this.view=new _xe(i),this.mapper=new jj,this.downcastDispatcher=new zj({mapper:this.mapper,schema:e.schema});const r=this.model.document,s=r.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(a=>{this.downcastDispatcher.convertChanges(r.differ,o,a),this.downcastDispatcher.convertSelection(s,o,a)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",w2e(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",L2e(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",Hj(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Wj(),{priority:"lowest"}),this.downcastDispatcher.on("remove",Bxe(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",$xe()),this.downcastDispatcher.on("selection",jxe(),{priority:"low"}),this.downcastDispatcher.on("selection",zxe(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(a=>{if(a.rootName=="$graveyard")return null;const l=new Aj(this.view.document,a.name);return l.rootName=a.rootName,this.mapper.bindElements(a,l),l})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,r=this.model.markers.get(i);if(!r)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function L2e(n,t,e){return(i,r)=>{if(!(e.document.isComposing&&!qe.isAndroid))for(let s=0;s<r.targetRanges.length;s++){const o=r.targetRanges[s],a=n.toModelRange(o),l=rz(a,t);!l||l.isEqual(a)||(r.targetRanges[s]=n.toViewRange(l))}}}class om{constructor(){g(this,"_consumables",new Map)}add(t,e){let i;if(t.is("$text")||t.is("documentFragment")){this._consumables.set(t,!0);return}this._consumables.has(t)?i=this._consumables.get(t):(i=new V2e(t),this._consumables.set(t,i)),i.add(e)}test(t,e){const i=this._consumables.get(t);return i===void 0?null:t.is("$text")||t.is("documentFragment")?i:i.test(e)}consume(t,e){return this.test(t,e)?(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0):!1}revert(t,e){const i=this._consumables.get(t);i!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):i.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},i=t.getAttributeKeys();for(const o of i)o=="style"||o=="class"||e.attributes.push(o);const r=t.getClassNames();for(const o of r)e.classes.push(o);const s=t.getStyleNames();for(const o of s)e.styles.push(o);return e}static createFrom(t,e){if(e||(e=new om),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,om.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const i of t.getChildren())e=om.createFrom(i,e);return e}}const O0=["attributes","classes","styles"];class V2e{constructor(t){g(this,"element");g(this,"_canConsumeName");g(this,"_consumables");this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of O0)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of O0)if(e in t){const i=this._test(e,t[e]);if(i!==!0)return i}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of O0)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of O0)e in t&&this._revert(e,t[e])}_add(t,e){const i=Ct(e),r=this._consumables[t];for(const s of i){if(t==="attributes"&&(s==="class"||s==="style"))throw new M("viewconsumable-invalid-attribute",this);if(r.set(s,!0),t==="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(s))r.set(o,!0)}}_test(t,e){const i=Ct(e),r=this._consumables[t];for(const s of i)if(t==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles",a=this._test(o,[...this._consumables[o].keys()]);if(a!==!0)return a}else{const o=r.get(s);if(o===void 0)return null;if(!o)return!1}return!0}_consume(t,e){const i=Ct(e),r=this._consumables[t];for(const s of i)if(t==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles";this._consume(o,[...this._consumables[o].keys()])}else if(r.set(s,!1),t=="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(s))r.set(o,!1)}_revert(t,e){const i=Ct(e),r=this._consumables[t];for(const s of i)if(t==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles";this._revert(o,[...this._consumables[o].keys()])}else r.get(s)===!1&&r.set(s,!0)}}class F2e extends Ot(){constructor(){super();g(this,"_sourceDefinitions",{});g(this,"_attributeProperties",Object.create(null));g(this,"_customChildChecks",new Map);g(this,"_customAttributeChecks",new Map);g(this,"_genericCheckSymbol",Symbol("$generic"));g(this,"_compiledDefinitions");this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new Nl(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new Nl(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new M("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new M("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return typeof e=="string"?i=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?i="$text":i=e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!!(i&&i.isBlock)}isLimit(e){const i=this.getDefinition(e);return i?!!(i.isLimit||i.isObject):!1}isObject(e){const i=this.getDefinition(e);return i?!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent):!1}isInline(e){const i=this.getDefinition(e);return!!(i&&i.isInline)}isSelectable(e){const i=this.getDefinition(e);return i?!!(i.isSelectable||i.isObject):!1}isContent(e){const i=this.getDefinition(e);return i?!!(i.isContent||i.isObject):!1}checkChild(e,i){return i?this._checkContextMatch(e,i):!1}checkAttribute(e,i){const r=this.getDefinition(e.last);if(!r)return!1;const s=this._evaluateAttributeChecks(e,i);return s!==void 0?s:r.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof ie){const r=e.nodeBefore,s=e.nodeAfter;if(!(r instanceof dn))throw new M("schema-check-merge-no-element-before",this);if(!(s instanceof dn))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(r,s)}if(this.isLimit(e)||this.isLimit(i))return!1;for(const r of i.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e,i){const r=i!==void 0?i:this._genericCheckSymbol,s=this._customChildChecks.get(r)||[];s.push(e),this._customChildChecks.set(r,s)}addAttributeCheck(e,i){const r=i!==void 0?i:this._genericCheckSymbol,s=this._customAttributeChecks.get(r)||[];s.push(e),this._customAttributeChecks.set(r,s)}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let i;for(e instanceof ie?i=e.parent:i=(e instanceof G?[e]:Array.from(e.getRanges())).reduce((s,o)=>{const a=o.getCommonAncestor();return s?s.getCommonAncestor(a,{includeSelf:!0}):a},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new tn("",e.getAttributes())];return this.checkAttribute(s,i)}else{const r=e.getRanges();for(const s of r)for(const o of s)if(this.checkAttribute(o.item,i))return!0}return!1}*getValidRanges(e,i){e=eke(e);for(const r of e)yield*this._getValidRangesForRange(r,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new G(e);let r,s;const o=e.getAncestors().reverse().find(a=>this.isLimit(a))||e.root;(i=="both"||i=="backward")&&(r=new da({boundaries:G._createIn(o),startPosition:e,direction:"backward"})),(i=="both"||i=="forward")&&(s=new da({boundaries:G._createIn(o),startPosition:e}));for(const a of Q2e(r,s)){const l=a.walker==r?"elementEnd":"elementStart",c=a.value;if(c.type==l&&this.isObject(c.item))return G._createOn(c.item);if(this.checkChild(c.nextPosition,"$text"))return new G(c.nextPosition)}return null}findAllowedParent(e,i){let r=e.parent;for(;r;){if(this.checkChild(r,i))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,i,r){const s=r.model;for(const[o,a]of Object.entries(i))s.schema.checkAttribute(e,o)&&r.setAttribute(o,a,e)}removeDisallowedAttributes(e,i){for(const r of e)if(r.is("$text"))z6(this,r,i);else{const o=G._createIn(r).getPositions();for(const a of o){const l=a.nodeBefore||a.parent;z6(this,l,i)}}}getAttributesWithProperty(e,i,r){const s={};for(const[o,a]of e.getAttributes()){const l=this.getAttributeProperties(o);l[i]!==void 0&&(r===void 0||r===l[i])&&(s[o]=a)}return s}createContext(e){return new Nl(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,r=Object.keys(i);for(const o of r)e[o]=B2e(i[o],o);const s=Object.values(e);for(const o of s)j2e(e,o),z2e(e,o),$2e(e,o),U2e(e,o);for(const o of s)H2e(e,o);for(const o of s)W2e(e,o);for(const o of s)q2e(e,o);for(const o of s)K2e(e,o);for(const o of s)Y2e(e,o);this._compiledDefinitions=G2e(e)}_checkContextMatch(e,i){const r=e.last;let s=this._evaluateChildChecks(e,i);if(s=s!==void 0?s:i.allowIn.includes(r.name),!s)return!1;const o=this.getDefinition(r),a=e.trimLast();return o?a.length==0?!0:this._checkContextMatch(a,o):!1}_evaluateChildChecks(e,i){const r=this._customChildChecks.get(this._genericCheckSymbol)||[],s=this._customChildChecks.get(i.name)||[];for(const o of[...r,...s]){const a=o(e,i);if(a!==void 0)return a}}_evaluateAttributeChecks(e,i){const r=this._customAttributeChecks.get(this._genericCheckSymbol)||[],s=this._customAttributeChecks.get(i)||[];for(const o of[...r,...s]){const a=o(e,i);if(a!==void 0)return a}}*_getValidRangesForRange(e,i){let r=e.start,s=e.start;for(const o of e.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(G._createIn(o),i)),this.checkAttribute(o,i)||(r.isEqual(s)||(yield new G(r,s)),r=ie._createAfter(o)),s=ie._createAfter(o);r.isEqual(s)||(yield new G(r,s))}findOptimalInsertionRange(e,i){const r=e.getSelectedElement();if(r&&this.isObject(r)&&!this.isInline(r))return i=="before"||i=="after"?new G(ie._createAt(r,i)):G._createOn(r);const s=Ut(e.getSelectedBlocks());if(!s)return new G(e.focus);if(s.isEmpty)return new G(ie._createAt(s,0));const o=ie._createAfter(s);return e.focus.isTouching(o)?new G(o):new G(ie._createBefore(s))}}class Nl{constructor(t){g(this,"_items");if(t instanceof Nl)return t;let e;typeof t=="string"?e=[t]:Array.isArray(t)?e=t:e=t.getAncestors({includeSelf:!0}),this._items=e.map(X2e)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Nl([t]);return e._items=[...this._items,...e._items],e}trimLast(){const t=new Nl([]);return t._items=this._items.slice(0,-1),t}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function B2e(n,t){const e={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return Z2e(n,e),Qs(n,e,"allowIn"),Qs(n,e,"allowChildren"),Qs(n,e,"disallowIn"),Qs(n,e,"disallowChildren"),Qs(n,e,"allowContentOf"),Qs(n,e,"allowWhere"),Qs(n,e,"allowAttributes"),Qs(n,e,"disallowAttributes"),Qs(n,e,"allowAttributesOf"),Qs(n,e,"inheritTypesFrom"),J2e(n,e),e}function j2e(n,t){for(const e of t.allowIn){const i=n[e];i?i.allowChildren.add(t.name):t.allowIn.delete(e)}}function z2e(n,t){for(const e of t.allowChildren){const i=n[e];i?i.allowIn.add(t.name):t.allowChildren.delete(e)}}function $2e(n,t){for(const e of t.disallowIn){const i=n[e];i?i.disallowChildren.add(t.name):t.disallowIn.delete(e)}}function U2e(n,t){for(const e of t.disallowChildren){const i=n[e];i?i.disallowIn.add(t.name):t.disallowChildren.delete(e)}}function H2e(n,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function W2e(n,t){for(const e of t.allowContentOf){const i=n[e];i&&(i.disallowChildren.forEach(r=>{t.allowChildren.has(r)||(t.disallowChildren.add(r),n[r].disallowIn.add(t.name))}),i.allowChildren.forEach(r=>{t.disallowChildren.has(r)||(t.allowChildren.add(r),n[r].allowIn.add(t.name))}))}}function q2e(n,t){for(const e of t.allowWhere){const i=n[e];i&&(i.disallowIn.forEach(r=>{t.allowIn.has(r)||(t.disallowIn.add(r),n[r].disallowChildren.add(t.name))}),i.allowIn.forEach(r=>{t.disallowIn.has(r)||(t.allowIn.add(r),n[r].allowChildren.add(t.name))}))}}function G2e(n){const t={};for(const e of Object.values(n))t[e.name]={name:e.name,isBlock:!!e.isBlock,isContent:!!e.isContent,isInline:!!e.isInline,isLimit:!!e.isLimit,isObject:!!e.isObject,isSelectable:!!e.isSelectable,allowIn:Array.from(e.allowIn).filter(i=>!!n[i]),allowChildren:Array.from(e.allowChildren).filter(i=>!!n[i]),allowAttributes:Array.from(e.allowAttributes)};return t}function K2e(n,t){for(const e of t.allowAttributesOf){const i=n[e];if(!i)return;i.allowAttributes.forEach(r=>{t.disallowAttributes.has(r)||t.allowAttributes.add(r)})}}function Y2e(n,t){for(const e of t.inheritTypesFrom){const i=n[e];if(i){const r=Object.keys(i).filter(s=>s.startsWith("is"));for(const s of r)s in t||(t[s]=i[s])}}}function Z2e(n,t){for(const e of n){const i=Object.keys(e).filter(r=>r.startsWith("is"));for(const r of i)t[r]=!!e[r]}}function Qs(n,t,e){for(const i of n){let r=i[e];typeof r=="string"&&(r=[r]),Array.isArray(r)&&r.forEach(s=>t[e].add(s))}}function J2e(n,t){for(const e of n){const i=e.inheritAllFrom;i&&(t.allowContentOf.add(i),t.allowWhere.add(i),t.allowAttributesOf.add(i),t.inheritTypesFrom.add(i))}}function X2e(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(t){return n.getAttribute(t)}}}function*Q2e(n,t){let e=!1;for(;!e;){if(e=!0,n){const i=n.next();i.done||(e=!1,yield{walker:n,value:i.value})}if(t){const i=t.next();i.done||(e=!1,yield{walker:t,value:i.value})}}}function*eke(n){for(const t of n)yield*t.getMinimalFlatRanges()}function z6(n,t,e){for(const i of t.getAttributeKeys())n.checkAttribute(t,i)||e.removeAttribute(i,t)}class tke extends $t(){constructor(e){super();g(this,"conversionApi");g(this,"_splitParts",new Map);g(this,"_cursorParents",new Map);g(this,"_modelCursor",null);g(this,"_emptyElementsToKeep",new Set);this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(i,r)=>this._convertItem(i,r),convertChildren:(i,r)=>this._convertChildren(i,r),safeInsert:(i,r)=>this._safeInsert(i,r),updateConversionResult:(i,r)=>this._updateConversionResult(i,r),splitToAllowedParent:(i,r)=>this._splitToAllowedParent(i,r),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)}}convert(e,i,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=ike(r,i),this.conversionApi.writer=i,this.conversionApi.consumable=om.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),o=i.createDocumentFragment();if(s){this._removeEmptyElements();const a=this._modelCursor.parent,l=a._removeChildren(0,a.childCount);o._insertChild(0,l),o.markers=nke(o,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,i){const r={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof G))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,i){let r=i.is("position")?i:ie._createAt(i,0);const s=new G(r);for(const o of Array.from(e.getChildren())){const a=this._convertItem(o,r);a.modelRange instanceof G&&(s.end=a.modelRange.end,r=a.modelCursor)}return{modelRange:s,modelCursor:r}}_safeInsert(e,i){const r=this._splitToAllowedParent(e,i);return r?(this.conversionApi.writer.insert(e,r.position),!0):!1}_updateConversionResult(e,i){const r=this._getSplitParts(e),s=this.conversionApi.writer;i.modelRange||(i.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(r[r.length-1])));const o=this._cursorParents.get(e);o?i.modelCursor=s.createPositionAt(o,0):i.modelCursor=i.modelRange.end}_splitToAllowedParent(e,i){const{schema:r,writer:s}=this.conversionApi;let o=r.findAllowedParent(i,e);if(o){if(o===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return Qj(i,e,r)?{position:ez(i,s)}:null;const a=this.conversionApi.writer.split(i,o),l=[];for(const d of a.range.getWalker())if(d.type=="elementEnd")l.push(d.item);else{const h=l.pop(),p=d.item;this._registerSplitPair(h,p)}const c=a.range.end.parent;return this._cursorParents.set(e,c),{position:a.position,cursorParent:c}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(i,r),r.push(i)}_getSplitParts(e){let i;return this._splitParts.has(e)?i=this._splitParts.get(e):i=[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const i of this._splitParts.keys())if(i.isEmpty&&!this._emptyElementsToKeep.has(i)){const r=e.get(i.parent)||[];r.push(i),this._splitParts.delete(i),e.set(i.parent,r)}for(const[i,r]of e)i._removeChildrenArray(r);e.size&&this._removeEmptyElements()}}function nke(n,t){const e=new Set,i=new Map,r=G._createIn(n).getItems();for(const s of r)s.is("element","$marker")&&e.add(s);for(const s of e){const o=s.getAttribute("data-name"),a=t.createPositionBefore(s);i.has(o)?i.get(o).end=a.clone():i.set(o,new G(a.clone())),t.remove(s)}return i}function ike(n,t){let e;for(const i of new Nl(n)){const r={};for(const o of i.getAttributeKeys())r[o]=i.getAttribute(o);const s=t.createElement(i.name,r);e&&t.insert(s,e),e=ie._createAt(s,0)}return e}class rke{getHtml(t){const i=_e.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(t),i.innerHTML}}class bT{constructor(t){g(this,"domParser");g(this,"domConverter");g(this,"htmlWriter");g(this,"skipComments",!0);this.domParser=new DOMParser,this.domConverter=new cv(t,{renderingMode:"data"}),this.htmlWriter=new rke}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4))||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),i=e.createDocumentFragment(),r=e.body.childNodes;for(;r.length>0;)i.appendChild(r[0]);return i}}class ske extends $t(){constructor(e,i){super();g(this,"model");g(this,"mapper");g(this,"downcastDispatcher");g(this,"upcastDispatcher");g(this,"viewDocument");g(this,"stylesProcessor");g(this,"htmlProcessor");g(this,"processor");g(this,"_viewWriter");this.model=e,this.mapper=new jj,this.downcastDispatcher=new zj({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",Hj(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Wj(),{priority:"lowest"}),this.upcastDispatcher=new tke({schema:e.schema}),this.viewDocument=new av(i),this.stylesProcessor=i,this.htmlProcessor=new bT(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new hT(this.viewDocument),this.upcastDispatcher.on("text",b2e(),{priority:"lowest"}),this.upcastDispatcher.on("element",V6(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",V6(),{priority:"lowest"}),Ot().prototype.decorate.call(this,"init"),Ot().prototype.decorate.call(this,"set"),Ot().prototype.decorate.call(this,"get"),Ot().prototype.decorate.call(this,"toView"),Ot().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Xj)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([i]))throw new M("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(i);return s.isAttached()||ht("datacontroller-get-detached-root",this),r==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,i={}){const r=this.toView(e,i);return this.processor.toData(r)}toView(e,i={}){const r=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const o=G._createIn(e),a=new $c(r);this.mapper.bindElements(e,a);const l=e.is("documentFragment")?e.markers:oke(e);return this.downcastDispatcher.convert(o,l,s,i),a}init(e){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const s of Object.keys(i)){const o=this.model.document.getRoot(s);r.insert(this.parse(i[s],o),o,0)}}),Promise.resolve()}set(e,i={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const o of Object.keys(r)){const a=this.model.document.getRoot(o);s.remove(s.createRangeIn(a)),s.insert(this.parse(r[o],a),a,0)}})}parse(e,i="$root"){const r=this.processor.toView(e);return this.toModel(r,i)}toModel(e,i="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}function oke(n){const t=[],e=n.root.document;if(!e)return new Map;const i=G._createIn(n);for(const r of e.model.markers){const s=r.getRange(),o=s.isCollapsed,a=s.start.isEqual(i.start)||s.end.isEqual(i.end);if(o&&a)t.push([r.name,s]);else{const l=i.getIntersection(s);l&&t.push([r.name,l])}}return t.sort(([r,s],[o,a])=>{if(s.end.compareWith(a.start)!=="after")return 1;if(s.start.compareWith(a.end)!=="before")return-1;switch(s.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(s.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(r)}}}),new Map(t)}class ake{constructor(t,e){g(this,"_helpers",new Map);g(this,"_downcast");g(this,"_upcast");this._downcast=Ct(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Ct(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const i=this._downcast.includes(e);if(!this._upcast.includes(e)&&!i)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:i})}for(t){if(!this._helpers.has(t))throw new M("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:i}of wx(t))this.for("upcast").elementToElement({model:e,view:i,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:i}of wx(t))this.for("upcast").elementToAttribute({view:i,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:i}of wx(t))this.for("upcast").attributeToAttribute({view:i,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:i}){if(this._helpers.has(t))throw new M("conversion-group-exists",this);const r=i?new Fxe(e):new g2e(e);this._helpers.set(t,r)}}function*wx(n){if(n.model.values)for(const t of n.model.values){const e={key:n.model.key,value:t},i=n.view[t],r=n.upcastAlso?n.upcastAlso[t]:void 0;yield*$6(e,i,r)}else yield*$6(n.model,n.view,n.upcastAlso)}function*$6(n,t,e){if(yield{model:n,view:t},e)for(const i of Ct(e))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Dr{constructor(t){g(this,"baseVersion");g(this,"isDocumentOperation");g(this,"batch");this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function wT(n,t){const e=oz(t),i=e.reduce((o,a)=>o+a.offsetSize,0),r=n.parent;ep(n);const s=n.index;return r._insertChild(s,e),Qm(r,s+e.length),Qm(r,s),new G(n,n.getShiftedBy(i))}function sz(n){if(!n.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const t=n.start.parent;ep(n.start),ep(n.end);const e=t._removeChildren(n.start.index,n.end.index-n.start.index);return Qm(t,n.start.index),e}function Xm(n,t){if(!n.isFlat)throw new M("operation-utils-move-range-not-flat",this);const e=sz(n);return t=t._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),wT(t,e)}function lke(n,t,e){ep(n.start),ep(n.end);for(const i of n.getItems({shallow:!0})){const r=i.is("$textProxy")?i.textNode:i;e!==null?r._setAttribute(t,e):r._removeAttribute(t),Qm(r.parent,r.index)}Qm(n.end.parent,n.end.index)}function oz(n){const t=[];function e(i){if(typeof i=="string")t.push(new tn(i));else if(i instanceof ks)t.push(new tn(i.data,i.getAttributes()));else if(i instanceof ku)t.push(i);else if(Mr(i))for(const r of i)e(r)}e(n);for(let i=1;i<t.length;i++){const r=t[i],s=t[i-1];r instanceof tn&&s instanceof tn&&az(r,s)&&(t.splice(i-1,2,new tn(s.data+r.data,s.getAttributes())),i--)}return t}function Qm(n,t){const e=n.getChild(t-1),i=n.getChild(t);if(e&&i&&e.is("$text")&&i.is("$text")&&az(e,i)){const r=new tn(e.data+i.data,e.getAttributes());n._removeChildren(t-1,2),n._insertChild(t-1,r)}}function ep(n){const t=n.textNode,e=n.parent;if(t){const i=n.offset-t.startOffset,r=t.index;e._removeChildren(r,1);const s=new tn(t.data.substr(0,i),t.getAttributes()),o=new tn(t.data.substr(i),t.getAttributes());e._insertChild(r,[s,o])}}function az(n,t){const e=n.getAttributes(),i=t.getAttributes();for(const r of e){if(r[1]!==t.getAttribute(r[0]))return!1;i.next()}return i.next().done}class Nt extends Dr{constructor(e,i,r,s){super(s);g(this,"sourcePosition");g(this,"howMany");g(this,"targetPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[G._createFromPositionAndShift(this.sourcePosition,this.howMany),G._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Nt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Nt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,r=this.sourcePosition.offset,s=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(e===i&&r<s&&s<r+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Ri(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=r&&this.targetPosition.path[o]<r+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){Xm(G._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const r=ie.fromJSON(e.sourcePosition,i),s=ie.fromJSON(e.targetPosition,i);return new this(r,e.howMany,s,e.baseVersion)}}class pi extends Dr{constructor(e,i,r){super(r);g(this,"position");g(this,"nodes");g(this,"shouldReceiveAttributes");this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new sm(oz(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new sm([...this.nodes].map(r=>r._clone(!0))),i=new pi(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new ie(e,[0]);return new Nt(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new sm([...e].map(i=>i._clone(!0))),wT(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const r=[];for(const o of e.nodes)o.name?r.push(dn.fromJSON(o)):r.push(tn.fromJSON(o));const s=new pi(ie.fromJSON(e.position,i),r,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class Ht extends Dr{constructor(e,i,r,s,o){super(o);g(this,"splitPosition");g(this,"howMany");g(this,"insertionPosition");g(this,"graveyardPosition");this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=r,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new ie(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.splitPosition,e)}get affectedSelectable(){const e=[G._createFromPositionAndShift(this.splitPosition,0),G._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(G._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ht(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new ie(e,[0]);return new Rn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new M("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}else throw new M("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Xm(G._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();wT(this.insertionPosition,r)}const i=new G(ie._createAt(e,this.splitPosition.offset),ie._createAt(e,e.maxOffset));Xm(i,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new ie(e.root,i,"toPrevious")}static fromJSON(e,i){const r=ie.fromJSON(e.splitPosition,i),s=ie.fromJSON(e.insertionPosition,i),o=e.graveyardPosition?ie.fromJSON(e.graveyardPosition,i):null;return new this(r,e.howMany,s,o,e.baseVersion)}}class Rn extends Dr{constructor(e,i,r,s,o){super(o);g(this,"sourcePosition");g(this,"howMany");g(this,"targetPosition");g(this,"graveyardPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new ie(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[G._createOn(e),G._createFromPositionAndShift(this.targetPosition,0),G._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Rn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),r=new ie(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new Ht(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(e.parent)if(i.parent){if(this.howMany!=e.maxOffset)throw new M("merge-operation-how-many-invalid",this)}else throw new M("merge-operation-target-position-invalid",this);else throw new M("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,i=G._createIn(e);Xm(i,this.targetPosition),Xm(G._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const r=ie.fromJSON(e.sourcePosition,i),s=ie.fromJSON(e.targetPosition,i),o=ie.fromJSON(e.graveyardPosition,i);return new this(r,e.howMany,s,o,e.baseVersion)}}class Hi extends Dr{constructor(e,i,r,s,o,a){super(a);g(this,"name");g(this,"oldRange");g(this,"newRange");g(this,"affectsData");g(this,"_markers");this.name=e,this.oldRange=i?i.clone():null,this.newRange=r?r.clone():null,this.affectsData=o,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Hi(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Hi(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new Hi(e.name,e.oldRange?G.fromJSON(e.oldRange,i):null,e.newRange?G.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}class Fn extends Dr{constructor(e,i,r,s,o){super(o);g(this,"range");g(this,"key");g(this,"oldValue");g(this,"newValue");this.range=e.clone(),this.key=i,this.oldValue=r===void 0?null:r,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Fn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Fn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!nf(e.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){nf(this.oldValue,this.newValue)||lke(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new Fn(G.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ni extends Dr{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ni(this.baseVersion)}getReversed(){return new ni(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class fr extends Dr{constructor(e,i,r,s){super(s);g(this,"position");g(this,"oldName");g(this,"newName");this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new fr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new fr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof dn){if(e.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}else throw new M("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new fr(ie.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class wa extends Dr{constructor(e,i,r,s,o){super(o);g(this,"root");g(this,"key");g(this,"oldValue");g(this,"newValue");this.root=e,this.key=i,this.oldValue=r===void 0?null:r,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new wa(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new wa(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new wa(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ho extends Dr{constructor(e,i,r,s,o){super(o);g(this,"rootName");g(this,"elementName");g(this,"isAdd");g(this,"_document");if(this.rootName=e,this.elementName=i,this.isAdd=r,this._document=s,!this._document.getRoot(this.rootName)){const a=this._document.createRoot(this.elementName,this.rootName);a._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new ho(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new ho(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new ho(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const os={};os[Fn.className]=Fn;os[pi.className]=pi;os[Hi.className]=Hi;os[Nt.className]=Nt;os[ni.className]=ni;os[Dr.className]=Dr;os[fr.className]=fr;os[wa.className]=wa;os[ho.className]=ho;os[Ht.className]=Ht;os[Rn.className]=Rn;class cke{static fromJSON(t,e){return os[t.__className].fromJSON(t,e)}}const Kk=new Map;function At(n,t,e){let i=Kk.get(n);i||(i=new Map,Kk.set(n,i)),i.set(t,e)}function uke(n,t){const e=Kk.get(n);return e&&e.has(t)?e.get(t):dke}function dke(n){return[n]}function U6(n,t,e={}){const i=uke(n.constructor,t.constructor);try{return n=n.clone(),i(n,t,e)}catch(r){throw r}}function fke(n,t,e){n=n.slice(),t=t.slice();const i=new hke(e.document,e.useRelations,e.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(t);const r=i.originalOperations;if(n.length==0||t.length==0)return{operationsA:n,operationsB:t,originalOperations:r};const s=new WeakMap;for(const l of n)s.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:t.length};let a=0;for(;a<n.length;){const l=n[a],c=s.get(l);if(c==t.length){a++;continue}const d=t[c],h=U6(l,d,i.getContext(l,d,!0)),p=U6(d,l,i.getContext(d,l,!1));i.updateRelation(l,d),i.setOriginalOperations(h,l),i.setOriginalOperations(p,d);for(const b of h)s.set(b,c+p.length);n.splice(a,1,...h),t.splice(c,1,...p)}return W6(n),W6(t),H6(n,o.nextBaseVersionB),H6(t,o.nextBaseVersionA),{operationsA:n,operationsB:t,originalOperations:r}}class hke{constructor(t,e,i=!1){g(this,"originalOperations");g(this,"_history");g(this,"_useRelations");g(this,"_forceWeakRemove");g(this,"_relations");this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(t,e=null){const i=e?this.originalOperations.get(e):null;for(const r of t)this.originalOperations.set(r,i||r)}updateRelation(t,e){if(t instanceof Nt)e instanceof Rn?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof Nt&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof Ht){if(e instanceof Rn)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof Nt)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const i=G._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const r=i.end.offset-t.splitPosition.offset,s=t.splitPosition.offset-i.start.offset;this._setRelation(t,e,{howMany:r,offset:s})}}}else if(t instanceof Rn)e instanceof Rn?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof Ht?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof Nt&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof Hi){const i=t.newRange;if(!i)return;if(e instanceof Rn){const r=i.start.isEqual(e.targetPosition),s=i.start.isEqual(e.deletionPosition),o=i.end.isEqual(e.deletionPosition),a=i.end.isEqual(e.sourcePosition);(r||s||o||a)&&this._setRelation(t,e,{wasInLeftElement:r,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(t,e,i){return{aIsStrong:i,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const i=this.originalOperations.get(e),r=this._history.getUndoneOperation(i);if(!r)return null;const s=this.originalOperations.get(t),o=this._relations.get(s);return o&&o.get(r)||null}_setRelation(t,e,i){const r=this.originalOperations.get(t),s=this.originalOperations.get(e);let o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(s,i)}}function H6(n,t){for(const e of n)e.baseVersion=t++}function W6(n){const t=new Map;for(let e=0;e<n.length;e++){const i=n[e];i instanceof Hi&&(i.baseVersion!==-1?t.set(i.name,{op:i,ranges:i.newRange?[i.newRange]:[]}):(i.newRange&&t.get(i.name).ranges.push(i.newRange),n.splice(e,1),e--))}for(const{op:e,ranges:i}of t.values())i.length?e.newRange=G._createFromRanges(i):e.newRange=null}At(Fn,Fn,(n,t,e)=>{if(n.key===t.key&&n.range.start.hasSameParentAs(t.range.start)){const i=n.range.getDifference(t.range).map(s=>new Fn(s,n.key,n.oldValue,n.newValue,0)),r=n.range.getIntersection(t.range);return r&&e.aIsStrong&&i.push(new Fn(r,t.key,t.newValue,n.newValue,0)),i.length==0?[new ni(0)]:i}else return[n]});At(Fn,pi,(n,t)=>{if(n.range.start.hasSameParentAs(t.position)&&n.range.containsPosition(t.position)){const i=n.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(r=>new Fn(r,n.key,n.oldValue,n.newValue,n.baseVersion));if(t.shouldReceiveAttributes){const r=lz(t,n.key,n.oldValue);r&&i.unshift(r)}return i}return n.range=n.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[n]});function lz(n,t,e){const r=n.nodes.getNode(0).getAttribute(t);if(r==e)return null;const s=new G(n.position,n.position.getShiftedBy(n.howMany));return new Fn(s,t,r,e,0)}At(Fn,Rn,(n,t)=>{const e=[];n.range.start.hasSameParentAs(t.deletionPosition)&&(n.range.containsPosition(t.deletionPosition)||n.range.start.isEqual(t.deletionPosition))&&e.push(G._createFromPositionAndShift(t.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(t);return i.isCollapsed||e.push(i),e.map(r=>new Fn(r,n.key,n.oldValue,n.newValue,n.baseVersion))});At(Fn,Nt,(n,t)=>mke(n.range,t).map(i=>new Fn(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function mke(n,t){const e=G._createFromPositionAndShift(t.sourcePosition,t.howMany);let i=null,r=[];e.containsRange(n,!0)?i=n:n.start.hasSameParentAs(e.start)?(r=n.getDifference(e),i=n.getIntersection(e)):r=[n];const s=[];for(let o of r){o=o._getTransformedByDeletion(t.sourcePosition,t.howMany);const a=t.getMovedRangeStart(),l=o.start.hasSameParentAs(a),c=o._getTransformedByInsertion(a,t.howMany,l);s.push(...c)}return i&&s.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),s}At(Fn,Ht,(n,t)=>{if(n.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(t.splitPosition)&&n.range.containsPosition(t.splitPosition)){const e=n.clone();return e.range=new G(t.moveTargetPosition.clone(),n.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),n.range.end=t.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,e]}return n.range=n.range._getTransformedBySplitOperation(t),[n]});At(pi,Fn,(n,t)=>{const e=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(n.position)){const i=lz(n,t.key,t.newValue);i&&e.push(i)}return e});At(pi,pi,(n,t,e)=>n.position.isEqual(t.position)&&e.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(t),[n]));At(pi,Nt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));At(pi,Ht,(n,t)=>(n.position=n.position._getTransformedBySplitOperation(t),[n]));At(pi,Rn,(n,t)=>(n.position=n.position._getTransformedByMergeOperation(t),[n]));At(Hi,pi,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(t)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(t)[0]),[n]));At(Hi,Hi,(n,t,e)=>{if(n.name==t.name)if(e.aIsStrong)n.oldRange=t.newRange?t.newRange.clone():null;else return[new ni(0)];return[n]});At(Hi,Rn,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(t)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(t)),[n]));At(Hi,Nt,(n,t)=>{const e=[n];if(n.oldRange&&(n.oldRange=G._createFromRanges(n.oldRange._getTransformedByMoveOperation(t))),n.newRange){const i=n.newRange._getTransformedByMoveOperation(t);n.newRange=i[0];for(let r=1;r<i.length;r++){const s=n.clone();s.oldRange=null,s.newRange=i[r],s.baseVersion=-1,e.push(s)}}return e});At(Hi,Ht,(n,t,e)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(t)),n.newRange){if(e.abRelation){const i=n.newRange._getTransformedBySplitOperation(t);return n.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?n.newRange.start=ie._createAt(t.insertionPosition):n.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement?n.newRange.start=ie._createAt(t.moveTargetPosition):n.newRange.start=i.start,n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?n.newRange.end=ie._createAt(t.moveTargetPosition):n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?n.newRange.end=ie._createAt(t.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(t)}return[n]});At(Rn,pi,(n,t)=>(n.sourcePosition.hasSameParentAs(t.position)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(t),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t),[n]));At(Rn,Rn,(n,t,e)=>{if(n.sourcePosition.isEqual(t.sourcePosition)&&n.targetPosition.isEqual(t.targetPosition))if(e.bWasUndone){const i=t.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new ie(t.graveyardPosition.root,i),n.howMany=0,[n]}else return[new ni(0)];if(n.sourcePosition.isEqual(t.sourcePosition)&&!n.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",r=t.targetPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&e.aIsStrong){const l=t.targetPosition._getTransformedByMergeOperation(t),c=n.targetPosition._getTransformedByMergeOperation(t);return[new Nt(l,n.howMany,c,0)]}else return[new ni(0)]}return n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(t),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),(!n.graveyardPosition.isEqual(t.graveyardPosition)||!e.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});At(Rn,Nt,(n,t,e)=>{const i=G._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&n.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new ni(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(n.sourcePosition)&&e.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=t.howMany):t.targetPosition.isEqual(n.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=t.howMany):(n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition.hasSameParentAs(t.sourcePosition)&&(n.howMany-=t.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(t),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(t),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(t.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)),[n])});At(Rn,Ht,(n,t,e)=>{if(t.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),n.deletionPosition.isEqual(t.graveyardPosition)&&(n.howMany=t.howMany)),n.targetPosition.isEqual(t.splitPosition)&&(t.graveyardPosition&&n.deletionPosition.isEqual(t.graveyardPosition)||e.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),[n];if(n.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n];if(e.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=t.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]}return n.sourcePosition.hasSameParentAs(t.splitPosition)&&(n.howMany=t.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]});At(Nt,pi,(n,t)=>{const i=G._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(t,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(t.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t)),[n]});At(Nt,Nt,(n,t,e)=>{const i=G._createFromPositionAndShift(n.sourcePosition,n.howMany),r=G._createFromPositionAndShift(t.sourcePosition,t.howMany);let s=e.aIsStrong,o=!e.aIsStrong;e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?o=!0:(e.abRelation=="insertAfter"||e.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(t.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):a=n.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),q6(n,t)&&q6(t,n))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Pd([i],a);if(r.containsPosition(n.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Pd([i],a);const d=Ri(n.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(d=="prefix"||d=="extension")return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Pd([i],a);n.type=="remove"&&t.type!="remove"&&!e.aWasUndone&&!e.forceWeakRemove?s=!0:n.type!="remove"&&t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&(s=!1);const h=[],p=i.getDifference(r);for(const _ of p){_.start=_.start._getTransformedByDeletion(t.sourcePosition,t.howMany),_.end=_.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const x=Ri(_.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",C=_._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,x);h.push(...C)}const b=i.getIntersection(r);return b!==null&&s&&(b.start=b.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),b.end=b.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),h.length===0?h.push(b):h.length==1?r.start.isBefore(i.start)||r.start.isEqual(i.start)?h.unshift(b):h.push(b):h.splice(1,0,b)),h.length===0?[new ni(n.baseVersion)]:Pd(h,a)});At(Nt,Ht,(n,t,e)=>{let i=n.targetPosition.clone();(!n.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||e.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(t));const r=G._createFromPositionAndShift(n.sourcePosition,n.howMany);if(r.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(r.start.hasSameParentAs(t.splitPosition)&&r.containsPosition(t.splitPosition)){let a=new G(t.splitPosition,r.end);a=a._getTransformedBySplitOperation(t);const l=[new G(r.start,t.splitPosition),a];return Pd(l,i)}n.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(i=t.moveTargetPosition),n.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[r._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const a=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);n.howMany>1&&a&&!e.aWasUndone&&o.push(G._createFromPositionAndShift(t.insertionPosition,1))}return Pd(o,i)});At(Nt,Rn,(n,t,e)=>{const i=G._createFromPositionAndShift(n.sourcePosition,n.howMany);if(t.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(t.sourcePosition)){if(n.type=="remove"&&!e.forceWeakRemove){if(!e.aWasUndone){const o=[];let a=t.graveyardPosition.clone(),l=t.targetPosition._getTransformedByMergeOperation(t);const c=n.targetPosition.getTransformedByOperation(t);n.howMany>1&&(o.push(new Nt(n.sourcePosition,n.howMany-1,c,0)),a=a._getTransformedByMove(n.sourcePosition,c,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,c,n.howMany-1));const d=t.deletionPosition._getCombined(n.sourcePosition,c),h=new Nt(a,1,d,0),p=h.getMovedRangeStart().path.slice();p.push(0);const b=new ie(h.targetPosition.root,p);l=l._getTransformedByMove(a,d,1);const _=new Nt(l,t.howMany,b,0);return o.push(h),o.push(_),o}}else if(n.howMany==1)return e.bWasUndone?(n.sourcePosition=t.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]):[new ni(0)]}const s=G._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(t);return n.sourcePosition=s.start,n.howMany=s.end.offset-s.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]});At(fr,pi,(n,t)=>(n.position=n.position._getTransformedByInsertOperation(t),[n]));At(fr,Rn,(n,t)=>n.position.isEqual(t.deletionPosition)?(n.position=t.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(t),[n]));At(fr,Nt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));At(fr,fr,(n,t,e)=>{if(n.position.isEqual(t.position))if(e.aIsStrong)n.oldName=t.newName;else return[new ni(0)];return[n]});At(fr,Ht,(n,t)=>{const e=n.position.path,i=t.splitPosition.getParentPath();if(Ri(e,i)=="same"&&!t.graveyardPosition){const r=new fr(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,r]}return n.position=n.position._getTransformedBySplitOperation(t),[n]});At(wa,wa,(n,t,e)=>{if(n.root===t.root&&n.key===t.key){if(!e.aIsStrong||n.newValue===t.newValue)return[new ni(0)];n.oldValue=t.newValue}return[n]});At(ho,ho,(n,t)=>n.rootName===t.rootName&&n.isAdd===t.isAdd?[new ni(0)]:[n]);At(Ht,pi,(n,t)=>(n.splitPosition.hasSameParentAs(t.position)&&n.splitPosition.offset<t.position.offset&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(t),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(t),[n]));At(Ht,Rn,(n,t,e)=>{if(!n.graveyardPosition&&!e.bWasUndone&&n.splitPosition.hasSameParentAs(t.sourcePosition)){const i=t.graveyardPosition.path.slice();i.push(0);const r=new ie(t.graveyardPosition.root,i),s=Ht.getInsertionPosition(new ie(t.graveyardPosition.root,i)),o=new Ht(r,0,s,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=Ht.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(t.deletionPosition)&&!n.splitPosition.isAfter(t.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=Ht.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});At(Ht,Nt,(n,t,e)=>{const i=G._createFromPositionAndShift(t.sourcePosition,t.howMany);if(n.graveyardPosition){const s=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!e.bWasUndone&&s){const o=n.splitPosition._getTransformedByMoveOperation(t),a=n.graveyardPosition._getTransformedByMoveOperation(t),l=a.path.slice();l.push(0);const c=new ie(a.root,l);return[new Nt(o,n.howMany,c,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)}const r=n.splitPosition.isEqual(t.targetPosition);if(r&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return n.howMany+=t.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),n.insertionPosition=Ht.getInsertionPosition(n.splitPosition),[n];if(r&&e.abRelation&&e.abRelation.howMany){const{howMany:s,offset:o}=e.abRelation;return n.howMany+=s,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.splitPosition)){const s=t.howMany-(n.splitPosition.offset-t.sourcePosition.offset);return n.howMany-=s,n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany),n.splitPosition=t.sourcePosition.clone(),n.insertionPosition=Ht.getInsertionPosition(n.splitPosition),[n]}return t.sourcePosition.isEqual(t.targetPosition)||(n.splitPosition.hasSameParentAs(t.sourcePosition)&&n.splitPosition.offset<=t.sourcePosition.offset&&(n.howMany-=t.howMany),n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(t),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(t):n.insertionPosition=Ht.getInsertionPosition(n.splitPosition),[n]});At(Ht,Ht,(n,t,e)=>{if(n.splitPosition.isEqual(t.splitPosition)){if(!n.graveyardPosition&&!t.graveyardPosition)return[new ni(0)];if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition))return[new ni(0)];if(e.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t),[n]}if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",r=t.splitPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&e.aIsStrong){const l=[];return t.howMany&&l.push(new Nt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),n.howMany&&l.push(new Nt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new ni(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t)),n.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return n.howMany++,[n];if(t.splitPosition.isEqual(n.insertionPosition)&&e.baRelation=="splitBefore"){const i=t.insertionPosition.path.slice();i.push(0);const r=new ie(t.insertionPosition.root,i),s=new Nt(n.insertionPosition,1,r,0);return[n,s]}return n.splitPosition.hasSameParentAs(t.splitPosition)&&n.splitPosition.offset<t.splitPosition.offset&&(n.howMany-=t.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(t),n.insertionPosition=Ht.getInsertionPosition(n.splitPosition),[n]});function q6(n,t){return n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function Pd(n,t){const e=[];for(let i=0;i<n.length;i++){const r=n[i],s=new Nt(r.start,r.end.offset-r.start.offset,t,0);e.push(s);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];t=t._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return e}class qn extends $t(ie){constructor(t,e,i="toNone"){if(super(t,e,i),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",t);pke.call(this)}detach(){this.stopListening()}toPosition(){return new ie(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}qn.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function pke(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&gke.call(this,e)},{priority:"low"})}function gke(n){const t=this.getTransformedByOperation(n);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}class cd{constructor(t={}){g(this,"operations");g(this,"isUndoable");g(this,"isLocal");g(this,"isUndo");g(this,"isTyping");typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},ht("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:i=!0,isUndo:r=!1,isTyping:s=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=i,this.isUndo=r,this.isTyping=s}get type(){return ht("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}const hm=class hm{constructor(t){g(this,"_markerCollection");g(this,"_changesInElement",new Map);g(this,"_elementsSnapshots",new Map);g(this,"_elementChildrenSnapshots",new Map);g(this,"_elementState",new Map);g(this,"_changedMarkers",new Map);g(this,"_changedRoots",new Map);g(this,"_changeCount",0);g(this,"_cachedChanges",null);g(this,"_cachedChangesWithGraveyard",null);g(this,"_refreshedItems",new Set);this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of e.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const i=this._isInInsertedElement(e.sourcePosition.parent),r=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),r||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const s=G._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const o of s.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const i=G._createFromPositionAndShift(e.position,1);for(const r of this._markerCollection.getMarkersIntersectingRange(i)){const s=r.getData();this.bufferMarkerChange(r.name,s,s)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const i=e.splitPosition.parent;if(!this._isInInsertedElement(i)){this._markRemove(i,e.splitPosition.offset,e.howMany);const r=G._createFromPositionAndShift(e.splitPosition,e.howMany);for(const s of r.getItems({shallow:!0}))this._setElementState(s,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const i=e.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const r=e.graveyardPosition.parent;this._markInsert(r,e.graveyardPosition.offset,1),this._setElementState(i,"move");const s=e.targetPosition.parent;if(!this._isInInsertedElement(s)){this._markInsert(s,e.targetPosition.offset,i.maxOffset);const o=G._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const a of o.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const i=e.affectedSelectable;if(!i._isLoaded||i.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const i=e.root.rootName;this._bufferRootAttributeChange(i,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,i){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let r=this._changedMarkers.get(t);r?r.newMarkerData=i:(r={newMarkerData:i,oldMarkerData:e},this._changedMarkers.set(t,r)),r.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,i]of this._changedMarkers)i.oldMarkerData.range!=null&&t.push({name:e,range:i.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,i]of this._changedMarkers)i.newMarkerData.range!=null&&t.push({name:e,range:i.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const i=t.range&&!e.range,r=!t.range&&e.range,s=t.range&&e.range&&!t.range.isEqual(e.range);if(i||r||s)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const i of this._changesInElement.keys()){const r=this._changesInElement.get(i).sort((d,h)=>d.offset===h.offset?d.type!=h.type?d.type=="remove"?-1:1:0:d.offset<h.offset?-1:1),s=this._elementChildrenSnapshots.get(i),o=K6(i.getChildren()),a=bke(s.length,r);let l=0,c=0;for(const d of a)if(d==="i"){const h=this._getDiffActionForNode(o[l].node,"insert"),p=this._elementsSnapshots.get(o[l].node),b=this._getInsertDiff(i,l,h,o[l],p);e.push(b),l++}else if(d==="r"){const h=this._getDiffActionForNode(s[c].node,"remove"),p=this._getRemoveDiff(i,l,h,s[c]);e.push(p),c++}else if(d==="a"){const h=s[c].attributes,p=o[l].attributes;let b;if(o[l].name=="$text")b=new G(ie._createAt(i,l),ie._createAt(i,l+1));else{const x=i.offsetToIndex(l);b=new G(ie._createAt(i,l),ie._createAt(i.getChild(x),0))}const _=this._getAttributesDiff(b,h,p);e.push(..._),l++,c++}else l++,c++}e.sort((i,r)=>i.position.root!=r.position.root?i.position.root.rootName<r.position.root.rootName?-1:1:i.position.isEqual(r.position)?i.changeCount-r.changeCount:i.position.isBefore(r.position)?-1:1);for(let i=1,r=0;i<e.length;i++){const s=e[r],o=e[i],a=s.type=="remove"&&o.type=="remove"&&s.name=="$text"&&o.name=="$text"&&s.position.isEqual(o.position),l=s.type=="insert"&&o.type=="insert"&&s.name=="$text"&&o.name=="$text"&&s.position.parent==o.position.parent&&s.position.offset+s.length==o.position.offset,c=s.type=="attribute"&&o.type=="attribute"&&s.position.parent==o.position.parent&&s.range.isFlat&&o.range.isFlat&&s.position.offset+s.length==o.position.offset&&s.attributeKey==o.attributeKey&&s.attributeOldValue==o.attributeOldValue&&s.attributeNewValue==o.attributeNewValue;a||l||c?(s.length++,c&&(s.range.end=s.range.end.getShiftedBy(1)),e[i]=null):r=i}e=e.filter(i=>i);for(const i of e)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(wke),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const e={...t};return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=G._createOn(t);for(const i of this._markerCollection.getMarkersIntersectingRange(e)){const r=i.getData();this.bufferMarkerChange(i.name,r,r)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const i=e.getData();this.bufferMarkerChange(e.name,{...i,range:null},i)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t)){this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});return}const i=this._changedRoots.get(t);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(t)):i.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,i,r){const s=this._changedRoots.get(t)||{name:t},o=s.attributes||{};if(o[e]){const a=o[e];r===a.oldValue?delete o[e]:a.newValue=r}else o[e]={oldValue:i,newValue:r};Object.entries(o).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(t)):(s.attributes=o,this._changedRoots.set(t,s))}_markInsert(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const r={type:"insert",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,r)}_markRemove(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const r={type:"remove",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,r),this._removeAllNestedChanges(t,e,i)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const i=this._getChangesForElement(t);this._handleChange(e,i),i.push(e);for(let r=0;r<i.length;r++)i[r].howMany<1&&(i.splice(r,1),r--)}_setElementState(t,e){if(!t.is("element"))return;const i=hm._statesPriority.indexOf(this._elementState.get(t));hm._statesPriority.indexOf(e)>i&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element")||!this._elementsSnapshots.has(t))return e;const i=this._elementState.get(t);return!i||i=="move"?e:i}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=K6(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const i of e)this._elementsSnapshots.set(i.node,i)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const i of e){const r=t.offset+t.howMany,s=i.offset+i.howMany;if(t.type=="insert"&&(i.type=="insert"&&(t.offset<=i.offset?i.offset+=t.howMany:t.offset<s&&(i.howMany+=t.nodesToHandle,t.nodesToHandle=0)),i.type=="remove"&&t.offset<i.offset&&(i.offset+=t.howMany),i.type=="attribute")){if(t.offset<=i.offset)i.offset+=t.howMany;else if(t.offset<s){const o=i.howMany;i.howMany=t.offset-i.offset,e.unshift({type:"attribute",offset:r,howMany:o-i.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(i.type=="insert"){if(r<=i.offset)i.offset-=t.howMany;else if(r<=s)if(t.offset<i.offset){const o=r-i.offset;i.offset=t.offset,i.howMany-=o,t.nodesToHandle-=o}else i.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=i.offset)t.nodesToHandle-=i.howMany,i.howMany=0;else if(t.offset<s){const o=s-t.offset;i.howMany-=o,t.nodesToHandle-=o}}if(i.type=="remove"&&(r<=i.offset?i.offset-=t.howMany:t.offset<i.offset&&(t.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(r<=i.offset)i.offset-=t.howMany;else if(t.offset<i.offset){const o=r-i.offset;i.offset=t.offset,i.howMany-=o}else if(t.offset<s)if(r<=s){const o=i.howMany;i.howMany=t.offset-i.offset;const a=o-i.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:a,count:this._changeCount++})}else i.howMany-=s-t.offset}}if(t.type=="attribute"){if(i.type=="insert")if(t.offset<i.offset&&r>i.offset){if(r>s){const o={type:"attribute",offset:s,howMany:r-s,count:this._changeCount++};this._handleChange(o,e),e.push(o)}t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=i.offset&&t.offset<s&&(r>s?(t.nodesToHandle=r-s,t.offset=s):t.nodesToHandle=0);if(i.type=="remove"&&t.offset<i.offset&&r>i.offset){const o={type:"attribute",offset:i.offset,howMany:r-i.offset,count:this._changeCount++};this._handleChange(o,e),e.push(o),t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}i.type=="attribute"&&(t.offset>=i.offset&&r<=s?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=i.offset&&r>=s&&(i.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,i,r,s){const o={type:"insert",position:ie._createAt(t,e),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,action:i};return i!="insert"&&s&&(o.before={name:s.name,attributes:new Map(s.attributes)}),o}_getRemoveDiff(t,e,i,r){return{type:"remove",action:i,position:ie._createAt(t,e),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,i){const r=[];i=new Map(i);for(const[s,o]of e){const a=i.has(s)?i.get(s):null;a!==o&&r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:s,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(s)}for(const[s,o]of i)r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return r}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const i=this._changesInElement.get(e),r=t.startOffset;if(i){for(const s of i)if(s.type=="insert"&&r>=s.offset&&r<s.offset+s.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,i){const r=new G(ie._createAt(t,e),ie._createAt(t,e+i));for(const s of r.getItems({shallow:!0}))s.is("element")&&(this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}};g(hm,"_statesPriority",[void 0,"refresh","rename","move"]);let Yk=hm;function G6(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function K6(n){const t=[];for(const e of n)if(e.is("$text"))for(let i=0;i<e.data.length;++i)t.push(G6(e));else t.push(G6(e));return t}function bke(n,t){const e=[];let i=0,r=0;for(const s of t){if(s.offset>i){for(let o=0;o<s.offset-i;o++)e.push("e");r+=s.offset-i}if(s.type=="insert"){for(let o=0;o<s.howMany;o++)e.push("i");i=s.offset+s.howMany}else if(s.type=="remove"){for(let o=0;o<s.howMany;o++)e.push("r");i=s.offset,r+=s.howMany}else{if(s.howMany>1500)for(let o=0;o<s.howMany;o++)e.push("a");else e.push(..."a".repeat(s.howMany).split(""));i=s.offset+s.howMany,r+=s.howMany}}if(r<n)for(let s=0;s<n-r-i;s++)e.push("e");return e}function wke(n){const t="position"in n&&n.position.root.rootName=="$graveyard",e="range"in n&&n.range.root.rootName=="$graveyard";return!t&&!e}class vke{constructor(){g(this,"_operations",[]);g(this,"_undoPairs",new Map);g(this,"_undoneOperations",new Set);g(this,"_baseVersionToOperationIndex",new Map);g(this,"_version",0);g(this,"_gaps",new Map)}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const i=this._operations[0];t===void 0&&(t=i.baseVersion);let r=e-1;for(const[a,l]of this._gaps)t>a&&t<l&&(t=l),r>a&&r<l&&(r=a-1);if(r<i.baseVersion||t>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(t);s===void 0&&(s=0);let o=this._baseVersionToOperationIndex.get(r);return o===void 0&&(o=this._operations.length-1),this._operations.slice(s,o+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class I1 extends dn{constructor(e,i,r="main"){super(i);g(this,"rootName");g(this,"_document");g(this,"_isAttached",!0);g(this,"_isLoaded",!0);this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}I1.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const Y6="$graveyard";class yke extends $t(){constructor(e){super();g(this,"model");g(this,"history");g(this,"selection");g(this,"roots");g(this,"differ");g(this,"isReadOnly");g(this,"_postFixers");g(this,"_hasSelectionChangedFromTheLastChangeBlock");this.model=e,this.history=new vke,this.selection=new Ns(this),this.roots=new Sn({idProperty:"rootName"}),this.differ=new Yk(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Y6),this.listenTo(e,"applyOperation",(i,r)=>{const s=r[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,r)=>{const s=r[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,r,s,o,a)=>{const l={...r.getData(),range:o};this.differ.bufferMarkerChange(r.name,a,l),s===null&&r.on("change",(c,d)=>{const h=r.getData();this.differ.bufferMarkerChange(r.name,{...h,range:d},h)})}),this.registerPostFixer(i=>{let r=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(i.remove(i.createRangeIn(s)),r=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(i.removeMarker(s),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Y6)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new M("model-document-createroot-name-exists",this,{name:i});const r=new I1(this,e,i);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=zB(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,r=i.schema,s=i.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(s)||i.createRange(s)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&Z6(e.start)&&Z6(e.end)}_callPostFixers(e){let i=!1;do for(const r of this._postFixers)if(this.selection.refresh(),i=r(e),i)break;while(i)}}function Z6(n){const t=n.textNode;if(t){const e=t.data,i=n.offset-t.startOffset;return!aT(e,i)&&!lT(e,i)}return!0}class _ke extends $t(){constructor(){super(...arguments);g(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof xd?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,r=!1,s=!1){const o=e instanceof xd?e.name:e;if(o.includes(","))throw new M("markercollection-incorrect-marker-name",this);const a=this._markers.get(o);if(a){const d=a.getData(),h=a.getRange();let p=!1;return h.isEqual(i)||(a._attachLiveRange(Ui.fromRange(i)),p=!0),r!=a.managedUsingOperations&&(a._managedUsingOperations=r,p=!0),typeof s=="boolean"&&s!=a.affectsData&&(a._affectsData=s,p=!0),p&&this.fire(`update:${o}`,a,h,i,d),a}const l=Ui.fromRange(i),c=new xd(o,l,r,s);return this._markers.set(o,c),this.fire(`update:${o}`,c,null,i,{...c.getData(),range:null}),c}_remove(e){const i=e instanceof xd?e.name:e,r=this._markers.get(i);return r?(this._markers.delete(i),this.fire(`update:${i}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0):!1}_refresh(e){const i=e instanceof xd?e.name:e,r=this._markers.get(i);if(!r)throw new M("markercollection-refresh-marker-not-exists",this);const s=r.getRange();this.fire(`update:${i}`,r,s,s,r.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class xd extends $t(ec){constructor(e,i,r,s){super();g(this,"name");g(this,"_managedUsingOperations");g(this,"_affectsData");g(this,"_liveRange");this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=r,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}xd.prototype.is=function(n){return n==="marker"||n==="model:marker"};class xke extends Dr{constructor(e,i){super(null);g(this,"sourcePosition");g(this,"howMany");this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){sz(G._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}let wl=class cz extends ec{constructor(e){super();g(this,"markers",new Map);g(this,"_children",new sm);e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const r of e)i=i.getChildAtOffset(r);return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const r of e)r.name?i.push(dn.fromJSON(r)):i.push(tn.fromJSON(r));return new cz(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const r=kke(i);for(const s of r)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,i=1){const r=this._children._removeNodes(e,i);for(const s of r)s.parent=null;return r}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const i of e)i.parent=null}};wl.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function kke(n){return typeof n=="string"?[new tn(n)]:(Mr(n)||(n=[n]),Array.from(n).map(t=>typeof t=="string"?new tn(t):t instanceof ks?new tn(t.data,t.getAttributes()):t))}class Cke{constructor(t,e){g(this,"model");g(this,"batch");this.model=t,this.batch=e}createText(t,e){return new tn(t,e)}createElement(t,e){return new dn(t,e)}createDocumentFragment(){return new wl}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,i=0){if(this._assertWriterUsedCorrectly(),t instanceof tn&&t.data=="")return;const r=ie._createAt(e,i);if(t.parent)if(Q6(t.root,r.root)){this.move(G._createOn(t),r);return}else{if(t.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(t)}const s=r.root.document?r.root.document.version:null,o=t instanceof wl?t._removeChildren(0,t.childCount):t,a=new pi(r,o,s);if(t instanceof tn&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),t instanceof wl)for(const[l,c]of t.markers){const d=ie._createAt(c.root,0),p={range:new G(c.start._getCombined(d,r),c.end._getCombined(d,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,p):this.addMarker(l,p)}}insertText(t,e,i,r){e instanceof wl||e instanceof dn||e instanceof ie?this.insert(this.createText(t),e,i):this.insert(this.createText(t,e),i,r)}insertElement(t,e,i,r){e instanceof wl||e instanceof dn||e instanceof ie?this.insert(this.createElement(t),e,i):this.insert(this.createElement(t,e),i,r)}append(t,e){this.insert(t,e,"end")}appendText(t,e,i){e instanceof wl||e instanceof dn?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),i,"end")}appendElement(t,e,i){e instanceof wl||e instanceof dn?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),i,"end")}setAttribute(t,e,i){if(this._assertWriterUsedCorrectly(),i instanceof G){const r=i.getMinimalFlatRanges();for(const s of r)J6(this,t,e,s)}else X6(this,t,e,i)}setAttributes(t,e){for(const[i,r]of Os(t))this.setAttribute(i,r,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof G){const i=e.getMinimalFlatRanges();for(const r of i)J6(this,t,null,r)}else X6(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=i=>{for(const r of i.getAttributeKeys())this.removeAttribute(r,i)};if(!(t instanceof G))e(t);else for(const i of t.getItems())e(i)}move(t,e,i){if(this._assertWriterUsedCorrectly(),!(t instanceof G))throw new M("writer-move-invalid-range",this);if(!t.isFlat)throw new M("writer-move-range-not-flat",this);const r=ie._createAt(e,i);if(r.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Q6(t.root,r.root))throw new M("writer-move-different-document",this);const s=t.root.document?t.root.document.version:null,o=new Nt(t.start,t.end.offset-t.start.offset,r,s);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const i=(t instanceof G?t:G._createOn(t)).getMinimalFlatRanges().reverse();for(const r of i)this._addOperationForAffectedMarkers("move",r),Eke(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,i=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof dn))throw new M("writer-merge-no-element-before",this);if(!(i instanceof dn))throw new M("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,i){return this.model.createPositionFromPath(t,e,i)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,i=t.nodeAfter;this.move(G._createIn(i),ie._createAt(e,"end")),this.remove(i)}_merge(t){const e=ie._createAt(t.nodeBefore,"end"),i=ie._createAt(t.nodeAfter,0),r=t.root.document.graveyard,s=new ie(r,[0]),o=t.root.document.version,a=new Rn(i,t.nodeAfter.maxOffset,e,s,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof dn))throw new M("writer-rename-not-element-instance",this);const i=t.root.document?t.root.document.version:null,r=new fr(ie._createBefore(t),t.name,e,i);this.batch.addOperation(r),this.model.applyOperation(r)}split(t,e){this._assertWriterUsedCorrectly();let i=t.parent;if(!i.parent)throw new M("writer-split-element-no-parent",this);if(e||(e=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new M("writer-split-invalid-limit-element",this);let r,s;do{const o=i.root.document?i.root.document.version:null,a=i.maxOffset-t.offset,l=Ht.getInsertionPosition(t),c=new Ht(t,a,l,null,o);this.batch.addOperation(c),this.model.applyOperation(c),!r&&!s&&(r=i,s=t.parent.nextSibling),t=this.createPositionAfter(t.parent),i=t.parent}while(i!==e);return{position:t,range:new G(ie._createAt(r,"end"),ie._createAt(s,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new M("writer-wrap-range-not-flat",this);const i=e instanceof dn?e:new dn(e);if(i.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new M("writer-wrap-element-attached",this);this.insert(i,t.start);const r=new G(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(r,ie._createAt(i,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new M("writer-unwrap-element-no-parent",this);this.move(G._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new M("writer-addmarker-no-usingoperation",this);const i=e.usingOperation,r=e.range,s=e.affectsData===void 0?!1:e.affectsData;if(this.model.markers.has(t))throw new M("writer-addmarker-marker-exists",this);if(!r)throw new M("writer-addmarker-no-range",this);return i?(Ah(this,t,null,r,s),this.model.markers.get(t)):this.model.markers._set(t,r,i,s)}updateMarker(t,e){this._assertWriterUsedCorrectly();const i=typeof t=="string"?t:t.name,r=this.model.markers.get(i);if(!r)throw new M("writer-updatemarker-marker-not-exists",this);if(!e){ht("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(r);return}const s=typeof e.usingOperation=="boolean",o=typeof e.affectsData=="boolean",a=o?e.affectsData:r.affectsData;if(!s&&!e.range&&!o)throw new M("writer-updatemarker-wrong-options",this);const l=r.getRange(),c=e.range?e.range:l;if(s&&e.usingOperation!==r.managedUsingOperations){e.usingOperation?Ah(this,i,null,c,a):(Ah(this,i,l,null,a),this.model.markers._set(i,c,void 0,a));return}r.managedUsingOperations?Ah(this,i,l,c,a):this.model.markers._set(i,c,void 0,a)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new M("writer-removemarker-no-marker",this);const i=this.model.markers.get(e);if(!i.managedUsingOperations){this.model.markers._remove(e);return}const r=i.getRange();Ah(this,e,r,null,i.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(t);if(i&&i.isAttached())throw new M("writer-addroot-root-exists",this);const r=this.model.document,s=new ho(t,e,!0,r,r.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new M("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===e&&this.removeMarker(s);for(const s of e.getAttributeKeys())this.removeAttribute(s,e);this.remove(this.createRangeIn(e));const i=this.model.document,r=new ho(e.rootName,e.name,!1,i,i.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[i,r]of Os(t))this._setSelectionAttribute(i,r)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const r=Ns._getStoreAttributeKey(t);this.setAttribute(r,e,i.anchor.parent)}i._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const i=Ns._getStoreAttributeKey(t);this.removeAttribute(i,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const r=i.getRange();let s=!1;if(t==="move"){const o=e;s=o.containsPosition(r.start)||o.start.isEqual(r.start)||o.containsPosition(r.end)||o.end.isEqual(r.end)}else{const o=e,a=o.nodeBefore,l=o.nodeAfter,c=r.start.parent==a&&r.start.isAtEnd,d=r.end.parent==l&&r.end.offset==0,h=r.end.nodeAfter==l,p=r.start.nodeAfter==l;s=c||d||h||p}s&&this.updateMarker(i.name,{range:r})}}}function J6(n,t,e,i){const r=n.model,s=r.document;let o=i.start,a,l,c;for(const h of i.getWalker({shallow:!0}))c=h.item.getAttribute(t),a&&l!=c&&(l!=e&&d(),o=a),a=h.nextPosition,l=c;a instanceof ie&&a!=o&&l!=e&&d();function d(){const h=new G(o,a),p=h.root.document?s.version:null,b=new Fn(h,t,l,e,p);n.batch.addOperation(b),r.applyOperation(b)}}function X6(n,t,e,i){const r=n.model,s=r.document,o=i.getAttribute(t);let a,l;if(o!=e){if(i.root===i){const d=i.document?s.version:null;l=new wa(i,t,o,e,d)}else{a=new G(ie._createBefore(i),n.createPositionAfter(i));const d=a.root.document?s.version:null;l=new Fn(a,t,o,e,d)}n.batch.addOperation(l),r.applyOperation(l)}}function Ah(n,t,e,i,r){const s=n.model,o=s.document,a=new Hi(t,e,i,s.markers,!!r,o.version);n.batch.addOperation(a),s.applyOperation(a)}function Eke(n,t,e,i){let r;if(n.root.document){const s=i.document,o=new ie(s.graveyard,[0]);r=new Nt(n,t,o,s.version)}else r=new xke(n,t);e.addOperation(r),i.applyOperation(r)}function Q6(n,t){return n===t||n instanceof I1&&t instanceof I1}function Ske(n,t,e={}){if(t.isCollapsed)return;const i=t.getFirstRange();if(i.root.rootName=="$graveyard")return;const r=n.schema;n.change(s=>{if(!e.doNotResetEntireContent&&Dke(r,t)){Mke(s,t);return}const o={};if(!e.doNotAutoparagraph){const c=t.getSelectedElement();c&&Object.assign(o,r.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=Tke(i);a.isTouching(l)||s.remove(s.createRange(a,l)),e.leaveUnmerged||(Ike(s,a,l),r.removeDisallowedAttributes(a.parent.getChildren(),s)),hz(s,t,a),!e.doNotAutoparagraph&&Oke(r,a)&&fz(s,a,t,o),a.detach(),l.detach()})}function Tke(n){const t=n.root.document.model,e=n.start;let i=n.end;if(t.hasContent(n,{ignoreMarkers:!0})){const r=Ake(i);if(r&&i.isTouching(t.createPositionAt(r,0))){const s=t.createSelection(n);t.modifySelection(s,{direction:"backward"});const o=s.getLastPosition(),a=t.createRange(o,i);t.hasContent(a,{ignoreMarkers:!0})||(i=o)}}return[qn.fromPosition(e,"toPrevious"),qn.fromPosition(i,"toNext")]}function Ake(n){const t=n.parent,e=t.root.document.model.schema,i=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const r of i){if(e.isLimit(r))return null;if(e.isBlock(r))return r}}function Ike(n,t,e){const i=n.model;if(!vT(n.model.schema,t,e))return;const[r,s]=Rke(t,e);!r||!s||(!i.hasContent(r,{ignoreMarkers:!0})&&i.hasContent(s,{ignoreMarkers:!0})?dz(n,t,e,r.parent):uz(n,t,e,r.parent))}function uz(n,t,e,i){const r=t.parent,s=e.parent;if(!(r==i||s==i)){for(t=n.createPositionAfter(r),e=n.createPositionBefore(s),e.isEqual(t)||n.insert(s,t),n.merge(t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}vT(n.model.schema,t,e)&&uz(n,t,e,i)}}function dz(n,t,e,i){const r=t.parent,s=e.parent;if(!(r==i||s==i)){for(t=n.createPositionAfter(r),e=n.createPositionBefore(s),e.isEqual(t)||n.insert(r,e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}e=n.createPositionBefore(s),Pke(n,e),vT(n.model.schema,t,e)&&dz(n,t,e,i)}}function Pke(n,t){const e=t.nodeBefore,i=t.nodeAfter;e.name!=i.name&&n.rename(e,i.name),n.clearAttributes(e),n.setAttributes(Object.fromEntries(i.getAttributes()),e),n.merge(t)}function vT(n,t,e){const i=t.parent,r=e.parent;return i==r||n.isLimit(i)||n.isLimit(r)?!1:Nke(t,e,n)}function Rke(n,t){const e=n.getAncestors(),i=t.getAncestors();let r=0;for(;e[r]&&e[r]==i[r];)r++;return[e[r],i[r]]}function Oke(n,t){const e=n.checkChild(t,"$text"),i=n.checkChild(t,"paragraph");return!e&&i}function Nke(n,t,e){const i=new G(n,t);for(const r of i.getWalker())if(e.isLimit(r.item))return!1;return!0}function fz(n,t,e,i={}){const r=n.createElement("paragraph");n.model.schema.setAllowedAttributes(r,i,n),n.insert(r,t),hz(n,e,n.createPositionAt(r,0))}function Mke(n,t){const e=n.model.schema.getLimitElement(t);n.remove(n.createRangeIn(e)),fz(n,n.createPositionAt(e,0),t)}function Dke(n,t){const e=n.getLimitElement(t);if(!t.containsEntireContent(e))return!1;const i=t.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(e,"paragraph")}function hz(n,t,e){t instanceof Ns?n.setSelection(e):t.setTo(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Lke(n,t){return n.change(e=>{const i=e.createDocumentFragment(),r=t.getFirstRange();if(!r||r.isCollapsed)return i;const s=r.start.root,o=r.start.getCommonPath(r.end),a=s.getNodeByPath(o);let l;r.start.parent==r.end.parent?l=r:l=e.createRange(e.createPositionAt(a,r.start.path[o.length]),e.createPositionAt(a,r.end.path[o.length]+1));const c=l.end.offset-l.start.offset;for(const d of l.getItems({shallow:!0}))d.is("$textProxy")?e.appendText(d.data,d.getAttributes(),i):e.append(e.cloneElement(d,!0),i);if(l!=r){const d=r._getTransformedByMove(l.start,e.createPositionAt(i,0),c)[0],h=e.createRange(e.createPositionAt(i,0),d.start),p=e.createRange(d.end,e.createPositionAt(i,"end"));eR(p,e),eR(h,e)}return i})}function eR(n,t){const e=[];Array.from(n.getItems({direction:"backward"})).map(i=>t.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{e.push(i.start.parent),t.remove(i)}),e.forEach(i=>{let r=i;for(;r.parent&&r.isEmpty;){const s=t.createRangeOn(r);r=r.parent,t.remove(s)}})}function Vke(n,t,e){return n.change(i=>{const r=e||n.document.selection;r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});const s=new Fke(n,i,r.anchor),o=[];let a;if(t.is("documentFragment")){if(t.markers.size){const d=[];for(const[h,p]of t.markers){const{start:b,end:_}=p,x=b.isEqual(_);d.push({position:b,name:h,isCollapsed:x},{position:_,name:h,isCollapsed:x})}d.sort(({position:h},{position:p})=>h.isBefore(p)?1:-1);for(const{position:h,name:p,isCollapsed:b}of d){let _=null,x=null;const C=h.parent===t&&h.isAtStart,S=h.parent===t&&h.isAtEnd;!C&&!S?(_=i.createElement("$marker"),i.insert(_,h)):b&&(x=C?"start":"end"),o.push({name:p,element:_,collapsed:x})}}a=t.getChildren()}else a=[t];s.handleNodes(a);let l=s.getSelectionRange();if(t.is("documentFragment")&&o.length){const d=l?Ui.fromRange(l):null,h={};for(let p=o.length-1;p>=0;p--){const{name:b,element:_,collapsed:x}=o[p],C=!h[b];if(C&&(h[b]=[]),_){const S=i.createPositionAt(_,"before");h[b].push(S),i.remove(_)}else{const S=s.getAffectedRange();if(!S){x&&h[b].push(s.position);continue}x?h[b].push(S[x]):h[b].push(C?S.start:S.end)}}for(const[p,[b,_]]of Object.entries(h))b&&_&&b.root===_.root&&b.root.document&&!i.model.markers.has(p)&&i.addMarker(p,{usingOperation:!0,affectsData:!0,range:new G(b,_)});d&&(l=d.toRange(),d.detach())}/* istanbul ignore else -- @preserve */l&&(r instanceof Ns?i.setSelection(l):r.setTo(l));const c=s.getAffectedRange()||n.createRange(r.anchor);return s.destroy(),c})}class Fke{constructor(t,e,i){g(this,"model");g(this,"writer");g(this,"position");g(this,"canMergeWith");g(this,"schema");g(this,"_documentFragment");g(this,"_documentFragmentPosition");g(this,"_firstNode",null);g(this,"_lastNode",null);g(this,"_lastAutoParagraph",null);g(this,"_filterAttributesOf",[]);g(this,"_affectedStart",null);g(this,"_affectedEnd",null);g(this,"_nodeToSelect",null);this.model=t,this.writer=e,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(t);if(i.isAfter(e)){this._lastNode=t;/* istanbul ignore if -- @preserve */if(this.position.parent!=t||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?G._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new G(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(!this._checkAndSplitToAllowedPosition(t)){this.schema.isObject(t)||this._handleDisallowedNode(t);return}this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=qn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleDisallowedNode(t){t.is("element")&&this.handleNodes(t.getChildren())}_appendToFragment(t){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,t))throw new M("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=qn.fromPosition(t,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(t))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=qn.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof dn)||!this._canMergeLeft(t))return;const e=qn._createBefore(t);e.stickiness="toNext";const i=qn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=qn._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=qn._createAt(e.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof dn)||!this._canMergeRight(t))return;const e=qn._createAfter(t);e.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(e))throw new M("insertcontent-invalid-insertion-position",this);this.position=ie._createAt(e.nodeBefore,"end");const i=qn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=qn._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=qn._createAt(e.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof dn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof dn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_insertAutoParagraph(){this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0)}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===e&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,t)||this._insertAutoParagraph(),!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)||this.schema.checkChild(t,"paragraph")&&this.schema.checkChild("paragraph",e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function Bke(n,t,e,i={}){if(!n.schema.isObject(t))throw new M("insertobject-element-not-an-object",n,{object:t});const r=e||n.document.selection;let s=r;i.findOptimalPosition&&n.schema.isBlock(t)&&(s=n.createSelection(n.schema.findOptimalInsertionRange(r,i.findOptimalPosition)));const o=Ut(r.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});let c=t;const d=s.anchor.parent;!n.schema.checkChild(d,t)&&n.schema.checkChild(d,"paragraph")&&n.schema.checkChild("paragraph",t)&&(c=l.createElement("paragraph"),l.insert(t,c)),n.schema.setAllowedAttributes(c,a,l);const h=n.insertContent(c,s);return h.isCollapsed||i.setSelection&&jke(l,t,i.setSelection,a),h})}function jke(n,t,e,i){const r=n.model;if(e=="on"){n.setSelection(t,"on");return}if(e!="after")throw new M("insertobject-invalid-place-parameter-value",r);let s=t.nextSibling;if(r.schema.isInline(t)){n.setSelection(t,"after");return}!(s&&r.schema.checkChild(s,"$text"))&&r.schema.checkChild(t.parent,"paragraph")&&(s=n.createElement("paragraph"),r.schema.setAllowedAttributes(s,i,n),r.insertContent(s,n.createPositionAfter(t))),s&&n.setSelection(s,0)}const zke=' ,.?!:;"-()';function $ke(n,t,e={}){const i=n.schema,r=e.direction!="backward",s=e.unit?e.unit:"character",o=!!e.treatEmojiAsSingleUnit,a=t.focus,l=new da({boundaries:qke(a,r),singleCharacters:!0,direction:r?"forward":"backward"}),c={walker:l,schema:i,isForward:r,unit:s,treatEmojiAsSingleUnit:o};let d;for(;d=l.next();){if(d.done)return;const h=Uke(c,d.value);if(h){t instanceof Ns?n.change(p=>{p.setSelectionFocus(h)}):t.setFocus(h);return}}}function Uke(n,t){const{isForward:e,walker:i,unit:r,schema:s,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:c}=t;if(a=="text")return n.unit==="word"?Wke(i,e):Hke(i,r,o);if(a==(e?"elementStart":"elementEnd")){if(s.isSelectable(l))return ie._createAt(l,e?"after":"before");if(s.checkChild(c,"$text"))return c}else{if(s.isLimit(l)){i.skip(()=>!0);return}if(s.checkChild(c,"$text"))return c}}function Hke(n,t,e){const i=n.position.textNode;if(i){const r=i.data;let s=n.position.offset-i.startOffset;for(;aT(r,s)||t=="character"&&lT(r,s)||e&&Cj(r,s);)n.next(),s=n.position.offset-i.startOffset}return n.position}function Wke(n,t){let e=n.position.textNode;for(e||(e=t?n.position.nodeAfter:n.position.nodeBefore);e&&e.is("$text");){const i=n.position.offset-e.startOffset;if(Kke(e,i,t))e=t?n.position.nodeAfter:n.position.nodeBefore;else{if(Gke(e.data,i,t))break;n.next()}}return n.position}function qke(n,t){const e=n.root,i=ie._createAt(e,t?"end":0);return t?new G(n,i):new G(i,n)}function Gke(n,t,e){const i=t+(e?0:-1);return zke.includes(n.charAt(i))}function Kke(n,t,e){return t===(e?n.offsetSize:0)}let Yke=class extends Ot(){constructor(){super();g(this,"markers");g(this,"document");g(this,"schema");g(this,"_pendingChanges");g(this,"_currentWriter");this.markers=new _ke,this.document=new yke(this),this.schema=new F2e,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),I2e(this),this.document.registerPostFixer(Xj),this.on("insertContent",(e,[i,r])=>{e.return=Vke(this,i,r)}),this.on("insertObject",(e,[i,r,s])=>{e.return=Bke(this,i,r,s)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new cd,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){/* istanbul ignore next -- @preserve */M.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new cd):e instanceof cd||(e=new cd(e)):e=new cd,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){/* istanbul ignore next -- @preserve */M.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,i,r,...s){const o=vx(i,r);return this.fire("insertContent",[e,o,r,...s])}insertObject(e,i,r,s,...o){const a=vx(i,r);return this.fire("insertObject",[e,a,s,s,...o])}deleteContent(e,i){Ske(this,e,i)}modifySelection(e,i){$ke(this,e,i)}getSelectedContent(e){return Lke(this,e)}hasContent(e,i={}){const r=e instanceof G?e:G._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:o=!1}=i;if(!o){for(const a of this.markers.getMarkersIntersectingRange(r))if(a.affectsData)return!0}for(const a of r.getItems())if(this.schema.isContent(a))if(a.is("$textProxy"))if(s){if(a.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const i=vx(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,r){return new ie(e,i,r)}createPositionAt(e,i){return ie._createAt(e,i)}createPositionAfter(e){return ie._createAfter(e)}createPositionBefore(e){return ie._createBefore(e)}createRange(e,i){return new G(e,i)}createRangeIn(e){return G._createIn(e)}createRangeOn(e){return G._createOn(e)}createSelection(...e){return new Sr(...e)}createBatch(e){return new cd(e)}createOperationFromJSON(e){return cke.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new Cke(this,i);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function vx(n,t){if(n)return n instanceof Sr||n instanceof Ns?n:n instanceof ku?t||t===0?new Sr(n,t):n.is("rootElement")?new Sr(n,"in"):new Sr(n,"on"):new Sr(n)}class mz extends ja{constructor(){super(...arguments);g(this,"domEventType","click")}onDomEvent(e){this.fire(e.type,e)}}class uv extends ja{constructor(){super(...arguments);g(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(e){this.fire(e.type,e)}}class Fr{constructor(t){g(this,"document");this.document=t}createDocumentFragment(t){return new $c(this.document,t)}createElement(t,e,i){return new Ia(this.document,t,e,i)}createText(t){return new yi(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,i){return i._insertChild(t,e)}removeChildren(t,e,i){return i._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const i=t.parent;if(i){const r=i.getChildIndex(t);return this.removeChildren(r,1,i),this.insertChild(r,e,i),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const i=e.getChildIndex(t);this.remove(t),this.insertChild(i,t.getChildren(),e)}}rename(t,e){const i=new Ia(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,i)?i:null}setAttribute(t,e,i){i._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){vs(t)&&i===void 0?e._setStyle(t):i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return Ee._createAt(t,e)}createPositionAfter(t){return Ee._createAfter(t)}createPositionBefore(t){return Ee._createBefore(t)}createRange(t,e){return new pt(t,e)}createRangeOn(t){return pt._createOn(t)}createRangeIn(t){return pt._createIn(t)}createSelection(...t){return new ba(...t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Zke=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,Jke=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,Xke=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Qke=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,eCe=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,tCe=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,nCe=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function pz(n){return n.startsWith("#")?Zke.test(n):n.startsWith("rgb")?Jke.test(n)||Xke.test(n):n.startsWith("hsl")?Qke.test(n)||eCe.test(n):nCe.has(n.toLowerCase())}const iCe=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function rCe(n){return iCe.includes(n)}const sCe=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function dv(n){return sCe.test(n)}const oCe=/^[+-]?[0-9]*([.][0-9]+)?%$/;function gz(n){return oCe.test(n)}const aCe=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function lCe(n){return aCe.includes(n)}const cCe=["center","top","bottom","left","right"];function uCe(n){return cCe.includes(n)}const dCe=["fixed","scroll","local"];function fCe(n){return dCe.includes(n)}const hCe=/^url\(/;function mCe(n){return hCe.test(n)}function am(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const t=yT(n),e=t[0],i=t[2]||e,r=t[1]||e,s=t[3]||r;return{top:e,bottom:i,right:r,left:s}}function lm(n){return t=>{const{top:e,right:i,bottom:r,left:s}=t,o=[];return[e,i,s,r].every(a=>!!a)?o.push([n,pCe(t)]):(e&&o.push([n+"-top",e]),i&&o.push([n+"-right",i]),r&&o.push([n+"-bottom",r]),s&&o.push([n+"-left",s])),o}}function pCe({top:n,right:t,bottom:e,left:i}){const r=[];return i!==t?r.push(n,t,e,i):e!==n?r.push(n,t,e):t!==n?r.push(n,t):r.push(n),r.join(" ")}function bz(n){return t=>({path:n,value:am(t)})}function yT(n){const t=n.trim().slice(0,1500).matchAll(tCe);return Array.from(t).map(e=>e[0])}function _T(n){n.setNormalizer("background",gCe()),n.setNormalizer("background-color",bCe()),n.setReducer("background",wCe()),n.setStyleRelation("background",["background-color"])}function gCe(){return n=>{const t={},e=yT(n);for(const i of e)lCe(i)?(t.repeat=t.repeat||[],t.repeat.push(i)):uCe(i)?(t.position=t.position||[],t.position.push(i)):fCe(i)?t.attachment=i:pz(i)?t.color=i:mCe(i)&&(t.image=i);return{path:"background",value:t}}}function bCe(){return n=>({path:"background.color",value:n})}function wCe(){return n=>{const t=[];return t.push(["background-color",n.color]),t}}function wz(n){n.setNormalizer("border",vCe()),n.setNormalizer("border-top",N0("top")),n.setNormalizer("border-right",N0("right")),n.setNormalizer("border-bottom",N0("bottom")),n.setNormalizer("border-left",N0("left")),n.setNormalizer("border-color",yx("color")),n.setNormalizer("border-width",yx("width")),n.setNormalizer("border-style",yx("style")),n.setNormalizer("border-top-color",Wr("color","top")),n.setNormalizer("border-top-style",Wr("style","top")),n.setNormalizer("border-top-width",Wr("width","top")),n.setNormalizer("border-right-color",Wr("color","right")),n.setNormalizer("border-right-style",Wr("style","right")),n.setNormalizer("border-right-width",Wr("width","right")),n.setNormalizer("border-bottom-color",Wr("color","bottom")),n.setNormalizer("border-bottom-style",Wr("style","bottom")),n.setNormalizer("border-bottom-width",Wr("width","bottom")),n.setNormalizer("border-left-color",Wr("color","left")),n.setNormalizer("border-left-style",Wr("style","left")),n.setNormalizer("border-left-width",Wr("width","left")),n.setExtractor("border-top",M0("top")),n.setExtractor("border-right",M0("right")),n.setExtractor("border-bottom",M0("bottom")),n.setExtractor("border-left",M0("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",lm("border-color")),n.setReducer("border-style",lm("border-style")),n.setReducer("border-width",lm("border-width")),n.setReducer("border-top",D0("top")),n.setReducer("border-right",D0("right")),n.setReducer("border-bottom",D0("bottom")),n.setReducer("border-left",D0("left")),n.setReducer("border",_Ce()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function vCe(){return n=>{const{color:t,style:e,width:i}=vz(n);return{path:"border",value:{color:am(t),style:am(e),width:am(i)}}}}function N0(n){return t=>{const{color:e,style:i,width:r}=vz(t),s={};return e!==void 0&&(s.color={[n]:e}),i!==void 0&&(s.style={[n]:i}),r!==void 0&&(s.width={[n]:r}),{path:"border",value:s}}}function yx(n){return t=>({path:"border",value:yCe(t,n)})}function yCe(n,t){return{[t]:am(n)}}function Wr(n,t){return e=>({path:"border",value:{[n]:{[t]:e}}})}function M0(n){return(t,e)=>{if(e.border)return Wh(e.border,n)}}function Wh(n,t){const e={};return n.width&&n.width[t]&&(e.width=n.width[t]),n.style&&n.style[t]&&(e.style=n.style[t]),n.color&&n.color[t]&&(e.color=n.color[t]),e}function vz(n){const t={},e=yT(n);for(const i of e)dv(i)||/thin|medium|thick/.test(i)?t.width=i:rCe(i)?t.style=i:t.color=i;return t}function _Ce(){return t=>{const e=Wh(t,"top"),i=Wh(t,"right"),r=Wh(t,"bottom"),s=Wh(t,"left"),o=[e,i,r,s],a={width:n(o,"width"),style:n(o,"style"),color:n(o,"color")},l=kd(a,"all");return l.length?l:[...Object.entries(a).reduce((d,[h,p])=>(p&&(d.push([`border-${h}`,p]),o.forEach(b=>delete b[h])),d),[]),...kd(e,"top"),...kd(i,"right"),...kd(r,"bottom"),...kd(s,"left")]};function n(t,e){return t.map(i=>i[e]).reduce((i,r)=>i==r?i:null)}}function D0(n){return t=>kd(t,n)}function kd(n,t){const e=[];if(n&&n.width&&e.push("width"),n&&n.style&&e.push("style"),n&&n.color&&e.push("color"),e.length==3){const i=e.map(r=>n[r]).join(" ");return[t=="all"?["border",i]:[`border-${t}`,i]]}return t=="all"?[]:e.map(i=>[`border-${t}-${i}`,n[i]])}function xCe(n){n.setNormalizer("margin",bz("margin")),n.setNormalizer("margin-top",t=>({path:"margin.top",value:t})),n.setNormalizer("margin-right",t=>({path:"margin.right",value:t})),n.setNormalizer("margin-bottom",t=>({path:"margin.bottom",value:t})),n.setNormalizer("margin-left",t=>({path:"margin.left",value:t})),n.setReducer("margin",lm("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function kCe(n){n.setNormalizer("padding",bz("padding")),n.setNormalizer("padding-top",t=>({path:"padding.top",value:t})),n.setNormalizer("padding-right",t=>({path:"padding.right",value:t})),n.setNormalizer("padding-bottom",t=>({path:"padding.bottom",value:t})),n.setNormalizer("padding-left",t=>({path:"padding.left",value:t})),n.setReducer("padding",lm("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class yz{constructor(t){g(this,"crashes",[]);g(this,"state","initializing");g(this,"_crashNumberLimit");g(this,"_now",Date.now);g(this,"_minimumNonErrorTimePeriod");g(this,"_boundErrorHandler");g(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const i="error"in e?e.error:e.reason;i instanceof Error&&this._handleError(i,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(i=>i!==e)}_fire(t,...e){const i=this._listeners[t]||[];for(const r of i)r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-e)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zk(n,t=new Set){const e=[n],i=new Set;let r=0;for(;e.length>r;){const s=e[r++];if(!(i.has(s)||!CCe(s)||t.has(s)))if(i.add(s),Symbol.iterator in s)try{for(const o of s)e.push(o)}catch{}else for(const o in s)o!=="defaultValue"&&e.push(s[o])}return i}function CCe(n){const t=Object.prototype.toString.call(n),e=typeof n;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function _z(n,t,e=new Set){if(n===t&&ECe(n))return!0;const i=Zk(n,e),r=Zk(t,e);for(const s of i)if(r.has(s))return!0;return!1}function ECe(n){return typeof n=="object"&&n!==null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class xz extends yz{constructor(e,i={}){super(i);g(this,"_editor",null);g(this,"_lifecyclePromise",null);g(this,"_throttledSave");g(this,"_data");g(this,"_lastDocumentVersion");g(this,"_elementOrData");g(this,"_initUsingData",!0);g(this,"_editables",{});g(this,"_config");g(this,"_excludedProps");this._throttledSave=au(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(r,s)=>e.create(r,s)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],r=this._config.rootsAttributes||{},s={};for(const[a,l]of Object.entries(this._data.roots))l.isLoaded?(e[a]="",s[a]=r[a]||{}):i.push(a);const o={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:s,_watchdogInitialData:this._data};return delete o.initialData,o.extraPlugins.push(SCe),this._initUsingData?this.create(e,o,o.context):Ta(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=r,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(l=>l.isAttached()&&l.rootName!="$graveyard"),{plugins:r}=e,s=r.has("CommentsRepository")&&r.get("CommentsRepository"),o=r.has("TrackChanges")&&r.get("TrackChanges"),a={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(l=>{a.roots[l.rootName]={content:JSON.stringify(Array.from(l.getChildren())),attributes:JSON.stringify(Array.from(l.getAttributes())),isLoaded:l._isLoaded}});for(const l of e.model.markers)l._affectsData&&(a.markers[l.name]={rangeJSON:l.getRange().toJSON(),usingOperation:l._managedUsingOperations,affectsData:l._affectsData});return s&&(a.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(a.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),a}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(i);r&&(e[i]=r)}return e}_isErrorComingFromThisItem(e){return _z(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return eT(e,(i,r)=>{if(Ta(i)||r==="context")return i})}}class SCe{constructor(t){g(this,"editor");g(this,"_data");this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,e){if("name"in e){const i=t.createElement(e.name,e.attributes);if(e.children)for(const r of e.children)i._appendChild(this._createNode(t,r));return i}else return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach(([i,{content:r,attributes:s}])=>{const o=JSON.parse(r),a=JSON.parse(s),l=e.model.document.getRoot(i);for(const[c,d]of a)t.setAttribute(c,d,l);for(const c of o){const d=this._createNode(t,c);t.insert(d,l,"end")}}),Object.entries(this._data.markers).forEach(([i,r])=>{const{document:s}=e.model,{rangeJSON:{start:o,end:a},...l}=r,c=s.getRoot(o.root),d=t.createPositionFromPath(c,o.path,o.stickiness),h=t.createPositionFromPath(c,a.path,a.stickiness),p=t.createRange(d,h);t.addMarker(i,{range:p,...l})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach(i=>{const r=this.editor.config.get("collaboration.channelId"),s=this.editor.plugins.get("CommentsRepository");s.hasCommentThread(i.threadId)&&s.getCommentThread(i.threadId).remove(),s.addCommentThread({channelId:r,...i})}),e.forEach(i=>{const r=this.editor.plugins.get("TrackChangesEditing");if(r.hasSuggestion(i.id)){const s=r.getSuggestion(i.id);s.attributes=i.attributes}else r.addSuggestionData(i)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const cm=Symbol("MainQueueId");class TCe extends yz{constructor(e,i={}){super(i);g(this,"_watchdogs",new Map);g(this,"_watchdogConfig");g(this,"_context",null);g(this,"_contextProps",new Set);g(this,"_actionQueues",new ACe);g(this,"_contextConfig");g(this,"_item");this._watchdogConfig=i,this._creator=r=>e.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(cm,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const i=tR(e);return Promise.all(i.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return s=new xz(null,this._watchdogConfig),s.setCreator(r.creator),s._setExcludedProperties(this._contextProps),r.destructor&&s.setDestructor(r.destructor),this._watchdogs.set(r.id,s),s.on("error",(o,{error:a,causesRestart:l})=>{this._fire("itemError",{itemId:r.id,error:a}),l&&this._actionQueues.enqueue(r.id,()=>new Promise(c=>{const d=()=>{s.off("restart",d),this._fire("itemRestart",{itemId:r.id}),c()};s.on("restart",d)}))}),s.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(e){const i=tR(e);return Promise.all(i.map(r=>this._actionQueues.enqueue(r,()=>{const s=this._getWatchdog(r);return this._watchdogs.delete(r),s.destroy()})))}destroy(){return this._actionQueues.enqueue(cm,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(cm,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Zk(this._context),Promise.all(Array.from(this._watchdogs.values()).map(i=>(i._setExcludedProperties(this._contextProps),i.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(i=>i.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const i=this._watchdogs.get(e);if(!i)throw new Error(`Item with the given id was not registered: ${e}.`);return i}_isErrorComingFromThisItem(e){for(const i of this._watchdogs.values())if(i._isErrorComingFromThisItem(e))return!1;return _z(this._context,e.context)}}class ACe{constructor(){g(this,"_onEmptyCallbacks",[]);g(this,"_queues",new Map);g(this,"_activeActions",0)}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const i=t===cm;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const s=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(cm),this._queues.get(t)])).then(e),o=s.catch(()=>{});return this._queues.set(t,o),s.finally(()=>{this._activeActions--,this._queues.get(t)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function tR(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class L extends Ot(){constructor(e){super();g(this,"editor");g(this,"_disableStack",new Set);this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",nR,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",nR),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function nR(n){n.return=!1,n.stop()}class je extends Ot(){constructor(e){super();g(this,"editor");g(this,"_isEnabledBasedOnSelection");g(this,"_affectsData");g(this,"_disableStack");this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const r=e.model.document.selection,o=!(r.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!o)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",iR,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",iR),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function iR(n){n.return=!1,n.stop()}class rR extends je{constructor(){super(...arguments);g(this,"_childCommandsDefinitions",[])}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){QB(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class kz extends $t(){constructor(e,i=[],r=[]){super();g(this,"_context");g(this,"_plugins",new Map);g(this,"_availablePlugins");g(this,"_contextPlugins");this._context=e,this._availablePlugins=new Map;for(const s of i)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,o]of r)this._contextPlugins.set(s,o),this._contextPlugins.set(o,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return i}has(e){return this._plugins.has(e)}init(e,i=[],r=[]){const s=this,o=this._context;_(e),C(e);const a=e.filter(R=>!p(R,i)),l=[...x(a)];D(l,r);const c=P(l);return O(c,"init").then(()=>O(c,"afterInit")).then(()=>c);function d(R){return typeof R=="function"}function h(R){return d(R)&&!!R.isContextPlugin}function p(R,j){return j.some($=>$===R||b(R)===$||b($)===R)}function b(R){return d(R)?R.pluginName||R.name:R}function _(R,j=new Set){R.forEach($=>{d($)&&(j.has($)||(j.add($),$.pluginName&&!s._availablePlugins.has($.pluginName)&&s._availablePlugins.set($.pluginName,$),$.requires&&_($.requires,j)))})}function x(R,j=new Set){return R.map($=>d($)?$:s._availablePlugins.get($)).reduce(($,Z)=>j.has(Z)?$:(j.add(Z),Z.requires&&(C(Z.requires,Z),x(Z.requires,j).forEach(ge=>$.add(ge))),$.add(Z)),new Set)}function C(R,j=null){R.map($=>d($)?$:s._availablePlugins.get($)||$).forEach($=>{S($,j),T($,j),A($,j)})}function S(R,j){if(!d(R))throw j?new M("plugincollection-soft-required",o,{missingPlugin:R,requiredBy:b(j)}):new M("plugincollection-plugin-not-found",o,{plugin:R})}function T(R,j){if(h(j)&&!h(R))throw new M("plugincollection-context-required",o,{plugin:b(R),requiredBy:b(j)})}function A(R,j){if(j&&p(R,i))throw new M("plugincollection-required",o,{plugin:b(R),requiredBy:b(j)})}function P(R){return R.map(j=>{let $=s._contextPlugins.get(j);return $=$||new j(o),s._add(j,$),$})}function O(R,j){return R.reduce(($,Z)=>!Z[j]||s._contextPlugins.has(Z)?$:$.then(Z[j].bind(Z)),Promise.resolve())}function D(R,j){for(const $ of j){if(typeof $!="function")throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:$});const Z=$.pluginName;if(!Z)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:$});if($.requires&&$.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Z});const ge=s._availablePlugins.get(Z);if(!ge)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Z});const ee=R.indexOf(ge);if(ee===-1){if(s._contextPlugins.has(ge))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Z})}if(ge.requires&&ge.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Z});R.splice(ee,1,$),s._availablePlugins.set(Z,$)}}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy=="function"&&!this._contextPlugins.has(i)&&e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,i)}}}class P1{constructor(t){g(this,"config");g(this,"plugins");g(this,"locale");g(this,"t");g(this,"editors");g(this,"_contextOwner",null);const{translations:e,...i}=t||{};this.config=new lj(i,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new kz(this,r);const s=this.config.get("language")||{};this.locale=new p_e({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new Sn}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const i of t.concat(e)){if(typeof i!="function")throw new M("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new M("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const i=new this(t);e(i.initPlugins().then(()=>i))})}}g(P1,"defaultConfig"),g(P1,"builtinPlugins");class fv extends Ot(){constructor(e){super();g(this,"context");this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}class ICe{constructor(){g(this,"_commands");this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const i=this.get(t);if(!i)throw new M("commandcollection-command-not-found",this,{commandName:t});return i.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class PCe extends jt{constructor(e){super();g(this,"editor");this.editor=e}set(e,i,r={}){if(typeof i=="string"){const s=i;i=(o,a)=>{this.editor.execute(s),a()}}super.set(e,i,r)}}const _x="contentEditing",sR="common";class RCe{constructor(t){g(this,"keystrokeInfos",new Map);g(this,"_editor");this._editor=t;const e=t.config.get("menuBar.isVisible"),i=t.locale.t;this.addKeystrokeInfoCategory({id:_x,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const r=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&r.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:r}]})}addKeystrokeInfoCategory({id:t,label:e,description:i,groups:r}){this.keystrokeInfos.set(t,{id:t,label:e,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:sR}),r&&r.forEach(s=>{this.addKeystrokeInfoGroup({categoryId:t,...s})})}addKeystrokeInfoGroup({categoryId:t=_x,id:e,label:i,keystrokes:r}){const s=this.keystrokeInfos.get(t);if(!s)throw new M("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});s.groups.set(e,{id:e,label:i,keystrokes:r||[]})}addKeystrokeInfos({categoryId:t=_x,groupId:e=sR,keystrokes:i}){if(!this.keystrokeInfos.has(t))throw new M("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:i});const r=this.keystrokeInfos.get(t);if(!r.groups.has(e))throw new M("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:i});r.groups.get(e).keystrokes.push(...i)}}function OCe(n){return{sessionId:VCe(),pageSessionId:FCe(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:NCe(n),plugins:MCe(n.plugins),distribution:DCe(),env:LCe(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:xx(n.config.get("toolbar")),block:xx(n.config.get("blockToolbar")),balloon:xx(n.config.get("balloonToolbar"))}}}function NCe(n){return Object.getPrototypeOf(n).constructor.editorName}function MCe(n){return Array.from(n).filter(([t])=>!!t.pluginName).map(([t])=>{const{pluginName:e,isContextPlugin:i,isOfficialPlugin:r,isPremiumPlugin:s}=t;return{isContext:!!i,isOfficial:!!r,isPremium:!!s,name:e}})}function xx(n){if(!n)return;const t=Array.isArray(n)?{items:n}:n,e=s(t.items||[]);return{isMultiline:e.includes("-"),shouldNotGroupWhenFull:!!t.shouldNotGroupWhenFull,items:r(e)};function r(o){return o.filter(a=>a!=="|"&&a!=="-")}function s(o){return o.flatMap(a=>typeof a=="string"?[a]:s(a.items))}}function DCe(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function LCe(){let n="unknown",t="unknown";return qe.isMac?n="mac":qe.isWindows?n="windows":qe.isiOS?n="ios":qe.isAndroid&&(n="android"),qe.isGecko?t="gecko":qe.isBlink?t="blink":qe.isSafari&&(t="safari"),{os:n,browser:t}}function VCe(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",ii()),localStorage.getItem("__ckeditor-session-id")}function FCe(){return _e.window.CKEDITOR_PAGE_SESSION_ID=_e.window.CKEDITOR_PAGE_SESSION_ID||ii(),_e.window.CKEDITOR_PAGE_SESSION_ID}var Tc;let BCe=(Tc=class extends Ot(){constructor(e={}){super();g(this,"accessibility");g(this,"commands");g(this,"config");g(this,"conversion");g(this,"data");g(this,"editing");g(this,"locale");g(this,"model");g(this,"plugins");g(this,"keystrokes");g(this,"t");g(this,"_context");g(this,"_readOnlyLocks");if("sanitizeHtml"in e)throw new M("editor-config-sanitizehtml-not-supported");const i=this.constructor,{translations:r,...s}=i.defaultConfig||{},{translations:o=r,...a}=e,l=e.language||s.language;this._context=e.context||new P1({language:l,translations:o}),this._context._addEditor(this,!e.context);const c=Array.from(i.builtinPlugins||[]);this.config=new lj(a,s),this.config.define("plugins",c),this.config.define(this._context._getEditorConfig()),h(this.config),this.plugins=new kz(this,c,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new ICe,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Yke,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const d=new D_e;this.data=new ske(this.model,d),this.editing=new D2e(this.model,d),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ake([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new PCe(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new RCe(this),p(this);function h(b){let _=b.get("licenseKey");if(!_&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(_=window.CKEDITOR_GLOBAL_LICENSE_KEY,b.set("licenseKey",_)),!_)throw new M("license-key-missing")}function p(b){const _=b.config.get("licenseKey"),x=window[Symbol.for("cke distribution")]||"sh";function C($){b.enableReadOnlyMode(Symbol("invalidLicense")),b._showLicenseError($)}function S($){const Z=$.split(".");return Z.length!=3?null:Z[1]}function T($){return["exp","jti","vc"].every(ge=>ge in $)}function A($){return Object.getOwnPropertyNames($).sort().filter(ee=>ee!="vc"&&$[ee]!=null).map(ee=>$[ee])}function P($){const{hostname:Z}=new URL(window.location.href);if($.includes(Z))return!0;const ge=Z.split(".");return $.filter(ee=>ee.includes("*")).map(ee=>ee.split(".")).filter(ee=>ee.length<=ge.length).map(ee=>Array(ge.length-ee.length).fill(ee[0]==="*"?"*":"").concat(ee)).some(ee=>ge.every((re,ne)=>ee[ne]===re||ee[ne]==="*"))}if(_=="GPL"){x=="cloud"&&C("distributionChannel");return}const O=S(_);if(!O){C("invalid");return}const D=oT(O);if(!D){C("invalid");return}if(!T(D)){C("invalid");return}if(D.distributionChannel&&!Ct(D.distributionChannel).includes(x)){C("distributionChannel");return}if(y_e(A(D))!=D.vc.toLowerCase()){C("invalid");return}if(new Date(D.exp*1e3)<Oye){C("expired");return}const j=D.licensedHosts;if(j&&j.length>0&&!P(j)){C("domainLimit");return}if(["evaluation","trial"].includes(D.licenseType)&&D.exp*1e3<Date.now()){C("expired");return}if(["evaluation","trial","development"].includes(D.licenseType)){const $=D.licenseType;console.info(`You are using the ${$} version of CKEditor 5 with limited usage. Make sure you will not use it in the production environment.`);const Z=setTimeout(()=>{C(`${$}Limit`)},6e5);b.on("destroy",()=>{clearTimeout(Z)})}D.usageEndpoint&&b.once("ready",()=>{const $={requestId:ii(),requestTime:Math.round(Date.now()/1e3),license:_,editor:jCe(b)};b._sendUsageRequest(D.usageEndpoint,$).then(Z=>{const{status:ge,message:ee}=Z;ee&&console.warn(ee),ge!="ok"&&C("usageLimit")},()=>{Iye("license-key-validation-endpoint-not-reachable",{url:D.usageEndpoint})})},{priority:"high"})}}static get editorName(){return"Editor"}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),r=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],o=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(s),r,o)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(r){/* istanbul ignore next -- @preserve */M.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}_showLicenseError(e,i){setTimeout(()=>{if(e=="invalid")throw new M("invalid-license-key");if(e=="expired")throw new M("license-key-expired");if(e=="domainLimit")throw new M("license-key-domain-limit");if(e=="featureNotAllowed")throw new M("license-key-plugin-not-allowed",null,{pluginName:i});if(e=="evaluationLimit")throw new M("license-key-evaluation-limit");if(e=="trialLimit")throw new M("license-key-trial-limit");if(e=="developmentLimit")throw new M("license-key-development-limit");if(e=="usageLimit")throw new M("license-key-usage-limit");if(e=="distributionChannel")throw new M("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,i){const r=new Headers({"Content-Type":"application/json"}),s=await fetch(new URL(e),{method:"POST",headers:r,body:JSON.stringify(i)});if(!s.ok)throw new Error(`HTTP Response: ${s.status}`);return s.json()}},g(Tc,"defaultConfig"),g(Tc,"builtinPlugins"),g(Tc,"Context",P1),g(Tc,"EditorWatchdog",xz),g(Tc,"ContextWatchdog",TCe),Tc);function jCe(n){const t=OCe(n);function e(i,r){if(tf(t,i)!==void 0)throw new M("editor-usage-data-path-already-set",{path:i});ZB(t,i,r)}return n.fire("collectUsageData",{setUsageData:e}),t}function zCe(n){if(!su(n.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",n);const t=n.sourceElement;if($Ce(t)&&t.form){let e;const i=t.form,r=()=>n.updateSourceElement();su(i.submit)&&(e=i.submit,i.submit=()=>{r(),e.apply(i)}),i.addEventListener("submit",r),n.on("destroy",()=>{i.removeEventListener("submit",r),e&&(i.submit=e)})}}function $Ce(n){return!!n&&n.tagName.toLowerCase()==="textarea"}function Jk(n){class t extends n{constructor(){super(...arguments);g(this,"sourceElement")}updateSourceElement(r){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!o){l6(this.sourceElement,"");return}const a=typeof r=="string"?r:this.data.get();l6(this.sourceElement,a)}}return t}Jk.updateSourceElement=Jk(Object).prototype.updateSourceElement;class sf extends fv{constructor(){super(...arguments);g(this,"_actions")}static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new Sn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new M("pendingactions-add-invalid-message",this);const i=new(Ot());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}var UCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',HCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',WCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',qCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',GCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',KCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',YCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',ZCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',JCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',XCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',QCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',eEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',tEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',nEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',iEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',rEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',sEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',oEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',aEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',lEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',cEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',uEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',dEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',fEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',hEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',mEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',gEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',bEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',wEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',vEe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',yEe='<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',_Ee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',xEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',kEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',CEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',EEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',SEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',TEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',AEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',IEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',PEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',REe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',OEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',NEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',MEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',DEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',LEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',VEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',FEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',BEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',jEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',zEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',$Ee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',UEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',HEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',WEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',qEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',GEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',KEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',YEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ZEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',JEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>',XEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1Zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5Zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5Zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5Zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2Z"/></svg>',QEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.68 3.417a.238.238 0 0 0-.24.236v12.66l3.793-3.102a1.215 1.215 0 0 1 1.534 0l3.793 3.103V3.654a.238.238 0 0 0-.24-.237H5.68ZM4 3.653C4 2.74 4.752 2 5.68 2h8.64c.928 0 1.68.74 1.68 1.653v13.164c0 1-1.185 1.547-1.967.908L10 14.426l-4.033 3.299c-.782.64-1.967.092-1.967-.908V3.653Z"/></svg>',eSe='<svg viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M2 14.436V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v12.436a.5.5 0 0 1-.819.385l-3.862-3.2a.5.5 0 0 0-.638 0l-3.862 3.2A.5.5 0 0 1 2 14.436Z"/></svg>';const se={bold:IEe,cancel:UCe,caption:HCe,check:WCe,cog:qCe,colorPalette:GCe,eraser:KCe,history:YCe,image:tEe,imageUpload:nEe,imageAssetManager:iEe,imageUrl:rEe,lowVision:ZCe,textAlternative:JCe,loupe:XCe,previousArrow:QCe,nextArrow:eEe,importExport:NEe,paragraph:PEe,plus:REe,text:OEe,alignBottom:sEe,alignMiddle:oEe,alignTop:aEe,alignLeft:lEe,alignCenter:cEe,alignRight:uEe,alignJustify:dEe,objectLeft:bEe,objectCenter:hEe,objectRight:wEe,objectFullWidth:pEe,objectInline:gEe,objectBlockLeft:fEe,objectBlockRight:mEe,objectSizeCustom:yEe,objectSizeFull:vEe,objectSizeLarge:_Ee,objectSizeSmall:xEe,objectSizeMedium:kEe,pencil:CEe,pilcrow:EEe,quote:SEe,threeVerticalDots:TEe,dragIndicator:AEe,redo:MEe,undo:DEe,bulletedList:LEe,numberedList:VEe,todoList:FEe,codeBlock:BEe,browseFiles:jEe,heading1:zEe,heading2:$Ee,heading3:UEe,heading4:HEe,heading5:WEe,heading6:qEe,horizontalLine:GEe,html:KEe,indent:YEe,outdent:ZEe,table:JEe,remove:XEe,bookmark:QEe,bookmarkInline:eSe};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tSe extends Ot(){constructor(){super();g(this,"total");g(this,"_reader");g(this,"_data");const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((r,s)=>{i.onload=()=>{const o=i.result;this._data=o,r(o)},i.onerror=()=>{s("error")},i.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Al extends L{constructor(){super(...arguments);g(this,"loaders",new Sn);g(this,"_loadersMap",new Map);g(this,"_pendingAction",null)}static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[sf]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return ht("filerepository-no-upload-adapter"),null;const i=new oR(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(r=>{this._loadersMap.set(r,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let r=0;for(const s of this.loaders)r+=s.uploaded;this.uploaded=r}),i.on("change:uploadTotal",()=>{let r=0;for(const s of this.loaders)s.uploadTotal&&(r+=s.uploadTotal);this.uploadTotal=r}),i}destroyLoader(e){const i=e instanceof oR?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((r,s)=>{r===i&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(sf);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,r=s=>`${i("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class oR extends Ot(){constructor(e,i){super();g(this,"id");g(this,"_filePromiseWrapper");g(this,"_adapter");g(this,"_reader");this.id=ii(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new tSe,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,s)=>s?r/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((r,s)=>{i.rejecter=s,i.isFulfilled=!1,e.then(o=>{i.isFulfilled=!0,r(o)}).catch(o=>{i.isFulfilled=!0,s(o)})}),i}}class nSe extends L{static get requires(){return[Al]}static get pluginName(){return"SimpleUploadAdapter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.config.get("simpleUpload");if(t){if(!t.uploadUrl){ht("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(Al).createUploadAdapter=e=>new iSe(e,t)}}}class iSe{constructor(t,e){g(this,"loader");g(this,"options");g(this,"xhr");this.loader=t,this.options=e}upload(){return this.loader.file.then(t=>new Promise((e,i)=>{this._initRequest(),this._initListeners(e,i,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.options.uploadUrl,!0),t.responseType="json"}_initListeners(t,e,i){const r=this.xhr,s=this.loader,o=`Couldn't upload file: ${i.name}.`;r.addEventListener("error",()=>e(o)),r.addEventListener("abort",()=>e()),r.addEventListener("load",()=>{const a=r.response;if(!a||a.error)return e(a&&a.error&&a.error.message?a.error.message:o);const l=a.url?{default:a.url}:a.urls;t({...a,urls:l})});/* istanbul ignore else -- @preserve */r.upload&&r.upload.addEventListener("progress",a=>{a.lengthComputable&&(s.uploadTotal=a.total,s.uploaded=a.loaded)})}_sendRequest(t){const e=this.options.headers||{},i=this.options.withCredentials||!1;for(const s of Object.keys(e))this.xhr.setRequestHeader(s,e[s]);this.xhr.withCredentials=i;const r=new FormData;r.append("upload",t),this.xhr.send(r)}}var kx,aR;function Cz(){return aR||(aR=1,kx={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),kx}var rSe=Cz();const lR=fu(rSe);var cR={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function uR(n){var t,e=[],i=1,r;if(typeof n=="string")if(lR[n])e=lR[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",e=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var s=n.slice(1),o=s.length,a=o<=4;i=1,a?(e=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(e=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),r="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var l=t[1],c=l==="rgb",s=l.replace(/a$/,"");r=s;var o=s==="cmyk"?4:s==="gray"?1:3;e=t[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,b){if(/%$/.test(p))return b===o?parseFloat(p)/100:s==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(s[b]==="h"){if(/deg$/.test(p))return parseFloat(p);if(cR[p]!==void 0)return cR[p]}return parseFloat(p)}),l===s&&e.push(1),i=c||e[o]===void 0?1:e[o],e=e.slice(0,o)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(e=n.match(/([0-9]+)/g).map(function(d){return parseFloat(d)}),r=n.match(/([a-z])/ig).join("").toLowerCase());else isNaN(n)?Array.isArray(n)||n.length?(e=[n[0],n[1],n[2]],r="rgb",i=n.length===4?n[3]:1):n instanceof Object&&(n.r!=null||n.red!=null||n.R!=null?(r="rgb",e=[n.r||n.red||n.R||0,n.g||n.green||n.G||0,n.b||n.blue||n.B||0]):(r="hsl",e=[n.h||n.hue||n.H||0,n.s||n.saturation||n.S||0,n.l||n.lightness||n.L||n.b||n.brightness]),i=n.a||n.alpha||n.opacity||1,n.opacity!=null&&(i/=100)):(r="rgb",e=[n>>>16,(n&65280)>>>8,n&255]);return{space:r,values:e,alpha:i}}var Cx,dR;function Ez(){if(dR)return Cx;dR=1;const n=Cz(),t={};for(const r of Object.keys(n))t[n[r]]=r;const e={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Cx=e;for(const r of Object.keys(e)){if(!("channels"in e[r]))throw new Error("missing channels property: "+r);if(!("labels"in e[r]))throw new Error("missing channel labels property: "+r);if(e[r].labels.length!==e[r].channels)throw new Error("channel and label counts mismatch: "+r);const{channels:s,labels:o}=e[r];delete e[r].channels,delete e[r].labels,Object.defineProperty(e[r],"channels",{value:s}),Object.defineProperty(e[r],"labels",{value:o})}e.rgb.hsl=function(r){const s=r[0]/255,o=r[1]/255,a=r[2]/255,l=Math.min(s,o,a),c=Math.max(s,o,a),d=c-l;let h,p;c===l?h=0:s===c?h=(o-a)/d:o===c?h=2+(a-s)/d:a===c&&(h=4+(s-o)/d),h=Math.min(h*60,360),h<0&&(h+=360);const b=(l+c)/2;return c===l?p=0:b<=.5?p=d/(c+l):p=d/(2-c-l),[h,p*100,b*100]},e.rgb.hsv=function(r){let s,o,a,l,c;const d=r[0]/255,h=r[1]/255,p=r[2]/255,b=Math.max(d,h,p),_=b-Math.min(d,h,p),x=function(C){return(b-C)/6/_+1/2};return _===0?(l=0,c=0):(c=_/b,s=x(d),o=x(h),a=x(p),d===b?l=a-o:h===b?l=1/3+s-a:p===b&&(l=2/3+o-s),l<0?l+=1:l>1&&(l-=1)),[l*360,c*100,b*100]},e.rgb.hwb=function(r){const s=r[0],o=r[1];let a=r[2];const l=e.rgb.hsl(r)[0],c=1/255*Math.min(s,Math.min(o,a));return a=1-1/255*Math.max(s,Math.max(o,a)),[l,c*100,a*100]},e.rgb.cmyk=function(r){const s=r[0]/255,o=r[1]/255,a=r[2]/255,l=Math.min(1-s,1-o,1-a),c=(1-s-l)/(1-l)||0,d=(1-o-l)/(1-l)||0,h=(1-a-l)/(1-l)||0;return[c*100,d*100,h*100,l*100]};function i(r,s){return(r[0]-s[0])**2+(r[1]-s[1])**2+(r[2]-s[2])**2}return e.rgb.keyword=function(r){const s=t[r];if(s)return s;let o=1/0,a;for(const l of Object.keys(n)){const c=n[l],d=i(r,c);d<o&&(o=d,a=l)}return a},e.keyword.rgb=function(r){return n[r]},e.rgb.xyz=function(r){let s=r[0]/255,o=r[1]/255,a=r[2]/255;s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,a=a>.04045?((a+.055)/1.055)**2.4:a/12.92;const l=s*.4124+o*.3576+a*.1805,c=s*.2126+o*.7152+a*.0722,d=s*.0193+o*.1192+a*.9505;return[l*100,c*100,d*100]},e.rgb.lab=function(r){const s=e.rgb.xyz(r);let o=s[0],a=s[1],l=s[2];o/=95.047,a/=100,l/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,a=a>.008856?a**(1/3):7.787*a+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const c=116*a-16,d=500*(o-a),h=200*(a-l);return[c,d,h]},e.hsl.rgb=function(r){const s=r[0]/360,o=r[1]/100,a=r[2]/100;let l,c,d;if(o===0)return d=a*255,[d,d,d];a<.5?l=a*(1+o):l=a+o-a*o;const h=2*a-l,p=[0,0,0];for(let b=0;b<3;b++)c=s+1/3*-(b-1),c<0&&c++,c>1&&c--,6*c<1?d=h+(l-h)*6*c:2*c<1?d=l:3*c<2?d=h+(l-h)*(2/3-c)*6:d=h,p[b]=d*255;return p},e.hsl.hsv=function(r){const s=r[0];let o=r[1]/100,a=r[2]/100,l=o;const c=Math.max(a,.01);a*=2,o*=a<=1?a:2-a,l*=c<=1?c:2-c;const d=(a+o)/2,h=a===0?2*l/(c+l):2*o/(a+o);return[s,h*100,d*100]},e.hsv.rgb=function(r){const s=r[0]/60,o=r[1]/100;let a=r[2]/100;const l=Math.floor(s)%6,c=s-Math.floor(s),d=255*a*(1-o),h=255*a*(1-o*c),p=255*a*(1-o*(1-c));switch(a*=255,l){case 0:return[a,p,d];case 1:return[h,a,d];case 2:return[d,a,p];case 3:return[d,h,a];case 4:return[p,d,a];case 5:return[a,d,h]}},e.hsv.hsl=function(r){const s=r[0],o=r[1]/100,a=r[2]/100,l=Math.max(a,.01);let c,d;d=(2-o)*a;const h=(2-o)*l;return c=o*l,c/=h<=1?h:2-h,c=c||0,d/=2,[s,c*100,d*100]},e.hwb.rgb=function(r){const s=r[0]/360;let o=r[1]/100,a=r[2]/100;const l=o+a;let c;l>1&&(o/=l,a/=l);const d=Math.floor(6*s),h=1-a;c=6*s-d,d&1&&(c=1-c);const p=o+c*(h-o);let b,_,x;switch(d){default:case 6:case 0:b=h,_=p,x=o;break;case 1:b=p,_=h,x=o;break;case 2:b=o,_=h,x=p;break;case 3:b=o,_=p,x=h;break;case 4:b=p,_=o,x=h;break;case 5:b=h,_=o,x=p;break}return[b*255,_*255,x*255]},e.cmyk.rgb=function(r){const s=r[0]/100,o=r[1]/100,a=r[2]/100,l=r[3]/100,c=1-Math.min(1,s*(1-l)+l),d=1-Math.min(1,o*(1-l)+l),h=1-Math.min(1,a*(1-l)+l);return[c*255,d*255,h*255]},e.xyz.rgb=function(r){const s=r[0]/100,o=r[1]/100,a=r[2]/100;let l,c,d;return l=s*3.2406+o*-1.5372+a*-.4986,c=s*-.9689+o*1.8758+a*.0415,d=s*.0557+o*-.204+a*1.057,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,d=d>.0031308?1.055*d**(1/2.4)-.055:d*12.92,l=Math.min(Math.max(0,l),1),c=Math.min(Math.max(0,c),1),d=Math.min(Math.max(0,d),1),[l*255,c*255,d*255]},e.xyz.lab=function(r){let s=r[0],o=r[1],a=r[2];s/=95.047,o/=100,a/=108.883,s=s>.008856?s**(1/3):7.787*s+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;const l=116*o-16,c=500*(s-o),d=200*(o-a);return[l,c,d]},e.lab.xyz=function(r){const s=r[0],o=r[1],a=r[2];let l,c,d;c=(s+16)/116,l=o/500+c,d=c-a/200;const h=c**3,p=l**3,b=d**3;return c=h>.008856?h:(c-16/116)/7.787,l=p>.008856?p:(l-16/116)/7.787,d=b>.008856?b:(d-16/116)/7.787,l*=95.047,c*=100,d*=108.883,[l,c,d]},e.lab.lch=function(r){const s=r[0],o=r[1],a=r[2];let l;l=Math.atan2(a,o)*360/2/Math.PI,l<0&&(l+=360);const d=Math.sqrt(o*o+a*a);return[s,d,l]},e.lch.lab=function(r){const s=r[0],o=r[1],l=r[2]/360*2*Math.PI,c=o*Math.cos(l),d=o*Math.sin(l);return[s,c,d]},e.rgb.ansi16=function(r,s=null){const[o,a,l]=r;let c=s===null?e.rgb.hsv(r)[2]:s;if(c=Math.round(c/50),c===0)return 30;let d=30+(Math.round(l/255)<<2|Math.round(a/255)<<1|Math.round(o/255));return c===2&&(d+=60),d},e.hsv.ansi16=function(r){return e.rgb.ansi16(e.hsv.rgb(r),r[2])},e.rgb.ansi256=function(r){const s=r[0],o=r[1],a=r[2];return s===o&&o===a?s<8?16:s>248?231:Math.round((s-8)/247*24)+232:16+36*Math.round(s/255*5)+6*Math.round(o/255*5)+Math.round(a/255*5)},e.ansi16.rgb=function(r){let s=r%10;if(s===0||s===7)return r>50&&(s+=3.5),s=s/10.5*255,[s,s,s];const o=(~~(r>50)+1)*.5,a=(s&1)*o*255,l=(s>>1&1)*o*255,c=(s>>2&1)*o*255;return[a,l,c]},e.ansi256.rgb=function(r){if(r>=232){const c=(r-232)*10+8;return[c,c,c]}r-=16;let s;const o=Math.floor(r/36)/5*255,a=Math.floor((s=r%36)/6)/5*255,l=s%6/5*255;return[o,a,l]},e.rgb.hex=function(r){const o=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o},e.hex.rgb=function(r){const s=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!s)return[0,0,0];let o=s[0];s[0].length===3&&(o=o.split("").map(h=>h+h).join(""));const a=parseInt(o,16),l=a>>16&255,c=a>>8&255,d=a&255;return[l,c,d]},e.rgb.hcg=function(r){const s=r[0]/255,o=r[1]/255,a=r[2]/255,l=Math.max(Math.max(s,o),a),c=Math.min(Math.min(s,o),a),d=l-c;let h,p;return d<1?h=c/(1-d):h=0,d<=0?p=0:l===s?p=(o-a)/d%6:l===o?p=2+(a-s)/d:p=4+(s-o)/d,p/=6,p%=1,[p*360,d*100,h*100]},e.hsl.hcg=function(r){const s=r[1]/100,o=r[2]/100,a=o<.5?2*s*o:2*s*(1-o);let l=0;return a<1&&(l=(o-.5*a)/(1-a)),[r[0],a*100,l*100]},e.hsv.hcg=function(r){const s=r[1]/100,o=r[2]/100,a=s*o;let l=0;return a<1&&(l=(o-a)/(1-a)),[r[0],a*100,l*100]},e.hcg.rgb=function(r){const s=r[0]/360,o=r[1]/100,a=r[2]/100;if(o===0)return[a*255,a*255,a*255];const l=[0,0,0],c=s%1*6,d=c%1,h=1-d;let p=0;switch(Math.floor(c)){case 0:l[0]=1,l[1]=d,l[2]=0;break;case 1:l[0]=h,l[1]=1,l[2]=0;break;case 2:l[0]=0,l[1]=1,l[2]=d;break;case 3:l[0]=0,l[1]=h,l[2]=1;break;case 4:l[0]=d,l[1]=0,l[2]=1;break;default:l[0]=1,l[1]=0,l[2]=h}return p=(1-o)*a,[(o*l[0]+p)*255,(o*l[1]+p)*255,(o*l[2]+p)*255]},e.hcg.hsv=function(r){const s=r[1]/100,o=r[2]/100,a=s+o*(1-s);let l=0;return a>0&&(l=s/a),[r[0],l*100,a*100]},e.hcg.hsl=function(r){const s=r[1]/100,a=r[2]/100*(1-s)+.5*s;let l=0;return a>0&&a<.5?l=s/(2*a):a>=.5&&a<1&&(l=s/(2*(1-a))),[r[0],l*100,a*100]},e.hcg.hwb=function(r){const s=r[1]/100,o=r[2]/100,a=s+o*(1-s);return[r[0],(a-s)*100,(1-a)*100]},e.hwb.hcg=function(r){const s=r[1]/100,a=1-r[2]/100,l=a-s;let c=0;return l<1&&(c=(a-l)/(1-l)),[r[0],l*100,c*100]},e.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},e.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},e.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},e.gray.hsl=function(r){return[0,0,r[0]]},e.gray.hsv=e.gray.hsl,e.gray.hwb=function(r){return[0,100,r[0]]},e.gray.cmyk=function(r){return[0,0,0,r[0]]},e.gray.lab=function(r){return[r[0],0,0]},e.gray.hex=function(r){const s=Math.round(r[0]/100*255)&255,a=((s<<16)+(s<<8)+s).toString(16).toUpperCase();return"000000".substring(a.length)+a},e.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]},Cx}var Ex,fR;function sSe(){if(fR)return Ex;fR=1;const n=Ez();function t(){const s={},o=Object.keys(n);for(let a=o.length,l=0;l<a;l++)s[o[l]]={distance:-1,parent:null};return s}function e(s){const o=t(),a=[s];for(o[s].distance=0;a.length;){const l=a.pop(),c=Object.keys(n[l]);for(let d=c.length,h=0;h<d;h++){const p=c[h],b=o[p];b.distance===-1&&(b.distance=o[l].distance+1,b.parent=l,a.unshift(p))}}return o}function i(s,o){return function(a){return o(s(a))}}function r(s,o){const a=[o[s].parent,s];let l=n[o[s].parent][s],c=o[s].parent;for(;o[c].parent;)a.unshift(o[c].parent),l=i(n[o[c].parent][c],l),c=o[c].parent;return l.conversion=a,l}return Ex=function(s){const o=e(s),a={},l=Object.keys(o);for(let c=l.length,d=0;d<c;d++){const h=l[d];o[h].parent!==null&&(a[h]=r(h,o))}return a},Ex}var Sx,hR;function oSe(){if(hR)return Sx;hR=1;const n=Ez(),t=sSe(),e={},i=Object.keys(n);function r(o){const a=function(...l){const c=l[0];return c==null?c:(c.length>1&&(l=c),o(l))};return"conversion"in o&&(a.conversion=o.conversion),a}function s(o){const a=function(...l){const c=l[0];if(c==null)return c;c.length>1&&(l=c);const d=o(l);if(typeof d=="object")for(let h=d.length,p=0;p<h;p++)d[p]=Math.round(d[p]);return d};return"conversion"in o&&(a.conversion=o.conversion),a}return i.forEach(o=>{e[o]={},Object.defineProperty(e[o],"channels",{value:n[o].channels}),Object.defineProperty(e[o],"labels",{value:n[o].labels});const a=t(o);Object.keys(a).forEach(c=>{const d=a[c];e[o][c]=s(d),e[o][c].raw=r(d)})}),Sx=e,Sx}var Sz=oSe();const aSe=fu(Sz),Tz=a7({__proto__:null,default:aSe},[Sz]),tp=(n,t=0,e=1)=>n>e?e:n<t?t:n,vi=(n,t=0,e=Math.pow(10,t))=>Math.round(e*n)/e,lSe=n=>hSe(Xk(n)),Xk=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?vi(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?vi(parseInt(n.substring(6,8),16)/255,2):1}),cSe=n=>fSe(dSe(n)),uSe=({h:n,s:t,v:e,a:i})=>{const r=(200-t)*e/100;return{h:vi(n),s:vi(r>0&&r<200?t*e/100/(r<=100?r:200-r)*100:0),l:vi(r/2),a:vi(i,2)}},Qk=n=>{const{h:t,s:e,l:i}=uSe(n);return`hsl(${t}, ${e}%, ${i}%)`},dSe=({h:n,s:t,v:e,a:i})=>{n=n/360*6,t=t/100,e=e/100;const r=Math.floor(n),s=e*(1-t),o=e*(1-(n-r)*t),a=e*(1-(1-n+r)*t),l=r%6;return{r:vi([e,o,s,s,a,e][l]*255),g:vi([a,e,e,o,s,s][l]*255),b:vi([s,s,a,e,e,o][l]*255),a:vi(i,2)}},L0=n=>{const t=n.toString(16);return t.length<2?"0"+t:t},fSe=({r:n,g:t,b:e,a:i})=>{const r=i<1?L0(vi(i*255)):"";return"#"+L0(n)+L0(t)+L0(e)+r},hSe=({r:n,g:t,b:e,a:i})=>{const r=Math.max(n,t,e),s=r-Math.min(n,t,e),o=s?r===n?(t-e)/s:r===t?2+(e-n)/s:4+(n-t)/s:0;return{h:vi(60*(o<0?o+6:o)),s:vi(r?s/r*100:0),v:vi(r/255*100),a:i}},Az=(n,t)=>{if(n===t)return!0;for(const e in n)if(n[e]!==t[e])return!1;return!0},mSe=(n,t)=>n.toLowerCase()===t.toLowerCase()?!0:Az(Xk(n),Xk(t)),mR={},Iz=n=>{let t=mR[n];return t||(t=document.createElement("template"),t.innerHTML=n,mR[n]=t),t},xT=(n,t,e)=>{n.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))};let Ud=!1;const eC=n=>"touches"in n,pSe=n=>Ud&&!eC(n)?!1:(Ud||(Ud=eC(n)),!0),pR=(n,t)=>{const e=eC(t)?t.touches[0]:t,i=n.el.getBoundingClientRect();xT(n.el,"move",n.getMove({x:tp((e.pageX-(i.left+window.pageXOffset))/i.width),y:tp((e.pageY-(i.top+window.pageYOffset))/i.height)}))},gSe=(n,t)=>{const e=t.keyCode;e>40||n.xy&&e<37||e<33||(t.preventDefault(),xT(n.el,"move",n.getMove({x:e===39?.01:e===37?-.01:e===34?.05:e===33?-.05:e===35?1:e===36?-1:0,y:e===40?.01:e===38?-.01:0},!0)))};class Pz{constructor(t,e,i,r){const s=Iz(`<div role="slider" tabindex="0" part="${e}" ${i}><div part="${e}-pointer"></div></div>`);t.appendChild(s.content.cloneNode(!0));const o=t.querySelector(`[part=${e}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=r,this.nodes=[o.firstChild,o]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(Ud?"touchmove":"mousemove",this),e(Ud?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!pSe(t)||!Ud&&t.button!=0)return;this.el.focus(),pR(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),pR(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":gSe(this,t);break}}style(t){t.forEach((e,i)=>{for(const r in e)this.nodes[i].style.setProperty(r,e[r])})}}class bSe extends Pz{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:Qk({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${vi(t)}`)}getMove(t,e){return{h:e?tp(this.h+t.x*360,0,360):360*t.x}}}class wSe extends Pz{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:Qk(t)},{"background-color":Qk({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${vi(t.s)}%, Brightness ${vi(t.v)}%`)}getMove(t,e){return{s:e?tp(this.hsva.s+t.x*100,0,100):t.x*100,v:e?tp(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const vSe=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',ySe="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",_Se="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",V0=Symbol("same"),Tx=Symbol("color"),gR=Symbol("hsva"),Ax=Symbol("update"),bR=Symbol("parts"),wR=Symbol("css"),vR=Symbol("sliders");class xSe extends HTMLElement{static get observedAttributes(){return["color"]}get[wR](){return[vSe,ySe,_Se]}get[vR](){return[wSe,bSe]}get color(){return this[Tx]}set color(t){if(!this[V0](t)){const e=this.colorModel.toHsva(t);this[Ax](e),this[Tx]=t}}constructor(){super();const t=Iz(`<style>${this[wR].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[bR]=this[vR].map(i=>new i(e))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,i){const r=this.colorModel.fromAttr(i);this[V0](r)||(this.color=r)}handleEvent(t){const e=this[gR],i={...e,...t.detail};this[Ax](i);let r;!Az(i,e)&&!this[V0](r=this.colorModel.fromHsva(i))&&(this[Tx]=r,xT(this,"color-changed",{value:r}))}[V0](t){return this.color&&this.colorModel.equal(t,this.color)}[Ax](t){this[gR]=t,this[bR].forEach(e=>e.update(t))}}const kSe={defaultColor:"#000",toHsva:lSe,fromHsva:({h:n,s:t,v:e})=>cSe({h:n,s:t,v:e,a:1}),equal:mSe,fromAttr:n=>n};class CSe extends xSe{get colorModel(){return kSe}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hn extends Sn{constructor(e=[]){super(e,{idProperty:"viewUid"});g(this,"_parentElement");this.on("add",(i,r,s)=>{this._renderViewIntoCollectionParent(r,s)}),this.on("remove",(i,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!ESe(e))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const r of this)for(const s of e)r.delegate(s).to(i);this.on("add",(r,s)=>{for(const o of e)s.delegate(o).to(i)}),this.on("remove",(r,s)=>{for(const o of e)s.stopDelegating(o,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}function ESe(n){return n.every(t=>typeof t=="string")}const SSe="http://www.w3.org/1999/xhtml";class Wi extends $t(){constructor(e){super();g(this,"ns");g(this,"tag");g(this,"text");g(this,"attributes");g(this,"children");g(this,"eventListeners");g(this,"_isRendered");g(this,"_revertData");Object.assign(this,_R(yR(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=CR(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(i){if(i.children)for(const r of i.children)R1(r)?yield r:kT(r)&&(yield*e(r))}yield*e(this)}static bind(e,i){return{to(r,s){return new TSe({eventNameOrFunction:r,attribute:r,observable:e,emitter:i,callback:s})},if(r,s,o){return new Rz({observable:e,emitter:i,attribute:r,valueIfTrue:s,callback:o})}}}static extend(e,i){if(e._isRendered)throw new M("template-extend-render",[this,e]);Dz(e,_R(yR(i)))}_renderNode(e){let i;if(e.node?i=this.tag&&this.text:i=this.tag?this.text:!this.text,i)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||SSe,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),wb(this.text)?this._bindToObservable({schema:this.text,updater:ISe(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,r=e.revertData;for(const s in this.attributes){const o=i.getAttribute(s),a=this.attributes[s];r&&(r.attributes[s]=o);const l=kR(a)?a[0].ns:null;if(wb(a)){const c=kR(a)?a[0].value:a;r&&ER(s)&&c.unshift(o),this._bindToObservable({schema:c,updater:PSe(i,s,l),data:e})}else if(s=="style"&&typeof a[0]!="string")this._renderStyleAttribute(a[0],e);else{r&&o&&ER(s)&&a.unshift(o);const c=a.map(d=>d&&(d.value||d)).reduce((d,h)=>d.concat(h),[]).reduce(Mz,"");of(c)||i.setAttributeNS(l,s,c)}}}_renderStyleAttribute(e,i){const r=i.node;for(const s in e){const o=e[s];wb(o)?this._bindToObservable({schema:[o],updater:RSe(r,s),data:i}):r.style[s]=o}}_renderElementChildren(e){const i=e.node,r=e.intoFragment?document.createDocumentFragment():i,s=e.isApplying;let o=0;for(const a of this.children)if(CT(a)){if(!s){a.setParent(i);for(const l of a)r.appendChild(l.element)}}else if(R1(a))s||(a.isRendered||a.render(),r.appendChild(a.element));else if(Ul(a))r.appendChild(a);else if(s){const l=e.revertData,c=CR();l.children.push(c),a._renderNode({intoFragment:!1,node:r.childNodes[o++],isApplying:!0,revertData:c})}else r.appendChild(a.render());e.intoFragment&&i.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const r=this.eventListeners[i].map(s=>{const[o,a]=i.split("@");return s.activateDomEventListener(o,a,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:i,data:r}){const s=r.revertData;Oz(e,i,r);const o=e.filter(a=>!of(a)).filter(a=>a.observable).map(a=>a.activateAttributeListener(e,i,r));s&&s.bindings.push(o)}_revertTemplateFromNode(e,i){for(const s of i.bindings)for(const o of s)o();if(i.text){e.textContent=i.text;return}const r=e;for(const s in i.attributes){const o=i.attributes[s];o===null?r.removeAttribute(s):r.setAttribute(s,o)}for(let s=0;s<i.children.length;++s)this._revertTemplateFromNode(r.childNodes[s],i.children[s])}}class Hp{constructor(t){g(this,"attribute");g(this,"observable");g(this,"emitter");g(this,"callback");this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,i){const r=()=>Oz(t,e,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class TSe extends Hp{constructor(e){super(e);g(this,"eventNameOrFunction");this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,r){const s=(o,a)=>{(!i||a.target.matches(i))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(a):this.observable.fire(this.eventNameOrFunction,a))};return this.emitter.listenTo(r.node,e,s),()=>{this.emitter.stopListening(r.node,e,s)}}}class Rz extends Hp{constructor(e){super(e);g(this,"valueIfTrue");this.valueIfTrue=e.valueIfTrue}getValue(e){const i=super.getValue(e);return of(i)?!1:this.valueIfTrue||!0}}function wb(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(wb):n instanceof Hp):!1}function ASe(n,t){return n.map(e=>e instanceof Hp?e.getValue(t):e)}function Oz(n,t,{node:e}){const i=ASe(n,e);let r;n.length==1&&n[0]instanceof Rz?r=i[0]:r=i.reduce(Mz,""),of(r)?t.remove():t.set(r)}function ISe(n){return{set(t){n.textContent=t},remove(){n.textContent=""}}}function PSe(n,t,e){return{set(i){n.setAttributeNS(e,t,i)},remove(){n.removeAttributeNS(e,t)}}}function RSe(n,t){return{set(e){n.style[t]=e},remove(){n.style[t]=null}}}function yR(n){return eT(n,e=>{if(e&&(e instanceof Hp||kT(e)||R1(e)||CT(e)))return e})}function _R(n){if(typeof n=="string"?n=MSe(n):n.text&&DSe(n),n.on&&(n.eventListeners=NSe(n.on),delete n.on),!n.text){n.attributes&&OSe(n.attributes);const t=[];if(n.children)if(CT(n.children))t.push(n.children);else for(const e of n.children)kT(e)||R1(e)||Ul(e)?t.push(e):t.push(new Wi(e));n.children=t}return n}function OSe(n){for(const t in n)n[t].value&&(n[t].value=Ct(n[t].value)),Nz(n,t)}function NSe(n){for(const t in n)Nz(n,t);return n}function MSe(n){return{text:[n]}}function DSe(n){n.text=Ct(n.text)}function Nz(n,t){n[t]=Ct(n[t])}function Mz(n,t){return of(t)?n:of(n)?t:`${n} ${t}`}function xR(n,t){for(const e in t)n[e]?n[e].push(...t[e]):n[e]=t[e]}function Dz(n,t){if(t.attributes&&(n.attributes||(n.attributes={}),xR(n.attributes,t.attributes)),t.eventListeners&&(n.eventListeners||(n.eventListeners={}),xR(n.eventListeners,t.eventListeners)),t.text&&n.text.push(...t.text),t.children&&t.children.length){if(n.children.length!=t.children.length)throw new M("ui-template-extend-children-mismatch",n);let e=0;for(const i of t.children)Dz(n.children[e++],i)}}function of(n){return!n&&n!==0}function R1(n){return n instanceof de}function kT(n){return n instanceof Wi}function CT(n){return n instanceof Hn}function kR(n){return qt(n[0])&&n[0].ns}function CR(){return{children:[],bindings:[],attributes:{}}}function ER(n){return n=="class"||n=="style"}class de extends Ji(Ot()){constructor(e){super();g(this,"element");g(this,"isRendered");g(this,"locale");g(this,"t");g(this,"template");g(this,"_viewCollections");g(this,"_unboundChildren");g(this,"_bindTemplate");this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Sn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Wi.bind(this,this)}createCollection(e){const i=new Hn(e);return this._viewCollections.add(i),i}registerChild(e){Mr(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){Mr(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new Wi(e)}extendTemplate(e){Wi.extend(this.template,e)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Oo({emitter:n,activator:t,callback:e,contextElements:i,listenerOptions:r}){n.listenTo(document,"mousedown",(s,o)=>{if(!t())return;const a=typeof o.composedPath=="function"?o.composedPath():[],l=typeof i=="function"?i():i;for(const c of l)if(c.contains(o.target)||a.includes(c))return;e()},r)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Rf(n){class t extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function za({view:n}){n.listenTo(n.element,"submit",(t,e)=>{e.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Wp({keystrokeHandler:n,focusTracker:t,gridItems:e,numberOfColumns:i,uiLanguageDirection:r}){const s=typeof i=="number"?()=>i:i;n.set("arrowright",o((c,d)=>r==="rtl"?l(c,d.length):a(c,d.length))),n.set("arrowleft",o((c,d)=>r==="rtl"?a(c,d.length):l(c,d.length))),n.set("arrowup",o((c,d)=>{let h=c-s();return h<0&&(h=c+s()*Math.floor(d.length/s()),h>d.length-1&&(h-=s())),h})),n.set("arrowdown",o((c,d)=>{let h=c+s();return h>d.length-1&&(h=c%s()),h}));function o(c){return d=>{const h=e.find(_=>_.element===t.focusedElement),p=e.getIndex(h),b=c(p,e);e.get(b).focus(),d.stopPropagation(),d.preventDefault()}}function a(c,d){return c===d-1?0:c+1}function l(c,d){return c===0?d-1:c-1}}const X1=class X1 extends de{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=e.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:r,value:s}of Array.from(e.attributes))X1.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}};g(X1,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);let Ms=X1;class Lz extends de{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}class Pe extends de{constructor(e,i=new Lz){super(e);g(this,"children");g(this,"labelView");g(this,"iconView");g(this,"keystrokeView");g(this,"_focusDelayed",null);const r=this.bindTemplate,s=ii();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new Ms,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",a=>!a),r.if("isVisible","ck-hidden",a=>!a),r.to("isOn",a=>a?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",a=>a||"button"),tabindex:r.to("tabindex"),"aria-checked":r.to("_ariaChecked"),"aria-pressed":r.to("_ariaPressed"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,a=>!a),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(a=>{this.isEnabled?this.fire("execute"):a.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(a,l,c)=>!l||SR(c)?!1:String(!!a)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(a,l,c)=>!l||!SR(c)?!1:String(!!a)),qe.isSafari&&(this._focusDelayed||(this._focusDelayed=sT(()=>this.focus(),0)),o.on.mousedown=r.to(()=>{this._focusDelayed()}),o.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(o)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new de;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>S1(i))}]}),e}_getTooltipString(e,i,r){return e?typeof e=="string"?e:(r&&(r=S1(r)),e instanceof Function?e(i,r):`${i}${r?` (${r})`:""}`):""}}function SR(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class qp extends de{constructor(e,i={}){super(e);g(this,"children");g(this,"iconView");const r=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",r.to("class")]},children:this.children}),i.icon&&(this.iconView=new Ms,this.iconView.content=i.icon,this.children.add(this.iconView));const s=new de(e);s.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:r.to("label")}]}),this.children.add(s)}}class Yn extends $t(){constructor(e){super();g(this,"focusables");g(this,"focusTracker");g(this,"keystrokeHandler");g(this,"actions");if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let r=e.actions[i];typeof r=="string"&&(r=[r]);for(const s of r)e.keystrokeHandler.set(s,(o,a)=>{this[i](),a()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Ix)||null}get last(){return this.focusables.filter(Ix).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,r)=>{const s=i.element===this.focusTracker.focusedElement;return s&&(e=r),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const i=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",r=>{const s=i();this.focusNext(),s!==i()&&r.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",r=>{const s=i();this.focusPrevious(),s!==i()&&r.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const r=this.current;if(r===null)return this[e===1?"first":"last"];let s=this.focusables.get(r),o=(r+i+e)%i;do{const a=this.focusables.get(o);if(Ix(a)){s=a;break}o=(o+i+e)%i}while(o!==r);return s}}function Ix(n){return Gp(n)&&_o(n.element)}function Gp(n){return"focus"in n&&typeof n.focus=="function"}function LSe(n){return Gp(n)&&"focusCycler"in n&&n.focusCycler instanceof Yn}function VSe(n){class t extends n{constructor(...r){super(...r);g(this,"_onDragBound",this._onDrag.bind(this));g(this,"_onDragEndBound",this._onDragEnd.bind(this));g(this,"_lastDraggingCoordinates",{x:0,y:0});this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(_e.document,"mouseup",this._onDragEndBound),this.listenTo(_e.document,"touchend",this._onDragEndBound),this.listenTo(_e.document,"mousemove",this._onDragBound),this.listenTo(_e.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(_e.document,"mouseup",this._onDragEndBound),this.stopListening(_e.document,"touchend",this._onDragEndBound),this.stopListening(_e.document,"mousemove",this._onDragBound),this.stopListening(_e.document,"touchmove",this._onDragBound)}_onDragStart(r,s){if(!this._isHandleElementPressed(s))return;this._attachDragListeners();let o=0,a=0;s instanceof MouseEvent?(o=s.clientX,a=s.clientY):(o=s.touches[0].clientX,a=s.touches[0].clientY),this._lastDraggingCoordinates={x:o,y:a},this.isDragging=!0}_onDrag(r,s){if(!this.isDragging){this._detachDragListeners();return}let o=0,a=0;s instanceof MouseEvent?(o=s.clientX,a=s.clientY):(o=s.touches[0].clientX,a=s.touches[0].clientY),s.preventDefault(),this.fire("drag",{deltaX:Math.round(o-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:o,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(r){return this.dragHandleElement?this.dragHandleElement===r.target||r.target instanceof HTMLElement&&this.dragHandleElement.contains(r.target):!1}}return t}class FSe extends de{constructor(e){super(e);g(this,"children");g(this,"keystrokes");g(this,"focusCycler");g(this,"_focusTracker");g(this,"_focusables");this.children=this.createCollection(),this.keystrokes=new jt,this._focusTracker=new Pt,this._focusables=new Hn,this.focusCycler=new Yn({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const r=new Pe(this.locale);let s;r.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(r);for(s in i)s!="onExecute"&&s!="onCreate"&&r.set(s,i[s]);this.children.add(r)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class BSe extends de{constructor(e){super(e);g(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const xr={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},TR=Ql("px"),Q1=class Q1 extends VSe(de){constructor(e,{getCurrentDomRoot:i,getViewportOffset:r}){super(e);g(this,"parts");g(this,"headerView");g(this,"closeButtonView");g(this,"actionsView");g(this,"contentView");g(this,"keystrokes");g(this,"focusTracker");g(this,"wasMoved",!1);g(this,"_getCurrentDomRoot");g(this,"_getViewportOffset");g(this,"_focusables");g(this,"_focusCycler");const s=this.bindTemplate,o=e.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",xr.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=i,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new jt,this.focusTracker=new Pt,this._focusables=new Hn,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",a=>!a),s.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.if("isModal","ck-dialog_modal"),s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",a=>TR(a)),left:s.to("_left",a=>TR(a)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,i)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),i())}),this.on("drag",(e,{deltaX:i,deltaY:r})=>{this.wasMoved=!0,this.moveBy(i,r)}),this.listenTo(_e.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(_e.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,i,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:i,hasCloseButton:r=!0,content:s,actionButtons:o}){i&&(this.headerView=new qp(this.locale,{icon:e}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=i,this.ariaLabel=i,this.parts.add(this.headerView,0)),s&&(s instanceof de&&(s=[s]),this.contentView=new BSe(this.locale),this.contentView.children.addMany(s),this.parts.add(this.contentView)),o&&(this.actionsView=new FSe(this.locale),this.actionsView.setButtons(o),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,i){const r=this._getViewportRect(),s=this._getDialogRect();e+s.width>r.right&&(e=r.right-s.width),e<r.left&&(e=r.left),i<r.top&&(i=r.top),this._moveTo(e,i)}_moveTo(e,i){this._left=e,this._top=i}moveBy(e,i){this.moveTo(this._left+e,this._top+i)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let i=this.position,r;this._getCurrentDomRoot()?r=this._getVisibleDomRootRect(e):i=xr.SCREEN_CENTER;const s=Q1.defaultOffset,o=this._getDialogRect();switch(i){case xr.EDITOR_TOP_SIDE:{if(r){const a=this.locale.contentLanguageDirection==="ltr"?r.right-o.width-s:r.left+s;this.moveTo(a,r.top+s)}else this._moveOffScreen();break}case xr.EDITOR_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-o.width/2),Math.round(r.top+r.height/2-o.height/2)):this._moveOffScreen();break}case xr.SCREEN_CENTER:{this.moveTo(Math.round((e.width-o.width)/2),Math.round((e.height-o.height)/2));break}case xr.EDITOR_TOP_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-o.width/2),r.top+s):this._moveOffScreen();break}case xr.EDITOR_BOTTOM_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-o.width/2),r.bottom-o.height-s):this._moveOffScreen();break}case xr.EDITOR_ABOVE_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-o.width/2),r.top-o.height-s):this._moveOffScreen();break}case xr.EDITOR_BELOW_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-o.width/2),r.bottom+s):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let i=new Ye(this._getCurrentDomRoot()).getVisible();if(i){if(i=e.getIntersection(i),!i)return null}else return null;return i}_getDialogRect(){return new Ye(this.element.firstElementChild)}_getViewportRect(){const e=new Ye(_e.window);if(this.isModal)return e;const i={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=i.top,e.height-=i.top,e.bottom-=i.bottom,e.height-=i.bottom,e.left+=i.left,e.right-=i.right,e.width-=i.left+i.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const i of this.contentView.children)Gp(i)&&e.push(i);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element),LSe(i)&&this._focusCycler.chain(i.focusCycler)})}_createCloseButton(){const e=new Pe(this.locale),i=this.locale.t;return e.set({label:i("Close"),tooltip:!0,icon:se.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};g(Q1,"defaultOffset",15);let np=Q1;const no=class no extends L{constructor(e){super(e);g(this,"view");g(this,"_onHide");const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{no._visibleDialogPlugin&&no._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,r)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const r of i)r.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:r,hasCloseButton:s=!0,content:o,actionButtons:a,className:l,isModal:c,position:d,onHide:h}){const p=this.editor;this.view=new np(p.locale,{getCurrentDomRoot:()=>p.editing.view.getDomRoot(p.model.document.selection.anchor.root.rootName),getViewportOffset:()=>p.ui.viewportOffset});const b=this.view;b.on("close",()=>{this.hide()}),p.ui.view.body.add(b),p.keystrokes.listenTo(b.element),d||(d=c?xr.SCREEN_CENTER:xr.EDITOR_CENTER),c&&this._lockBodyScroll(),b.set({position:d,_isVisible:!0,className:l,isModal:c}),b.setupParts({icon:i,title:r,hasCloseButton:s,content:o,actionButtons:a}),this.id=e,h&&(this._onHide=h),this.isOpen=!0,no._visibleDialogPlugin=this}hide(){no._visibleDialogPlugin&&no._visibleDialogPlugin.fire(`hide:${no._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.isModal&&this._unlockBodyScroll(),i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,no._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}};g(no,"_visibleDialogPlugin");let cu=no;class af extends Pe{constructor(e,i=new Lz){super(e,i);g(this,"_checkIconHolderView",new jSe);this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",r.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(s,o)=>s||o)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,i,r)=>{const{children:s,_checkIconHolderView:o}=this;r?s.add(o,0):s.remove(o)})}}class jSe extends de{constructor(){super();g(this,"children");g(this,"_checkIconView",this._createCheckIconView());const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",i=>i?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,i,r)=>{const{children:s,_checkIconView:o}=this;r&&!s.has(o)?s.add(o):!r&&s.has(o)&&s.remove(o)})}_createCheckIconView(){const e=new Ms;return e.content=se.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class Et extends af{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class ur extends de{constructor(e){super(e);g(this,"id");this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ii()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class zSe extends de{constructor(t,e){super(t);const i=t.t,r=new ur;r.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":r.id,role:"document",tabindex:-1},children:[di(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),r]})}focus(){this.element.focus()}_createCategories(t){return t.map(e=>{const i=[di(document,"h3",{},e.label),...Array.from(e.groups.values()).map(r=>this._createGroup(r)).flat()];return e.description&&i.splice(1,0,di(document,"p",{},e.description)),di(document,"section",{},i)})}_createGroup(t){const e=t.keystrokes.sort((r,s)=>r.label.localeCompare(s.label)).map(r=>this._createGroupRow(r)).flat(),i=[di(document,"dl",{},e)];return t.label&&i.unshift(di(document,"h4",{},t.label)),i}_createGroupRow(t){const e=this.locale.t,i=di(document,"dt"),r=di(document,"dd"),s=USe(t.keystroke),o=[];for(const a of s)o.push(a.map($Se).join(""));return i.innerHTML=t.label,r.innerHTML=o.join(", ")+(t.mayRequireFn&&qe.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[i,r]}}function $Se(n){return S1(n).split("+").map(t=>`<kbd>${t}</kbd>`).join("+")}function USe(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}var AR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class HSe extends L{constructor(){super(...arguments);g(this,"contentView",null)}static get requires(){return[cu]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const r=this._createButton(Pe);return r.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),r}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const r=this._createButton(Et);return r.label=i("Accessibility"),r}),e.keystrokes.set("Alt+0",(r,s)=>{this._toggleDialog(),s()}),this._setupRootLabels()}_createButton(e){const i=this.editor,r=i.plugins.get("Dialog"),s=i.locale,o=new e(s);return o.set({keystroke:"Alt+0",icon:AR,isToggleable:!0}),o.on("execute",()=>this._toggleDialog()),o.bind("isOn").to(r,"id",a=>a==="accessibilityHelp"),o}_setupRootLabels(){const e=this.editor,i=e.editing.view,r=e.t;e.ui.on("ready",()=>{i.change(o=>{for(const a of i.document.roots)s(o,a)}),e.on("addRoot",(o,a)=>{const l=e.editing.view.document.getRoot(a.rootName);i.change(c=>s(c,l))},{priority:"low"})});function s(o,a){const c=[a.getAttribute("aria-label"),r("Press %0 for help.",[S1("Alt+0")])].filter(d=>d).join(". ");o.setAttribute("aria-label",c,a)}}_toggleDialog(){const e=this.editor,i=e.plugins.get("Dialog"),r=e.locale.t;this.contentView||(this.contentView=new zSe(e.locale,e.accessibility.keystrokeInfos)),i.id==="accessibilityHelp"?i.hide():i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:r("Accessibility help"),icon:AR,hasCloseButton:!0,content:this.contentView})}}const Gr=class Gr extends Hn{constructor(e,i=[]){super(i);g(this,"locale");g(this,"_bodyCollectionContainer");this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Wi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!Gr._bodyWrapper||!Gr._bodyWrapper.isConnected)&&(Gr._bodyWrapper=di(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(Gr._bodyWrapper)),Gr._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),Gr._bodyWrapper&&!Gr._bodyWrapper.childElementCount&&(Gr._bodyWrapper.remove(),delete Gr._bodyWrapper)}};g(Gr,"_bodyWrapper");let tC=Gr;class uu extends Pe{constructor(e){super(e);g(this,"toggleSwitchView");this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new de;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class IR extends Vz(Pe){}class WSe extends Vz(af){}function Vz(n){class t extends n{constructor(...r){super(...r);g(this,"buttonView");g(this,"_fileInputView");this.buttonView=this,this._fileInputView=new qSe(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return t}class qSe extends de{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var hv='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class ET extends de{constructor(e,i){super(e);g(this,"buttonView");g(this,"children");const r=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",r.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:r.if("isCollapsed","hidden"),"aria-labelledby":r.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Pe(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:hv}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",r=>String(r))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",r=>!r),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ip(n,t){const e=n.t,i={Black:e("Black"),"Dim grey":e("Dim grey"),Grey:e("Grey"),"Light grey":e("Light grey"),White:e("White"),Red:e("Red"),Orange:e("Orange"),Yellow:e("Yellow"),"Light green":e("Light green"),Green:e("Green"),Aquamarine:e("Aquamarine"),Turquoise:e("Turquoise"),"Light blue":e("Light blue"),Blue:e("Blue"),Purple:e("Purple")};return t.map(r=>{const s=i[r.label];return s&&s!=r.label&&(r.label=s),r})}function rp(n){return n.map(GSe).filter(t=>!!t)}function GSe(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder===void 0?!1:n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}var KSe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class Fz extends Pe{constructor(t){super(t);const e=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=KSe,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color",i=>qe.isMediaForcedColors?null:i)},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class PR extends de{constructor(e,i){super(e);g(this,"columns");g(this,"items");g(this,"focusTracker");g(this,"keystrokes");const r=i&&i.colorDefinitions?i.colorDefinitions:[];this.columns=i&&i.columns?i.columns:5;const s={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Pt,this.keystrokes=new jt,this.items.on("add",(o,a)=>{a.isOn=a.color===this.selectedColor}),r.forEach(o=>{const a=new Fz;a.set({color:o.color,label:o.label,tooltip:!0,hasBorder:o.options.hasBorder}),a.on("execute",()=>{this.fire("execute",{value:o.color,hasBorder:o.options.hasBorder,label:o.label})}),this.items.add(a)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:s}}),this.on("change:selectedColor",(o,a,l)=>{for(const c of this.items)c.isOn=c.color===l})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),Wp({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bz(n,t){if(!n)return"";const e=jz(n);if(!e)return"";if(e.space===t)return n;if(!XSe(e))return"";const r=Tz[e.space][t];if(!r)return"";const s=r(e.space==="hex"?e.hexValue:e.values);return JSe(s,t)}function YSe(n){if(!n)return"";const t=jz(n);return t?t.space==="hex"?t.hexValue:Bz(n,"hex"):"#000"}function ZSe(n,t){customElements.get(n)===void 0&&customElements.define(n,t)}function JSe(n,t){switch(t){case"hex":return`#${n}`;case"rgb":return`rgb(${n[0]}, ${n[1]}, ${n[2]})`;case"hsl":return`hsl(${n[0]}, ${n[1]}%, ${n[2]}%)`;case"hwb":return`hwb(${n[0]}, ${n[1]}, ${n[2]})`;case"lab":return`lab(${n[0]}% ${n[1]} ${n[2]})`;case"lch":return`lch(${n[0]}% ${n[1]} ${n[2]})`;default:return""}}function jz(n){if(n.startsWith("#")){const e=uR(n);return{space:"hex",values:e.values,hexValue:n,alpha:e.alpha}}const t=uR(n);return t.space?t:null}function XSe(n){return Object.keys(Tz).includes(n.space)}class xn extends de{constructor(e,i){super(e);g(this,"fieldView");g(this,"labelView");g(this,"statusView");g(this,"fieldWrapperChildren");const r=`ck-labeled-field-view-${ii()}`,s=`ck-labeled-field-view-status-${ii()}`;this.fieldView=i(this,r,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(a,l)=>a||l);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",a=>!a),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new ur(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new de(this.locale),r=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",s=>!s)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class QSe extends de{constructor(e){super(e);g(this,"focusTracker");this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Pt,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=eTe(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function eTe(n){return!n.value}class zz extends QSe{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class $z extends zz{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class tTe extends zz{constructor(t,{min:e,max:i,step:r}={}){super(t);const s=this.bindTemplate;this.set("min",e),this.set("max",i),this.set("step",r),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:s.to("min"),max:s.to("max"),step:s.to("step")}})}}class nTe extends de{constructor(e){super(e);g(this,"children");const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",r=>`ck-dropdown__panel_${r}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():ht("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const Rd=class Rd extends de{constructor(e,i,r){super(e);g(this,"buttonView");g(this,"panelView");g(this,"focusTracker");g(this,"keystrokes");g(this,"listView");g(this,"toolbarView");g(this,"menuView");const s=this.bindTemplate;this.buttonView=i,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new jt,this.focusTracker=new Pt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",o=>!o)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[i,r]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(i,r,s)=>{if(s)if(this.panelPosition==="auto"){const o=Rd._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(i,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(i,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(i,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:i,southEast:r,southWest:s,northEast:o,northWest:a,southMiddleEast:l,southMiddleWest:c,northMiddleEast:d,northMiddleWest:h}=Rd.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,s,l,c,e,o,a,d,h,i]:[s,r,c,l,e,a,o,h,d,i]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};g(Rd,"defaultPanelPositions",{south:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,i)=>({top:e.bottom,left:e.left-i.width+e.width,name:"sw"}),southMiddleEast:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)/4,name:"sme"}),southMiddleWest:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)*3/4,name:"smw"}),north:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)/2,name:"n"}),northEast:(e,i)=>({top:e.top-i.height,left:e.left,name:"ne"}),northWest:(e,i)=>({top:e.top-i.height,left:e.left-i.width+e.width,name:"nw"}),northMiddleEast:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)/4,name:"nme"}),northMiddleWest:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)*3/4,name:"nmw"})}),g(Rd,"_getOptimalPosition",iT);let O1=Rd;class Uz extends Pe{constructor(e){super(e);g(this,"arrowView");this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ms;return e.content=hv,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Pa extends de{constructor(e){super(e);g(this,"children");const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Kp extends de{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class vb extends de{constructor(e,i=new ur){super(e);g(this,"labelView");g(this,"items");g(this,"children");const r=this.bindTemplate,s=new mv(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,s]),s.set({role:"group",ariaLabelledBy:i.id}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",r.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof Kp));e&&e.focus()}}}class mv extends de{constructor(e){super(e);g(this,"focusables");g(this,"items");g(this,"focusTracker");g(this,"keystrokes");g(this,"_focusCycler");g(this,"_listItemGroupToChangeListeners",new WeakMap);const i=this.bindTemplate;this.focusables=new Hn,this.items=this.createCollection(),this.focusTracker=new Pt,this.keystrokes=new jt,this._focusCycler=new Yn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof vb?this._registerFocusableItemsGroup(e):e instanceof Pa&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const r of i.removed)r instanceof vb?this._deregisterFocusableItemsGroup(r):r instanceof Pa&&this._deregisterFocusableListItem(r);for(const r of Array.from(i.added).reverse())r instanceof vb?this._registerFocusableItemsGroup(r,i.index):this._registerFocusableListItem(r,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,r)=>{for(const s of r.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(r.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((s,o)=>{const a=typeof i<"u"?i+o:void 0;this._registerFocusableListItem(s,a)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const RR=Ql("px"),iTe={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},_r=class _r extends de{constructor(e){super(e);g(this,"content");g(this,"_pinWhenIsVisibleCallback");g(this,"_resizeObserver");const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",r=>`ck-balloon-panel_${r}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",RR),left:i.to("left",RR)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const i=yb(e.target);if(i&&!_o(i))return!1;this.show();const r=_r.defaultPositions,s=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:_e.document.body,fitInViewport:!0},e),o=_r._getOptimalPosition(s)||iTe,a=parseInt(o.left),l=parseInt(o.top),c=o.name,d=o.config||{},{withArrow:h=!0}=d;return this.top=l,this.left=a,this.position=c,this.withArrow=h,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let i=yb(e.target);const r=e.limiter?yb(e.limiter):_e.document.body;if(this.listenTo(_e.document,"scroll",(s,o)=>{const a=o.target,l=i&&a.contains(i),c=r&&a.contains(r);(l||c||!i||!r)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(_e.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(i&&_n(i)&&(i=i.parentElement),i)){const s=()=>{_o(i)||this.unpin()};this._resizeObserver=new Up(i,s)}return!0}_stopPinning(){this.stopListening(_e.document,"scroll"),this.stopListening(_e.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:i=_r.arrowSideOffset,heightOffset:r=_r.arrowHeightOffset,stickyVerticalOffset:s=_r.stickyVerticalOffset,config:o}=e;return{northWestArrowSouthWest:(c,d)=>({top:a(c,d),left:c.left-i,name:"arrow_sw",...o&&{config:o}}),northWestArrowSouthMiddleWest:(c,d)=>({top:a(c,d),left:c.left-d.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northWestArrowSouth:(c,d)=>({top:a(c,d),left:c.left-d.width/2,name:"arrow_s",...o&&{config:o}}),northWestArrowSouthMiddleEast:(c,d)=>({top:a(c,d),left:c.left-d.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northWestArrowSouthEast:(c,d)=>({top:a(c,d),left:c.left-d.width+i,name:"arrow_se",...o&&{config:o}}),northArrowSouthWest:(c,d)=>({top:a(c,d),left:c.left+c.width/2-i,name:"arrow_sw",...o&&{config:o}}),northArrowSouthMiddleWest:(c,d)=>({top:a(c,d),left:c.left+c.width/2-d.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northArrowSouth:(c,d)=>({top:a(c,d),left:c.left+c.width/2-d.width/2,name:"arrow_s",...o&&{config:o}}),northArrowSouthMiddleEast:(c,d)=>({top:a(c,d),left:c.left+c.width/2-d.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northArrowSouthEast:(c,d)=>({top:a(c,d),left:c.left+c.width/2-d.width+i,name:"arrow_se",...o&&{config:o}}),northEastArrowSouthWest:(c,d)=>({top:a(c,d),left:c.right-i,name:"arrow_sw",...o&&{config:o}}),northEastArrowSouthMiddleWest:(c,d)=>({top:a(c,d),left:c.right-d.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northEastArrowSouth:(c,d)=>({top:a(c,d),left:c.right-d.width/2,name:"arrow_s",...o&&{config:o}}),northEastArrowSouthMiddleEast:(c,d)=>({top:a(c,d),left:c.right-d.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northEastArrowSouthEast:(c,d)=>({top:a(c,d),left:c.right-d.width+i,name:"arrow_se",...o&&{config:o}}),southWestArrowNorthWest:c=>({top:l(c),left:c.left-i,name:"arrow_nw",...o&&{config:o}}),southWestArrowNorthMiddleWest:(c,d)=>({top:l(c),left:c.left-d.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southWestArrowNorth:(c,d)=>({top:l(c),left:c.left-d.width/2,name:"arrow_n",...o&&{config:o}}),southWestArrowNorthMiddleEast:(c,d)=>({top:l(c),left:c.left-d.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southWestArrowNorthEast:(c,d)=>({top:l(c),left:c.left-d.width+i,name:"arrow_ne",...o&&{config:o}}),southArrowNorthWest:c=>({top:l(c),left:c.left+c.width/2-i,name:"arrow_nw",...o&&{config:o}}),southArrowNorthMiddleWest:(c,d)=>({top:l(c),left:c.left+c.width/2-d.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southArrowNorth:(c,d)=>({top:l(c),left:c.left+c.width/2-d.width/2,name:"arrow_n",...o&&{config:o}}),southArrowNorthMiddleEast:(c,d)=>({top:l(c),left:c.left+c.width/2-d.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southArrowNorthEast:(c,d)=>({top:l(c),left:c.left+c.width/2-d.width+i,name:"arrow_ne",...o&&{config:o}}),southEastArrowNorthWest:c=>({top:l(c),left:c.right-i,name:"arrow_nw",...o&&{config:o}}),southEastArrowNorthMiddleWest:(c,d)=>({top:l(c),left:c.right-d.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southEastArrowNorth:(c,d)=>({top:l(c),left:c.right-d.width/2,name:"arrow_n",...o&&{config:o}}),southEastArrowNorthMiddleEast:(c,d)=>({top:l(c),left:c.right-d.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southEastArrowNorthEast:(c,d)=>({top:l(c),left:c.right-d.width+i,name:"arrow_ne",...o&&{config:o}}),westArrowEast:(c,d)=>({top:c.top+c.height/2-d.height/2,left:c.left-d.width-r,name:"arrow_e",...o&&{config:o}}),eastArrowWest:(c,d)=>({top:c.top+c.height/2-d.height/2,left:c.right+r,name:"arrow_w",...o&&{config:o}}),viewportStickyNorth:(c,d,h,p)=>{const b=p||h;return!c.getIntersection(b)||b.height-c.height>s?null:{top:b.top+s,left:c.left+c.width/2-d.width/2,name:"arrowless",config:{withArrow:!1,...o}}}};function a(c,d){return c.top-d.height-r}function l(c){return c.bottom+r}}};g(_r,"arrowSideOffset",25),g(_r,"arrowHeightOffset",10),g(_r,"stickyVerticalOffset",20),g(_r,"_getOptimalPosition",iT),g(_r,"defaultPositions",_r.generatePositions());let ei=_r;function yb(n){return Ta(n)?n:nv(n)?n.commonAncestorContainer:typeof n=="function"?yb(n()):null}class ST extends de{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class rTe extends de{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sTe(n){return n.bindTemplate.to(t=>{t.target===n.element&&t.preventDefault()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pv(n){if(Array.isArray(n))return{items:n,removeItems:[]};const t={items:[],removeItems:[]};return n?{...t,...n}:t}const nC={alignLeft:se.alignLeft,bold:se.bold,importExport:se.importExport,paragraph:se.paragraph,plus:se.plus,text:se.text,threeVerticalDots:se.threeVerticalDots,pilcrow:se.pilcrow,dragIndicator:se.dragIndicator};class Hl extends de{constructor(e,i){super(e);g(this,"options");g(this,"items");g(this,"focusTracker");g(this,"keystrokes");g(this,"itemsView");g(this,"children");g(this,"focusables");g(this,"_focusCycler");g(this,"_behavior");const r=this.bindTemplate,s=this.t;this.options=i||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Pt,this.keystrokes=new jt,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new oTe(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const o=e.uiLanguageDirection==="rtl";this._focusCycler=new Yn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});const a=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&a.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:a,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:sTe(this)}}),this._behavior=this.options.shouldGroupWhenFull?new lTe(this):new aTe(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,i)=>{this.focusTracker.add(i)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,r){this.items.addMany(this._buildItemsFromConfig(e,i,r))}_buildItemsFromConfig(e,i,r){const s=pv(e),o=r||s.removeItems;return this._cleanItemsConfiguration(s.items,i,o).map(l=>qt(l)?this._createNestedToolbarDropdown(l,i,o):l==="|"?new ST:l==="-"?new rTe:i.create(l)).filter(l=>!!l)}_cleanItemsConfiguration(e,i,r){const s=e.filter((o,a,l)=>o==="|"?!0:r.indexOf(o)!==-1?!1:o==="-"?this.options.shouldGroupWhenFull?(ht("toolbarview-line-break-ignored-when-grouping-items",l),!1):!0:!qt(o)&&!i.has(o)?(ht("toolbarview-item-unavailable",{item:o}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const i=a=>a!=="-"&&a!=="|",r=e.length,s=e.findIndex(i);if(s===-1)return[];const o=r-e.slice().reverse().findIndex(i);return e.slice(s,o).filter((a,l,c)=>i(a)?!0:!(l>0&&c[l-1]===a))}_createNestedToolbarDropdown(e,i,r){let{label:s,icon:o,items:a,tooltip:l=!0,withText:c=!1}=e;if(a=this._cleanItemsConfiguration(a,i,r),!a.length)return null;const d=this.locale,h=zn(d);return s||ht("toolbarview-nested-toolbar-dropdown-missing-label",e),h.class="ck-toolbar__nested-toolbar-dropdown",h.buttonView.set({label:s,tooltip:l,withText:!!c}),o!==!1?h.buttonView.icon=nC[o]||o||se.threeVerticalDots:h.buttonView.withText=!0,Yp(h,()=>h.toolbarView._buildItemsFromConfig(a,i,r)),h}}class oTe extends de{constructor(e){super(e);g(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class aTe{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(i=>i),t.focusables.bindTo(t.items).using(i=>Gp(i)?i:null),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class lTe{constructor(t){g(this,"view");g(this,"viewChildren");g(this,"viewFocusables");g(this,"viewItemsView");g(this,"viewFocusTracker");g(this,"viewLocale");g(this,"ungroupedItems");g(this,"groupedItems");g(this,"groupedItemsDropdown");g(this,"resizeObserver",null);g(this,"cachedPadding",null);g(this,"shouldUpdateGroupingOnNextResize",!1);g(this,"viewElement");this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",(e,i)=>{const r=i.index,s=Array.from(i.added);for(const o of i.removed)r>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=r;o<r+s.length;o++){const a=s[o-r];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!_o(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,i=new Ye(t.lastChild),r=new Ye(t);if(!this.cachedPadding){const s=_e.window.getComputedStyle(t),o=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[o])}return e==="ltr"?i.right>r.right-this.cachedPadding:i.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Up(this.viewElement,e=>{(!t||t!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ST),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,i=zn(t);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",Yp(i,this.groupedItems),i.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:se.threeVerticalDots}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{Gp(t)&&this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Cu extends de{constructor(e,i){super(e);g(this,"children");g(this,"actionView");g(this,"arrowView");g(this,"keystrokes");g(this,"focusTracker");const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new jt,this.focusTracker=new Pt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new Pe;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new Pe,i=e.bindTemplate;return e.icon=hv,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function zn(n,t=Uz){const e=typeof t=="function"?new t(n):t,i=new nTe(n),r=new O1(n,e,i);return e.bind("isEnabled").to(r),e instanceof Cu?e.arrowView.bind("isOn").to(r,"isOpen"):e.bind("isOn").to(r,"isOpen"),cTe(r),r}function Yp(n,t,e={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?OR(n,t,e):n.once("change:isOpen",()=>OR(n,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&gv(n,()=>n.toolbarView.items.find(i=>i.isOn))}function OR(n,t,e){const i=n.locale,r=i.t,s=n.toolbarView=new Hl(i),o=typeof t=="function"?t():t;s.ariaLabel=e.ariaLabel||r("Dropdown toolbar"),e.maxWidth&&(s.maxWidth=e.maxWidth),e.class&&(s.class=e.class),e.isCompact&&(s.isCompact=e.isCompact),e.isVertical&&(s.isVertical=!0),o instanceof Hn?s.items.bindTo(o).using(a=>a):s.items.addMany(o),n.panelView.children.add(s),n.focusTracker.add(s),s.items.delegate("execute").to(n)}function No(n,t,e={}){n.isOpen?NR(n,t,e):n.once("change:isOpen",()=>NR(n,t,e),{priority:"highest"}),gv(n,()=>n.listView.items.find(i=>i instanceof Pa?i.children.first.isOn:!1))}function NR(n,t,e){const i=n.locale,r=n.listView=new mv(i),s=typeof t=="function"?t():t;r.ariaLabel=e.ariaLabel,r.role=e.role,Wz(n,r.items,s,i),n.panelView.children.add(r),r.items.delegate("execute").to(n)}function gv(n,t){n.on("change:isOpen",()=>{if(!n.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():ht("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:Tr.low-10})}function cTe(n){uTe(n),dTe(n),fTe(n),hTe(n),mTe(n),pTe(n)}function uTe(n){Oo({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...Hz(n.focusTracker).filter(t=>!n.element.contains(t))]})}function Hz(n){return[...n.elements,...n.externalViews.flatMap(t=>Hz(t.focusTracker))]}function dTe(n){n.on("execute",t=>{t.source instanceof uu||(n.isOpen=!1)})}function fTe(n){n.focusTracker.on("change:isFocused",(t,e,i)=>{i||!n.isOpen||(n.isOpen=!1)})}function hTe(n){n.keystrokes.set("arrowdown",(t,e)=>{n.isOpen&&(n.panelView.focus(),e())}),n.keystrokes.set("arrowup",(t,e)=>{n.isOpen&&(n.panelView.focusLast(),e())})}function mTe(n){n.on("change:isOpen",(t,e,i)=>{if(i)return;n.focusTracker.elements.some(s=>s.contains(_e.document.activeElement))&&n.buttonView.focus()})}function pTe(n){n.on("change:isOpen",(t,e,i)=>{i&&n.panelView.focus()},{priority:"low"})}function Wz(n,t,e,i){t.on("change",()=>{const r=[...t].reduce((o,a)=>(a instanceof Pa&&a.children.first instanceof af&&o.push(a.children.first),o),[]),s=r.some(o=>o.isToggleable);r.forEach(o=>{o.hasCheckSpace=s})}),t.bindTo(e).using(r=>{if(r.type==="separator")return new Kp(i);if(r.type==="group"){const s=new vb(i);return s.set({label:r.label}),Wz(n,s.items,r.items,i),s.items.delegate("execute").to(n),s}else if(r.type==="button"||r.type==="switchbutton"){const s=r.model.role==="menuitemcheckbox"||r.model.role==="menuitemradio",o=new Pa(i);let a;return r.type==="button"?(a=new af(i),a.set({isToggleable:s})):a=new uu(i),a.bind(...Object.keys(r.model)).to(r.model),a.delegate("execute").to(o),o.children.add(a),o}return null})}const dr=(n,t,e)=>{const i=new $z(n.locale);return i.set({id:t,ariaDescribedById:e}),i.bind("isReadOnly").to(n,"isEnabled",r=>!r),i.bind("hasError").to(n,"errorText",r=>!!r),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},qz=(n,t,e)=>{const i=new tTe(n.locale);return i.set({id:t,ariaDescribedById:e,inputMode:"numeric"}),i.bind("isReadOnly").to(n,"isEnabled",r=>!r),i.bind("hasError").to(n,"errorText",r=>!!r),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},TT=(n,t,e)=>{const i=zn(n.locale);return i.set({id:t,ariaDescribedById:e}),i.bind("isEnabled").to(n),i},gTe=150;class bTe extends de{constructor(e,i={}){super(e);g(this,"hexInputRow");g(this,"_debounceColorPickerEvent");g(this,"_config");this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const r=this.createCollection();i.hideInput||r.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:r}),this._config=i,this._debounceColorPickerEvent=mr(s=>{this.set("color",s),this.fire("colorSelected",{color:this.color})},gTe,{leading:!0}),this.on("set:color",(s,o,a)=>{s.return=Bz(a,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Px(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Px(this.color)!=Px(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),ZSe("hex-color-picker",CSe),this.picker=_e.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const i=e.detail.value;this._debounceColorPickerEvent(i)})}focus(){/* istanbul ignore next -- @preserve */!this._config.hideInput&&(qe.isGecko||qe.isiOS||qe.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const r=[...this.picker.shadowRoot.children].filter(s=>s.getAttribute("role")==="slider").map(s=>new wTe(s));this.slidersView=this.createCollection(),r.forEach(s=>{this.slidersView.add(s)})}_createInputRow(){const e=this._createColorInput();return new yTe(this.locale,e)}_createColorInput(){const e=new xn(this.locale,dr),{t:i}=this.locale;return e.set({label:i("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",r=>e.isFocused?e.fieldView.value:r.startsWith("#")?r.substring(1):r),e.fieldView.on("input",()=>{const r=e.fieldView.element.value;if(r){const s=Gz(r);s&&this._debounceColorPickerEvent(s)}}),e}isValid(){const{t:e}=this.locale;return this._config.hideInput?!0:(this.resetValidationStatus(),this.hexInputRow.getParsedColor()?!0:(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function Px(n){let t=YSe(n);return t||(t="#000"),t.length===4&&(t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")),t.toLowerCase()}class wTe extends de{constructor(t){super(),this.element=t}focus(){this.element.focus()}}class vTe extends de{constructor(t){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class yTe extends de{constructor(e,i){super(e);g(this,"children");g(this,"inputView");this.inputView=i,this.children=this.createCollection([new vTe,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return Gz(this.inputView.fieldView.element.value)}}function Gz(n){if(!n)return null;const t=n.trim().replace(/^#/,"");return![3,4,6,8].includes(t.length)||!/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(t)?null:`#${t}`}class _Te extends Ot(Sn){constructor(t){super(t),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(t,e){return this.find(i=>i.color===t.color)?this:super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}class xTe extends de{constructor(e,{colors:i,columns:r,removeButtonLabel:s,documentColorsLabel:o,documentColorsCount:a,colorPickerLabel:l,focusTracker:c,focusables:d}){super(e);g(this,"items");g(this,"colorDefinitions");g(this,"focusTracker");g(this,"columns");g(this,"documentColors");g(this,"documentColorsCount");g(this,"staticColorsGrid");g(this,"documentColorsGrid");g(this,"colorPickerButtonView");g(this,"removeColorButtonView");g(this,"_focusables");g(this,"_documentColorsLabel");g(this,"_removeButtonLabel");g(this,"_colorPickerLabel");const h=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=c,this.items=this.createCollection(),this.colorDefinitions=i,this.columns=r,this.documentColors=new _Te,this.documentColorsCount=a,this._focusables=d,this._removeButtonLabel=s,this._colorPickerLabel=l,this._documentColorsLabel=o,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",h.if("isVisible","ck-hidden",p=>!p)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,i){const r=e.document,s=this.documentColorsCount;this.documentColors.clear();for(const o of r.getRoots()){const a=e.createRangeIn(o);for(const l of a.getItems())if(l.is("$textProxy")&&l.hasAttribute(i)&&(this._addColorToDocumentColors(l.getAttribute(i)),this.documentColors.length>=s))return}}updateSelectedColors(){const e=this.documentColorsGrid,i=this.staticColorsGrid,r=this.selectedColor;i.selectedColor=r,e&&(e.selectedColor=r)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=Wi.bind(this.documentColors,this.documentColors),i=new de(this.locale);i.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(i),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new Pe,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:se.colorPalette,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new Pe;return e.set({withText:!0,icon:se.eraser,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new PR(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(i,r)=>{this.fire("execute",{value:r.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=Wi.bind(this.documentColors,this.documentColors),i=new PR(this.locale,{columns:this.columns});return i.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),i.items.bindTo(this.documentColors).using(r=>{const s=new Fz;return s.set({color:r.color,hasBorder:r.options&&r.options.hasBorder}),r.label&&s.set({label:r.label,tooltip:!0}),s.on("execute",()=>{this.fire("execute",{value:r.color,source:"documentColorsGrid"})}),s}),this.documentColors.on("change:isEmpty",(r,s,o)=>{o&&(i.selectedColor=null)}),i}_addColorToDocumentColors(e){const i=this.colorDefinitions.find(r=>r.color===e);i?this.documentColors.add(Object.assign({},i)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class kTe extends de{constructor(e,{focusTracker:i,focusables:r,keystrokes:s,colorPickerViewConfig:o}){super(e);g(this,"items");g(this,"colorPickerView");g(this,"saveButtonView");g(this,"cancelButtonView");g(this,"actionBarView");g(this,"focusTracker");g(this,"keystrokes");g(this,"_focusables");g(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=i,this.keystrokes=s,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=r,this._colorPickerViewConfig=o;const a=this.bindTemplate,{saveButtonView:l,cancelButtonView:c}=this._createActionButtons();this.saveButtonView=l,this.cancelButtonView=c,this.actionBarView=this._createActionBarView({saveButtonView:l,cancelButtonView:c}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",a.if("isVisible","ck-hidden",d=>!d)]},children:this.items})}render(){super.render();const e=new bTe(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(i,r,s)=>{e.color=s}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const i of this.colorPickerView.slidersView)this.focusTracker.add(i.element),this._focusables.add(i);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:i}){const r=new de,s=this.createCollection();return s.add(e),s.add(i),r.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:s}),r}_createActionButtons(){const e=this.locale,i=e.t,r=new Pe(e),s=new Pe(e);return r.set({icon:se.check,class:"ck-button-save",type:"button",withText:!1,label:i("Accept")}),s.set({icon:se.cancel,class:"ck-button-cancel",type:"button",withText:!1,label:i("Cancel")}),r.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),s.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:r,cancelButtonView:s}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,i)=>{this.fire("execute",{value:i.color,source:"colorPicker"}),this.set("selectedColor",i.color)})}}class AT extends de{constructor(e,{colors:i,columns:r,removeButtonLabel:s,documentColorsLabel:o,documentColorsCount:a,colorPickerLabel:l,colorPickerViewConfig:c}){super(e);g(this,"focusTracker");g(this,"keystrokes");g(this,"items");g(this,"colorGridsFragmentView");g(this,"colorPickerFragmentView");g(this,"_focusCycler");g(this,"_focusables");g(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=new Pt,this.keystrokes=new jt,this._focusables=new Hn,this._colorPickerViewConfig=c,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new xTe(e,{colors:i,columns:r,removeButtonLabel:s,documentColorsLabel:o,documentColorsCount:a,colorPickerLabel:l,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new kTe(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:c}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(d,h,p)=>{this.colorGridsFragmentView.set("selectedColor",p),this.colorPickerFragmentView.set("selectedColor",p)}),this.colorGridsFragmentView.on("change:selectedColor",(d,h,p)=>{this.set("selectedColor",p)}),this.colorPickerFragmentView.on("change:selectedColor",(d,h,p)=>{this.set("selectedColor",p)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,i){this.colorGridsFragmentView.updateDocumentColors(e,i)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class CTe{constructor(t){g(this,"editor");g(this,"_components",new Map);this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(Rx(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new M("componentfactory-item-missing",this,{name:t});return this._components.get(Rx(t)).callback(this.editor.locale)}has(t){return this._components.has(Rx(t))}}function Rx(n){return String(n).toLowerCase()}const MR="ck-tooltip",ci=class ci extends Ji(){constructor(e){super();g(this,"tooltipTextView");g(this,"balloonPanelView");g(this,"_currentElementWithTooltip",null);g(this,"_currentTooltipPosition",null);g(this,"_mutationObserver",null);g(this,"_pinTooltipDebounced");g(this,"_unpinTooltipDebounced");g(this,"_watchdogExcluded");if(ci._editors.add(e),ci._instance)return ci._instance;ci._instance=this,this.tooltipTextView=new de(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ei(e.locale),this.balloonPanelView.class=MR,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=ETe(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=mr(this._pinTooltip,600),this._unpinTooltipDebounced=mr(this._unpinTooltip,400),this.listenTo(_e.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(_e.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_e.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_e.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_e.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_e.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const i=e.ui.view&&e.ui.view.body;ci._editors.delete(e),this.stopListening(e.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),ci._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ci._instance=null)}static getPositioningFunctions(e){const i=ci.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[e]}_onKeyDown(e,i){i.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),i.stopPropagation())}_onEnterOrFocus(e,{target:i}){const r=Ox(i);if(!r){e.name==="focus"&&this._unpinTooltip();return}r!==this._currentElementWithTooltip&&(this._unpinTooltip(),e.name==="focus"&&!r.matches(":hover")?this._pinTooltip(r,Nx(r)):this._pinTooltipDebounced(r,Nx(r)))}_onLeaveOrBlur(e,{target:i,relatedTarget:r}){if(e.name==="mouseleave"){if(!Ta(i))return;const s=this.balloonPanelView.element,o=s&&(s===r||s.contains(r)),a=!o&&i===s;if(o){this._unpinTooltipDebounced.cancel();return}if(!a&&this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const l=Ox(i),c=Ox(r);(a||l&&l!==c)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:i,position:r,cssClass:s}){this._unpinTooltip();const o=Ut(ci._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.class=[MR,s].filter(a=>a).join(" "),this.balloonPanelView.pin({target:e,positions:ci.getPositioningFunctions(r)}),this._mutationObserver.attach(e);for(const a of ci._editors)this.listenTo(a.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of ci._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=Nx(this._currentElementWithTooltip);if(!_o(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ci.getPositioningFunctions(e.position)})}};g(ci,"defaultBalloonPositions",ei.generatePositions({heightOffset:5,sideOffset:13})),g(ci,"_editors",new Set),g(ci,"_instance",null);let iC=ci;function Ox(n){return Ta(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Nx(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function ETe(n){const t=new MutationObserver(()=>{n()});return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}const STe=50,TTe=350;class Kz extends Ji(){constructor(e,i={}){super();g(this,"editor");g(this,"_balloonView",null);g(this,"_showBalloonThrottled",au(()=>this._showBalloon(),50,{leading:!0}));g(this,"_lastFocusedEditableElement",null);g(this,"_balloonClass");this.editor=e,this._balloonClass=i.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,r,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,r,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,i=new ei,r=this._createBadgeContent();return i.content.add(r),this._balloonClass&&(i.class=this._balloonClass),e.ui.view.body.add(i),i}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),i=e.side==="right"?ATe(this._lastFocusedEditableElement,e):ITe(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[i]}}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!i||!r){this._lastFocusedEditableElement=null;return}const s=Array.from(e.ui.getEditableElementsNames()).map(o=>e.ui.getEditableElement(o));s.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=s[0]}}function ATe(n,t){return Yz(n,t,(e,i)=>e.left+e.width-i.width-t.horizontalOffset)}function ITe(n,t){return Yz(n,t,e=>e.left+t.horizontalOffset)}function Yz(n,t,e){return(i,r)=>{const s=new Ye(n);if(s.width<TTe||s.height<STe)return null;let o;t.position==="inside"?o=s.bottom-r.height:o=s.bottom-r.height/2,o-=t.verticalOffset;const a=e(s,r),c=i.clone().moveTo(a,o).getIntersection(r.clone().moveTo(a,o)).getVisible();return!c||c.getArea()<r.getArea()?null:{top:o,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}var PTe=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`;const RTe="Powered by";class OTe extends Kz{constructor(t){super(t,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const t=this.editor;if(t.config.get("ui.poweredBy.forceVisible"))return!0;const i=t.config.get("licenseKey");if(i=="GPL")return!0;const r=oT(i.split(".")[1]);return r?!r.whiteLabel:!0}_createBadgeContent(){return new NTe(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{},i=e.position||t.position,r=i==="inside"?5:t.verticalOffset;return{position:i,side:e.side||t.side,label:e.label===void 0?RTe:e.label,verticalOffset:e.verticalOffset!==void 0?e.verticalOffset:r,horizontalOffset:e.horizontalOffset!==void 0?e.horizontalOffset:t.horizontalOffset,forceVisible:!!e.forceVisible}}}class NTe extends de{constructor(t,e){super(t);const i=new Ms,r=this.bindTemplate;i.set({content:PTe,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],i],on:{dragstart:r.to(s=>s.preventDefault())}}]})}}class MTe extends Kz{constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"});g(this,"licenseTypeMessage",{evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"})}_isEnabled(){const i=this.editor.config.get("licenseKey"),r=DR(i);return!!(r&&this.licenseTypeMessage[r])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),i=DR(e);return new DTe(this.editor.locale,this.licenseTypeMessage[i])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),i=this.editor.config.get("ui.poweredBy")||{},r=i.position||e.position,s=i.side||e.side;return{position:r,side:s==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class DTe extends de{constructor(t,e){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[e]}]})}}function DR(n){if(n=="GPL")return"GPL";const t=oT(n.split(".")[1]);return t?t.licenseType||"production":null}const LR={POLITE:"polite",ASSERTIVE:"assertive"};class LTe{constructor(t){g(this,"editor");g(this,"view");this.editor=t,t.once("ready",()=>{for(const e of Object.values(LR))this.announce("",e)})}announce(t,e=LR.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new VTe(i.locale),i.ui.view.body.add(this.view));const{politeness:r,isUnsafeHTML:s}=typeof e=="string"?{politeness:e}:e;let o=this.view.regionViews.find(a=>a.politeness===r);o||(o=new FTe(i,r),this.view.regionViews.add(o)),o.announce({announcement:t,isUnsafeHTML:s})}}class VTe extends de{constructor(e){super(e);g(this,"regionViews");this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class FTe extends de{constructor(e,i){super(e.locale);g(this,"politeness");g(this,"_domConverter");g(this,"_pruneAnnouncementsInterval");this.setTemplate({tag:"div",attributes:{"aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const r=document.createElement("li");i?this._domConverter.setContentOf(r,e):r.innerText=e,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}class Ds extends Pa{constructor(t,e){super(t);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const F0=5,ud={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",t=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const e of n.menus){const i=t.path[0],r=i instanceof Ds&&i.children.first===e;e.isOpen=(t.path.includes(e)||r)&&e.isEnabled}t.source.focus()}})},focusCycleMenusOnArrows(n){const t=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",i=>{e(i.source,t?-1:1)}),n.on("menu:arrowleft",i=>{e(i.source,t?1:-1)});function e(i,r){const s=n.children.getIndex(i),o=i.isOpen,a=n.children.length,l=n.children.get((s+a+r)%a);i.isOpen=!1,o&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(t=>{t.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(t,e,i)=>{i&&n.menus.filter(r=>t.source.parentMenuView===r.parentMenuView&&t.source!==r&&r.isOpen).forEach(r=>{r.isOpen=!1})})},closeOnClickOutside(n){Oo({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(t=>t.element)})},enableFocusHighlightOnInteraction(n){let t=!1;n.on("change:isOpen",(e,i,r)=>{r||(t||(n.isFocusBorderEnabled=!1),t=!1)}),n.listenTo(n.element,"keydown",()=>{t=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{t=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{t&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},fl={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),e())})},openOnArrowRightKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(t,(e,i)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),e())})},closeOnArrowLeftKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(t,(e,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(t,e)=>{n.isOpen&&(n.isOpen=!1,n.focus(),e())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(t,e,i)=>{!i&&t.source===n.parentMenuView&&(n.isOpen=!1)})}},BTe={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,t)=>({top:n.bottom,left:n.left-t.width+n.width,name:"sw"}),northEast:(n,t)=>({top:n.top-t.height,left:n.left,name:"ne"}),northWest:(n,t)=>({top:n.top-t.height,left:n.left-t.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-F0,name:"es"}),eastNorth:(n,t)=>({top:n.top-t.height,left:n.right-F0,name:"en"}),westSouth:(n,t)=>({top:n.top,left:n.left-t.width+F0,name:"ws"}),westNorth:(n,t)=>({top:n.top-t.height,left:n.left-t.width+F0,name:"wn"})},jTe=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function zTe(n){let t;return!("items"in n)||!n.items?t={items:ss(jTe),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:t={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},t}function $Te({normalizedConfig:n,locale:t,componentFactory:e,extraItems:i}){const r=ss(n);return VR(n,r,i),UTe(n,r),VR(n,r,r.addItems),HTe(n,r,e),Zz(n,r),WTe(r,t),r}function UTe(n,t){const e=t.removeItems,i=[];t.items=t.items.filter(({menuId:r})=>e.includes(r)?(i.push(r),!1):!0),Of(t.items,r=>{r.groups=r.groups.filter(({groupId:s})=>e.includes(s)?(i.push(s),!1):!0);for(const s of r.groups)s.items=s.items.filter(o=>{const a=Jz(o);return e.includes(a)?(i.push(a),!1):!0})});for(const r of e)i.includes(r)||ht("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:r})}function VR(n,t,e){const i=[];if(e.length!=0){for(const r of e){const s=KTe(r.position),o=YTe(r.position);if(qTe(r))if(!o)s==="start"?(t.items.unshift(r.menu),i.push(r)):s==="end"&&(t.items.push(r.menu),i.push(r));else{const a=t.items.findIndex(l=>l.menuId===o);a!=-1?s==="before"?(t.items.splice(a,0,r.menu),i.push(r)):s==="after"&&(t.items.splice(a+1,0,r.menu),i.push(r)):FR(t,r.menu,o,s)&&i.push(r)}else GTe(r)?Of(t.items,a=>{if(a.menuId===o)s==="start"?(a.groups.unshift(r.group),i.push(r)):s==="end"&&(a.groups.push(r.group),i.push(r));else{const l=a.groups.findIndex(c=>c.groupId===o);l!==-1&&(s==="before"?(a.groups.splice(l,0,r.group),i.push(r)):s==="after"&&(a.groups.splice(l+1,0,r.group),i.push(r)))}}):FR(t,r.item,o,s)&&i.push(r)}for(const r of e)i.includes(r)||ht("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:r})}}function FR(n,t,e,i){let r=!1;return Of(n.items,s=>{for(const{groupId:o,items:a}of s.groups){if(r)return;if(o===e)i==="start"?(a.unshift(t),r=!0):i==="end"&&(a.push(t),r=!0);else{const l=a.findIndex(c=>Jz(c)===e);l!==-1&&(i==="before"?(a.splice(l,0,t),r=!0):i==="after"&&(a.splice(l+1,0,t),r=!0))}}}),r}function HTe(n,t,e){Of(t.items,i=>{for(const r of i.groups)r.items=r.items.filter(s=>{const o=typeof s=="string"&&!e.has(s);return o&&!t.isUsingDefaultConfig&&ht("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:ss(i),componentName:s}),!o})})}function Zz(n,t){const e=t.isUsingDefaultConfig;let i=!1;if(t.items=t.items.filter(r=>r.groups.length?!0:(Mx(n,r,e),!1)),!t.items.length){Mx(n,n,e);return}Of(t.items,r=>{r.groups=r.groups.filter(s=>s.items.length?!0:(i=!0,!1));for(const s of r.groups)s.items=s.items.filter(o=>Xz(o)&&!o.groups.length?(Mx(n,o,e),i=!0,!1):!0)}),i&&Zz(n,t)}function Mx(n,t,e){e||ht("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:t})}function WTe(n,t){const e=t.t,i={File:e({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:e({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:e({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:e({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:e({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:e({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:e({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:e({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:e({string:"Font",id:"MENU_BAR_MENU_FONT"})};Of(n.items,r=>{r.label in i&&(r.label=i[r.label])})}function Of(n,t){if(Array.isArray(n))for(const i of n)e(i);function e(i){t(i);for(const r of i.groups)for(const s of r.items)Xz(s)&&e(s)}}function qTe(n){return typeof n=="object"&&"menu"in n}function GTe(n){return typeof n=="object"&&"group"in n}function KTe(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function YTe(n){const t=n.match(/^[^:]+:(.+)/);return t?t[1]:null}function Jz(n){return typeof n=="string"?n:n.menuId}function Xz(n){return typeof n=="object"&&"menuId"in n}class ZTe extends Ot(){constructor(e){super();g(this,"editor");g(this,"componentFactory");g(this,"focusTracker");g(this,"tooltipManager");g(this,"poweredBy");g(this,"evaluationBadge");g(this,"ariaLiveAnnouncer");g(this,"isReady",!1);g(this,"_editableElementsMap",new Map);g(this,"_focusableToolbarDefinitions",[]);g(this,"_extraMenuBarElements",[]);g(this,"_lastFocusedForeignElement",null);const i=e.editing.view;this.editor=e,this.componentFactory=new CTe(e),this.focusTracker=new Pt,this.tooltipManager=new iC(e),this.poweredBy=new OTe(e),this.evaluationBadge=new MTe(e),this.ariaLiveAnnouncer=new LTe(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const i=e.element;this.focusTracker.add(i),this.editor.keystrokes.listenTo(i);const r=zTe(this.editor.config.get("menuBar")||{});e.fillFromConfig(r,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(s,o)=>{i.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),o())}),this.editor.keystrokes.set("Alt+F9",(s,o)=>{i.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),o())})}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor;let i;e.keystrokes.set("Alt+F10",(r,s)=>{this._saveLastFocusedForeignElement();const o=this._getCurrentFocusedToolbarDefinition();(!o||!i)&&(i=this._getFocusableCandidateToolbarDefinitions());for(let a=0;a<i.length;a++){const l=i.shift();if(i.push(l),l!==o&&this._focusFocusableCandidateToolbar(l)){o&&o.options.afterBlur&&o.options.afterBlur();break}}s()}),e.keystrokes.set("Esc",(r,s)=>{const o=this._getCurrentFocusedToolbarDefinition();o&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),o.options.afterBlur&&o.options.afterBlur(),s())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:r,options:s}=i;(_o(r.element)||s.beforeFocus)&&e.push(i)}return e.sort((i,r)=>BR(i)-BR(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:r}}=e;return r&&r(),_o(i.element)?(i.focus(),!0):!1}_handleScrollToTheSelection(e,i){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};i.viewportOffset.top+=r.top,i.viewportOffset.bottom+=r.bottom,i.viewportOffset.left+=r.left,i.viewportOffset.right+=r.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const i of e)this.focusTracker.add(i.element);e.on("add",(i,r)=>{this.focusTracker.add(r.element)}),e.on("remove",(i,r)=>{this.focusTracker.remove(r.element)})}}function BR(n){const{toolbarView:t,options:e}=n;let i=10;return _o(t.element)&&i--,e.isContextual&&i--,i}class JTe extends de{constructor(e){super(e);g(this,"body");g(this,"menuBarView");this.body=new tC(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class XTe extends JTe{constructor(e){super(e);g(this,"top");g(this,"main");g(this,"_voiceLabelView");this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new ur;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class QTe extends de{constructor(e,i,r){super(e);g(this,"name",null);g(this,"_editingView");g(this,"_editableElement");g(this,"_hasExternalElement");this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?r(this):i(this);function i(s){e.change(o=>{const a=e.document.getRoot(s.name);o.addClass(s.isFocused?"ck-focused":"ck-blurred",a),o.removeClass(s.isFocused?"ck-blurred":"ck-focused",a)})}function r(s){e.once("change:isRenderingInProgress",(o,a,l)=>{l?r(s):i(s)})}}}class e5e extends QTe{constructor(e,i,r,s={}){super(e,i,r);g(this,"_options");this._options=s,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(i=>{const r=e.document.getRoot(this.name);i.setAttribute("aria-label",this.getEditableAriaLabel(),r)})}getEditableAriaLabel(){const e=this.locale.t,i=this._options.label,r=this._editableElement,s=this.name;if(typeof i=="string")return i;if(typeof i=="object")return i[s];if(typeof i=="function")return i(this);if(r){const o=r.getAttribute("aria-label");if(o)return o}return e("Rich Text Editor. Editing area: %0",s)}}class jR extends fv{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class Ls extends Ot(){constructor(t,e){super(),e&&oB(this,e),t&&this.set(t)}}const B0=Ql("px");class Yi extends L{constructor(e){super(e);g(this,"positionLimiter");g(this,"visibleStack");g(this,"_viewToStack",new Map);g(this,"_idToStack",new Map);g(this,"_view",null);g(this,"_rotatorView",null);g(this,"_fakePanelsView",null);this.positionLimiter=()=>{const i=this.editor.editing.view,s=i.document.selection.editableElement;return s?i.domConverter.mapViewToDom(s.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new M("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i)){this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(i);return}const r=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new M("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ei(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new t5e(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,s)=>!s&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,s)=>{if(s<2)return"";const o=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[o,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new n5e(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,r)=>!r&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:r=!0,singleViewMode:s=!1}){this.view.class=i,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}}class t5e extends de{constructor(e){super(e);g(this,"focusTracker");g(this,"buttonPrevView");g(this,"buttonNextView");g(this,"content");const i=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Pt,this.buttonPrevView=this._createButtonView(i("Previous"),se.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),se.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const r=new Pe(this.locale);return r.set({label:e,icon:i,tooltip:!0}),r}}class n5e extends de{constructor(e,i){super(e);g(this,"content");g(this,"_balloonPanelView");const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:r.to("top",B0),left:r.to("left",B0),width:r.to("width",B0),height:r.to("height",B0)}},children:this.content}),this.on("change:numberOfPanels",(s,o,a,l)=>{a>l?this._addPanels(a-l):this._removePanels(l-a),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new de;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:r,height:s}=new Ye(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:r,height:s})}}}const dd=Ql("px");class i5e extends de{constructor(e){super(e);g(this,"content");g(this,"contentPanelElement");g(this,"_contentPanelPlaceholder");const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Wi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",r=>r?"block":"none"),height:i.to("isSticky",r=>r?dd(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Wi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",r=>r?dd(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",r=>r&&dd(r)),bottom:i.to("_stickyBottomOffset",r=>r&&dd(r)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(_e.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new Ye(this.limiterElement);let i=e.getVisible();if(i){const r=new Ye(_e.window);r.top+=this.viewportTopOffset,r.height-=this.viewportTopOffset,i=i.getIntersection(r)}if(i&&e.top<i.top){const r=i.top;if(r+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const s=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-s>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(s):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(r):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=dd(-_e.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=dd(-_e.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ye(this.contentPanelElement)}}const r5e=Ql("px");class s5e extends L{constructor(e){super(e);g(this,"toolbarView");g(this,"focusTracker");g(this,"_balloonConfig");g(this,"_resizeObserver",null);g(this,"_balloon");g(this,"_fireSelectionChangeDebounced");this._balloonConfig=pv(e.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new Pt,this._trackFocusableEditableElements(),this.focusTracker.add(this.toolbarView),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=e.plugins.get(Yi),this._fireSelectionChangeDebounced=mr(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get isOfficialPlugin(){return!0}static get requires(){return[Yi]}init(){const e=this.editor,i=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(r,s,o)=>{const a=this._balloon.visibleView===this.toolbarView;!o&&a?this.hide():o&&this.show()}),this.listenTo(i,"change:range",(r,s)=>{(s.directChange||i.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(e,"ready",()=>{const r=e.ui.view.editable.element;this._resizeObserver=new Up(r,s=>{this.toolbarView.maxWidth=r5e(s.contentRect.width*.9)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const e=this.editor.locale.t,i=!this._balloonConfig.shouldNotGroupWhenFull,r=new Hl(this.editor.locale,{shouldGroupWhenFull:i,isFloating:!0});return r.ariaLabel=e("Editor contextual toolbar"),r.render(),r}show(e=!1){const i=this.editor,r=i.model.document.selection,s=i.model.schema;this._balloon.hasView(this.toolbarView)||r.isCollapsed&&!e||o5e(r,s)||Array.from(this.toolbarView.items).every(o=>o.isEnabled!==void 0&&!o.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_trackFocusableEditableElements(){const{editor:e,focusTracker:i}=this,{editing:r}=e;r.view.addObserver(class extends Hs{observe(o){i.add(o)}stopObserving(o){i.remove(o)}})}_getBalloonPositionData(){const i=this.editor.editing.view,r=i.document,s=r.selection,o=r.selection.isBackward;return{target:()=>{const a=o?s.getFirstRange():s.getLastRange(),l=Ye.getDomRangeRects(i.domConverter.viewRangeToDom(a));return o?l[0]:(l.length>1&&l[l.length-1].width===0&&l.pop(),l[l.length-1])},positions:this._getBalloonPositions(o)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(e){const r=qe.isSafari&&qe.isiOS?ei.generatePositions({heightOffset:Math.max(ei.arrowHeightOffset,Math.round(20/_e.window.visualViewport.scale))}):ei.defaultPositions;return e?[r.northWestArrowSouth,r.northWestArrowSouthWest,r.northWestArrowSouthEast,r.northWestArrowSouthMiddleEast,r.northWestArrowSouthMiddleWest,r.southWestArrowNorth,r.southWestArrowNorthWest,r.southWestArrowNorthEast,r.southWestArrowNorthMiddleWest,r.southWestArrowNorthMiddleEast]:[r.southEastArrowNorth,r.southEastArrowNorthEast,r.southEastArrowNorthWest,r.southEastArrowNorthMiddleEast,r.southEastArrowNorthMiddleWest,r.northEastArrowSouth,r.northEastArrowSouthEast,r.northEastArrowSouthWest,r.northEastArrowSouthMiddleEast,r.northEastArrowSouthMiddleWest]}}function o5e(n,t){return n.rangeCount===1?!1:[...n.getRanges()].every(e=>{const i=e.getContainedElement();return i&&t.isSelectable(i)})}const zR=Ql("px");class a5e extends Pe{constructor(t){super(t);const e=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:e.to("top",i=>zR(i)),left:e.to("left",i=>zR(i))}}})}}const Ih=Ql("px");class l5e extends L{constructor(e){super(e);g(this,"toolbarView");g(this,"panelView");g(this,"buttonView");g(this,"_resizeObserver",null);g(this,"_blockToolbarConfig");this._blockToolbarConfig=pv(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),Oo({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t,r=i("Click to edit block"),s=i("Drag to move"),o=i("Edit block"),a=e.plugins.has("DragDropBlockToolbar"),l=a?`${r}
${s}`:o;this.buttonView.label=l,a&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(e.model.document.selection,"change:range",(c,d)=>{d.directChange&&this._hidePanel()}),this.listenTo(e.ui,"update",()=>this._updateButton()),this.listenTo(e,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(c,d,h)=>{h?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),this._repositionButtonOnScroll(),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const c of this.toolbarView.items)c.on("execute",()=>this._hidePanel(!0),{priority:"high"})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const e=this.editor.locale.t,i=!this._blockToolbarConfig.shouldNotGroupWhenFull,r=new Hl(this.editor.locale,{shouldGroupWhenFull:i,isFloating:!0});return r.ariaLabel=e("Editor block content toolbar"),r}_createPanelView(){const e=this.editor,i=new ei(e.locale);return i.content.add(this.toolbarView),i.class="ck-toolbar-container",e.ui.view.body.add(i),this.toolbarView.keystrokes.set("Esc",(r,s)=>{this._hidePanel(!0),s()}),i}_createButtonView(){const e=this.editor,i=e.t,r=new a5e(e.locale),s=this._blockToolbarConfig.icon,o=nC[s]||s||nC.dragIndicator;return r.set({label:i("Edit block"),icon:o,withText:!1}),r.bind("isOn").to(this.panelView,"isVisible"),r.bind("tooltip").to(this.panelView,"isVisible",a=>!a),this.listenTo(r,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),this.listenTo(r,"change:isEnabled",(a,l,c)=>{!c&&this.panelView.isVisible&&this._hidePanel(!1)}),e.ui.view.body.add(r),r}_updateButton(){const e=this.editor,i=e.model,r=e.editing.view;if(!e.ui.focusTracker.isFocused){this._hideButton();return}if(!e.model.canEditAt(e.model.document.selection)){this._hideButton();return}const s=Array.from(i.document.selection.getSelectedBlocks())[0];if(!s||Array.from(this.toolbarView.items).every(a=>!a.isEnabled)){this._hideButton();return}const o=r.domConverter.mapViewToDom(e.editing.mapper.toViewElement(s));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(o),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const e=this.panelView.isVisible;this.panelView.show();const i=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(i),this.panelView.pin({target:this.buttonView.element,limiter:i}),e||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const e=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(e)}_hidePanel(e){this.panelView.isVisible=!1,e&&this.editor.editing.view.focus()}_repositionButtonOnScroll(){const{buttonView:e}=this;let i=!1;const r=(s,o)=>{if(i)return;const a=this._getSelectedEditableElement();o.target!==_e.document&&!dj(a).includes(o.target)||(i=!0,_e.window.requestAnimationFrame(()=>{this._updateButton(),i=!1}))};e.on("change:isVisible",(s,o,a)=>{a?e.listenTo(_e.document,"scroll",r,{useCapture:!0,usePassive:!0}):e.stopListening(_e.document,"scroll",r)})}_attachButtonToElement(e){const i=this.buttonView.element,r=this._getSelectedEditableElement(),s=window.getComputedStyle(e),o=new Ye(r),a=parseInt(s.paddingTop,10),l=parseInt(s.lineHeight,10)||parseInt(s.fontSize,10)*1.2,c=new Ye(i),d=new Ye(e);let h;this.editor.locale.uiLanguageDirection==="ltr"?h=o.left-c.width:h=o.right;const p=d.top+a+(l-c.height)/2;c.moveTo(h,p);const b=c.toAbsoluteRect();this.buttonView.top=b.top,this.buttonView.left=b.left,this._clipButtonToViewport(this.buttonView,r)}_clipButtonToViewport(e,i){const r=new Ye(e.element),s=new Ye(i).getVisible(),o=(...l)=>{e.element.style.clipPath=l.length?`polygon(${l.join(",")})`:""},a=l=>{e.isEnabled=!l,e.element.style.pointerEvents=l?"none":""};if(s&&s.bottom<r.bottom){const l=Math.min(r.height,r.bottom-s.bottom);a(l>=r.height),o("0 0","100% 0",`100% calc(100% - ${Ih(l)})`,`0 calc(100% - ${Ih(l)}`)}else if(s&&s.top>r.top){const l=Math.min(r.height,s.top-r.top);a(l>=r.height),o(`0 ${Ih(l)}`,`100% ${Ih(l)}`,"100% 100%","0 100%")}else a(!1),o()}_setupToolbarResize(){const e=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==e&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new Up(e,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(e)})))}_getToolbarMaxWidth(e){const i=new Ye(e),r=new Ye(this.buttonView.element),o=this.editor.locale.uiLanguageDirection==="rtl"?r.left-i.right+r.width:i.left-r.left;return Ih(i.width+o)}}class c5e extends af{constructor(e){super(e);g(this,"arrowView");const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ms;return e.content=hv,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class u5e extends de{constructor(e){super(e);g(this,"children");const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",r=>`ck-menu-bar__menu__panel_position_${r}`),i.if("isVisible","ck-hidden",r=>!r)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}const ew=class ew extends de{constructor(e){super(e);g(this,"buttonView");g(this,"panelView");g(this,"focusTracker");g(this,"keystrokes");const i=this.bindTemplate;this.buttonView=new c5e(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new u5e(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new jt,this.focusTracker=new Pt,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",i.to("class"),i.if("isEnabled","ck-disabled",r=>!r),i.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),fl.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(fl.openOnButtonClick(this),fl.openOnArrowRightKey(this),fl.closeOnArrowLeftKey(this),fl.openAndFocusOnEnterKeyPress(this),fl.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),fl.openAndFocusPanelOnArrowDownKey(this),fl.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,i)=>{this.fire("arrowright"),i()}),this.keystrokes.set("arrowleft",(e,i)=>{this.fire("arrowleft"),i()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,i,r)=>{if(!r)return;const s=ew._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:i,northEast:r,northWest:s,westSouth:o,eastSouth:a,westNorth:l,eastNorth:c}=BTe;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[a,c,o,l]:[e,i,r,s]:this.parentMenuView?[o,l,a,c]:[i,e,s,r]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};g(ew,"_getOptimalPosition",iT);let Mi=ew;class xo extends mv{constructor(t){super(t),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const t=Array.from(this.items).some(e=>{const i=$R(e);return i&&i.isToggleable});this.items.forEach(e=>{const i=$R(e);i&&(i.hasCheckSpace=t)})}}function $R(n){return n instanceof Pa?n.children.map(t=>d5e(t)?t.buttonView:t).find(t=>t instanceof af):null}function d5e(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof Pe}class Qz extends WSe{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const UR=["mouseenter","arrowleft","arrowright","change:isOpen"];class f5e extends de{constructor(e){super(e);g(this,"children");g(this,"menus",[]);const i=e.t,r=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",r.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i,r=[]){const s=this.locale,a=$Te({normalizedConfig:e,locale:s,componentFactory:i,extraItems:r}).items.map(l=>this._createMenu({componentFactory:i,menuDefinition:l}));this.children.addMany(a)}render(){super.render(),ud.toggleMenusAndFocusItemsOnHover(this),ud.closeMenusWhenTheBarCloses(this),ud.closeMenuWhenAnotherOnTheSameLevelOpens(this),ud.focusCycleMenusOnArrows(this),ud.closeOnClickOutside(this),ud.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,i=null){i?(e.delegate(...UR).to(i),e.parentMenuView=i):e.delegate(...UR).to(this,r=>"menu:"+r),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:r}){const s=this.locale,o=new Mi(s);return this.registerMenu(o,r),o.buttonView.set({label:i.label}),o.once("change:isOpen",()=>{const a=new xo(s);a.ariaLabel=i.label,o.panelView.children.add(a),a.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:o,componentFactory:e}))}),o}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:r}){const s=this.locale,o=[];for(const a of e.groups){for(const l of a.items){const c=new Ds(s,i);if(qt(l))c.children.add(this._createMenu({componentFactory:r,menuDefinition:l,parentMenuView:i}));else{const d=this._createMenuItemContentFromFactory({componentName:l,componentFactory:r,parentMenuView:i});if(!d)continue;c.children.add(d)}o.push(c)}a!==e.groups[e.groups.length-1]&&o.push(new Kp(s))}return o}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:r}){const s=r.create(e);return s instanceof Mi||s instanceof Et||s instanceof Qz?(this._registerMenuTree(s,i),s.on("execute",()=>{this.close()}),s):(ht("menu-bar-component-unsupported",{componentName:e,componentView:s}),null)}_registerMenuTree(e,i){if(!(e instanceof Mi)){e.delegate("mouseenter").to(i);return}this.registerMenu(e,i);const r=e.panelView.children.filter(o=>o instanceof xo)[0];if(!r){e.delegate("mouseenter").to(i);return}const s=r.items.filter(o=>o instanceof Pa);for(const o of s)this._registerMenuTree(o.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,r,s)=>{clearTimeout(e),s?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(o=>o.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const IT=["left","right","center","justify"];function e$(n){return IT.includes(n)}function t$(n,t){return t.contentLanguageDirection=="rtl"?n==="right":n==="left"}function n$(n){const t=n.map(i=>{let r;return typeof i=="string"?r={name:i}:r=i,r}).filter(i=>{const r=IT.includes(i.name);return r||ht("alignment-config-name-not-recognized",{option:i}),r}),e=t.filter(i=>!!i.className).length;if(e&&e<t.length)throw new M("alignment-config-classnames-are-missing",{configuredOptions:n});return t.forEach((i,r,s)=>{const o=s.slice(r+1);if(o.some(l=>l.name==i.name))throw new M("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&o.some(c=>c.className==i.className))throw new M("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),t}const PT="alignment";class h5e extends je{refresh(){const e=this.editor.locale,i=Ut(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(t={}){const e=this.editor,i=e.locale,r=e.model,s=r.document,o=t.value;r.change(a=>{const l=Array.from(s.selection.getSelectedBlocks()).filter(h=>this._canBeAligned(h)),c=l[0].getAttribute("alignment");t$(o,i)||c===o||!o?m5e(l,a):p5e(l,a,o)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,PT)}}function m5e(n,t){for(const e of n)t.removeAttribute(PT,e)}function p5e(n,t,e){for(const i of n)t.setAttribute(PT,e,i)}class g5e extends L{static get pluginName(){return"AlignmentEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("alignment",{options:IT.map(e=>({name:e}))})}init(){const t=this.editor,e=t.locale,i=t.model.schema,s=n$(t.config.get("alignment.options")).filter(c=>e$(c.name)&&!t$(c.name,e)),o=s.some(c=>!!c.className);i.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?t.conversion.attributeToAttribute(y5e(s)):t.conversion.for("downcast").attributeToAttribute(b5e(s));const a=w5e(s);for(const c of a)t.conversion.for("upcast").attributeToAttribute(c);const l=v5e(s);for(const c of l)t.conversion.for("upcast").attributeToAttribute(c);t.commands.add("alignment",new h5e(t))}}function b5e(n){const t={};for(const{name:i}of n)t[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:n.map(i=>i.name)},view:t}}function w5e(n){const t=[];for(const{name:e}of n)t.push({view:{key:"style",value:{"text-align":e}},model:{key:"alignment",value:e}});return t}function v5e(n){const t=[];for(const{name:e}of n)t.push({view:{key:"align",value:e},model:{key:"alignment",value:e}});return t}function y5e(n){const t={};for(const i of n)t[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:n.map(i=>i.name)},view:t}}const Ph=new Map([["left",se.alignLeft],["right",se.alignRight],["center",se.alignCenter],["justify",se.alignJustify]]);class _5e extends L{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=n$(t.config.get("alignment.options"));e.map(i=>i.name).filter(e$).forEach(i=>this._addButton(i)),this._addToolbarDropdown(e),this._addMenuBarMenu(e)}_addButton(t){this.editor.ui.componentFactory.add(`alignment:${t}`,i=>this._createButton(i,t))}_createButton(t,e,i={}){const r=this.editor,s=r.commands.get("alignment"),o=new Pe(t);return o.set({label:this.localizedOptionTitles[e],icon:Ph.get(e),tooltip:!0,isToggleable:!0,...i}),o.bind("isEnabled").to(s),o.bind("isOn").to(s,"value",a=>a===e),this.listenTo(o,"execute",()=>{r.execute("alignment",{value:e}),r.editing.view.focus()}),o}_addToolbarDropdown(t){const e=this.editor;e.ui.componentFactory.add("alignment",r=>{const s=zn(r),o=r.uiLanguageDirection==="rtl"?"w":"e",a=r.t;Yp(s,()=>t.map(d=>this._createButton(r,d.name,{tooltipPosition:o})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),s.buttonView.set({label:a("Text alignment"),tooltip:!0}),s.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const l=r.contentLanguageDirection==="rtl"?Ph.get("right"):Ph.get("left"),c=e.commands.get("alignment");return s.buttonView.bind("icon").to(c,"value",d=>Ph.get(d)||l),s.bind("isEnabled").to(c,"isEnabled"),this.listenTo(s,"execute",()=>{e.editing.view.focus()}),s})}_addMenuBarMenu(t){const e=this.editor;e.ui.componentFactory.add("menuBar:alignment",i=>{const r=e.commands.get("alignment"),s=i.t,o=new Mi(i),a=new xo(i);o.bind("isEnabled").to(r),a.set({ariaLabel:s("Text alignment"),role:"menu"}),o.buttonView.set({label:s("Text alignment")});for(const l of t){const c=new Ds(i,o),d=new Et(i);d.delegate("execute").to(o),d.set({label:this.localizedOptionTitles[l.name],icon:Ph.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),d.on("execute",()=>{e.execute("alignment",{value:l.name}),e.editing.view.focus()}),d.bind("isOn").to(r,"value",h=>h===l.name),d.bind("isEnabled").to(r,"isEnabled"),c.children.add(d),a.items.add(c)}return o.panelView.children.add(a),o})}}class x5e extends L{static get requires(){return[g5e,_5e]}static get pluginName(){return"Alignment"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class i${constructor(t,e=20){g(this,"model");g(this,"limit");g(this,"_isLocked");g(this,"_size");g(this,"_batch",null);g(this,"_changeCallback");g(this,"_selectionChangeCallback");this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(i,r)=>{r.isLocal&&r.isUndoable&&r!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){(!this.isLocked||t)&&(this._batch=null,this._size=0)}}class k5e extends je{constructor(e,i){super(e);g(this,"_buffer");this._buffer=new i$(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,r=i.document,s=e.text||"",o=s.length;let a=r.selection;if(e.selection?a=e.selection:e.range&&(a=i.createSelection(e.range)),!i.canEditAt(a))return;const l=e.resultRange;i.enqueueChange(this._buffer.batch,c=>{this._buffer.lock();const d=Array.from(r.selection.getAttributes());i.deleteContent(a),s&&i.insertContent(c.createText(s,d),a),l?c.setSelection(l):a.is("documentSelection")||c.setSelection(a),this._buffer.unlock(),this._buffer.input(o)})}}const r$=["insertText","insertReplacementText"],C5e=[...r$,"insertCompositionText"];class E5e extends Hs{constructor(e){super(e);g(this,"focusObserver");this.focusObserver=e.getObserver(A1);const i=qe.isAndroid?C5e:r$,r=e.document;r.on("beforeinput",(s,o)=>{if(!this.isEnabled)return;const{data:a,targetRanges:l,inputType:c,domEvent:d}=o;if(!i.includes(c))return;this.focusObserver.flush();const h=new Aa(r,"insertText");r.fire(h,new rf(e,d,{text:a,selection:e.createSelection(l)})),h.stop.called&&s.stop()}),qe.isAndroid||r.on("compositionend",(s,{data:o,domEvent:a})=>{this.isEnabled&&o&&r.fire("insertText",new rf(e,a,{text:o}))},{priority:"lowest"})}observe(){}stopObserving(){}}class s$ extends L{constructor(){super(...arguments);g(this,"_compositionQueue")}static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model,r=e.editing.view,s=e.editing.mapper,o=i.document.selection;this._compositionQueue=new S5e(e),r.addObserver(E5e);const a=new k5e(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",a),e.commands.add("input",a),this.listenTo(r.document,"insertText",(l,c)=>{r.document.isComposing||c.preventDefault(),qe.isAndroid&&r.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:d,selection:h}=c;let p;h?p=Array.from(h.getRanges()).map(x=>s.toModelRange(x)):p=Array.from(o.getRanges());let b=d;if(qe.isAndroid){const x=Array.from(p[0].getItems()).reduce((C,S)=>C+(S.is("$textProxy")?S.data:""),"");if(x&&(x.length<=b.length?b.startsWith(x)&&(b=b.substring(x.length),p[0].start=p[0].start.getShiftedBy(x.length)):x.startsWith(b)&&(p[0].start=p[0].start.getShiftedBy(b.length),b="")),b.length==0&&p[0].isCollapsed)return}const _={text:b,selection:i.createSelection(p)};qe.isAndroid&&r.document.isComposing?this._compositionQueue.push(_):(e.execute("insertText",_),r.scrollToTheSelection())}),qe.isAndroid?this.listenTo(r.document,"keydown",(l,c)=>{o.isCollapsed||c.keyCode!=229||!r.document.isComposing||HR(i,a)}):this.listenTo(r.document,"compositionstart",()=>{o.isCollapsed||HR(i,a)}),qe.isAndroid?(this.listenTo(r.document,"mutations",(l,{mutations:c})=>{if(r.document.isComposing)for(const{node:d}of c){const h=A5e(d,s),p=s.toModelElement(h);if(this._compositionQueue.isComposedElement(p)){this._compositionQueue.flush("mutations");return}}}),this.listenTo(r.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(r.document,"compositionend",()=>{const l=[];for(const c of this._compositionQueue.flushComposedElements()){const d=s.toViewElement(c);d&&l.push({type:"children",node:d})}l.length&&r.document.fire("mutations",{mutations:l})},{priority:"lowest"})):this.listenTo(r.document,"compositionend",()=>{r.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class S5e{constructor(t){g(this,"editor");g(this,"flushDebounced",mr(()=>this.flush("timeout"),50));g(this,"_queue",[]);g(this,"_compositionElements",new Set);this.editor=t}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(t){const e={text:t.text};if(t.selection){e.selectionRanges=[];for(const i of t.selection.getRanges())e.selectionRanges.push(Ui.fromRange(i)),this._compositionElements.add(i.start.parent)}this._queue.push(e),this.flushDebounced()}shift(){const t=this._queue.shift(),e={text:t.text};if(t.selectionRanges){const i=t.selectionRanges.map(r=>T5e(r)).filter(r=>!!r);i.length&&(e.selection=this.editor.model.createSelection(i))}return e}flush(t){const e=this.editor,i=e.model,r=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=e.commands.get("insertText").buffer;i.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const a=this.shift();e.execute("insertText",a)}o.unlock()}),r.scrollToTheSelection()}isComposedElement(t){return this._compositionElements.has(t)}flushComposedElements(){const t=Array.from(this._compositionElements);return this._compositionElements.clear(),t}}function HR(n,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),n.enqueueChange(e.batch,()=>{n.deleteContent(n.document.selection)}),e.unlock()}function T5e(n){const t=n.toRange();return n.detach(),t.root.rootName=="$graveyard"?null:t}function A5e(n,t){let e=n.is("$text")?n.parent:n;for(;!t.toModelElement(e);)e=e.parent;return e}class WR extends je{constructor(e,i){super(e);g(this,"direction");g(this,"_buffer");this.direction=i,this._buffer=new i$(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,r=i.document;i.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const o=s.createSelection(e.selection||r.selection);if(!i.canEditAt(o))return;const a=e.sequence||1,l=o.isCollapsed;if(o.isCollapsed&&i.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(a)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(o,a)){this.editor.execute("paragraph",{selection:o});return}if(o.isCollapsed)return;let c=0;o.getFirstRange().getMinimalFlatRanges().forEach(d=>{c+=Vk(d.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(o,{doNotResetEntireContent:l,direction:this.direction}),this._buffer.input(c),s.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,s=i.document.selection,o=i.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(o))||!i.schema.checkChild(o,"paragraph"))return!1;const l=o.getChild(0);return!(l&&l.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const i=this.editor.model,s=i.document.selection,o=i.schema.getLimitElement(s),a=e.createElement("paragraph");e.remove(e.createRangeIn(o)),e.insert(a,o),e.setSelection(a,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const r=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),o=r.schema.getLimitElement(s),a=o.getChild(0);return!(s.parent!=a||!e.containsEntireContent(a)||!r.schema.checkChild(o,"paragraph")||a.name=="paragraph")}}const I5e="character",qR="word",P5e="codePoint",El="selection",Cd="backward",qh="forward",o$={deleteContent:{unit:El,direction:Cd},deleteContentBackward:{unit:P5e,direction:Cd},deleteWordBackward:{unit:qR,direction:Cd},deleteHardLineBackward:{unit:El,direction:Cd},deleteSoftLineBackward:{unit:El,direction:Cd},deleteContentForward:{unit:I5e,direction:qh},deleteWordForward:{unit:qR,direction:qh},deleteHardLineForward:{unit:El,direction:qh},deleteSoftLineForward:{unit:El,direction:qh}};class R5e extends Hs{constructor(t){super(t);const e=t.document;let i=0;e.on("keydown",()=>{i++}),e.on("keyup",()=>{i=0}),e.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=s,c=o$[l];if(!c)return;const d={direction:c.direction,unit:c.unit,sequence:i};d.unit==El&&(d.selectionToRemove=t.createSelection(o[0])),l==="deleteContentBackward"&&(qe.isAndroid&&(d.sequence=1),N5e(o)&&(d.unit=El,d.selectionToRemove=t.createSelection(o)));const h=new Pf(e,"delete",o[0]);e.fire(h,new rf(t,a,d)),h.stop.called&&r.stop()}),qe.isBlink&&O5e(this)}observe(){}stopObserving(){}}function O5e(n){const t=n.view,e=t.document;let i=null,r=!1;e.on("keydown",(a,{keyCode:l})=>{i=l,r=!1}),e.on("keyup",(a,{keyCode:l,domEvent:c})=>{const d=e.selection,h=n.isEnabled&&l==i&&s(l)&&!d.isCollapsed&&!r;if(i=null,h){const p=d.getFirstRange(),b=new Pf(e,"delete",p),_={unit:El,direction:o(l),selectionToRemove:d};e.fire(b,new rf(t,c,_))}}),e.on("beforeinput",(a,{inputType:l})=>{const c=o$[l];s(i)&&c&&c.direction==o(i)&&(r=!0)},{priority:"high"}),e.on("beforeinput",(a,{inputType:l,data:c})=>{i==ct.delete&&l=="insertText"&&c==""&&a.stop()},{priority:"high"});function s(a){return a==ct.backspace||a==ct.delete}function o(a){return a==ct.backspace?Cd:qh}}function N5e(n){if(n.length!=1||n[0].isCollapsed)return!1;const t=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let e=0;for(const{nextPosition:i,item:r}of t){if(i.parent.is("$text")){const s=i.parent.data,o=i.offset;if(aT(s,o)||lT(s,o)||Cj(s,o))continue;e++}else(r.is("containerElement")||r.is("emptyElement"))&&e++;if(e>1)return!0}return!1}class ko extends L{constructor(){super(...arguments);g(this,"_undoOnBackspace")}static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.editing.view,r=i.document,s=e.model.document;i.addObserver(R5e),this._undoOnBackspace=!1;const o=new WR(e,"forward");e.commands.add("deleteForward",o),e.commands.add("forwardDelete",o),e.commands.add("delete",new WR(e,"backward")),this.listenTo(r,"delete",(a,l)=>{r.isComposing||l.preventDefault();const{direction:c,sequence:d,selectionToRemove:h,unit:p}=l,b=c==="forward"?"deleteForward":"delete",_={sequence:d};if(p=="selection"){const x=Array.from(h.getRanges()).map(C=>e.editing.mapper.toModelRange(C));_.selection=e.model.createSelection(x)}else _.unit=p;e.execute(b,_),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(a,l)=>{this._undoOnBackspace&&l.direction=="backward"&&l.sequence==1&&l.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),l.preventDefault(),a.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class a$ extends L{static get requires(){return[s$,ko]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function l$(n,t){let e=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((r,{item:s})=>s.is("$text")||s.is("$textProxy")?r+s.data:(e=t.createPositionAfter(s),""),""),range:t.createRange(e,n.end)}}class RT extends Ot(){constructor(e,i){super();g(this,"model");g(this,"testCallback");g(this,"_hasMatch");this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(r,{directChange:s})=>{if(s){if(!i.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(i,"change:data",(r,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,i={}){const r=this.model,o=r.document.selection,a=r.createRange(r.createPositionAt(o.focus.parent,0),o.focus),{text:l,range:c}=l$(a,r),d=this.testCallback(l);if(!d&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!d,d){const h=Object.assign(i,{text:l,range:c});typeof d=="object"&&Object.assign(h,d),this.fire(`matched:${e}`,h)}}}class N1 extends L{constructor(e){super(e);g(this,"attributes");g(this,"_overrideUid");g(this,"_isNextGravityRestorationSkipped",!1);this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model,r=e.editing.view,s=e.locale,o=i.document.selection;this.listenTo(r.document,"arrowKey",(a,l)=>{if(!o.isCollapsed||l.shiftKey||l.altKey||l.ctrlKey)return;const c=l.keyCode==ct.arrowright,d=l.keyCode==ct.arrowleft;if(!c&&!d)return;const h=s.contentLanguageDirection;let p=!1;h==="ltr"&&c||h==="rtl"&&d?p=this._handleForwardMovement(l):p=this._handleBackwardMovement(l),p===!0&&a.stop()},{context:"$text",priority:"highest"}),this.listenTo(o,"change:range",(a,l)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!l.directChange&&qr(o.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,r=this.editor.model,s=r.document.selection,o=s.getFirstPosition();return this._isGravityOverridden||o.isAtStart&&Ko(s,i)?!1:qr(o,i)?(Oh(e),Ko(s,i)&&qr(o,i,!0)?Rh(r,i):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const i=this.attributes,r=this.editor.model,s=r.document.selection,o=s.getFirstPosition();return this._isGravityOverridden?(Oh(e),this._restoreGravity(),qr(o,i,!0)?Rh(r,i):j0(r,i,o),!0):o.isAtStart?Ko(s,i)?(Oh(e),j0(r,i,o),!0):!1:!Ko(s,i)&&qr(o,i,!0)?(Oh(e),j0(r,i,o),!0):GR(o,i)?o.isAtEnd&&!Ko(s,i)&&qr(o,i)?(Oh(e),j0(r,i,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,i=e.model,r=i.document.selection,s=e.editing.view.document;e.editing.view.addObserver(uv);let o=!1;this.listenTo(s,"mousedown",()=>{o=!0}),this.listenTo(s,"selectionChange",()=>{const a=this.attributes;if(!o||(o=!1,!r.isCollapsed)||!Ko(r,a))return;const l=r.getFirstPosition();qr(l,a)&&(l.isAtStart||qr(l,a,!0)?Rh(i,a):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,r=i.document.selection,s=this.attributes;this.listenTo(i,"insertContent",()=>{const o=r.getFirstPosition();Ko(r,s)&&qr(o,s)&&Rh(i,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,r=i.document.selection,s=e.editing.view;let o=!1,a=!1;this.listenTo(s.document,"delete",(l,c)=>{o=c.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!o)return;const l=r.getFirstPosition();a=Ko(r,this.attributes)&&!GR(l,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{o&&(o=!1,!a&&e.model.enqueueChange(()=>{const l=r.getFirstPosition();Ko(r,this.attributes)&&qr(l,this.attributes)&&(l.isAtStart||qr(l,this.attributes,!0)?Rh(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ko(n,t){for(const e of t)if(n.hasAttribute(e))return!0;return!1}function j0(n,t,e){const i=e.nodeBefore;n.change(r=>{if(i){const s=[],o=n.schema.isObject(i)&&n.schema.isInline(i);for(const[a,l]of i.getAttributes())n.schema.checkAttribute("$text",a)&&(!o||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&s.push([a,l]);r.setSelectionAttribute(s)}else r.removeSelectionAttribute(t)})}function Rh(n,t){n.change(e=>{e.removeSelectionAttribute(t)})}function Oh(n){n.preventDefault()}function GR(n,t){const e=n.getShiftedBy(-1);return qr(e,t)}function qr(n,t,e=!1){const{nodeBefore:i,nodeAfter:r}=n;for(const s of t){const o=i?i.getAttribute(s):void 0,a=r?r.getAttribute(s):void 0;if(!(e&&(o===void 0||a===void 0))&&a!==o)return!0}return!1}const KR={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:fd('"'),to:[null,"",null,""]},quotesSecondary:{from:fd("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:fd("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:fd('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:fd('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:fd("'"),to:[null,"",null,""]}},YR={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},M5e=["symbols","mathematical","typography","quotes"];class D5e extends L{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("typing",{transformations:{include:M5e}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,i=t.plugins.get("Delete"),r=B5e(t.config.get("typing.transformations")),s=a=>{for(const l of r)if(l.from.test(a))return{normalizedTransformation:l}},o=new RT(t.model,s);o.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:c,to:d}=l.normalizedTransformation,h=c.exec(l.text),p=d(h.slice(1)),b=l.range;let _=h.index;e.enqueueChange(x=>{for(let C=1;C<h.length;C++){const S=h[C],T=p[C-1];if(T==null){_+=S.length;continue}const A=b.start.getShiftedBy(_),P=e.createRange(A,A.getShiftedBy(S.length)),O=F5e(A);e.insertContent(x.createText(T,O),P),_+=T.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}function L5e(n){return typeof n=="string"?new RegExp(`(${YB(n)})$`):n}function V5e(n){return typeof n=="string"?()=>[n]:n instanceof Array?()=>n:n}function F5e(n){return(n.textNode?n.textNode:n.nodeAfter).getAttributes()}function fd(n){return new RegExp(`(^|\\s)(${n})([^${n}]*)(${n})$`)}function B5e(n){const t=n.extra||[],e=n.remove||[],i=s=>!e.includes(s),r=n.include.concat(t).filter(i);return j5e(r).filter(i).map(s=>typeof s=="string"&&KR[s]?KR[s]:s).filter(s=>typeof s=="object").map(s=>({from:L5e(s.from),to:V5e(s.to)}))}function j5e(n){const t=new Set;for(const e of n)if(typeof e=="string"&&YR[e])for(const i of YR[e])t.add(i);else t.add(e);return Array.from(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zp(n,t,e,i){return i.createRange(rC(n,t,e,!0,i),rC(n,t,e,!1,i))}function rC(n,t,e,i,r){let s=n.textNode||(i?n.nodeBefore:n.nodeAfter),o=null;for(;s&&s.getAttribute(t)==e;)o=s,s=i?s.previousSibling:s.nextSibling;return o?r.createPositionAt(o,i?"before":"after"):n}function c$(n,t,e,i){const r=n.editing.view,s=new Set;r.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(t)){const c=Zp(a.getFirstPosition(),t,a.getAttribute(t),n.model),d=n.editing.mapper.toViewRange(c);for(const h of d.getItems())h.is("element",e)&&!h.hasClass(i)&&(o.addClass(i,h),s.add(h),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){r.change(l=>{for(const c of s.values())l.removeClass(i,c),s.delete(c)})}})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hl(n,t,e,i){let r,s=null;typeof i=="function"?r=i:(s=n.commands.get(i),r=()=>{n.execute(i)}),n.model.document.on("change:data",(o,a)=>{if(s&&!s.isEnabled||!t.isEnabled)return;const l=Ut(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const c=Array.from(n.model.document.differ.getChanges()),d=c[0];if(c.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1)return;const h=d.position.parent;if(h.is("element","codeBlock")||h.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||s&&s.value===!0)return;const p=h.getChild(0),b=n.model.createRangeOn(p);if(!b.containsRange(l)&&!l.end.isEqual(b.end))return;const _=e.exec(p.data.substr(0,l.end.offset));_&&n.model.enqueueChange(x=>{const C=x.createPositionAt(h,0),S=x.createPositionAt(h,_[0].length),T=new Ui(C,S);if(r({match:_})!==!1){x.remove(T);const P=n.model.document.selection.getFirstRange(),O=x.createRangeIn(h);h.isEmpty&&!O.isEqual(P)&&!O.containsRange(P,!0)&&x.remove(h)}T.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hd(n,t,e,i){let r,s;e instanceof RegExp?r=e:s=e,s=s||(o=>{let a;const l=[],c=[];for(;(a=r.exec(o))!==null&&!(a&&a.length<4);){let{index:d,"1":h,"2":p,"3":b}=a;const _=h+p+b;d+=a[0].length-_.length;const x=[d,d+h.length],C=[d+h.length+p.length,d+h.length+p.length+b.length];l.push(x),l.push(C),c.push([d+h.length,d+h.length+p.length])}return{remove:l,format:c}}),n.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!t.isEnabled)return;const l=n.model,c=l.document.selection;if(!c.isCollapsed)return;const d=Array.from(l.document.differ.getChanges()),h=d[0];if(d.length!=1||h.type!=="insert"||h.name!="$text"||h.length!=1)return;const p=c.focus,b=p.parent,{text:_,range:x}=z5e(l.createRange(l.createPositionAt(b,0),p),l),C=s(_),S=ZR(x.start,C.format,l),T=ZR(x.start,C.remove,l);S.length&&T.length&&l.enqueueChange(A=>{if(i(A,S)!==!1){for(const O of T.reverse())A.remove(O);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function ZR(n,t,e){return t.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>e.createRange(n.getShiftedBy(i[0]),n.getShiftedBy(i[1])))}function z5e(n,t){let e=n.start;return{text:Array.from(n.getItems()).reduce((r,s)=>!(s.is("$text")||s.is("$textProxy"))||s.getAttribute("code")?(e=t.createPositionAfter(s),""):r+s.data,""),range:t.createRange(e,n.end)}}class $5e extends L{static get requires(){return[ko]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&hl(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&hl(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&hl(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&hl(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const e=z0(this.editor,"bold");hd(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),hd(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(t.get("italic")){const e=z0(this.editor,"italic");hd(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),hd(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(t.get("code")){const e=z0(this.editor,"code");hd(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(t.get("strikethrough")){const e=z0(this.editor,"strikethrough");hd(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],r=new RegExp(`^(#{${i}})\\s$`);hl(this.editor,this,r,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&hl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&hl(t,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&hl(this.editor,this,/^---$/,"horizontalLine")}}function z0(n,t){return(e,i)=>{if(!n.commands.get(t).isEnabled)return!1;const s=n.model.schema.getValidRanges(i,t);for(const o of s)e.setAttribute(t,!0,o);e.removeSelectionAttribute(t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class U5e extends L{constructor(e){super(e);g(this,"adapter");g(this,"_debouncedSave");g(this,"_lastDocumentVersion");g(this,"_savePromise");g(this,"_domEmitter");g(this,"_config");g(this,"_pendingActions");g(this,"_makeImmediateSave");g(this,"_action",null);const i=e.config.get("autosave")||{},r=i.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=mr(this._save.bind(this),r),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(Ji()),this._config=i,this._pendingActions=e.plugins.get(sf),this._makeImmediateSave=!1}static get pluginName(){return"Autosave"}static get isOfficialPlugin(){return!0}static get requires(){return[sf]}init(){const e=this.editor,i=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(i,"change:data",(r,s)=>{this._saveCallbacks.length&&s.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});/* istanbul ignore next -- @preserve */this._domEmitter.listenTo(window,"beforeunload",(r,s)=>{this._pendingActions.hasAny&&(s.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Eu extends je{constructor(e,i){super(e);g(this,"attributeKey");this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,s=i.document.selection,o=e.forceValue===void 0?!this.value:e.forceValue;i.change(a=>{if(s.isCollapsed)o?a.setSelectionAttribute(this.attributeKey,!0):a.removeSelectionAttribute(this.attributeKey);else{const l=i.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const c of l)o?a.setAttribute(this.attributeKey,o,c):a.removeAttribute(this.attributeKey,c)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const s of r.getRanges())for(const o of s.getItems())if(i.checkAttribute(o,this.attributeKey))return o.hasAttribute(this.attributeKey);return!1}}const md="bold";class H5e extends L{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:md}),t.model.schema.setAttributeProperties(md,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:md,view:"strong",upcastAlso:["b",i=>{const r=i.getStyle("font-weight");return r&&(r=="bold"||Number(r)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(md,new Eu(t,md)),t.keystrokes.set("CTRL+B",md),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function Su({editor:n,commandName:t,plugin:e,icon:i,label:r,keystroke:s}){return o=>{const a=n.commands.get(t),l=new o(n.locale);return l.set({label:r,icon:i,keystroke:s,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof Et?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),e.listenTo(l,"execute",()=>{n.execute(t),n.editing.view.focus()}),l}}const Dx="bold";class W5e extends L{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Su({editor:t,commandName:Dx,plugin:this,icon:se.bold,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(Dx,()=>i(Pe)),t.ui.componentFactory.add("menuBar:"+Dx,()=>i(Et))}}class q5e extends L{static get requires(){return[H5e,W5e]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const Cc="code",G5e="ck-code_selected";class K5e extends L{static get pluginName(){return"CodeEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[N1]}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Cc}),t.model.schema.setAttributeProperties(Cc,{isFormatting:!0,copyOnEnter:!1}),t.conversion.attributeToElement({model:Cc,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),t.commands.add(Cc,new Eu(t,Cc)),t.plugins.get(N1).registerAttribute(Cc),c$(t,Cc,"code",G5e),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}var Y5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>';const Lx="code";class Z5e extends L{static get pluginName(){return"CodeUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Su({editor:t,commandName:Lx,plugin:this,icon:Y5e,label:e("Code")});t.ui.componentFactory.add(Lx,()=>i(Pe)),t.ui.componentFactory.add("menuBar:"+Lx,()=>i(Et))}}class J5e extends L{static get requires(){return[K5e,Z5e]}static get pluginName(){return"Code"}static get isOfficialPlugin(){return!0}}const pd="italic";class X5e extends L{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:pd}),t.model.schema.setAttributeProperties(pd,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:pd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(pd,new Eu(t,pd)),t.keystrokes.set("CTRL+I",pd),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}var Q5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';const Vx="italic";class e3e extends L{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Su({editor:t,commandName:Vx,plugin:this,icon:Q5e,keystroke:"CTRL+I",label:e("Italic")});t.ui.componentFactory.add(Vx,()=>i(Pe)),t.ui.componentFactory.add("menuBar:"+Vx,()=>i(Et))}}class t3e extends L{static get requires(){return[X5e,e3e]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}const Nh="strikethrough";class n3e extends L{static get pluginName(){return"StrikethroughEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Nh}),t.model.schema.setAttributeProperties(Nh,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Nh,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),t.commands.add(Nh,new Eu(t,Nh)),t.keystrokes.set("CTRL+SHIFT+X","strikethrough"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}var i3e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';const Fx="strikethrough";class r3e extends L{static get pluginName(){return"StrikethroughUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Su({editor:t,commandName:Fx,plugin:this,icon:i3e,keystroke:"CTRL+SHIFT+X",label:e("Strikethrough")});t.ui.componentFactory.add(Fx,()=>i(Pe)),t.ui.componentFactory.add("menuBar:"+Fx,()=>i(Et))}}class s3e extends L{static get requires(){return[n3e,r3e]}static get pluginName(){return"Strikethrough"}static get isOfficialPlugin(){return!0}}const Mh="subscript";class o3e extends L{static get pluginName(){return"SubscriptEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Mh}),t.model.schema.setAttributeProperties(Mh,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Mh,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add(Mh,new Eu(t,Mh))}}var a3e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>';const Bx="subscript";class l3e extends L{static get pluginName(){return"SubscriptUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Su({editor:t,commandName:Bx,plugin:this,icon:a3e,label:e("Subscript")});t.ui.componentFactory.add(Bx,()=>i(Pe)),t.ui.componentFactory.add("menuBar:"+Bx,()=>i(Et))}}class c3e extends L{static get requires(){return[o3e,l3e]}static get pluginName(){return"Subscript"}static get isOfficialPlugin(){return!0}}const Dh="superscript";class u3e extends L{static get pluginName(){return"SuperscriptEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Dh}),t.model.schema.setAttributeProperties(Dh,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Dh,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add(Dh,new Eu(t,Dh))}}var d3e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>';const jx="superscript";class f3e extends L{static get pluginName(){return"SuperscriptUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Su({editor:t,commandName:jx,plugin:this,icon:d3e,label:e("Superscript")});t.ui.componentFactory.add(jx,()=>i(Pe)),t.ui.componentFactory.add("menuBar:"+jx,()=>i(Et))}}class h3e extends L{static get requires(){return[u3e,f3e]}static get pluginName(){return"Superscript"}static get isOfficialPlugin(){return!0}}const Lh="underline";class m3e extends L{static get pluginName(){return"UnderlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Lh}),t.model.schema.setAttributeProperties(Lh,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Lh,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(Lh,new Eu(t,Lh)),t.keystrokes.set("CTRL+U","underline"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Underline text"),keystroke:"CTRL+U"}]})}}var p3e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';const zx="underline";class g3e extends L{static get pluginName(){return"UnderlineUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Su({editor:t,commandName:zx,plugin:this,icon:p3e,label:e("Underline"),keystroke:"CTRL+U"});t.ui.componentFactory.add(zx,()=>i(Pe)),t.ui.componentFactory.add("menuBar:"+zx,()=>i(Et))}}class b3e extends L{static get requires(){return[m3e,g3e]}static get pluginName(){return"Underline"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*u$(n,t){for(const e of t)e&&n.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class w3e extends je{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,i=e.document.selection,r=e.schema,s=i.isCollapsed,o=i.getFirstRange(),a=o.start.parent,l=o.end.parent;if(r.isLimit(a)||r.isLimit(l))return!s&&a==l&&e.deleteContent(i),!1;if(s){const c=u$(t.model.schema,i.getAttributes());return JR(t,o.start),t.setSelectionAttribute(c),!0}else{const c=!(o.start.isAtStart&&o.end.isAtEnd),d=a==l;if(e.deleteContent(i,{leaveUnmerged:c}),c){if(d)return JR(t,i.focus),!0;t.setSelection(l,0)}}return!1}}function JR(n,t){n.split(t),n.setSelection(t.parent.nextSibling,0)}const v3e={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class d$ extends Hs{constructor(t){super(t);const e=this.document;let i=!1;e.on("keydown",(r,s)=>{i=s.shiftKey}),e.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;let o=s.inputType;qe.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const a=s.domEvent,l=v3e[o];if(!l)return;const c=new Pf(e,"enter",s.targetRanges[0]);e.fire(c,new rf(t,a,{isSoft:l.isSoft})),c.stop.called&&r.stop()})}observe(){}stopObserving(){}}class Jp extends L{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=e.document,r=this.editor.t;e.addObserver(d$),t.commands.add("enter",new w3e(t)),this.listenTo(i,"enter",(s,o)=>{i.isComposing||o.preventDefault(),!o.isSoft&&(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class y3e extends je{execute(){const t=this.editor.model,e=t.document;t.change(i=>{x3e(t,i,e.selection),this.fire("afterExecute",{writer:i})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=_3e(t.schema,e.selection)}}function _3e(n,t){if(t.rangeCount>1)return!1;const e=t.anchor;if(!e||!n.checkChild(e,"softBreak"))return!1;const i=t.getFirstRange(),r=i.start.parent,s=i.end.parent;return!((sC(r,n)||sC(s,n))&&r!==s)}function x3e(n,t,e){const i=e.isCollapsed,r=e.getFirstRange(),s=r.start.parent,o=r.end.parent,a=s==o;if(i){const l=u$(n.schema,e.getAttributes());XR(n,t,r.end),t.removeSelectionAttribute(e.getAttributeKeys()),t.setSelectionAttribute(l)}else{const l=!(r.start.isAtStart&&r.end.isAtEnd);n.deleteContent(e,{leaveUnmerged:l}),a?XR(n,t,e.focus):l&&t.setSelection(o,0)}}function XR(n,t,e){const i=t.createElement("softBreak");n.insertContent(i,e),t.setSelection(i,"after")}function sC(n,t){return n.is("rootElement")?!1:t.isLimit(n)||sC(n.parent,t)}class f$ extends L{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.conversion,r=t.editing.view,s=r.document,o=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),r.addObserver(d$),t.commands.add("shiftEnter",new y3e(t)),this.listenTo(s,"enter",(a,l)=>{s.isComposing||l.preventDefault(),l.isSoft&&(t.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class k3e extends je{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.schema,r=e.document.selection,s=Array.from(r.getSelectedBlocks()),o=t.forceValue===void 0?!this.value:t.forceValue;e.change(a=>{if(!o)this._removeQuote(a,s.filter($0));else{const l=s.filter(c=>$0(c)||e8(i,c));this._applyQuote(a,l)}})}_getValue(){const t=this.editor.model.document.selection,e=Ut(t.getSelectedBlocks());return!!(e&&$0(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,i=Ut(t.getSelectedBlocks());return i?e8(e,i):!1}_removeQuote(t,e){QR(t,e).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd){t.unwrap(i.start.parent);return}if(i.start.isAtStart){const s=t.createPositionBefore(i.start.parent);t.move(i,s);return}i.end.isAtEnd||t.split(i.end);const r=t.createPositionAfter(i.end.parent);t.move(i,r)})}_applyQuote(t,e){const i=[];QR(t,e).reverse().forEach(r=>{let s=$0(r.start);s||(s=t.createElement("blockQuote"),t.wrap(r,s)),i.push(s)}),i.reverse().reduce((r,s)=>r.nextSibling==s?(t.merge(t.createPositionAfter(r)),r):s)}}function $0(n){return n.parent.name=="blockQuote"?n.parent:null}function QR(n,t){let e,i=0;const r=[];for(;i<t.length;){const s=t[i],o=t[i+1];e||(e=n.createPositionBefore(s)),(!o||s.nextSibling!=o)&&(r.push(n.createRange(e,n.createPositionAfter(s))),e=null),i++}return r}function e8(n,t){const e=n.checkChild(t.parent,"blockQuote"),i=n.checkChild(["$root","blockQuote"],t);return e&&i}class C3e extends L{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Jp,ko]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new k3e(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(o=>{const a=t.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const c=l.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0;if(c.is("element","blockQuote")&&!e.checkChild(l.position,c))return o.unwrap(c),!0;if(c.is("element")){const d=o.createRangeIn(c);for(const h of d.getItems())if(h.is("element","blockQuote")&&!e.checkChild(o.createPositionBefore(h),h))return o.unwrap(h),!0}}else if(l.type=="remove"){const c=l.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0}return!1});const i=this.editor.editing.view.document,r=t.model.document.selection,s=t.commands.get("blockQuote");this.listenTo(i,"enter",(o,a)=>{if(!r.isCollapsed||!s.value)return;r.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(o,a)=>{if(a.direction!="backward"||!r.isCollapsed||!s.value)return;const l=r.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}class E3e extends L{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("blockQuote",()=>{const e=this._createButton(Pe);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:blockQuote",()=>{const e=this._createButton(Et);return e.set({role:"menuitemcheckbox"}),e})}_createButton(t){const e=this.editor,i=e.locale,r=e.commands.get("blockQuote"),s=new t(e.locale),o=i.t;return s.set({label:o("Block quote"),icon:se.quote,isToggleable:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value"),this.listenTo(s,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),s}}class S3e extends L{static get requires(){return[C3e,E3e]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class T3e extends $t(){constructor(){super(...arguments);g(this,"_stack",[])}add(e,i){const r=this._stack,s=r[0];this._insertDescriptor(e);const o=r[0];s!==o&&!$x(s,o)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:o,writer:i})}remove(e,i){const r=this._stack,s=r[0];this._removeDescriptor(e);const o=r[0];s!==o&&!$x(s,o)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:o,writer:i})}_insertDescriptor(e){const i=this._stack,r=i.findIndex(o=>o.id===e.id);if($x(e,i[r]))return;r>-1&&i.splice(r,1);let s=0;for(;i[s]&&A3e(i[s],e);)s++;i.splice(s,0,e)}_removeDescriptor(e){const i=this._stack,r=i.findIndex(s=>s.id===e);r>-1&&i.splice(r,1)}}function $x(n,t){return n&&t&&n.priority==t.priority&&M1(n.classes)==M1(t.classes)}function A3e(n,t){return n.priority>t.priority?!0:n.priority<t.priority?!1:M1(n.classes)>M1(t.classes)}function M1(n){return Array.isArray(n)?n.sort().join(","):n}var I3e='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const P3e="ck-widget",t8="ck-widget_selected";function In(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function $a(n,t,e={}){if(!n.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:n});return t.setAttribute("contenteditable","false",n),t.addClass(P3e,n),t.setCustomProperty("widget",!0,n),n.getFillerOffset=D3e,t.setCustomProperty("widgetLabel",[],n),e.label&&N3e(n,e.label),e.hasSelectionHandle&&L3e(n,t),h$(n,t),n}function R3e(n,t,e){if(t.classes&&e.addClass(Ct(t.classes),n),t.attributes)for(const i in t.attributes)e.setAttribute(i,t.attributes[i],n)}function O3e(n,t,e){if(t.classes&&e.removeClass(Ct(t.classes),n),t.attributes)for(const i in t.attributes)e.removeAttribute(i,n)}function h$(n,t,e=R3e,i=O3e){const r=new T3e;r.on("change:top",(a,l)=>{l.oldDescriptor&&i(n,l.oldDescriptor,l.writer),l.newDescriptor&&e(n,l.newDescriptor,l.writer)});const s=(a,l,c)=>r.add(l,c),o=(a,l,c)=>r.remove(l,c);t.setCustomProperty("addHighlight",s,n),t.setCustomProperty("removeHighlight",o,n)}function N3e(n,t){n.getCustomProperty("widgetLabel").push(t)}function M3e(n){return n.getCustomProperty("widgetLabel").reduce((e,i)=>typeof i=="function"?e?e+". "+i():i():e?e+". "+i:i,"")}function OT(n,t,e={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),t.setAttribute("role","textbox",n),t.setAttribute("tabindex","-1",n),e.label&&t.setAttribute("aria-label",e.label,n),t.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(i,r,s)=>{t.setAttribute("contenteditable",s?"false":"true",n)}),n.on("change:isFocused",(i,r,s)=>{s?t.addClass("ck-editor__nested-editable_focused",n):t.removeClass("ck-editor__nested-editable_focused",n)}),h$(n,t),n}function Xp(n,t){const e=n.getSelectedElement();if(e){const i=vl(n);if(i)return t.createRange(t.createPositionAt(e,i))}return t.schema.findOptimalInsertionRange(n)}function D3e(){return null}function L3e(n,t){const e=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){const r=this.toDomElement(i),s=new Ms;return s.set("content",I3e),s.render(),r.appendChild(s.element),r});t.insert(t.createPositionAt(n,0),e),t.addClass(["ck-widget_with-selection-handle"],n)}function NT(n){const t=a=>{const{width:l,paddingLeft:c,paddingRight:d}=a.ownerDocument.defaultView.getComputedStyle(a);return parseFloat(l)-(parseFloat(c)||0)-(parseFloat(d)||0)},e=n.parentElement;if(!e)return 0;let i=t(e);const r=5;let s=0,o=e;for(;isNaN(i);){if(o=o.parentElement,++s>r)return 0;i=t(o)}return i}function V3e(n,t=new Ye(n)){const e=NT(n);return e?t.width/e*100:0}const Xo="widget-type-around";function Ec(n,t,e){return!!n&&In(n)&&!e.isInline(t)}function F3e(n){return n.closest(".ck-widget__type-around__button")}function B3e(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function j3e(n,t){const e=n.closest(".ck-widget");return t.mapDomToView(e)}function vl(n){return n.getAttribute(Xo)}var z3e='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';const m$=["before","after"],$3e=new DOMParser().parseFromString(z3e,"image/svg+xml").firstChild,n8="ck-widget__type-around_disabled";class U3e extends L{constructor(){super(...arguments);g(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[Jp,ko]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(r,s,o)=>{i.change(a=>{for(const l of i.document.roots)o?a.removeClass(n8,l):a.addClass(n8,l)}),o||e.model.change(a=>{a.removeSelectionAttribute(Xo)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const r=this.editor,s=r.editing.view,o=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,i),attributes:o}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,i,r,s){this.listenTo(e,i,(...o)=>{this.isEnabled&&r(...o)},s)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,s=vl(r);if(!s)return!1;const o=r.getSelectedElement();return this._insertParagraph(o,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,r=e.locale.t,s={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(o,a,l)=>{const c=l.mapper.toViewElement(a.item);c&&Ec(c,a.item,i)&&(H3e(l.writer,s,c),c.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,r=i.document.selection,s=i.schema,o=e.editing.view;this._listenToIfEnabled(o.document,"arrowKey",(l,c)=>{this._handleArrowKeyPress(l,c)},{context:[In,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(l,c)=>{c.directChange&&e.model.change(d=>{d.removeSelectionAttribute(Xo)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const l=r.getSelectedElement();if(l){const c=e.editing.mapper.toViewElement(l);if(Ec(c,l,s))return}e.model.change(c=>{c.removeSelectionAttribute(Xo)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(l,c,d)=>{const h=d.writer;if(this._currentFakeCaretModelElement){const x=d.mapper.toViewElement(this._currentFakeCaretModelElement);x&&(h.removeClass(m$.map(a),x),this._currentFakeCaretModelElement=null)}const p=c.selection.getSelectedElement();if(!p)return;const b=d.mapper.toViewElement(p);if(!Ec(b,p,s))return;const _=vl(c.selection);_&&(h.addClass(a(_),b),this._currentFakeCaretModelElement=p)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(l,c,d)=>{d||e.model.change(h=>{h.removeSelectionAttribute(Xo)})});function a(l){return`ck-widget_type-around_show-fake-caret_${l}`}}_handleArrowKeyPress(e,i){const r=this.editor,s=r.model,o=s.document.selection,a=s.schema,l=r.editing.view,c=i.keyCode,d=a_e(c,r.locale.contentLanguageDirection),h=l.document.selection.getSelectedElement(),p=r.editing.mapper.toModelElement(h);let b;Ec(h,p,a)?b=this._handleArrowKeyPressOnSelectedWidget(d):o.isCollapsed?b=this._handleArrowKeyPressWhenSelectionNextToAWidget(d):i.shiftKey||(b=this._handleArrowKeyPressWhenNonCollapsedSelection(d)),b&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,s=r.document.selection,o=vl(s);return r.change(a=>{if(o){if(!(o===(e?"after":"before")))return a.removeSelectionAttribute(Xo),!0}else return a.setSelectionAttribute(Xo,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,r=i.model,s=r.schema,o=i.plugins.get("Widget"),a=o._getObjectElementNextToSelection(e),l=i.editing.mapper.toViewElement(a);return Ec(l,a,s)?(r.change(c=>{o._setSelectionOverElement(a),c.setSelectionAttribute(Xo,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,r=i.model,s=r.schema,o=i.editing.mapper,a=r.document.selection,l=e?a.getLastPosition().nodeBefore:a.getFirstPosition().nodeAfter,c=o.toViewElement(l);return Ec(c,l,s)?(r.change(d=>{d.setSelection(l,"on"),d.setSelectionAttribute(Xo,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(r,s)=>{const o=F3e(s.domTarget);if(!o)return;const a=B3e(o),l=j3e(o,i.domConverter),c=e.editing.mapper.toModelElement(l);this._insertParagraph(c,a),s.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(s,o)=>{if(s.eventPhase!="atTarget")return;const a=i.getSelectedElement(),l=e.editing.mapper.toViewElement(a),c=e.model.schema;let d;this._insertParagraphAccordingToFakeCaretPosition()?d=!0:Ec(l,a,c)&&(this._insertParagraph(a,o.isSoft?"before":"after"),d=!0),d&&(o.preventDefault(),s.stop())},{context:In})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",(r,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=i.selection)},{priority:"high"}),qe.isAndroid?this._listenToIfEnabled(i,"keydown",(r,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(i,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,r=e.model,s=r.schema;this._listenToIfEnabled(i.document,"delete",(o,a)=>{if(o.eventPhase!="atTarget")return;const l=vl(r.document.selection);if(!l)return;const c=a.direction,d=r.document.selection.getSelectedElement(),h=l==="before",p=c=="forward";if(h===p)e.execute("delete",{selection:r.createSelection(d,"on")});else{const _=s.getNearestSelectionRange(r.createPositionAt(d,l),c);if(_)if(!_.isCollapsed)r.change(x=>{x.setSelection(_),e.execute(p?"deleteForward":"delete")});else{const x=r.createSelection(_.start);if(r.modifySelection(x,{direction:c}),!x.focus.isEqual(_.start))r.change(C=>{C.setSelection(_),e.execute(p?"deleteForward":"delete")});else{const C=G3e(s,_.start.parent);r.deleteContent(r.createSelection(C,"on"),{doNotAutoparagraph:!0})}}}a.preventDefault(),o.stop()},{context:In})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,r=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[o,a])=>{if(a&&!a.is("documentSelection"))return;const l=vl(r);if(l)return s.stop(),i.change(c=>{const d=r.getSelectedElement(),h=i.createPositionAt(d,l),p=c.createSelection(h),b=i.insertContent(o,p);return c.setSelection(p),b})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,o)=>{const[,a,l={}]=o;if(a&&!a.is("documentSelection"))return;const c=vl(r);c&&(l.findOptimalPosition=c,o[3]=l)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[o])=>{if(o&&!o.is("documentSelection"))return;vl(r)&&s.stop()},{priority:"high"})}}function H3e(n,t,e){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(r){const s=this.toDomElement(r);return W3e(s,t),q3e(s),s});n.insert(n.createPositionAt(e,"end"),i)}function W3e(n,t){for(const e of m$){const i=new Wi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${e}`],title:t[e],"aria-hidden":"true"},children:[n.ownerDocument.importNode($3e,!0)]});n.appendChild(i.render())}}function q3e(n){const t=new Wi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(t.render())}function G3e(n,t){let e=t;for(const i of t.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;e=i}return e}function K3e(n){const t=n.model;return(e,i)=>{const r=i.keyCode==ct.arrowup,s=i.keyCode==ct.arrowdown,o=i.shiftKey,a=t.document.selection;if(!r&&!s)return;const l=s;if(o&&J3e(a,l))return;const c=Y3e(n,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(o)return}(c.isCollapsed||Z3e(n,c,l))&&(t.change(d=>{const h=l?c.end:c.start;if(o){const p=t.createSelection(a.anchor);p.setFocus(h),d.setSelection(p)}else d.setSelection(h)}),e.stop(),i.preventDefault(),i.stopPropagation())}}}function Y3e(n,t,e){const i=n.model;if(e){const r=t.isCollapsed?t.focus:t.getLastPosition(),s=i8(i,r,"forward");if(!s)return null;const o=i.createRange(r,s),a=r8(i.schema,o,"backward");return a?i.createRange(r,a):null}else{const r=t.isCollapsed?t.focus:t.getFirstPosition(),s=i8(i,r,"backward");if(!s)return null;const o=i.createRange(s,r),a=r8(i.schema,o,"forward");return a?i.createRange(a,r):null}}function i8(n,t,e){const i=n.schema,r=n.createRangeIn(t.root),s=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of r.getWalker({startPosition:t,direction:e})){if(i.isLimit(a)&&!i.isInline(a))return o;if(l==s&&i.isBlock(a))return null}return null}function r8(n,t,e){const i=e=="backward"?t.end:t.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:r}of t.getWalker({direction:e}))if(n.checkChild(r,"$text"))return r;return null}function Z3e(n,t,e){const i=n.model,r=n.view.domConverter;if(e){const c=i.createSelection(t.start);i.modifySelection(c),!c.focus.isAtEnd&&!t.start.isEqual(c.focus)&&(t=i.createRange(c.focus,t.end))}const s=n.mapper.toViewRange(t),o=r.viewRangeToDom(s),a=Ye.getDomRangeRects(o);let l;for(const c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function J3e(n,t){return!n.isCollapsed&&n.isBackward==t}class Mo extends L{constructor(){super(...arguments);g(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[U3e,ko]}init(){const e=this.editor,i=e.editing.view,r=i.document,s=e.t;this.editor.editing.downcastDispatcher.on("selection",(o,a,l)=>{const c=l.writer,d=a.selection;if(d.isCollapsed)return;const h=d.getSelectedElement();if(!h)return;const p=e.editing.mapper.toViewElement(h);In(p)&&l.consumable.consume(d,"selection")&&c.setSelection(c.createRangeOn(p),{fake:!0,label:M3e(p)})}),this.editor.editing.downcastDispatcher.on("selection",(o,a,l)=>{this._clearPreviouslySelectedWidgets(l.writer);const c=l.writer,d=c.document.selection;let h=null;for(const p of d.getRanges())for(const b of p){const _=b.item;In(_)&&!eAe(_,h)&&(c.addClass(t8,_),this._previouslySelected.add(_),h=_)}},{priority:"low"}),i.addObserver(uv),this.listenTo(r,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(r,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[In,"$text"]}),this.listenTo(r,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(r,"arrowKey",K3e(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(o,a)=>{this._handleDelete(a.direction=="forward")&&(a.preventDefault(),o.stop())},{context:"$root"}),this.listenTo(r,"tab",(o,a)=>{o.eventPhase=="atTarget"&&(a.shiftKey||this._selectFirstNestedEditable()&&(a.preventDefault(),o.stop()))},{context:In,priority:"low"}),this.listenTo(r,"tab",(o,a)=>{a.shiftKey&&this._selectAncestorWidget()&&(a.preventDefault(),o.stop())},{priority:"low"}),this.listenTo(r,"keydown",(o,a)=>{a.keystroke==ct.esc&&this._selectAncestorWidget()&&(a.preventDefault(),o.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:s("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:s("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:s("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:s("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:s("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:s("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const r=this.editor,s=r.editing.view,o=s.document;let a=i.target;if(!a)return;if(i.domEvent.detail>=3){this._selectBlockContent(a)&&i.preventDefault();return}if(!In(a)){const c=X3e(a);if(!c)return;if(In(c))a=c;else{const d=Q3e(s,i);if(d&&In(d))a=d;else return}}qe.isAndroid&&i.preventDefault(),o.isFocused||s.focus();const l=r.editing.mapper.toModelElement(a);this._setSelectionOverElement(l)}_selectBlockContent(e){const i=this.editor,r=i.model,s=i.editing.mapper,o=r.schema,a=s.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),l=tAe(s.toModelElement(a),r.schema);return l?(r.change(c=>{const d=o.isLimit(l)?null:nAe(c.createPositionAfter(l),o),h=c.createPositionAt(l,0),p=d?c.createPositionAt(d,0):c.createPositionAt(l,"end");c.setSelection(c.createRange(h,p))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,i){const r=i.keyCode,s=this.editor.model,o=s.schema,a=s.document.selection,l=a.getSelectedElement(),c=rv(r,this.editor.locale.contentLanguageDirection),d=c=="down"||c=="right",h=c=="up"||c=="down";if(l&&o.isObject(l)){const b=d?a.getLastPosition():a.getFirstPosition(),_=o.getNearestSelectionRange(b,d?"forward":"backward");_&&(s.change(x=>{x.setSelection(_)}),i.preventDefault(),e.stop());return}if(!a.isCollapsed&&!i.shiftKey){const b=a.getFirstPosition(),_=a.getLastPosition(),x=b.nodeAfter,C=_.nodeBefore;(x&&o.isObject(x)||C&&o.isObject(C))&&(s.change(S=>{S.setSelection(d?_:b)}),i.preventDefault(),e.stop());return}if(!a.isCollapsed)return;const p=this._getObjectElementNextToSelection(d);if(p&&o.isObject(p)){if(o.isInline(p)&&h)return;this._setSelectionOverElement(p),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const r=this.editor.model,s=r.schema,o=r.document.selection.getSelectedElement();o&&s.isObject(o)&&(i.preventDefault(),e.stop())}_handleDelete(e){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(o=>{let a=r.anchor.parent;for(;a.isEmpty;){const l=a;a=l.parent,o.remove(l)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,r=i.schema,s=i.document.selection,o=i.createSelection(s);if(i.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(s))return null;const a=e?o.focus.nodeBefore:o.focus.nodeAfter;return a&&r.isObject(a)?a:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(t8,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,r=this.editor.editing.view.document;for(const s of r.selection.getFirstRange().getItems())if(s.is("editableElement")){const o=e.editing.mapper.toModelElement(s);/* istanbul ignore next -- @preserve */if(!o)continue;const a=e.model.createPositionAt(o,0),l=e.model.schema.getNearestSelectionRange(a,"forward");return e.model.change(c=>{c.setSelection(l)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,a=(s.is("$text")?s.parent:s).findAncestor(In);if(!a)return!1;const l=i.toModelElement(a);/* istanbul ignore next -- @preserve */return l?(e.model.change(c=>{c.setSelection(l,"on")}),!0):!1}}function X3e(n){let t=n;for(;t;){if(t.is("editableElement")||In(t))return t;t=t.parent}return null}function Q3e(n,t){const e=hj(t.domEvent);let i=null;if(e?i=n.domConverter.domRangeToView(e):i=n.createRange(n.createPositionAt(t.target,0)),!i)return null;const r=i.start;if(!r.parent)return null;let s=r.parent;return r.parent.is("editableElement")&&(r.isAtEnd&&r.nodeBefore?s=r.nodeBefore:r.isAtStart&&r.nodeAfter&&(s=r.nodeAfter)),s.is("$text")?s.parent:s}function eAe(n,t){return t?Array.from(n.getAncestors()).includes(t):!1}function tAe(n,t){for(const e of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(e,"$text"))return e;if(t.isLimit(e)&&!t.isObject(e))break}return null}function nAe(n,t){const e=new da({startPosition:n});for(const{item:i}of e){if(t.isLimit(i)||!i.is("element"))return null;if(t.checkChild(i,"$text"))return i}return null}class D1 extends L{constructor(){super(...arguments);g(this,"_toolbarDefinitions",new Map);g(this,"_balloon")}static get requires(){return[Yi]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",r=>{iAe(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:r,getRelatedElement:s,balloonClassName:o="ck-toolbar-container"}){if(!r.length){ht("widget-toolbar-no-items",{toolbarId:e});return}const a=this.editor,l=a.t,c=new Hl(a.locale);if(c.ariaLabel=i||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new M("widget-toolbar-duplicated",this,{toolbarId:e});const d={view:c,getRelatedElement:s,balloonClassName:o,itemsConfig:r,initialized:!1};a.ui.addToolbar(c,{isContextual:!0,beforeFocus:()=>{const h=s(a.editing.view.document.selection);h&&this._showToolbar(d,h)},afterBlur:()=>{this._hideToolbar(d)}}),this._toolbarDefinitions.set(e,d)}_updateToolbarsVisibility(){let e=0,i=null,r=null;for(const s of this._toolbarDefinitions.values()){const o=s.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!o)this._isToolbarInBalloon(s)&&this._hideToolbar(s);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(s)&&this._hideToolbar(s);else{const a=o.getAncestors().length;a>e&&(e=a,i=o,r=s)}}r&&this._showToolbar(r,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?s8(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:p$(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const s=r.getRelatedElement(this.editor.editing.view.document.selection);s8(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function s8(n,t){const e=n.plugins.get("ContextualBalloon"),i=p$(n,t);e.updatePosition(i)}function p$(n,t){const e=n.editing.view,i=ei.defaultPositions;return{target:e.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function iAe(n){const t=n.getSelectedElement();return!!(t&&In(t))}class rAe extends Ot(){constructor(e){super();g(this,"_referenceCoordinates");g(this,"_options");g(this,"_originalWidth");g(this,"_originalHeight");g(this,"_originalWidthPercents");g(this,"_aspectRatio");this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,i,r){const s=new Ye(i);this.activeHandlePosition=aAe(e),this._referenceCoordinates=sAe(i,lAe(this.activeHandlePosition)),this._originalWidth=s.width,this._originalHeight=s.height,this._aspectRatio=s.width/s.height;const o=r.style.width;o&&o.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(o):this._originalWidthPercents=V3e(r,s)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function sAe(n,t){const e=new Ye(n),i=t.split("-"),r={x:i[1]=="right"?e.right:e.left,y:i[0]=="bottom"?e.bottom:e.top};return r.x+=n.ownerDocument.defaultView.scrollX,r.y+=n.ownerDocument.defaultView.scrollY,r}function oAe(n){return`ck-widget__resizer__handle-${n}`}function aAe(n){const t=["top-left","top-right","bottom-right","bottom-left"];for(const e of t)if(n.classList.contains(oAe(e)))return e}function lAe(n){const t=n.split("-"),e={top:"bottom",bottom:"top",left:"right",right:"left"};return`${e[t[0]]}-${e[t[1]]}`}class cAe extends de{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",e=>e?`ck-orientation-${e}`:"")],style:{display:t.if("_isVisible","none",e=>!e)}},children:[{text:t.to("_label")}]})}_bindToState(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",(i,r)=>i!==null&&r!==null),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(i,r,s)=>t.unit==="px"?`${i}${r}`:`${s}%`),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",(i,r,s)=>r<50||s<50?"above-center":i)}_dismiss(){this.unbind(),this._isVisible=!1}}class o8 extends Ot(){constructor(e){super();g(this,"_state");g(this,"_sizeView");g(this,"_options");g(this,"_viewResizerWrapper",null);g(this,"_initialViewWidth");this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(i,r)=>i&&r),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",i=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),i.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(i=>{i.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(i=>{i.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,i=this._options.viewElement;this._options.editor.editing.view.change(s=>{const o=s.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(a){const l=this.toDomElement(a);return e._appendHandles(l),e._appendSizeUI(l),l});s.insert(s.createPositionAt(i,"end"),o),s.addClass("ck-widget_with-resizer",i),this._viewResizerWrapper=o,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new rAe(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const i=this._proposeNewSize(e);this._options.editor.editing.view.change(d=>{const h=this._options.unit||"%",p=(h==="%"?i.widthPercents:i.width)+h;d.setStyle("width",p,this._options.viewElement)});const s=this._getHandleHost(),o=new Ye(s),a=Math.round(o.width),l=Math.round(o.height),c=new Ye(s);i.width=Math.round(c.width),i.height=Math.round(c.height),this.redraw(o),this.state.update({...i,handleHostWidth:a,handleHostHeight:l})}commit(){const e=this._options.unit||"%",i=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(i)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const i=this._domResizerWrapper;if(!fAe(i))return;const r=i.parentElement,s=this._getHandleHost(),o=this._viewResizerWrapper,a=[o.getStyle("width"),o.getStyle("height"),o.getStyle("left"),o.getStyle("top")];let l;if(r.isSameNode(s)){const c=e||new Ye(s);l=[c.width+"px",c.height+"px",void 0,void 0]}else l=[s.offsetWidth+"px",s.offsetHeight+"px",s.offsetLeft+"px",s.offsetTop+"px"];Ri(a,l)!=="same"&&this._options.editor.editing.view.change(c=>{c.setStyle({width:l[0],height:l[1],left:l[2],top:l[3]},o)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(i=>{i.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const i=this.state,r=dAe(e),s=this._options.isCentered?this._options.isCentered(this):!0,o={x:i._referenceCoordinates.x-(r.x+i.originalWidth),y:r.y-i.originalHeight-i._referenceCoordinates.y};s&&i.activeHandlePosition.endsWith("-right")&&(o.x=r.x-(i._referenceCoordinates.x+i.originalWidth)),s&&(o.x*=2);let a=Math.abs(i.originalWidth+o.x),l=Math.abs(i.originalHeight+o.y);return(a/i.aspectRatio>l?"width":"height")=="width"?l=a/i.aspectRatio:a=l*i.aspectRatio,{width:Math.round(a),height:Math.round(l),widthPercents:Math.min(Math.round(i.originalWidthPercents/i.originalWidth*a*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const i=["top-left","top-right","bottom-right","bottom-left"];for(const r of i)e.appendChild(new Wi({tag:"div",attributes:{class:`ck-widget__resizer__handle ${uAe(r)}`}}).render())}_appendSizeUI(e){this._sizeView=new cAe,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function uAe(n){return`ck-widget__resizer__handle-${n}`}function dAe(n){return{x:n.pageX,y:n.pageY}}function fAe(n){return n&&n.ownerDocument&&n.ownerDocument.contains(n)}class Ux extends L{constructor(){super(...arguments);g(this,"_resizers",new Map);g(this,"_observer");g(this,"_redrawSelectedResizerThrottled")}static get pluginName(){return"WidgetResize"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.editing,i=_e.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(uv),this._observer=new(Ji()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(i,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(i,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=au(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[s,o]of this._resizers)s.isAttached()||(this._resizers.delete(s),o.destroy())},{priority:"lowest"}),this._observer.listenTo(_e.window,"resize",this._redrawSelectedResizerThrottled);const r=this.editor.editing.view.document.selection;r.on("change",()=>{const s=r.getSelectedElement(),o=this.getResizerByViewElement(s)||null;o?this.select(o):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const i=new o8(e),r=this.editor.plugins;if(i.attach(),r.has("WidgetToolbarRepository")){const a=r.get("WidgetToolbarRepository");i.on("begin",()=>{a.forceDisabled("resize")},{priority:"lowest"}),i.on("cancel",()=>{a.clearForceDisabled("resize")},{priority:"highest"}),i.on("commit",()=>{a.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,i);const o=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(o)==i&&this.select(i),i}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const i of this._resizers.values())if(i.containsHandle(e))return i}_mouseDownListener(e,i){const r=i.domTarget;o8.isResizeHandle(r)&&(this._activeResizer=this._getResizerByHandle(r)||null,this._activeResizer&&(this._activeResizer.begin(r),e.stop(),i.preventDefault()))}_mouseMoveListener(e,i){this._activeResizer&&this._activeResizer.updateSize(i)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hAe extends de{constructor(e,i){super(e);g(this,"focusTracker",new Pt);g(this,"keystrokes",new jt);g(this,"idInputView");g(this,"buttonView");g(this,"children");g(this,"_validators");g(this,"_focusables",new Hn);g(this,"_focusCycler");const r=e.t;this._validators=i,this.idInputView=this._createIdInput(),this.buttonView=this._createButton(r("Insert"),"ck-button-action ck-button-bold"),this.buttonView.type="submit",this.children=this._createViewChildren(),this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-bookmark-view"];this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}render(){super.render(),za({view:this}),[this.idInputView,this.buttonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.idInputView.errorText=i,!1}return!0}resetFormStatus(){this.idInputView.errorText=null}_createViewChildren(){const e=this.createCollection(),i=this.t;return e.add(new qp(this.locale,{label:i("Bookmark")})),e.add(this._createFormContentView()),e}_createFormContentView(){const e=new de(this.locale),i=this.createCollection(),r=["ck","ck-bookmark-form","ck-responsive-form"];return i.add(this.idInputView),i.add(this.buttonView),e.setTemplate({tag:"div",attributes:{class:r},children:i}),e}_createIdInput(){const e=this.locale.t,i=new xn(this.locale,dr);return i.label=e("Bookmark name"),i.infoText=e("Enter the bookmark name without spaces."),i}_createButton(e,i){const r=new Pe(this.locale);return r.set({label:e,withText:!0}),r.extendTemplate({attributes:{class:i}}),r}get id(){const{element:e}=this.idInputView.fieldView;return e?e.value.trim():null}}class mAe extends de{constructor(e){super(e);g(this,"focusTracker",new Pt);g(this,"keystrokes",new jt);g(this,"bookmarkPreviewView");g(this,"removeButtonView");g(this,"editButtonView");g(this,"_focusables",new Hn);g(this,"_focusCycler");const i=e.t;this.bookmarkPreviewView=this._createBookmarkPreviewView(),this.removeButtonView=this._createButton(i("Remove bookmark"),se.remove,"remove",this.bookmarkPreviewView),this.editButtonView=this._createButton(i("Edit bookmark"),se.pencil,"edit",this.bookmarkPreviewView),this.set("id",void 0),this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-bookmark-actions","ck-responsive-form"],tabindex:"-1"},children:[this.bookmarkPreviewView,this.editButtonView,this.removeButtonView]})}render(){super.render(),[this.editButtonView,this.removeButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,r,s){const o=new Pe(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.delegate("execute").to(this,r),o.labelView.unbind("id"),o.labelView.bind("id").to(o,"ariaLabelledBy",a=>pAe(a)),o.ariaLabelledBy=`${o.ariaLabelledBy} ${s.id}`,o}_createBookmarkPreviewView(){const e=new ur(this.locale);return e.extendTemplate({attributes:{class:["ck","ck-bookmark-actions__preview"]}}),e.bind("text").to(this,"id"),e}}function pAe(n){return n.split(" ")[0]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function g$(n){return!(!n||typeof n!="string"||/\s/.test(n))}class gAe extends je{refresh(){const e=this.editor.model.document.selection,i=this._getPositionToInsertBookmark(e);this.isEnabled=!!i}execute(t){if(!t)return;const{bookmarkId:e}=t;if(!g$(e)){ht("insert-bookmark-command-executed-with-invalid-name");return}const i=this.editor,r=i.model,s=r.document.selection;r.change(o=>{let a=this._getPositionToInsertBookmark(s);if(!r.schema.checkChild(a,"bookmark")){const d=i.execute("insertParagraph",{position:a});if(!d)return;a=d}const c=o.createElement("bookmark",{...Object.fromEntries(s.getAttributes()),bookmarkId:e});r.insertObject(c,a,null,{setSelection:"on"})})}_getPositionToInsertBookmark(t){const e=this.editor.model,i=e.schema,r=t.getFirstRange(),s=r.start;if(Hx(s,i))return s;for(const{previousPosition:o,item:a}of r){if(a.is("element")&&i.checkChild(a,"$text")&&Hx(a,i))return e.createPositionAt(a,0);if(Hx(o,i))return o}return null}}function Hx(n,t){return t.checkChild(n,"bookmark")?!0:t.checkChild(n,"paragraph")?t.checkChild("paragraph","bookmark"):!1}class bAe extends je{refresh(){const e=this.editor.model.document.selection,i=a8(e);this.isEnabled=!!i,this.value=i?i.getAttribute("bookmarkId"):void 0}execute(t){if(!t)return;const{bookmarkId:e}=t;if(!g$(e)){ht("update-bookmark-command-executed-with-invalid-name");return}const i=this.editor.model,r=i.document.selection,s=a8(r);s&&i.change(o=>{o.setAttribute("bookmarkId",e,s)})}}function a8(n){const t=n.getSelectedElement();return t&&t.is("element","bookmark")?t:null}class MT extends L{constructor(){super(...arguments);g(this,"_bookmarkElements",new Map)}static get pluginName(){return"BookmarkEditing"}static get isOfficialPlugin(){return!0}init(){const{editor:e}=this;this._defineSchema(),this._defineConverters(),e.commands.add("insertBookmark",new gAe(e)),e.commands.add("updateBookmark",new bAe(e)),this.listenTo(e.model.document,"change:data",()=>{this._trackBookmarkElements()})}getElementForBookmarkId(e){for(const[i,r]of this._bookmarkElements)if(r==e)return i;return null}_defineSchema(){this.editor.model.schema.register("bookmark",{inheritAllFrom:"$inlineObject",allowAttributes:"bookmarkId",disallowAttributes:["linkHref","htmlA"]})}_defineConverters(){const{editor:e}=this,{conversion:i,t:r}=e;e.data.htmlProcessor.domConverter.registerInlineObjectMatcher(s=>oC(s)),e.editing.view.domConverter.registerInlineObjectMatcher(s=>oC(s,!1)),i.for("dataDowncast").elementToElement({model:{name:"bookmark",attributes:["bookmarkId"]},view:(s,{writer:o})=>o.createEmptyElement("a",{id:s.getAttribute("bookmarkId")})}),i.for("editingDowncast").elementToElement({model:{name:"bookmark",attributes:["bookmarkId"]},view:(s,{writer:o})=>{const a=s.getAttribute("bookmarkId"),l=o.createContainerElement("a",{id:a,class:"ck-bookmark"},[this._createBookmarkUIElement(o)]);return this._bookmarkElements.set(s,a),$a(l,o,{label:()=>`${a} ${r("bookmark widget")}`})}}),i.for("upcast").add(s=>s.on("element:a",wAe(e)))}_createBookmarkUIElement(e){return e.createUIElement("span",{class:"ck-bookmark__icon"},function(i){const r=this.toDomElement(i),s=new Ms;return s.set({content:se.bookmarkInline,isColorInherited:!1}),s.render(),r.appendChild(s.element),r})}_trackBookmarkElements(){this._bookmarkElements.forEach((e,i)=>{i.root.rootName==="$graveyard"&&this._bookmarkElements.delete(i)})}}function oC(n,t=!0){if(!(n.name==="a")||t&&!n.isEmpty)return null;const i=n.hasAttribute("id"),r=n.hasAttribute("name"),s=n.hasAttribute("href");return i&&!s?{name:!0,attributes:["id"]}:r&&!s?{name:!0,attributes:["name"]}:null}function wAe(n){return(t,e,i)=>{const r=e.viewItem,s=oC(r,!1);if(!s||!i.consumable.test(r,s)||!vAe(n)&&!r.isEmpty)return;const a=i.writer,l=r.getAttribute("id"),c=r.getAttribute("name"),d=l||c,h=a.createElement("bookmark",{bookmarkId:d});if(!i.safeInsert(h,e.modelCursor))return;i.consumable.consume(r,s),l===c&&i.consumable.consume(r,{attributes:["name"]}),i.updateConversionResult(h,e);const{modelCursor:p,modelRange:b}=i.convertChildren(r,e.modelCursor);e.modelCursor=p,e.modelRange=a.createRange(e.modelRange.start,b.end)}}function vAe(n){const t=n.config.get("bookmark.enableNonEmptyAnchorConversion");return t!==void 0?t:!0}const eo="bookmark-ui";class yAe extends L{constructor(){super(...arguments);g(this,"actionsView",null);g(this,"formView",null);g(this,"_balloon")}static get requires(){return[MT,Yi]}static get pluginName(){return"BookmarkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.editing.view.addObserver(mz),this._balloon=e.plugins.get(Yi),this._createToolbarBookmarkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:eo,view:{classes:["ck-fake-bookmark-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:eo,view:(i,{writer:r})=>{if(!i.markerRange.isCollapsed)return null;const s=r.createUIElement("span");return r.addClass(["ck-fake-bookmark-selection","ck-fake-bookmark-selection_collapsed"],s),s}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new mAe(e.locale),r=e.commands.get("updateBookmark"),s=e.commands.get("delete");return i.bind("id").to(r,"value"),i.editButtonView.bind("isEnabled").to(r),i.removeButtonView.bind("isEnabled").to(s),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"remove",()=>{this._hideUI(),e.execute("delete")}),i.keystrokes.set("Esc",(o,a)=>{this._hideUI(),a()}),i}_createFormView(){const e=this.editor,i=e.locale,r=e.commands.get("insertBookmark"),s=e.commands.get("updateBookmark"),o=[r,s],a=new(Rf(hAe))(i,_Ae(e));return a.idInputView.fieldView.bind("value").to(s,"value"),a.idInputView.bind("isEnabled").toMany(o,"isEnabled",(...l)=>l.some(c=>c)),a.buttonView.bind("isEnabled").toMany(o,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(a,"submit",()=>{if(a.isValid()){const l=a.id;this._getSelectedBookmarkElement()?e.execute("updateBookmark",{bookmarkId:l}):e.execute("insertBookmark",{bookmarkId:l}),this._closeFormView()}}),this.listenTo(a.idInputView,"change:errorText",()=>{e.ui.update()}),a.keystrokes.set("Esc",(l,c)=>{this._closeFormView(),c()}),a}_createToolbarBookmarkButton(){const e=this.editor;e.ui.componentFactory.add("bookmark",()=>{const i=this._createButton(Pe);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:bookmark",()=>this._createButton(Et))}_createButton(e){const i=this.editor,r=i.locale,s=new e(r),o=i.commands.get("insertBookmark"),a=i.commands.get("updateBookmark"),l=r.t;return s.set({label:l("Bookmark"),icon:se.bookmark}),this.listenTo(s,"execute",()=>this._showUI(!0)),s.bind("isEnabled").toMany([o,a],"isEnabled",(...c)=>c.some(d=>d)),s.bind("isOn").to(a,"value",c=>!!c),s}_enableBalloonActivators(){const i=this.editor.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedBookmarkElement()&&this._showUI()})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),Oo({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_updateFormButtonLabel(e){const i=this.editor.locale.t;this.formView.buttonView.label=i(e?"Update":"Insert")}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("updateBookmark");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.idInputView.fieldView.value=i.value||"",this._balloon.visibleView===this.formView&&this.formView.idInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){this.editor.commands.get("updateBookmark").value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.buttonView.focus(),this.formView.idInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedBookmarkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let r=this._getSelectedBookmarkElement(),s=a();this._updateFormButtonLabel(!!r);const o=()=>{const l=this._getSelectedBookmarkElement(),c=a();r&&!l||!r&&c!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),this._updateFormButtonLabel(!!r),r=l,s=c};function a(){return i.selection.focus.getAncestors().reverse().find(l=>l.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model;let r;const s=this._getSelectedBookmarkElement();if(i.markers.has(eo)){const o=Array.from(this.editor.editing.mapper.markerNameToElements(eo)),a=e.createRange(e.createPositionBefore(o[0]),e.createPositionAfter(o[o.length-1]));r=e.domConverter.viewRangeToDom(a)}else s&&(r=()=>{const o=this.editor.editing.mapper,a=e.domConverter,l=o.toViewElement(s);return a.mapViewToDom(l)});return r&&{target:r}}_getSelectedBookmarkElement(){const i=this.editor.model.document.selection.getSelectedElement();return i&&i.is("element","bookmark")?i:null}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const r=e.document.selection.getFirstRange();if(e.markers.has(eo))i.updateMarker(eo,{range:r});else if(r.start.isAtEnd){const s=r.start.getLastMatchingPosition(({item:o})=>!e.schema.isContent(o),{boundaries:r});i.addMarker(eo,{usingOperation:!1,affectsData:!1,range:i.createRange(s,r.end)})}else i.addMarker(eo,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(eo)&&e.change(i=>{i.removeMarker(eo)})}}function _Ae(n){const{t}=n,e=n.plugins.get(MT);return[i=>{if(!i.id)return t("Bookmark must not be empty.")},i=>{if(i.id&&/\s/.test(i.id))return t("Bookmark name cannot contain space characters.")},i=>{const r=n.model.document.selection.getSelectedElement(),s=e.getElementForBookmarkId(i.id);if(r!==s&&s)return t("Bookmark name already exists.")}]}class xAe extends L{static get pluginName(){return"Bookmark"}static get requires(){return[MT,yAe,Mo]}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sp extends ja{constructor(e){super(e);g(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const i=this.document;this.listenTo(i,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",r("dragging"),{priority:"low"});function r(s){return(o,a)=>{a.preventDefault();const l=a.dropRange?[a.dropRange]:null,c=new Aa(i,s);i.fire(c,{dataTransfer:a.dataTransfer,method:o.name,targetRanges:l,target:a.target,domEvent:a.domEvent}),c.stop.called&&a.stopPropagation()}}}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",s={dataTransfer:new Vj(i,{cacheFiles:r})};if(e.type=="drop"||e.type=="dragover"){const o=hj(e);s.dropRange=o&&this.view.domConverter.domRangeToView(o)}this.fire(e.type,e,s)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function kAe(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function CAe(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length==1?" ":e).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const l8=["figcaption","li"],c8=["ol","ul"];function b$(n){if(n.is("$text")||n.is("$textProxy"))return n.data;if(n.is("element","img")&&n.hasAttribute("alt"))return n.getAttribute("alt");if(n.is("element","br"))return`
`;let t="",e=null;for(const i of n.getChildren())t+=EAe(i,e)+b$(i),e=i;return t}function EAe(n,t){return t?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||c8.includes(n.name)&&c8.includes(t.name)?`

`:!n.is("containerElement")&&!t.is("containerElement")?"":l8.includes(n.name)||l8.includes(t.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class um extends L{constructor(){super(...arguments);g(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,r=s=>s.model.getSelectedContent(s.model.document.selection)){return this.editor.model.change(s=>{const o=s.model.document.selection;s.setSelection(i);const a=this._insertFakeMarkersIntoSelection(s,s.model.document.selection,e),l=r(s),c=this._removeFakeMarkersInsideElement(s,l);for(const[d,h]of Object.entries(a)){c[d]||(c[d]=s.createRangeIn(l));for(const p of h)s.remove(p)}l.markers.clear();for(const[d,h]of Object.entries(c))l.markers.set(d,h);return s.setSelection(o),l})}_pasteMarkersIntoTransformedElement(e,i){const r=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(s=>{const o=this._insertFakeMarkersElements(s,r),a=i(s),l=this._removeFakeMarkersInsideElement(s,a);for(const c of Object.values(o).flat())s.remove(c);for(const[c,d]of Object.entries(l))s.model.markers.has(c)||s.addMarker(c,{usingOperation:!0,affectsData:!0,range:d});return a})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const r of i)e.markers.set(r.name,r.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,r={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const s=this._markersToCopy.get(e);this._markersToCopy.set(e,r),i(),s?this._markersToCopy.set(e,s):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const r=this._getMarkerClipboardConfig(e);if(!r)return!1;if(!i)return!0;const{allowedActions:s}=r;return s==="all"||s.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,r){const s=this._getCopyableMarkersFromSelection(e,i,r);return this._insertFakeMarkersElements(e,s)}_getCopyableMarkersFromSelection(e,i,r){const s=Array.from(i.getRanges()),o=new Set(s.flatMap(l=>Array.from(e.model.markers.getMarkersIntersectingRange(l)))),a=l=>{if(!this._isMarkerCopyable(l.name,r))return!1;const{copyPartiallySelected:d}=this._getMarkerClipboardConfig(l.name);if(!d){const h=l.getRange();return s.some(p=>p.containsRange(h,!0))}return!0};return Array.from(o).filter(a).map(l=>({name:r==="dragstart"?this._getUniqueMarkerName(l.name):l.name,range:l.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:r}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([o,a])=>{if(!this._hasMarkerConfiguration(o))return[{name:o,range:a}];if(this._isMarkerCopyable(o,i)){const l=this._getMarkerClipboardConfig(o),c=r.markers.has(o)&&r.markers.get(o).getRange().root.rootName==="$graveyard";return(l.duplicateOnPaste||c)&&(o=this._getUniqueMarkerName(o)),[{name:o,range:a}]}return[]})}_insertFakeMarkersElements(e,i){const r={},s=i.flatMap(o=>{const{start:a,end:l}=o.range;return[{position:a,marker:o,type:"start"},{position:l,marker:o,type:"end"}]}).sort(({position:o},{position:a})=>o.isBefore(a)?1:-1);for(const{position:o,marker:a,type:l}of s){const c=e.createElement("$marker",{"data-name":a.name,"data-type":l});r[a.name]||(r[a.name]=[]),r[a.name].push(c),e.insert(c,o)}return r}_removeFakeMarkersInsideElement(e,i){const s=this._getAllFakeMarkersFromElement(e,i).reduce((o,a)=>{const l=a.markerElement&&e.createPositionBefore(a.markerElement);let c=o[a.name],d=!1;return c&&c.start&&c.end&&(this._getMarkerClipboardConfig(a.name).duplicateOnPaste?o[this._getUniqueMarkerName(a.name)]=o[a.name]:d=!0,c=null),d||(o[a.name]={...c,[a.type]:l}),a.markerElement&&e.remove(a.markerElement),o},{});return uye(s,o=>new G(o.start||e.createPositionFromPath(i,[0]),o.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const r=Array.from(e.createRangeIn(i)).flatMap(({item:a})=>{if(!a.is("element","$marker"))return[];const l=a.getAttribute("data-name"),c=a.getAttribute("data-type");return[{markerElement:a,name:l,type:c}]}),s=[],o=[];for(const a of r)a.type==="end"&&(r.some(c=>c.name===a.name&&c.type==="start")||s.push({markerElement:null,name:a.name,type:"start"})),a.type==="start"&&(r.some(c=>c.name===a.name&&c.type==="end")||o.unshift({markerElement:null,name:a.name,type:"end"}));return[...s,...r,...o]}_getUniqueMarkerName(e){const i=e.split(":"),r=ii().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${r}`:`${i.join(":")}:${r}`}}class pr extends L{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[um]}init(){this.editor.editing.view.addObserver(sp),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,i){const r=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const s=r._copySelectedFragmentWithMarkers(i,e);this.fire("outputTransformation",{dataTransfer:t,content:s,method:i})})}_setupPasteDrop(){const t=this.editor,e=t.model,i=t.editing.view,r=i.document,s=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(r,"clipboardInput",(o,a)=>{a.method=="paste"&&!t.model.canEditAt(t.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(o,a)=>{const l=a.dataTransfer;let c;if(a.content)c=a.content;else{let h="";l.getData("text/html")?h=CAe(l.getData("text/html")):l.getData("text/plain")&&(h=kAe(l.getData("text/plain"))),c=this.editor.data.htmlProcessor.toView(h)}const d=new Aa(this,"inputTransformation");this.fire(d,{content:c,dataTransfer:l,targetRanges:a.targetRanges,method:a.method}),d.stop.called&&o.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,a)=>{if(a.content.isEmpty)return;const c=this.editor.data.toModel(a.content,"$clipboardHolder");c.childCount!=0&&(o.stop(),e.change(()=>{this.fire("contentInsertion",{content:c,method:a.method,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,a)=>{a.resultRange=s._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,r=t.editing.view.document,s=(o,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,e.selection,o.name)};this.listenTo(r,"copy",s,{priority:"low"}),this.listenTo(r,"cut",(o,a)=>{t.model.canEditAt(t.model.document.selection)?s(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const l=t.data.toView(a.content);r.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",b$(a.content))),a.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}const Wx=Ql("px");class SAe extends de{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",e=>!e)],style:{left:t.to("left",e=>Wx(e)),top:t.to("top",e=>Wx(e)),width:t.to("width",e=>Wx(e))}}})}}class U0 extends L{constructor(){super(...arguments);g(this,"removeDropMarkerDelayed",sT(()=>this.removeDropMarker(),40));g(this,"_updateDropMarkerThrottled",au(e=>this._updateDropMarker(e),40));g(this,"_reconvertMarkerThrottled",au(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0));g(this,"_dropTargetLineView",new SAe);g(this,"_domEmitter",new(Ji()));g(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,r,s,o,a){this.removeDropMarkerDelayed.cancel();const l=u8(this.editor,e,i,r,s,o,a);/* istanbul ignore next -- @preserve */if(l){if(a&&a.containsRange(l))return this.removeDropMarker();this._updateDropMarkerThrottled(l)}}getFinalDropRange(e,i,r,s,o,a){const l=u8(this.editor,e,i,r,s,o,a);return this.removeDropMarker(),l}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:r})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,r=i.model.markers;i.model.change(s=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const r=this.toDomElement(i);return r.append("",i.createElement("span"),""),r})}_updateDropTargetLine(e){const i=this.editor.editing,r=e.start.nodeBefore,s=e.start.nodeAfter,o=e.start.parent,a=r?i.mapper.toViewElement(r):null,l=a?i.view.domConverter.mapViewToDom(a):null,c=s?i.mapper.toViewElement(s):null,d=c?i.view.domConverter.mapViewToDom(c):null,h=i.mapper.toViewElement(o);if(!h)return;const p=i.view.domConverter.mapViewToDom(h),b=this._getScrollableRect(h),{scrollX:_,scrollY:x}=_e.window,C=l?new Ye(l):null,S=d?new Ye(d):null,T=new Ye(p).excludeScrollbarsAndBorders(),A=C?C.bottom:T.top,P=S?S.top:T.bottom,O=_e.window.getComputedStyle(p),D=A<=P?(A+P)/2:P;if(b.top<D&&D<b.bottom){const R=T.left+parseFloat(O.paddingLeft),j=T.right-parseFloat(O.paddingRight),$=Math.max(R+_,b.left),Z=Math.min(j+_,b.right);this._dropTargetLineView.set({isVisible:!0,left:$,top:D+x,width:Z-$})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let r;if(this._scrollables.has(i))r=this._scrollables.get(i).domElement;else{const s=this.editor.editing.view.domConverter.mapViewToDom(e);r=AAe(s),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const o=new Up(r,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:r,resizeObserver:o})}return new Ye(r).excludeScrollbarsAndBorders()}}function u8(n,t,e,i,r,s,o){const a=n.model,l=n.editing.mapper;let d=d8(n,t);for(;d;){if(!s){if(a.schema.checkChild(d,"$text")){if(e){const h=e[0].start,p=l.toModelPosition(h);if(!o||Array.from(o.getItems({shallow:!0})).every(_=>a.schema.checkChild(p,_))){if(a.schema.checkChild(p,"$text"))return a.createRange(p);if(h)return H0(n,d8(n,h.parent),i,r)}}}else if(a.schema.isInline(d))return H0(n,d,i,r)}if(a.schema.isBlock(d))return H0(n,d,i,r);if(a.schema.checkChild(d,"$block")){const h=Array.from(d.getChildren()).filter(_=>_.is("element")&&!TAe(n,_));let p=0,b=h.length;if(b==0)return a.createRange(a.createPositionAt(d,"end"));for(;p<b-1;){const _=Math.floor((p+b)/2);w$(n,h[_],i,r)=="before"?b=_:p=_}return H0(n,h[p],i,r)}d=d.parent}return null}function TAe(n,t){const e=n.editing.mapper,i=n.editing.view.domConverter,r=e.toViewElement(t);if(!r)return!0;const s=i.mapViewToDom(r);return _e.window.getComputedStyle(s).float!="none"}function H0(n,t,e,i){const r=n.model;return r.createRange(r.createPositionAt(t,w$(n,t,e,i)))}function w$(n,t,e,i){const r=n.editing.mapper,s=n.editing.view.domConverter,o=r.toViewElement(t),a=s.mapViewToDom(o),l=new Ye(a);return n.model.schema.isInline(t)?e<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function d8(n,t){const e=n.editing.mapper,i=n.editing.view,r=e.toModelElement(t);if(r)return r;const s=i.createPositionBefore(t),o=e.findMappedViewAncestor(s);return e.toModelElement(o)}function AAe(n){let t=n;do{t=t.parentElement;const e=_e.window.getComputedStyle(t).overflowY;if(e=="auto"||e=="scroll")break}while(t.tagName!="BODY");return t}class IAe extends L{constructor(){super(...arguments);g(this,"_isBlockDragging",!1);g(this,"_domEmitter",new(Ji()))}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,r,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),qe.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const r=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(s,o)=>this._handleBlockDragStart(o)),this._domEmitter.listenTo(_e.document,"dragover",(s,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(_e.document,"drop",(s,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(_e.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(s,o,a)=>{r.setAttribute("draggable",a?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,r=i.document.selection,s=this.editor.editing.view,o=Array.from(r.getSelectedBlocks()),a=i.createRange(i.createPositionBefore(o[0]),i.createPositionAfter(o[o.length-1]));i.change(l=>l.setSelection(a)),this._isBlockDragging=!0,s.focus(),s.getObserver(sp).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,s=document.elementFromPoint(i,r),o=this.editor.editing.view;!s||!s.closest(".ck-editor__editable")||o.getObserver(sp).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:i,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class PAe extends L{constructor(){super(...arguments);g(this,"_draggedRange");g(this,"_draggingUid");g(this,"_draggableElement");g(this,"_clearDraggableAttributesDelayed",sT(()=>this._clearDraggableAttributes(),40));g(this,"_blockMode",!1);g(this,"_domEmitter",new(Ji()));g(this,"_previewContainer")}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[pr,Mo,U0,IAe]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(sp),i.addObserver(uv),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,s,o)=>{o?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,s,o)=>{o||this._finalizeDragging(!1)}),qe.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,r=e.editing.view,s=r.document,o=e.plugins.get(U0);this.listenTo(s,"dragstart",(a,l)=>{if(l.target&&l.target.is("editableElement")){l.preventDefault();return}if(this._prepareDraggedRange(l.target),!this._draggedRange){l.preventDefault();return}this._draggingUid=ii(),l.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",l.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const c=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(l.dataTransfer,c,"dragstart");const{dataTransfer:h,domTarget:p,domEvent:b}=l,{clientX:_}=b;this._updatePreview({dataTransfer:h,domTarget:p,clientX:_}),l.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(a,l)=>{this._finalizeDragging(!l.dataTransfer.isCanceled&&l.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(_e.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(s,"dragleave",()=>{o.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(a,l)=>{if(!this.isEnabled){l.dataTransfer.dropEffect="none";return}const{clientX:c,clientY:d}=l.domEvent;o.updateDropMarker(l.target,l.targetRanges,c,d,this._blockMode,this._draggedRange),this._draggedRange||(l.dataTransfer.dropEffect="copy"),qe.isGecko||(l.dataTransfer.effectAllowed=="copy"?l.dataTransfer.dropEffect="copy":["all","copyMove"].includes(l.dataTransfer.effectAllowed)&&(l.dataTransfer.dropEffect="move")),a.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document,s=e.plugins.get(U0);this.listenTo(r,"clipboardInput",(o,a)=>{if(a.method!="drop")return;const{clientX:l,clientY:c}=a.domEvent,d=s.getFinalDropRange(a.target,a.targetRanges,l,c,this._blockMode,this._draggedRange);if(!d){this._finalizeDragging(!1),o.stop();return}if(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),f8(a.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(d,!0)){this._finalizeDragging(!1),o.stop();return}a.targetRanges=[e.editing.mapper.toViewRange(d)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(pr);e.on("contentInsertion",(i,r)=>{if(!this.isEnabled||r.method!=="drop")return;const s=r.targetRanges.map(o=>this.editor.editing.mapper.toModelRange(o));this.editor.model.change(o=>o.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(i,r)=>{if(!this.isEnabled||r.method!=="drop")return;const s=f8(r.dataTransfer)=="move",o=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(o&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,r=i.document;this.listenTo(r,"mousedown",(s,o)=>{if(qe.isAndroid||!o)return;this._clearDraggableAttributesDelayed.cancel();let a=h8(o.target);if(qe.isBlink&&!e.isReadOnly&&!a&&!r.selection.isCollapsed){const l=r.selection.getSelectedElement();(!l||!In(l))&&(a=r.selection.editableElement)}a&&(i.change(l=>{l.setAttribute("draggable","true",a)}),this._draggableElement=e.editing.mapper.toModelElement(a))}),this.listenTo(r,"mouseup",()=>{qe.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,r=i.model;i.plugins.get(U0).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(o=>{const a=r.createSelection(this._draggedRange);r.deleteContent(a,{doNotAutoparagraph:!0});const l=a.getFirstPosition().parent;l.isEmpty&&!r.schema.checkChild(l,"$text")&&r.schema.checkChild(l,"paragraph")&&o.insertElement("paragraph",l,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,r=i.model,s=r.document.selection,o=e?h8(e):null;if(o){const d=i.editing.mapper.toModelElement(o);this._draggedRange=Ui.fromRange(r.createRangeOn(d)),this._blockMode=r.schema.isBlock(d),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const a=Array.from(s.getSelectedBlocks()),l=s.getFirstRange();if(a.length==0){this._draggedRange=Ui.fromRange(l);return}const c=v$(r,a);if(a.length>1)this._draggedRange=Ui.fromRange(c),this._blockMode=!0;else if(a.length==1){const d=l.start.isTouching(c.start)&&l.end.isTouching(c.end);this._draggedRange=Ui.fromRange(d?c:l),this._blockMode=d}r.change(d=>d.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:r}){const s=this.editor.editing.view,o=s.document.selection.editableElement,a=s.domConverter.mapViewToDom(o),l=_e.window.getComputedStyle(a);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=di(_e.document,"div",{style:"position: fixed; left: -999999px;"}),_e.document.body.appendChild(this._previewContainer));const c=new Ye(a);if(a.contains(i))return;const d=parseFloat(l.paddingLeft),h=di(_e.document,"div");h.className="ck ck-content",h.style.width=l.width,h.style.paddingLeft=`${c.left-r+d}px`,qe.isiOS&&(h.style.backgroundColor="white"),s.domConverter.setContentOf(h,e.getData("text/html")),e.setDragImage(h,0,0),this._previewContainer.appendChild(h)}}function f8(n){return qe.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function h8(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(In);if(In(n))return n;const t=n.findAncestor(e=>In(e)||e.is("editableElement"));return In(t)?t:null}function v$(n,t){const e=t[0],i=t[t.length-1],r=e.getCommonAncestor(i),s=n.createPositionBefore(e),o=n.createPositionAfter(i);if(r&&r.is("element")&&!n.schema.isLimit(r)){const a=n.createRangeOn(r),l=s.isTouching(a.start),c=o.isTouching(a.end);if(l&&c)return v$(n,[r])}return n.createRange(s,o)}class RAe extends L{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[pr]}init(){const t=this.editor,e=t.model,i=t.editing.view,r=e.document.selection;i.addObserver(sp),t.plugins.get(pr).on("contentInsertion",(s,o)=>{OAe(o.content,e)&&e.change(a=>{const l=Array.from(r.getAttributes()).filter(([d])=>e.schema.getAttributeProperties(d).isFormatting);r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0}),l.push(...r.getAttributes());const c=a.createRangeIn(o.content);for(const d of c.getItems())for(const h of l)e.schema.checkAttribute(d,h[0])&&a.setAttribute(h[0],h[1],d)})})}}function OAe(n,t){let e=t.createRangeIn(n);if(n.childCount==1){const i=n.getChild(0);i.is("element")&&t.schema.isBlock(i)&&!t.schema.isObject(i)&&!t.schema.isLimit(i)&&(e=t.createRangeIn(i))}for(const i of e.getItems())if(!t.schema.isInline(i)||Array.from(i.getAttributeKeys()).find(s=>t.schema.getAttributeProperties(s).isFormatting))return!1;return!0}class DT extends L{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[um,pr,PAe,RAe]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const NAe={autoRefresh:!0},m8=36e5,MAe=5e3;class LT extends Ot(){constructor(e,i={}){super();g(this,"_refresh");g(this,"_options");g(this,"_tokenRefreshTimeout");g(this,"_isDestroyed",!1);if(!e)throw new M("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),typeof e=="function"?this._refresh=e:this._refresh=()=>DAe(e),this._options={...NAe,...i}}init(){return new Promise((e,i)=>{if(!this.value){this.refreshToken().then(e).catch(i);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)})}refreshToken(){const e=this._options.autoRefresh;return this._refresh().then(i=>(this._validateTokenValue(i),this.set("value",i),e&&this._registerRefreshTokenTimeout(),this)).catch(i=>{throw ht("token-refresh-failed",{autoRefresh:e}),e&&this._registerRefreshTokenTimeout(MAe),i})}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",r=!/^".*"$/.test(e),s=i&&e.split(".").length===3;if(!(r&&s))throw new M("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(e){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const i=e||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},i)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((i*1e3-Date.now())/2):m8}catch{return m8}}static create(e,i={}){return new LT(e,i).init()}}function DAe(n){return new Promise((t,e)=>{const i=new XMLHttpRequest;i.open("GET",n),i.addEventListener("load",()=>{const r=i.status,s=i.response;return r<200||r>299?e(new M("token-cannot-download-new-token",null)):t(s)}),i.addEventListener("error",()=>e(new Error("Network Error"))),i.addEventListener("abort",()=>e(new Error("Abort"))),i.send()})}const aC=/^data:(\S*?);base64,/;class LAe extends $t(){constructor(e,i,r){super();g(this,"file");g(this,"xhr");g(this,"_token");g(this,"_apiAddress");if(!e)throw new M("fileuploader-missing-file",null);if(!i)throw new M("fileuploader-missing-token",null);if(!r)throw new M("fileuploader-missing-api-address",null);this.file=FAe(e)?VAe(e):e,this._token=i,this._apiAddress=r}onProgress(e){return this.on("progress",(i,r)=>e(r)),this}onError(e){return this.once("error",(i,r)=>e(r)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=r=>()=>this.fire("error",r);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort"));/* istanbul ignore else -- @preserve */e.upload&&e.upload.addEventListener("progress",r=>{r.lengthComputable&&this.fire("progress",{total:r.total,uploaded:r.loaded})}),e.addEventListener("load",()=>{const r=e.status,s=e.response;if(r<200||r>299)return this.fire("error",s.message||s.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((r,s)=>{i.addEventListener("load",()=>{const o=i.status,a=i.response;return o<200||o>299?a.message?s(new M("fileuploader-uploading-data-failed",this,{message:a.message})):s(a.error):r(a)}),i.addEventListener("error",()=>s(new Error("Network Error"))),i.addEventListener("abort",()=>s(new Error("Abort"))),i.send(e)})}}function VAe(n,t=512){try{const e=n.match(aC)[1],i=atob(n.replace(aC,"")),r=[];for(let s=0;s<i.length;s+=t){const o=i.slice(s,s+t),a=new Array(o.length);for(let l=0;l<o.length;l++)a[l]=o.charCodeAt(l);r.push(new Uint8Array(a))}return new Blob(r,{type:e})}catch{throw new M("fileuploader-decoding-image-data-error",null)}}function FAe(n){if(typeof n!="string")return!1;const t=n.match(aC);return!!(t&&t.length)}class BAe{constructor(t,e){g(this,"_token");g(this,"_apiAddress");if(!t)throw new M("uploadgateway-missing-token",null);if(!e)throw new M("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new LAe(t,this._token,this._apiAddress)}}class jAe extends fv{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(t,e){return new LT(t,e)}createUploadGateway(t,e){return new BAe(t,e)}}class zAe extends fv{constructor(){super(...arguments);g(this,"tokenUrl");g(this,"uploadUrl");g(this,"webSocketUrl");g(this,"bundleVersion");g(this,"token",null);g(this,"_tokens",new Map)}static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[jAe]}async init(){const i=this.context.config.get("cloudServices")||{};for(const[s,o]of Object.entries(i))this[s]=o;if(!this.tokenUrl){this.token=null;return}const r=this.context.plugins.get("CloudServicesCore");this.token=await r.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const r=await this.context.plugins.get("CloudServicesCore").createToken(e).init();return this._tokens.set(e,r),r}getTokenFor(e){const i=this._tokens.get(e);if(!i)throw new M("cloudservices-token-not-registered",this);return i}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function L1(n){const t=n.t,e=n.config.get("codeBlock.languages");for(const i of e)i.label==="Plain text"&&(i.label=t("Plain text")),i.class===void 0&&(i.class=`language-${i.language}`);return e}function V1(n,t,e){const i={};for(const r of n)if(t==="class"){const s=r[t].split(" ").shift();i[s]=r[e]}else i[r[t]]=r[e];return i}function VT(n){return n.data.match(/^(\s*)/)[0]}function $Ae(n,t){const e=n.createDocumentFragment(),i=t.split(`
`),r=i.reduce((s,o,a)=>(s.push(o),a<i.length-1&&s.push(n.createElement("br")),s),[]);return n.appendChild(r,e),e}function lC(n){const t=n.document.selection,e=[];if(t.isCollapsed)return[t.anchor];const i=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:r}of i){let s=r.is("$textProxy")?r.textNode:r;const o=s.parent;if(!o.is("element","codeBlock")||s.is("element","softBreak"))continue;for(;s.previousSibling&&!s.previousSibling.is("element","softBreak");)s=s.previousSibling;const a=s.is("$text")?s.startOffset+VT(s).length:s.startOffset,l=n.createPositionAt(o,a);e.every(c=>!c.isEqual(l))&&e.push(l)}return e}function y$(n){const t=Ut(n.getSelectedBlocks());return!!t&&t.is("element","codeBlock")}function p8(n,t){return t.is("rootElement")||n.isLimit(t)?!1:n.checkChild(t.parent,"codeBlock")}function g8(n,t,e,i){const r=V1(t,"language","label"),s=e.getAttribute("language");if(s in r){const o=r[s];return n(i==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",o)}return n(i==="enter"?"Entering code snippet":"Leaving code snippet")}function _$(n,t){for(n.textNode&&(n=t.createPositionBefore(n.textNode));n.nodeBefore&&!n.nodeBefore.is("element","softBreak");)n=t.createPositionBefore(n.nodeBefore);const e=n.nodeAfter;return e&&e.is("$text")?e:null}class UAe extends je{constructor(e){super(e);g(this,"_lastLanguage");this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor,r=i.model,s=r.document.selection,a=L1(i)[0],l=Array.from(s.getSelectedBlocks()),c=e.forceValue==null?!this.value:e.forceValue,d=HAe(e,this._lastLanguage,a.language);r.change(h=>{c?this._applyCodeBlock(h,l,d):this._removeCodeBlock(h,l)})}_getValue(){const e=this.editor.model.document.selection,i=Ut(e.getSelectedBlocks());return!!(i&&i.is("element","codeBlock"))?i.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,r=Ut(e.getSelectedBlocks());return r?p8(i,r):!1}_applyCodeBlock(e,i,r){this._lastLanguage=r;const s=this.editor.model.schema,o=i.filter(a=>p8(s,a));for(const a of o)e.rename(a,"codeBlock"),e.setAttribute("language",r,a),s.removeDisallowedAttributes([a],e),Array.from(a.getChildren()).filter(l=>!s.checkChild(a,l)).forEach(l=>e.remove(l));o.reverse().forEach((a,l)=>{const c=o[l+1];a.previousSibling===c&&(e.appendElement("softBreak",c),e.merge(e.createPositionBefore(a)))})}_removeCodeBlock(e,i){const r=i.filter(s=>s.is("element","codeBlock"));for(const s of r){const o=e.createRangeOn(s);for(const a of Array.from(o.getItems()).reverse())if(a.is("element","softBreak")&&a.parent.is("element","codeBlock")){const{position:l}=e.split(e.createPositionBefore(a)),c=l.nodeAfter;e.rename(c,"paragraph"),e.removeAttribute("language",c),e.remove(a)}e.rename(s,"paragraph"),e.removeAttribute("language",s)}}}function HAe(n,t,e){return n.language?n.language:n.usePreviousLanguageChoice&&t?t:e}class WAe extends je{constructor(e){super(e);g(this,"_indentSequence");this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(r=>{const s=lC(i);for(const o of s){const a=r.createText(this._indentSequence);i.insertContent(a,o)}})}_checkEnabled(){return this._indentSequence?y$(this.editor.model.document.selection):!1}}class qAe extends je{constructor(e){super(e);g(this,"_indentSequence");this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(()=>{const r=lC(i);for(const s of r){const o=b8(i,s,this._indentSequence);o&&i.deleteContent(i.createSelection(o))}})}_checkEnabled(){if(!this._indentSequence)return!1;const e=this.editor.model;return y$(e.document.selection)?lC(e).some(i=>b8(e,i,this._indentSequence)):!1}}function b8(n,t,e){const i=_$(t,n);if(!i)return null;const r=VT(i),s=r.lastIndexOf(e);if(s+e.length!==r.length||s===-1)return null;const{parent:o,startOffset:a}=i;return n.createRange(n.createPositionAt(o,a+s),n.createPositionAt(o,a+s+e.length))}function w8(n,t,e=!1){const i=V1(t,"language","class"),r=V1(t,"language","label");return(s,o,a)=>{const{writer:l,mapper:c,consumable:d}=a;if(!d.consume(o.item,"insert"))return;const h=o.item.getAttribute("language"),p=c.toViewPosition(n.createPositionBefore(o.item)),b={};e&&(b["data-language"]=r[h],b.spellcheck="false");const _=i[h]?{class:i[h]}:void 0,x=l.createContainerElement("code",_),C=l.createContainerElement("pre",b,x);l.insert(p,C),c.bindElements(o.item,x)}}function GAe(n){return(t,e,i)=>{if(e.item.parent.name!=="codeBlock")return;const{writer:r,mapper:s,consumable:o}=i;if(!o.consume(e.item,"insert"))return;const a=s.toViewPosition(n.createPositionBefore(e.item));r.insert(a,r.createText(`
`))}}function KAe(n,t){const e=V1(t,"class","language"),i=t[0].language;return(r,s,o)=>{const a=s.viewItem,l=a.parent;if(!l||!l.is("element","pre")||s.modelCursor.findAncestor("codeBlock"))return;const{consumable:c,writer:d}=o;if(!c.test(a,{name:!0}))return;const h=d.createElement("codeBlock"),p=[...a.getClassNames()];p.length||p.push("");for(const b of p){const _=e[b];if(_){d.setAttribute("language",_,h);break}}h.hasAttribute("language")||d.setAttribute("language",i,h),o.convertChildren(a,h),o.safeInsert(h,s.modelCursor)&&(c.consume(a,{name:!0}),o.updateConversionResult(h,s))}}function YAe(){return(n,t,{consumable:e,writer:i})=>{let r=t.modelCursor;if(!e.test(t.viewItem)||!r.findAncestor("codeBlock"))return;e.consume(t.viewItem);const o=t.viewItem.data.split(`
`).map(l=>i.createText(l)),a=o[o.length-1];for(const l of o)if(i.insert(l,r),r=r.getShiftedBy(l.offsetSize),l!==a){const c=i.createElement("softBreak");i.insert(c,r),r=i.createPositionAfter(c)}t.modelRange=i.createRange(t.modelCursor,r),t.modelCursor=r}}function ZAe(){return(n,t,{consumable:e})=>{const i=t.viewItem;if(i.findAncestor("pre"))return;const r=Array.from(i.getChildren()),s=r.find(o=>o.is("element","code"));if(s)for(const o of r)o===s||!o.is("$text")||e.consume(o,{name:!0})}}const x$="paragraph";class JAe extends L{static get pluginName(){return"CodeBlockEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[f$]}constructor(t){super(t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const t=this.editor,e=t.model.schema,i=t.model,r=t.editing.view,s=L1(t);t.commands.add("codeBlock",new UAe(t)),t.commands.add("indentCodeBlock",new WAe(t)),t.commands.add("outdentCodeBlock",new qAe(t)),this.listenTo(r.document,"tab",(o,a)=>{const l=a.shiftKey?"outdentCodeBlock":"indentCodeBlock";t.commands.get(l).isEnabled&&(t.execute(l),a.stopPropagation(),a.preventDefault(),o.stop())},{context:"pre"}),e.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),e.addAttributeCheck((o,a)=>{const l=o.getItem(o.length-2);if(e.getAttributeProperties(a).isFormatting&&l&&l.name=="codeBlock")return!1}),t.editing.downcastDispatcher.on("insert:codeBlock",w8(i,s,!0)),t.data.downcastDispatcher.on("insert:codeBlock",w8(i,s)),t.data.downcastDispatcher.on("insert:softBreak",GAe(i),{priority:"high"}),t.data.upcastDispatcher.on("element:code",KAe(r,s)),t.data.upcastDispatcher.on("text",YAe()),t.data.upcastDispatcher.on("element:pre",ZAe(),{priority:"high"}),this.listenTo(t.editing.view.document,"clipboardInput",(o,a)=>{let l=i.createRange(i.document.selection.anchor);if(a.targetRanges&&(l=t.editing.mapper.toModelRange(a.targetRanges[0])),!l.start.parent.is("element","codeBlock"))return;const c=a.dataTransfer.getData("text/plain"),d=new Fr(t.editing.view.document);a.content=$Ae(d,c)}),t.plugins.has("ClipboardPipeline")&&t.plugins.get(pr).on("contentInsertion",(o,a)=>{const l=t.model,c=l.document.selection;c.anchor.parent.is("element","codeBlock")&&l.change(d=>{const h=d.createRangeIn(a.content);for(const p of[...h.getItems()])p.is("node")&&!e.checkChild(c.anchor,p)&&d.remove(p)})}),this.listenTo(i,"getSelectedContent",(o,[a])=>{const l=a.anchor;a.isCollapsed||!l.parent.is("element","codeBlock")||!l.hasSameParentAs(a.focus)||i.change(c=>{const d=o.return;if(l.parent.is("element")&&(d.childCount>1||a.containsEntireContent(l.parent))){const p=c.createElement("codeBlock",l.parent.getAttributes());c.append(d,p);const b=c.createDocumentFragment();c.append(p,b),o.return=b;return}const h=d.getChild(0);e.checkAttribute(h,"code")&&c.setAttribute("code",!0,h)})})}afterInit(){const t=this.editor,e=t.commands,i=e.get("indent"),r=e.get("outdent");i&&i.registerChildCommand(e.get("indentCodeBlock"),{priority:"highest"}),r&&r.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",(s,o)=>{t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!QAe(t,o.isSoft)&&!eIe(t,o.isSoft)&&XAe(t),o.preventDefault(),s.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor,r=L1(this.editor);let s=null;t.document.selection.on("change:range",()=>{const o=t.document.selection.focus.parent;!e||s===o||!o.is("element")||(s&&s.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(g8(i,r,s,"leave")),o.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(g8(i,r,o,"enter")),s=o)})}}function XAe(n){const t=n.model,e=t.document,i=e.selection.getLastPosition();let r;const s=_$(i,t);s&&s.is("$text")&&(r=VT(s)),n.model.change(o=>{n.execute("shiftEnter"),r&&o.insertText(r,e.selection.anchor)})}function QAe(n,t){const i=n.model.document,r=n.editing.view,s=i.selection.getLastPosition(),o=s.nodeAfter;return t||!i.selection.isCollapsed||!s.isAtStart||!Oc(o)?!1:(n.model.change(a=>{n.execute("enter");const l=i.selection.anchor.parent.previousSibling;a.rename(l,x$),a.setSelection(l,"in"),n.model.schema.removeDisallowedAttributes([l],a),a.remove(o)}),r.scrollToTheSelection(),!0)}function eIe(n,t){const e=n.model,i=e.document,r=n.editing.view,s=i.selection.getLastPosition(),o=s.nodeBefore;let a;if(t||!i.selection.isCollapsed||!s.isAtEnd||!o||!o.previousSibling)return!1;if(Oc(o)&&Oc(o.previousSibling))a=e.createRange(e.createPositionBefore(o.previousSibling),e.createPositionAfter(o));else if(qx(o)&&Oc(o.previousSibling)&&Oc(o.previousSibling.previousSibling))a=e.createRange(e.createPositionBefore(o.previousSibling.previousSibling),e.createPositionAfter(o));else if(qx(o)&&Oc(o.previousSibling)&&qx(o.previousSibling.previousSibling)&&o.previousSibling.previousSibling&&Oc(o.previousSibling.previousSibling.previousSibling))a=e.createRange(e.createPositionBefore(o.previousSibling.previousSibling.previousSibling),e.createPositionAfter(o));else return!1;return n.model.change(l=>{l.remove(a),n.execute("enter");const c=i.selection.anchor.parent;l.rename(c,x$),n.model.schema.removeDisallowedAttributes([c],l)}),r.scrollToTheSelection(),!0}function qx(n){return n&&n.is("$text")&&!n.data.match(/\S/)}function Oc(n){return n&&n.is("element","softBreak")}class tIe extends L{static get pluginName(){return"CodeBlockUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=t.ui.componentFactory,r=L1(t),s=this._getLanguageListItemDefinitions(r),o=t.commands.get("codeBlock");i.add("codeBlock",a=>{const l=zn(a,Cu),c=l.buttonView,d=e("Insert code block");return c.set({label:d,tooltip:!0,icon:se.codeBlock,isToggleable:!0}),c.bind("isOn").to(o,"value",h=>!!h),c.on("execute",()=>{t.execute("codeBlock",{usePreviousLanguageChoice:!0}),t.editing.view.focus()}),l.on("execute",h=>{t.execute("codeBlock",{language:h.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(o),No(l,s,{role:"menu",ariaLabel:d}),l}),i.add("menuBar:codeBlock",a=>{const l=new Mi(a);l.buttonView.set({role:"menuitem",label:e("Code block"),icon:se.codeBlock}),l.bind("isEnabled").to(o);const c=new xo(a);c.set({ariaLabel:e("Insert code block")});for(const d of s){const h=new Ds(a,l),p=new Et(a);p.bind(...Object.keys(d.model)).to(d.model),p.set({isToggleable:!0,role:"menuitemcheckbox"}),p.delegate("execute").to(l),p.on("execute",()=>{t.execute("codeBlock",{language:d.model._codeBlockLanguage,forceValue:o.value!=d.model._codeBlockLanguage}),t.editing.view.focus()}),h.children.add(p),c.items.add(h)}return l.panelView.children.add(c),l})}_getLanguageListItemDefinitions(t){const i=this.editor.commands.get("codeBlock"),r=new Sn;for(const s of t){const o={type:"button",model:new Ls({_codeBlockLanguage:s.language,label:s.label,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(i,"value",a=>a===o.model._codeBlockLanguage),r.add(o)}return r}}class nIe extends L{static get requires(){return[JAe,tIe]}static get pluginName(){return"CodeBlock"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iIe extends ZTe{constructor(e,i){super(e);g(this,"view");g(this,"_toolbarConfig");g(this,"_elementReplacer");this.view=i,this._toolbarConfig=pv(e.config.get("toolbar")),this._elementReplacer=new aj,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,r=this.view,s=i.editing.view,o=r.editable,a=s.document.getRoot();o.name=a.rootName,r.render();const l=o.element;this.setEditableElement(o.name,l),r.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(l),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),r.menuBarView&&this._initMenuBar(r.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.getDomRoot(e.editable.name)&&i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,r=i.document.getRoot(),s=e.sourceElement;let o;const a=e.config.get("placeholder");a&&(o=typeof a=="string"?a:a[this.view.editable.name]),!o&&s&&s.tagName.toLowerCase()==="textarea"&&(o=s.getAttribute("placeholder")),o&&(r.placeholder=o),sv({view:i,element:r,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,i=this.editor.plugins.get("ContextualBalloon");i.on("getPositionOptions",s=>{const o=s.return;if(!o||!e.isSticky||!e.element)return;const a=new Ye(e.element).height,l=typeof o.target=="function"?o.target():o.target,c=typeof o.limiter=="function"?o.limiter():o.limiter;if(l&&c&&new Ye(l).height>=new Ye(c).height-a)return;const d={...o.viewportOffsetConfig},h=(d.top||0)+a;s.return={...o,viewportOffsetConfig:{...d,top:h}}},{priority:"low"});const r=()=>{i.visibleView&&i.updatePosition()};this.listenTo(e,"change:isSticky",r),this.listenTo(this.editor.ui,"change:viewportOffset",r)}_handleScrollToTheSelectionWithStickyPanel(e,i,r){const s=this.view.stickyPanel;if(s.isSticky){const o=new Ye(s.element).height;i.viewportOffset.top+=o}else{const o=()=>{this.editor.editing.view.scrollToTheSelection(r)};this.listenTo(s,"change:isSticky",o),setTimeout(()=>{this.stopListening(s,"change:isSticky",o)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const r=i.view;r.on("moveTo",(s,o)=>{if(!e.isSticky||r.wasMoved||r.isModal)return;const a=new Ye(e.contentPanelElement);o[1]<a.bottom+np.defaultOffset&&(o[1]=a.bottom+np.defaultOffset)},{priority:"high"})},{priority:"low"})}}class rIe extends XTe{constructor(e,i,r={}){super(e);g(this,"stickyPanel");g(this,"toolbar");g(this,"editable");this.stickyPanel=new i5e(e),this.toolbar=new Hl(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),r.useMenuBar&&(this.menuBarView=new f5e(e)),this.editable=new e5e(e,i,void 0,{label:r.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class sIe extends Jk(BCe){constructor(e,i={}){if(!_b(e)&&i.initialData!==void 0)throw new M("editor-create-initial-data",null);super(i);g(this,"ui");this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",oIe(e)),_b(e)&&(this.sourceElement=e),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=this.config.get("menuBar"),o=new rIe(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:r,useMenuBar:s.isVisible,label:this.config.get("label")});this.ui=new iIe(this,o),zCe(this)}static get editorName(){return"ClassicEditor"}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(r=>{const s=new this(e,i);r(s.initPlugins().then(()=>s.ui.init(_b(e)?e:null)).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}function oIe(n){return _b(n)?Kye(n):n}function _b(n){return Ta(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aIe extends je{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let i=t.schema.getLimitElement(e);if(e.containsEntireContent(i)||!v8(t.schema,i))do if(i=i.parent,!i)return;while(!v8(t.schema,i));t.change(r=>{r.setSelection(i,"in")})}}function v8(n,t){return n.isLimit(t)&&(n.checkChild(t,"$text")||n.checkChild(t,"paragraph"))}const lIe=iv("Ctrl+A");class cIe extends L{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,r=t.editing.view.document;t.commands.add("selectAll",new aIe(t)),this.listenTo(r,"keydown",(s,o)=>{lu(o)===lIe&&(t.execute("selectAll"),o.preventDefault())}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}var uIe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class dIe extends L{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(Pe);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Et))}_createButton(t){const e=this.editor,i=e.locale,r=e.commands.get("selectAll"),s=new t(e.locale),o=i.t;return s.set({label:o("Select all"),icon:uIe,keystroke:"Ctrl+A"}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s}}class fIe extends L{static get requires(){return[cIe,dIe]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class k$ extends je{constructor(e){super(e);g(this,"_stack",[]);g(this,"_createdBatches",new WeakSet);this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,r)=>{r[1]={...r[1]};const s=r[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,r={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,r){const s=this.editor.model,o=s.document,a=[],l=e.map(d=>d.getTransformedByOperations(r)),c=l.flat();for(const d of l){const h=d.filter(p=>p.root!=o.graveyard).filter(p=>!mIe(p,c));h.length&&(hIe(h),a.push(h[0]))}a.length&&s.change(d=>{d.setSelection(a,{backward:i})})}_undo(e,i){const r=this.editor.model,s=r.document;this._createdBatches.add(i);const o=e.operations.slice().filter(a=>a.isDocumentOperation);o.reverse();for(const a of o){const l=a.baseVersion+1,c=Array.from(s.history.getOperations(l)),h=fke([a.getReversed()],c,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let p of h){const b=p.affectedSelectable;b&&!r.canEditAt(b)&&(p=new ni(p.baseVersion)),i.addOperation(p),r.applyOperation(p),s.history.setOperationAsUndone(a,p)}}}}function hIe(n){n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const i=n[t-1].getJoined(n[t],!0);i&&(t--,n.splice(t,2,i))}}function mIe(n,t){return t.some(e=>e!==n&&e.containsRange(n,!0))}class pIe extends k${execute(t=null){const e=t?this._stack.findIndex(s=>s.batch==t):this._stack.length-1,i=this._stack.splice(e,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{this._undo(i.batch,r);const s=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,s)}),this.fire("revert",i.batch,r),this.refresh()}}class gIe extends k${execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const r=t.batch.operations[t.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(r);this._restoreSelection(t.selection.ranges,t.selection.isBackward,s),this._undo(t.batch,e)}),this.refresh()}}class bIe extends L{constructor(){super(...arguments);g(this,"_undoCommand");g(this,"_redoCommand");g(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t;this._undoCommand=new pIe(e),this._redoCommand=new gIe(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,s)=>{const o=s[0];if(!o.isDocumentOperation)return;const a=o.batch,l=this._redoCommand.createdBatches.has(a),c=this._undoCommand.createdBatches.has(a);this._batchRegistry.has(a)||(this._batchRegistry.add(a),a.isUndoable&&(l?this._undoCommand.addBatch(a):c||(this._undoCommand.addBatch(a),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,s,o)=>{this._redoCommand.addBatch(o)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class wIe extends L{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,i=t.t,r=e.uiLanguageDirection=="ltr"?se.undo:se.redo,s=e.uiLanguageDirection=="ltr"?se.redo:se.undo;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",r),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",s)}_addButtonsToFactory(t,e,i,r){const s=this.editor;s.ui.componentFactory.add(t,()=>{const o=this._createButton(Pe,t,e,i,r);return o.set({tooltip:!0}),o}),s.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(Et,t,e,i,r))}_createButton(t,e,i,r,s){const o=this.editor,a=o.locale,l=o.commands.get(e),c=new t(a);return c.set({label:i,icon:s,keystroke:r}),c.bind("isEnabled").to(l,"isEnabled"),this.listenTo(c,"execute",()=>{o.execute(e),o.editing.view.focus()}),c}}class FT extends L{static get requires(){return[bIe,wIe]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vIe extends L{static get requires(){return[HSe,DT,Jp,fIe,f$,a$,FT]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yIe extends de{constructor(e){super(e);g(this,"children");g(this,"_findInputView");g(this,"_replaceInputView");g(this,"_findButtonView");g(this,"_findPrevButtonView");g(this,"_findNextButtonView");g(this,"_advancedOptionsCollapsibleView");g(this,"_matchCaseSwitchView");g(this,"_wholeWordsOnlySwitchView");g(this,"_replaceButtonView");g(this,"_replaceAllButtonView");g(this,"_inputsDivView");g(this,"_actionButtonsDivView");g(this,"_focusTracker");g(this,"_keystrokes");g(this,"_focusables");g(this,"focusCycler");const i=e.t;this.children=this.createCollection(),this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(r,s)=>r>0&&!s),this._findInputView=this._createInputField(i("Find in text")),this._findPrevButtonView=this._createButton({label:i("Previous result"),class:"ck-button-prev",icon:se.previousArrow,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:i("Next result"),class:"ck-button-next",icon:se.previousArrow,keystroke:"F3",tooltip:!0}),this._replaceInputView=this._createInputField(i("Replace with"),"ck-labeled-field-replace"),this._inputsDivView=this._createInputsDiv(),this._matchCaseSwitchView=this._createMatchCaseSwitch(),this._wholeWordsOnlySwitchView=this._createWholeWordsOnlySwitch(),this._advancedOptionsCollapsibleView=this._createAdvancedOptionsCollapsible(),this._replaceAllButtonView=this._createButton({label:i("Replace all"),class:"ck-button-replaceall",withText:!0}),this._replaceButtonView=this._createButton({label:i("Replace"),class:"ck-button-replace",withText:!0}),this._findButtonView=this._createButton({label:i("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._actionButtonsDivView=this._createActionButtonsDiv(),this._focusTracker=new Pt,this._keystrokes=new jt,this._focusables=new Hn,this.focusCycler=new Yn({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.addMany([this._inputsDivView,this._advancedOptionsCollapsibleView,this._actionButtonsDivView]),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:this.children})}render(){super.render(),za({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createInputsDiv(){const e=this.locale,i=e.t,r=new de(e);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:s})=>s),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:s})=>s),this._injectFindResultsCounter(),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:s},o)=>s&&o),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(s,o)=>s||!o?"":i("Tip: Find some text first in order to replace it.")),r.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__inputs"]},children:[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView]}),r}_onFindButtonExecute(){if(!this._textToFind){const e=this.t;this._findInputView.errorText=e("Text to find must not be empty.");return}this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly})}_injectFindResultsCounter(){const e=this.locale,i=e.t,r=this.bindTemplate,s=new de(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(a,l)=>i("%0 of %1",[a,l])),s.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",r.if("isDirty","ck-hidden")]},children:[{text:r.to("_resultsCounterText")}]});const o=()=>{const a=this._findInputView.fieldView.element;if(!a||!_o(a))return;const l=new Ye(s.element).width,c=e.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";l?a.style[c]=`calc( 2 * var(--ck-spacing-standard) + ${l}px )`:a.style[c]=""};this.on("change:_resultsCounterText",o,{priority:"low"}),this.on("change:isDirty",o,{priority:"low"}),this._findInputView.template.children[0].children.push(s)}_createAdvancedOptionsCollapsible(){const e=this.locale.t,i=new ET(this.locale,[this._matchCaseSwitchView,this._wholeWordsOnlySwitchView]);return i.set({label:e("Advanced options"),isCollapsed:!0}),i}_createActionButtonsDiv(){const e=new de(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:i},r)=>i&&r),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:i},r)=>i&&r),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),e.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__actions"]},children:[this._replaceAllButtonView,this._replaceButtonView,this._findButtonView]}),e}_createMatchCaseSwitch(){const e=this.locale.t,i=new uu(this.locale);return i.set({label:e("Match case"),withText:!0}),i.bind("isOn").to(this,"_matchCase"),i.on("execute",()=>{this._matchCase=!this._matchCase,this.isDirty=!0}),i}_createWholeWordsOnlySwitch(){const e=this.locale.t,i=new uu(this.locale);return i.set({label:e("Whole words only"),withText:!0}),i.bind("isOn").to(this,"_wholeWordsOnly"),i.on("execute",()=>{this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),i}_initFocusCycling(){[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._advancedOptionsCollapsibleView.buttonView,this._matchCaseSwitchView,this._wholeWordsOnlySwitchView,this._replaceAllButtonView,this._replaceButtonView,this._findButtonView].forEach(i=>{this._focusables.add(i),this._focusTracker.add(i.element)})}_initKeystrokeHandling(){const e=r=>r.stopPropagation(),i=r=>{r.stopPropagation(),r.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",r=>{i(r),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",r=>{i(r),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",r=>{const s=r.target;s===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),i(r)):s===this._replaceInputView.fieldView.element&&!this.isDirty&&(this._replaceButtonView.fire("execute"),i(r))}),this._keystrokes.set("shift+enter",r=>{r.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),i(r))}),this._keystrokes.set("arrowright",e),this._keystrokes.set("arrowleft",e),this._keystrokes.set("arrowup",e),this._keystrokes.set("arrowdown",e)}_createButton(e){const i=new Pe(this.locale);return i.set(e),i}_createInputField(e,i){const r=new xn(this.locale,dr);return r.label=e,r.class=i,r}}var y8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>';class _Ie extends L{constructor(e){super(e);g(this,"formView");e.config.define("findAndReplace.uiType","dialog"),this.formView=null}static get requires(){return[cu]}static get pluginName(){return"FindAndReplaceUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.config.get("findAndReplace.uiType")==="dropdown",r=e.commands.get("find"),s=this.editor.t;e.ui.componentFactory.add("findAndReplace",()=>{let o;return i?(o=this._createDropdown(),o.bind("isEnabled").to(r)):o=this._createDialogButtonForToolbar(),e.keystrokes.set("Ctrl+F",(a,l)=>{if(r.isEnabled){if(o instanceof O1){const c=o.buttonView;c.isOn||c.fire("execute")}else o.isOn?e.plugins.get("Dialog").view.focus():o.fire("execute");l()}}),o}),i||e.ui.componentFactory.add("menuBar:findAndReplace",()=>this._createDialogButtonForMenuBar()),e.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Find in the document"),keystroke:"CTRL+F"}]})}_createDropdown(){const e=this.editor,i=e.locale.t,r=zn(e.locale);return r.once("change:isOpen",()=>{this.formView=this._createFormView(),this.formView.children.add(new qp(e.locale,{label:i("Find and replace")}),0),r.panelView.children.add(this.formView)}),r.on("change:isOpen",(s,o,a)=>{a?this._setupFormView():this.fire("searchReseted")},{priority:"low"}),r.buttonView.set({icon:y8,label:i("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),r}_createDialogButtonForToolbar(){const e=this.editor,i=this._createButton(Pe),r=e.plugins.get("Dialog");return i.set({tooltip:!0}),i.bind("isOn").to(r,"id",s=>s==="findAndReplace"),i.on("execute",()=>{i.isOn?r.hide():this._showDialog()}),i}_createDialogButtonForMenuBar(){const e=this._createButton(Et),i=this.editor.plugins.get("Dialog"),r=this.editor.plugins.get("Dialog");return e.set({role:"menuitemcheckbox",isToggleable:!0}),e.bind("isOn").to(r,"id",s=>s==="findAndReplace"),e.on("execute",()=>{if(i.id==="findAndReplace"){i.hide();return}this._showDialog()}),e}_createButton(e){const i=this.editor,r=i.commands.get("find"),s=new e(i.locale),o=i.locale.t;return s.bind("isEnabled").to(r),s.set({icon:y8,label:o("Find and replace"),keystroke:"CTRL+F"}),s}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),r=e.locale.t;this.formView||(this.formView=this._createFormView()),i.show({id:"findAndReplace",title:r("Find and replace"),content:this.formView,position:xr.EDITOR_TOP_SIDE,onShow:()=>{this._setupFormView()},onHide:()=>{this.fire("searchReseted")}})}_createFormView(){const e=this.editor,i=new(Rf(yIe))(e.locale),r=e.commands,o=this.editor.plugins.get("FindAndReplaceEditing").state;i.bind("highlightOffset").to(o,"highlightedOffset"),i.listenTo(o.results,"change",()=>{i.matchCount=o.results.length});const a=r.get("findNext"),l=r.get("findPrevious"),c=r.get("replace"),d=r.get("replaceAll");return i.bind("_areCommandsEnabled").to(a,"isEnabled",l,"isEnabled",c,"isEnabled",d,"isEnabled",(h,p,b,_)=>({findNext:h,findPrevious:p,replace:b,replaceAll:_})),i.delegate("findNext","findPrevious","replace","replaceAll").to(this),i.on("change:isDirty",(h,p,b)=>{b&&this.fire("searchReseted")}),i}_setupFormView(){this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()}}class xIe extends je{constructor(e,i){super(e);g(this,"_state");this.isEnabled=!0,this.affectsData=!1,this._state=i}execute(e,{matchCase:i,wholeWords:r}={}){const{editor:s}=this,{model:o}=s,a=s.plugins.get("FindAndReplaceUtils");let l,c="";typeof e=="string"?l=(...p)=>({results:a.findByTextCallback(e,{matchCase:i,wholeWords:r})(...p),searchText:e}):l=e;const d=l;l=(...p)=>{const b=d(...p);return b&&"searchText"in b&&(c=b.searchText),b};const h=o.document.getRootNames().reduce((p,b)=>a.updateFindResultFromRange(o.createRangeIn(o.document.getRoot(b)),o,l,p),null);return this._state.clear(o),this._state.results.addMany(h),this._state.highlightedResult=h.get(0),this._state.searchText=c,l&&(this._state.lastSearchCallback=l),this._state.matchCase=!!i,this._state.matchWholeWords=!!r,{results:h,findCallback:l}}}class kIe extends Ot(){constructor(t){super(),this.set("results",new Sn),this.set("highlightedResult",null),this.set("highlightedOffset",0),this.set("searchText",""),this.set("replaceText",""),this.set("lastSearchCallback",null),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(e,{removed:i,index:r})=>{if(Array.from(i).length){let s=!1;if(t.change(o=>{for(const a of i)this.highlightedResult===a&&(s=!0),t.markers.has(a.marker.name)&&o.removeMarker(a.marker)}),s){const o=r>=this.results.length?0:r;this.highlightedResult=this.results.get(o)}}}),this.on("change:highlightedResult",()=>{this.refreshHighlightOffset(t)})}clear(t){this.searchText="",t.change(e=>{if(this.highlightedResult){const i=this.highlightedResult.marker.name.split(":")[1],r=t.markers.get(`findResultHighlighted:${i}`);r&&e.removeMarker(r)}[...this.results].forEach(({marker:i})=>{e.removeMarker(i)})}),this.results.clear()}refreshHighlightOffset(t){const{highlightedResult:e,results:i}=this;e?this.highlightedOffset=C$(t,[...i]).indexOf(e)+1:this.highlightedOffset=0}}function C$(n,t){const e={before:-1,same:0,after:1,different:1};return n.document.getRootNames().flatMap(i=>t.filter(r=>r.marker.getStart().root.rootName===i).sort((r,s)=>e[r.marker.getStart().compareWith(s.marker.getStart())]))}class E$ extends je{constructor(e,i){super(e);g(this,"_state");this.isEnabled=!0,this._state=i,this._isEnabledBasedOnSelection=!1}_replace(e,i){const{model:r}=this.editor,s=i.marker.getRange();r.canEditAt(s)&&r.change(o=>{if(s.root.rootName==="$graveyard"){this._state.results.remove(i);return}let a={};for(const l of s.getItems())if(l.is("$text")||l.is("$textProxy")){a=l.getAttributes();break}r.insertContent(o.createText(e,a),s),this._state.results.has(i)&&this._state.results.remove(i)})}}class CIe extends E${execute(t,e){const i=Math.max(this._state.highlightedOffset-1,0);if(this._replace(t,e),this._state.results.length){const r=C$(this.editor.model,[...this._state.results]);this._state.highlightedResult=r[i%r.length]}}}class EIe extends E${execute(t,e){const{editor:i}=this,{model:r}=i,s=i.plugins.get("FindAndReplaceUtils"),o=e instanceof Sn?e:r.document.getRootNames().reduce((a,l)=>s.updateFindResultFromRange(r.createRangeIn(r.document.getRoot(l)),r,s.findByTextCallback(e,this._state),a),null);o.length&&r.change(()=>{[...o].forEach(a=>{this._replace(t,a)})})}}class S$ extends je{constructor(e,i){super(e);g(this,"_state");this.affectsData=!1,this._state=i,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const e=this._state.results,i=e.getIndex(this._state.highlightedResult),r=i+1>=e.length?0:i+1;this._state.highlightedResult=this._state.results.get(r)}}class SIe extends S${execute(){const e=this._state.results.getIndex(this._state.highlightedResult),i=e-1<0?this._state.results.length-1:e-1;this._state.highlightedResult=this._state.results.get(i)}}class TIe extends L{static get pluginName(){return"FindAndReplaceUtils"}static get isOfficialPlugin(){return!0}updateFindResultFromRange(t,e,i,r){const s=r||new Sn,o=a=>s.find(l=>{const{marker:c}=l,d=c.getRange(),h=a.getRange();return d.isEqual(h)});return e.change(a=>{[...t].forEach(({type:l,item:c})=>{if(l==="elementStart"&&e.schema.checkChild(c,"$text")){let d=i({item:c,text:this.rangeToText(e.createRangeIn(c))});if(!d)return;"results"in d&&(d=d.results),d.forEach(h=>{const p=`findResult:${ii()}`,b=a.addMarker(p,{usingOperation:!1,affectsData:!1,range:a.createRange(a.createPositionAt(c,h.start),a.createPositionAt(c,h.end))}),_=AIe(s,b);o(b)||s.add({id:p,label:h.label,marker:b},_)})}})}),s}rangeToText(t){return Array.from(t.getItems({shallow:!0})).reduce((e,i)=>i.is("$text")||i.is("$textProxy")?e+i.data:`${e}
`,"")}findByTextCallback(t,e){let i="gu";e.matchCase||(i+="i");let r=`(${YB(t)})`;if(e.wholeWords){const a="[^a-zA-Z--]";new RegExp("^"+a).test(t)||(r=`(^|${a}|_)${r}`),new RegExp(a+"$").test(t)||(r=`${r}(?=_|${a}|$)`)}const s=new RegExp(r,i);function o({text:a}){return[...a.matchAll(s)].map(IIe)}return o}}function AIe(n,t){const e=n.find(({marker:i})=>t.getStart().isBefore(i.getStart()));return e?n.getIndex(e):n.length}function IIe(n){const t=n.length-1;let e=n.index;return n.length===3&&(e+=n[1].length),{label:n[t],start:e,end:e+n[t].length}}const PIe="ck-find-result_selected";class RIe extends L{constructor(){super(...arguments);g(this,"state");g(this,"_onDocumentChange",()=>{const e=new Set,i=new Set,r=this.editor.model,{results:s}=this.state,o=r.document.differ.getChanges(),a=r.document.differ.getChangedMarkers();o.forEach(d=>{d.position&&(d.name==="$text"||d.position.nodeAfter&&r.schema.isInline(d.position.nodeAfter)?(e.add(d.position.parent),[...r.markers.getMarkersAtPosition(d.position)].forEach(h=>{i.add(h.name)})):d.type==="insert"&&d.position.nodeAfter&&e.add(d.position.nodeAfter))}),a.forEach(({name:d,data:{newRange:h}})=>{h&&h.start.root.rootName==="$graveyard"&&i.add(d)}),e.forEach(d=>{[...r.markers.getMarkersIntersectingRange(r.createRangeIn(d))].forEach(p=>i.add(p.name))}),i.forEach(d=>{s.has(d)&&(s.get(d)===this.state.highlightedResult&&(this.state.highlightedResult=null),s.remove(d))});const l=[],c=this.editor.plugins.get("FindAndReplaceUtils");e.forEach(d=>{const h=c.updateFindResultFromRange(r.createRangeOn(d),r,this.state.lastSearchCallback,s);l.push(...h)}),a.forEach(d=>{if(d.data.newRange){const h=c.updateFindResultFromRange(d.data.newRange,r,this.state.lastSearchCallback,s);l.push(...h)}}),!this.state.highlightedResult&&l.length?this.state.highlightedResult=l[0]:this.state.refreshHighlightOffset(r)})}static get requires(){return[TIe]}static get pluginName(){return"FindAndReplaceEditing"}static get isOfficialPlugin(){return!0}init(){this.state=new kIe(this.editor.model),this.set("_isSearchActive",!1),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(r,s,o,a)=>{const{model:l}=this.editor;l.change(c=>{if(a){const d=a.marker.name.split(":")[1],h=l.markers.get(`findResultHighlighted:${d}`);h&&c.removeMarker(h)}if(o){const d=o.marker.name.split(":")[1];c.addMarker(`findResultHighlighted:${d}`,{usingOperation:!1,affectsData:!1,range:o.marker.getRange()})}})});/* istanbul ignore next -- @preserve */const i=mr(((r,s,o)=>{if(o){const a=this.editor.editing.view.domConverter,l=this.editor.editing.mapper.toViewRange(o.marker.getRange());vj({target:a.viewRangeToDom(l),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",i,{priority:"low"}),this.listenTo(this.editor,"destroy",i.cancel),this.on("change:_isSearchActive",(r,s,o)=>{o?this.listenTo(this.editor.model.document,"change:data",this._onDocumentChange):this.stopListening(this.editor.model.document,"change:data",this._onDocumentChange)})}find(e,i){return this._isSearchActive=!0,this.editor.execute("find",e,i),this.state.results}stop(){this.state.clear(this.editor.model),this._isSearchActive=!1}_defineCommands(){this.editor.commands.add("find",new xIe(this.editor,this.state)),this.editor.commands.add("findNext",new S$(this.editor,this.state)),this.editor.commands.add("findPrevious",new SIe(this.editor,this.state)),this.editor.commands.add("replace",new CIe(this.editor,this.state)),this.editor.commands.add("replaceAll",new EIe(this.editor,this.state))}_defineConverters(){const{editor:e}=this;e.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:i})=>{const[,r]=i.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":r}}}}),e.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:i})=>{const[,r]=i.split(":");return{name:"span",classes:[PIe],attributes:{"data-find-result":r}}}})}}class OIe extends L{static get requires(){return[RIe,_Ie]}static get pluginName(){return"FindAndReplace"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get("FindAndReplaceUI"),e=this.editor.plugins.get("FindAndReplaceEditing"),i=e.state;t.on("findNext",(r,s)=>{s?(i.searchText=s.searchText,e.find(s.searchText,s)):this.editor.execute("findNext")}),t.on("findPrevious",(r,s)=>{s&&i.searchText!==s.searchText?e.find(s.searchText):this.editor.execute("findPrevious")}),t.on("replace",(r,s)=>{i.searchText!==s.searchText&&e.find(s.searchText);const o=i.highlightedResult;o&&this.editor.execute("replace",s.replaceText,o)}),t.on("replaceAll",(r,s)=>{i.searchText!==s.searchText&&e.find(s.searchText),this.editor.execute("replaceAll",s.replaceText,i.results)}),t.on("searchReseted",()=>{i.clear(this.editor.model),e.stop()})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bv extends je{constructor(e,i){super(e);g(this,"attributeKey");this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=i.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,s=i.document.selection,o=e.value,a=e.batch,l=c=>{if(s.isCollapsed)o?c.setSelectionAttribute(this.attributeKey,o):c.removeSelectionAttribute(this.attributeKey);else{const d=i.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const h of d)o?c.setAttribute(this.attributeKey,o,h):c.removeAttribute(this.attributeKey,h)}};a?i.enqueueChange(a,c=>{l(c)}):i.change(c=>{l(c)})}}const ar="fontSize",lr="fontFamily",io="fontColor",na="fontBackgroundColor";function T$(n,t){const e={model:{key:n,values:[]},view:{},upcastAlso:{}};for(const i of t)e.model.values.push(i.model),e.view[i.model]=i.view,i.upcastAlso&&(e.upcastAlso[i.model]=i.upcastAlso);return e}function A$(n){return t=>MIe(t.getStyle(n))}function I$(n){return(t,{writer:e})=>e.createAttributeElement("span",{style:`${n}:${t}`},{priority:7})}function NIe({dropdownView:n,colors:t,columns:e,removeButtonLabel:i,colorPickerLabel:r,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a}){const l=n.locale,c=new AT(l,{colors:t,columns:e,removeButtonLabel:i,colorPickerLabel:r,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a});return n.colorSelectorView=c,n.panelView.children.add(c),c}function MIe(n){return n.replace(/\s/g,"")}class DIe extends bv{constructor(t){super(t,lr)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function P$(n){return n.map(LIe).filter(t=>t!==void 0)}function LIe(n){if(typeof n=="object")return n;if(n==="default")return{title:"Default",model:void 0};if(typeof n=="string")return VIe(n)}function VIe(n){const t=n.replace(/"|'/g,"").split(","),e=t[0],i=t.map(FIe).join(", ");return{title:e,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}}function FIe(n){return n=n.trim(),n.indexOf(" ")>0&&(n=`'${n}'`),n}class BIe extends L{static get pluginName(){return"FontFamilyEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(lr,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:lr}),t.model.schema.setAttributeProperties(lr,{isFormatting:!0,copyOnEnter:!0});const e=P$(t.config.get("fontFamily.options")).filter(r=>r.model),i=T$(lr,e);t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(i),t.commands.add(lr,new DIe(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:lr,view:(e,{writer:i})=>i.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:lr,value:e=>e.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:lr,value:e=>e.getAttribute("face")}})}}var _8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class jIe extends L{static get pluginName(){return"FontFamilyUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=this._getLocalizedOptions(),r=t.commands.get(lr),s=e("Font Family"),o=zIe(i,r);t.ui.componentFactory.add(lr,a=>{const l=zn(a);return No(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:_8,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),l.bind("isEnabled").to(r),this.listenTo(l,"execute",c=>{t.execute(c.source.commandName,{value:c.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${lr}`,a=>{const l=new Mi(a);l.buttonView.set({label:s,icon:_8}),l.bind("isEnabled").to(r);const c=new xo(a);for(const d of o){const h=new Ds(a,l),p=new Et(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(d.model)).to(d.model),p.delegate("execute").to(l),p.on("execute",()=>{t.execute(d.model.commandName,{value:d.model.commandParam}),t.editing.view.focus()}),h.children.add(p),c.items.add(h)}return l.panelView.children.add(c),l})}_getLocalizedOptions(){const t=this.editor,e=t.t;return P$(t.config.get(lr).options).map(r=>(r.title==="Default"&&(r.title=e("Default")),r))}}function zIe(n,t){const e=new Sn;for(const i of n){const r={type:"button",model:new Ls({commandName:lr,commandParam:i.model,label:i.title,role:"menuitemradio",withText:!0})};r.model.bind("isOn").to(t,"value",s=>s===i.model?!0:!s||!i.model?!1:s.split(",")[0].replace(/'/g,"").toLowerCase()===i.model.toLowerCase()),i.view&&typeof i.view!="string"&&i.view.styles&&r.model.set("labelStyle",`font-family: ${i.view.styles["font-family"]}`),e.add(r)}return e}class $Ie extends L{static get requires(){return[BIe,jIe]}static get pluginName(){return"FontFamily"}static get isOfficialPlugin(){return!0}}class UIe extends bv{constructor(t){super(t,ar)}}function BT(n){return n.map(t=>HIe(t)).filter(t=>t!==void 0)}const x8={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function HIe(n){if(typeof n=="number"&&(n=String(n)),typeof n=="object"&&GIe(n))return cC(n);const t=qIe(n);if(t)return cC(t);if(n==="default")return{model:void 0,title:"Default"};if(!KIe(n))return WIe(n)}function WIe(n){return typeof n=="string"&&(n={title:n,model:`${parseFloat(n)}px`}),n.view={name:"span",styles:{"font-size":n.model}},cC(n)}function cC(n){return n.view&&typeof n.view!="string"&&!n.view.priority&&(n.view.priority=7),n}function qIe(n){return typeof n=="string"?x8[n]:x8[n.model]}function GIe(n){return n.title&&n.model&&n.view}function KIe(n){let t;if(typeof n=="object")if(n.model)t=parseFloat(n.model);else throw new M("font-size-invalid-definition",null,n);else t=parseFloat(n);return isNaN(t)}const k8=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class YIe extends L{static get pluginName(){return"FontSizeEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(ar,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ar}),t.model.schema.setAttributeProperties(ar,{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),i=BT(this.editor.config.get("fontSize.options")).filter(s=>s.model),r=T$(ar,i);e?(this._prepareAnyValueConverters(r),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(r),t.commands.add(ar,new UIe(t))}_prepareAnyValueConverters(t){const e=this.editor,i=t.model.values.filter(r=>!dv(String(r))&&!gz(String(r)));if(i.length)throw new M("font-size-invalid-use-of-named-presets",null,{presets:i});e.conversion.for("downcast").attributeToElement({model:ar,view:(r,{writer:s})=>{if(r)return s.createAttributeElement("span",{style:"font-size:"+r},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:ar,value:r=>r.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:ar,value:e=>{const i=e.getAttribute("size"),r=i[0]==="-"||i[0]==="+";let s=parseInt(i,10);r&&(s=3+s);const o=k8.length-1,a=Math.min(Math.max(s,0),o);return k8[a]}}})}}var C8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class ZIe extends L{static get pluginName(){return"FontSizeUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=this._getLocalizedOptions(),r=t.commands.get(ar),s=e("Font Size"),o=JIe(i,r);t.ui.componentFactory.add(ar,a=>{const l=zn(a);return No(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:C8,tooltip:!0}),l.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),l.bind("isEnabled").to(r),this.listenTo(l,"execute",c=>{t.execute(c.source.commandName,{value:c.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${ar}`,a=>{const l=new Mi(a);l.buttonView.set({label:s,icon:C8}),l.bind("isEnabled").to(r);const c=new xo(a);for(const d of o){const h=new Ds(a,l),p=new Et(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(d.model)).to(d.model),p.delegate("execute").to(l),p.on("execute",()=>{t.execute(d.model.commandName,{value:d.model.commandParam}),t.editing.view.focus()}),h.children.add(p),c.items.add(h)}return l.panelView.children.add(c),l})}_getLocalizedOptions(){const t=this.editor,e=t.t,i={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return BT(t.config.get(ar).options).map(s=>{const o=i[s.title];return o&&o!=s.title&&(s=Object.assign({},s,{title:o})),s})}}function JIe(n,t){const e=new Sn;for(const i of n){const r={type:"button",model:new Ls({commandName:ar,commandParam:i.model,label:i.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};i.view&&typeof i.view!="string"&&(i.view.styles&&r.model.set("labelStyle",`font-size:${i.view.styles["font-size"]}`),i.view.classes&&r.model.set("class",`${r.model.class} ${i.view.classes}`)),r.model.bind("isOn").to(t,"value",s=>s===i.model),e.add(r)}return e}class XIe extends L{static get requires(){return[YIe,ZIe]}static get pluginName(){return"FontSize"}static get isOfficialPlugin(){return!0}normalizeSizeOptions(t){return BT(t)}}class QIe extends bv{constructor(t){super(t,io)}}class ePe extends L{static get pluginName(){return"FontColorEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(io,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:io,value:A$("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:io,value:e=>e.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:io,view:I$("color")}),t.commands.add(io,new QIe(t)),t.model.schema.extend("$text",{allowAttributes:io}),t.model.schema.setAttributeProperties(io,{isFormatting:!0,copyOnEnter:!0})}}class R$ extends L{constructor(e,{commandName:i,componentName:r,icon:s,dropdownLabel:o}){super(e);g(this,"commandName");g(this,"componentName");g(this,"icon");g(this,"dropdownLabel");g(this,"columns");this.commandName=i,this.componentName=r,this.icon=s,this.dropdownLabel=o,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,i=e.locale,r=i.t,s=e.commands.get(this.commandName),o=e.config.get(this.componentName),a=rp(o.colors),l=ip(i,a),c=o.documentColors,d=o.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,h=>{const p=zn(h);let b=!1;const _=NIe({dropdownView:p,colors:l.map(x=>({label:x.label,color:x.model,options:{hasBorder:x.hasBorder}})),columns:this.columns,removeButtonLabel:r("Remove color"),colorPickerLabel:r("Color picker"),documentColorsLabel:c!==0?r("Document colors"):"",documentColorsCount:c===void 0?this.columns:c,colorPickerViewConfig:d?o.colorPicker||{}:!1});return _.bind("selectedColor").to(s,"value"),p.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),p.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),p.bind("isEnabled").to(s),_.on("execute",(x,C)=>{p.isOpen&&e.execute(this.commandName,{value:C.value,batch:this._undoStepBatch}),C.source!=="colorPicker"&&e.editing.view.focus(),C.source==="colorPickerSaveButton"&&(p.isOpen=!1)}),_.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),_.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(p.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),p.on("change:isOpen",(x,C,S)=>{b||(b=!0,p.colorSelectorView.appendUI()),S&&(c!==0&&_.updateDocumentColors(e.model,this.componentName),_.updateSelectedColors(),_.showColorGridsFragment())}),gv(p,()=>p.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(x=>x.isOn)),p}),e.ui.componentFactory.add(`menuBar:${this.componentName}`,h=>{const p=new Mi(h);p.buttonView.set({label:this.dropdownLabel,icon:this.icon}),p.bind("isEnabled").to(s);let b=!1;const _=new AT(h,{colors:l.map(x=>({label:x.label,color:x.model,options:{hasBorder:x.hasBorder}})),columns:this.columns,removeButtonLabel:r("Remove color"),colorPickerLabel:r("Color picker"),documentColorsLabel:c!==0?r("Document colors"):"",documentColorsCount:c===void 0?this.columns:c,colorPickerViewConfig:!1});return _.bind("selectedColor").to(s,"value"),_.delegate("execute").to(p),_.on("execute",(x,C)=>{e.execute(this.commandName,{value:C.value,batch:this._undoStepBatch}),e.editing.view.focus()}),p.on("change:isOpen",(x,C,S)=>{b||(b=!0,_.appendUI()),S&&(c!==0&&_.updateDocumentColors(e.model,this.componentName),_.updateSelectedColors(),_.showColorGridsFragment())}),p.panelView.children.add(_),p})}}var tPe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class nPe extends R${constructor(t){const e=t.locale.t;super(t,{commandName:io,componentName:io,icon:tPe,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class iPe extends L{static get requires(){return[ePe,nPe]}static get pluginName(){return"FontColor"}static get isOfficialPlugin(){return!0}}class rPe extends bv{constructor(t){super(t,na)}}class sPe extends L{static get pluginName(){return"FontBackgroundColorEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(na,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(_T),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:na,value:A$("background-color")}}),t.conversion.for("downcast").attributeToElement({model:na,view:I$("background-color")}),t.commands.add(na,new rPe(t)),t.model.schema.extend("$text",{allowAttributes:na}),t.model.schema.setAttributeProperties(na,{isFormatting:!0,copyOnEnter:!0})}}var oPe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>';class aPe extends R${constructor(t){const e=t.locale.t;super(t,{commandName:na,componentName:na,icon:oPe,dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class lPe extends L{static get requires(){return[sPe,aPe]}static get pluginName(){return"FontBackgroundColor"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cPe extends je{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document,i=Ut(e.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&E8(i,t.schema)}execute(t={}){const e=this.editor.model,i=e.document,r=t.selection||i.selection;e.canEditAt(r)&&e.change(s=>{const o=r.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&E8(a,e.schema)&&s.rename(a,"paragraph")})}}function E8(n,t){return t.checkChild(n.parent,"paragraph")&&!t.isObject(n)}class uPe extends je{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,i=t.attributes;let r=t.position;return e.canEditAt(r)?e.change(s=>{if(r=this._findPositionToInsertParagraph(r,s),!r)return null;const o=s.createElement("paragraph");return i&&e.schema.setAllowedAttributes(o,i,s),e.insertContent(o,r),s.setSelection(o,"in"),s.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(t,e){const i=this.editor.model;if(i.schema.checkChild(t,"paragraph"))return t;const r=i.schema.findAllowedParent(t,"paragraph");if(!r)return null;const s=t.parent,o=i.schema.checkChild(s,"$text");return s.isEmpty||o&&t.isAtEnd?i.createPositionAfter(s):!s.isEmpty&&o&&t.isAtStart?i.createPositionBefore(s):e.split(t,r).position}}const tw=class tw extends L{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new cPe(t)),t.commands.add("insertParagraph",new uPe(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(i,{writer:r})=>!tw.paragraphLikeElements.has(i.name)||i.isEmpty?null:r.createElement("paragraph"),view:/.+/,converterPriority:"low"})}};g(tw,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));let F1=tw;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dPe extends je{constructor(e,i){super(e);g(this,"modelElements");this.modelElements=i}refresh(){const e=Ut(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>S8(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,r=i.document,s=e.value;i.change(o=>{const a=Array.from(r.selection.getSelectedBlocks()).filter(l=>S8(l,s,i.schema));for(const l of a)l.is("element",s)||o.rename(l,s)})}}function S8(n,t,e){return e.checkChild(n.parent,t)&&!e.isObject(n)}const T8="paragraph";class fPe extends L{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[F1]}init(){const t=this.editor,e=t.config.get("heading.options"),i=[];for(const r of e)r.model!=="paragraph"&&(t.model.schema.register(r.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(r),i.push(r.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new dPe(t,i))}afterInit(){const t=this.editor,e=t.commands.get("enter"),i=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(r,s)=>{const o=t.model.document.selection.getFirstPosition().parent;i.some(l=>o.is("element",l.model))&&!o.is("element",T8)&&o.childCount===0&&s.writer.rename(o,T8)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Tr.low+1})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hPe(n){const t=n.t,e={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return n.config.get("heading.options").map(i=>{const r=e[i.title];return r&&r!=i.title&&(i.title=r),i})}class mPe extends L{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=hPe(t),r=e("Choose heading"),s=e("Heading");t.ui.componentFactory.add("heading",o=>{const a={},l=new Sn,c=t.commands.get("heading"),d=t.commands.get("paragraph"),h=[c];for(const b of i){const _={type:"button",model:new Ls({label:b.title,class:b.class,role:"menuitemradio",withText:!0})};b.model==="paragraph"?(_.model.bind("isOn").to(d,"value"),_.model.set("commandName","paragraph"),h.push(d)):(_.model.bind("isOn").to(c,"value",x=>x===b.model),_.model.set({commandName:"heading",commandValue:b.model})),l.add(_),a[b.model]=b.title}const p=zn(o);return No(p,l,{ariaLabel:s,role:"menu"}),p.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),p.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),p.bind("isEnabled").toMany(h,"isEnabled",(...b)=>b.some(_=>_)),p.buttonView.bind("label").to(c,"value",d,"value",(b,_)=>{const x=_?"paragraph":b;return typeof x=="boolean"||!a[x]?r:a[x]}),p.buttonView.bind("ariaLabel").to(c,"value",d,"value",(b,_)=>{const x=_?"paragraph":b;return typeof x=="boolean"||!a[x]?s:`${a[x]}, ${s}`}),this.listenTo(p,"execute",b=>{const{commandName:_,commandValue:x}=b.source;t.execute(_,x?{value:x}:void 0),t.editing.view.focus()}),p}),t.ui.componentFactory.add("menuBar:heading",o=>{const a=new Mi(o),l=t.commands.get("heading"),c=t.commands.get("paragraph"),d=[l],h=new xo(o);a.set({class:"ck-heading-dropdown"}),h.set({ariaLabel:e("Heading"),role:"menu"}),a.buttonView.set({label:e("Heading")}),a.panelView.children.add(h);for(const p of i){const b=new Ds(o,a),_=new Et(o);b.children.add(_),h.items.add(b),_.set({isToggleable:!0,label:p.title,role:"menuitemradio",class:p.class}),_.delegate("execute").to(a),_.on("execute",()=>{const x=p.model==="paragraph"?"paragraph":"heading";t.execute(x,{value:p.model}),t.editing.view.focus()}),p.model==="paragraph"?(_.bind("isOn").to(c,"value"),d.push(c)):_.bind("isOn").to(l,"value",x=>x===p.model)}return a.bind("isEnabled").toMany(d,"isEnabled",(...p)=>p.some(b=>b)),a})}}class pPe extends L{static get requires(){return[fPe,mPe]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}const A8=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class gPe extends L{constructor(){super(...arguments);g(this,"_bodyPlaceholder",new Map)}static get pluginName(){return"Title"}static get isOfficialPlugin(){return!0}static get requires(){return["Paragraph"]}init(){const e=this.editor,i=e.model;i.schema.register("title",{isBlock:!0,allowIn:"$root"}),i.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),i.schema.extend("$text",{allowIn:"title-content"}),i.schema.addAttributeCheck(r=>{if(r.endsWith("title-content $text"))return!1}),e.editing.mapper.on("modelToViewPosition",I8(e.editing.view)),e.data.mapper.on("modelToViewPosition",I8(e.editing.view)),e.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),e.conversion.for("downcast").add(r=>r.on("insert:title",(s,o,a)=>{a.consumable.consume(o.item,s.name)})),e.data.upcastDispatcher.on("element:h1",Gx,{priority:"high"}),e.data.upcastDispatcher.on("element:h2",Gx,{priority:"high"}),e.data.upcastDispatcher.on("element:h3",Gx,{priority:"high"}),i.document.registerPostFixer(r=>this._fixTitleContent(r)),i.document.registerPostFixer(r=>this._fixTitleElement(r)),i.document.registerPostFixer(r=>this._fixBodyElement(r)),i.document.registerPostFixer(r=>this._fixExtraParagraph(r)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(e={}){const i=e.rootName?e.rootName:void 0,s=this._getTitleElement(i).getChild(0);return this.editor.data.stringify(s,e)}getBody(e={}){const i=this.editor,r=i.data,s=i.model,o=e.rootName?e.rootName:void 0,a=i.model.document.getRoot(o),l=i.editing.view,c=new hT(l.document),d=s.createRangeIn(a),h=c.createDocumentFragment(),p=s.createPositionAfter(a.getChild(0)),b=s.createRange(p,s.createPositionAt(a,"end")),_=new Map;for(const x of s.markers){const C=b.getIntersection(x.getRange());C&&_.set(x.name,C)}return r.mapper.clearBindings(),r.mapper.bindElements(a,h),r.downcastDispatcher.convert(d,_,c,e),c.remove(c.createRangeOn(h.getChild(0))),i.data.processor.toData(h)}_getTitleElement(e){const i=this.editor.model.document.getRoot(e);for(const r of i.getChildren())if(P8(r))return r}_fixTitleContent(e){let i=!1;for(const r of this.editor.model.document.getRootNames()){const s=this._getTitleElement(r);if(!s||s.maxOffset===1)continue;const o=Array.from(s.getChildren());o.shift();for(const a of o)e.move(e.createRangeOn(a),s,"after"),e.rename(a,"paragraph");i=!0}return i}_fixTitleElement(e){let i=!1;const r=this.editor.model;for(const s of this.editor.model.document.getRoots()){const o=Array.from(s.getChildren()).filter(P8),a=o[0],l=s.getChild(0);if(l.is("element","title")){o.length>1&&(R8(o,e,r),i=!0);continue}if(!a&&!A8.has(l.name)){const c=e.createElement("title");e.insert(c,s),e.insertElement("title-content",c),i=!0;continue}A8.has(l.name)?bPe(l,e,r):e.move(e.createRangeOn(a),s,0),R8(o,e,r),i=!0}return i}_fixBodyElement(e){let i=!1;for(const r of this.editor.model.document.getRootNames()){const s=this.editor.model.document.getRoot(r);if(s.childCount<2){const o=e.createElement("paragraph");e.insert(o,s,1),this._bodyPlaceholder.set(r,o),i=!0}}return i}_fixExtraParagraph(e){let i=!1;for(const r of this.editor.model.document.getRootNames()){const s=this.editor.model.document.getRoot(r),o=this._bodyPlaceholder.get(r);vPe(o,s)&&(this._bodyPlaceholder.delete(r),e.remove(o),i=!0)}return i}_attachPlaceholders(){const e=this.editor,i=e.t,r=e.editing.view,s=e.sourceElement,o=e.config.get("title.placeholder")||i("Type your title"),a=e.config.get("placeholder")||s&&s.tagName.toLowerCase()==="textarea"&&s.getAttribute("placeholder")||i("Type or paste your content here.");e.editing.downcastDispatcher.on("insert:title-content",(c,d,h)=>{const p=h.mapper.toViewElement(d.item);p.placeholder=o,sv({view:r,element:p,keepOnFocus:!0})});const l=new Map;r.document.registerPostFixer(c=>{let d=!1;for(const h of r.document.roots){if(h.isEmpty)continue;const p=h.getChild(1),b=l.get(h.rootName);p!==b&&(b&&(jk(c,b),c.removeAttribute("data-placeholder",b)),c.setAttribute("data-placeholder",a,p),l.set(h.rootName,p),d=!0),Sj(p,!0)&&h.childCount===2&&p.name==="p"?d=Ej(c,p)?!0:d:d=jk(c,p)?!0:d}return d})}_attachTabPressHandling(){const e=this.editor,i=e.model;e.keystrokes.set("TAB",(r,s)=>{i.change(o=>{const a=i.document.selection,l=Array.from(a.getSelectedBlocks());if(l.length===1&&l[0].is("element","title-content")){const d=a.getFirstPosition().root.getChild(1);o.setSelection(d,0),s()}})}),e.keystrokes.set("SHIFT + TAB",(r,s)=>{i.change(o=>{const a=i.document.selection;if(!a.isCollapsed)return;const l=Ut(a.getSelectedBlocks()),c=a.getFirstPosition(),d=e.model.document.getRoot(c.root.rootName),h=d.getChild(0),p=d.getChild(1);l===p&&c.isAtStart&&(o.setSelection(h.getChild(0),0),s())})})}}function Gx(n,t,e){const i=t.modelCursor,r=t.viewItem;if(!i.isAtStart||!i.parent.is("element","$root")||!e.consumable.consume(r,{name:!0}))return;const s=e.writer,o=s.createElement("title"),a=s.createElement("title-content");s.append(a,o),s.insert(o,i),e.convertChildren(r,a),e.updateConversionResult(o,t)}function I8(n){return(t,e)=>{const i=e.modelPosition.parent;if(!i.is("element","title"))return;const r=i.parent,s=e.mapper.toViewElement(r);e.viewPosition=n.createPositionAt(s,0),t.stop()}}function P8(n){return n.is("element","title")}function bPe(n,t,e){const i=t.createElement("title");t.insert(i,n,"before"),t.insert(n,i,0),t.rename(n,"title-content"),e.schema.removeDisallowedAttributes([n],t)}function R8(n,t,e){let i=!1;for(const r of n)r.index!==0&&(wPe(r,t,e),i=!0);return i}function wPe(n,t,e){const i=n.getChild(0);if(i.isEmpty){t.remove(n);return}t.move(t.createRangeOn(i),n,"before"),t.rename(i,"paragraph"),t.remove(n),e.schema.removeDisallowedAttributes([i],t)}function vPe(n,t){return!(!n||!n.is("element","paragraph")||n.childCount||t.childCount<=2||t.getChild(t.childCount-1)!==n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yPe extends je{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("highlight"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"highlight")}execute(t={}){const e=this.editor.model,r=e.document.selection,s=t.value;e.change(o=>{if(r.isCollapsed){const a=r.getFirstPosition();if(r.hasAttribute("highlight")){const l=p=>p.item.hasAttribute("highlight")&&p.item.getAttribute("highlight")===this.value,c=a.getLastMatchingPosition(l,{direction:"backward"}),d=a.getLastMatchingPosition(l),h=o.createRange(c,d);!s||this.value===s?(a.isEqual(d)||o.removeAttribute("highlight",h),o.removeSelectionAttribute("highlight")):(a.isEqual(d)||o.setAttribute("highlight",s,h),o.setSelectionAttribute("highlight",s))}else s&&o.setSelectionAttribute("highlight",s)}else{const a=e.schema.getValidRanges(r.getRanges(),"highlight");for(const l of a)s?o.setAttribute("highlight",s,l):o.removeAttribute("highlight",l)}})}}class _Pe extends L{static get pluginName(){return"HighlightEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"highlight"});const e=t.config.get("highlight.options");t.conversion.attributeToElement(xPe(e)),t.commands.add("highlight",new yPe(t))}}function xPe(n){const t={model:{key:"highlight",values:[]},view:{}};for(const e of n)t.model.values.push(e.model),t.view[e.model]={name:"mark",classes:e.class};return t}var kPe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>',CPe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';class EPe extends L{get localizedOptionTitles(){const t=this.editor.t;return{"Yellow marker":t("Yellow marker"),"Green marker":t("Green marker"),"Pink marker":t("Pink marker"),"Blue marker":t("Blue marker"),"Red pen":t("Red pen"),"Green pen":t("Green pen")}}static get pluginName(){return"HighlightUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.config.get("highlight.options");for(const e of t)this._addHighlighterButton(e);this._addRemoveHighlightButton(),this._addDropdown(t),this._addMenuBarButton(t)}_addRemoveHighlightButton(){const t=this.editor.t,e=this.editor.commands.get("highlight");this._addButton("removeHighlight",t("Remove highlight"),se.eraser,null,i=>{i.bind("isEnabled").to(e,"isEnabled")})}_addHighlighterButton(t){const e=this.editor.commands.get("highlight");this._addButton("highlight:"+t.model,t.title,W0(t.type),t.model,i);function i(r){r.bind("isEnabled").to(e,"isEnabled"),r.bind("isOn").to(e,"value",s=>s===t.model),r.iconView.fillColor=t.color,r.isToggleable=!0}}_addButton(t,e,i,r,s){const o=this.editor;o.ui.componentFactory.add(t,a=>{const l=new Pe(a),c=this.localizedOptionTitles[e]?this.localizedOptionTitles[e]:e;return l.set({label:c,icon:i,tooltip:!0}),l.on("execute",()=>{o.execute("highlight",{value:r}),o.editing.view.focus()}),s(l),l})}_addDropdown(t){const e=this.editor,i=e.t,r=e.ui.componentFactory,s=t[0],o=t.reduce((a,l)=>(a[l.model]=l,a),{});r.add("highlight",a=>{const l=e.commands.get("highlight"),c=zn(a,Cu),d=c.buttonView;d.set({label:i("Highlight"),tooltip:!0,lastExecuted:s.model,commandValue:s.model,isToggleable:!0}),d.bind("icon").to(l,"value",b=>W0(p(b,"type"))),d.bind("color").to(l,"value",b=>p(b,"color")),d.bind("commandValue").to(l,"value",b=>p(b,"model")),d.bind("isOn").to(l,"value",b=>!!b),d.delegate("execute").to(c);const h=()=>{const b=t.map(_=>{const x=r.create("highlight:"+_.model);return this.listenTo(x,"execute",()=>{c.buttonView.set({lastExecuted:_.model})}),x});return b.push(new ST),b.push(r.create("removeHighlight")),b};c.bind("isEnabled").to(l,"isEnabled"),Yp(c,h,{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:i("Text highlight toolbar")}),SPe(c),d.on("execute",()=>{e.execute("highlight",{value:d.commandValue})}),this.listenTo(c,"execute",()=>{e.editing.view.focus()});function p(b,_){const x=!b||b===d.lastExecuted?d.lastExecuted:b;return o[x][_]}return c})}_addMenuBarButton(t){const e=this.editor,i=e.t,r=e.commands.get("highlight");e.ui.componentFactory.add("menuBar:highlight",s=>{const o=new Mi(s);o.buttonView.set({label:i("Highlight"),icon:W0("marker")}),o.bind("isEnabled").to(r),o.buttonView.iconView.fillColor="transparent";const a=new xo(s);for(const d of t){const h=new Ds(s,o),p=new Et(s);p.set({label:d.title,icon:W0(d.type),role:"menuitemradio",isToggleable:!0}),p.iconView.fillColor=d.color,p.delegate("execute").to(o),p.bind("isOn").to(r,"value",b=>b===d.model),p.on("execute",()=>{e.execute("highlight",{value:d.model}),e.editing.view.focus()}),h.children.add(p),a.items.add(h)}a.items.add(new Kp(s));const l=new Ds(s,o),c=new Et(s);return c.set({label:i("Remove highlight"),icon:se.eraser}),c.delegate("execute").to(o),c.on("execute",()=>{e.execute("highlight",{value:null}),e.editing.view.focus()}),l.children.add(c),a.items.add(l),o.panelView.children.add(a),o})}}function SPe(n){n.buttonView.actionView.iconView.bind("fillColor").to(n.buttonView,"color")}function W0(n){return n==="marker"?kPe:CPe}class TPe extends L{static get requires(){return[_Pe,EPe]}static get pluginName(){return"Highlight"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class APe extends je{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection;this.isEnabled=IPe(i,e,t)}execute(){const t=this.editor.model;t.change(e=>{const i=e.createElement("horizontalLine");t.insertObject(i,null,null,{setSelection:"after"})})}}function IPe(n,t,e){const i=PPe(n,e);return t.checkChild(i,"horizontalLine")}function PPe(n,t){const i=Xp(n,t).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}class RPe extends L{static get pluginName(){return"HorizontalLineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.t,r=t.conversion;e.register("horizontalLine",{inheritAllFrom:"$blockObject"}),r.for("dataDowncast").elementToElement({model:"horizontalLine",view:(s,{writer:o})=>o.createEmptyElement("hr")}),r.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(s,{writer:o})=>{const a=i("Horizontal line"),l=o.createContainerElement("div",null,o.createEmptyElement("hr"));return o.addClass("ck-horizontal-line",l),o.setCustomProperty("hr",!0,l),OPe(l,o,a)}}),r.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),t.commands.add("horizontalLine",new APe(t))}}function OPe(n,t,e){return t.setCustomProperty("horizontalLine",!0,n),$a(n,t,{label:e})}class NPe extends L{static get pluginName(){return"HorizontalLineUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("horizontalLine",()=>{const e=this._createButton(Pe);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(Et))}_createButton(t){const e=this.editor,i=e.locale,r=e.commands.get("horizontalLine"),s=new t(e.locale),o=i.t;return s.set({label:o("Horizontal line"),icon:se.horizontalLine}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),s}}class MPe extends L{static get requires(){return[RPe,NPe,Mo]}static get pluginName(){return"HorizontalLine"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DPe extends je{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection,r=O8(i);this.isEnabled=LPe(i,e,t),this.value=r?r.getAttribute("value")||"":null}execute(t){const e=this.editor.model,i=e.document.selection;e.change(r=>{let s;this.value!==null?s=O8(i):(s=r.createElement("rawHtml"),e.insertObject(s,null,null,{setSelection:"on"})),r.setAttribute("value",t,s)})}}function LPe(n,t,e){const i=VPe(n,e);return t.checkChild(i,"rawHtml")}function VPe(n,t){const i=Xp(n,t).start.parent;return i.isEmpty&&!i.is("rootElement")?i.parent:i}function O8(n){const t=n.getSelectedElement();return t&&t.is("element","rawHtml")?t:null}class FPe extends L{constructor(e){super(e);g(this,"_widgetButtonViewReferences",new Set);e.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:i=>(ht("html-embed-provide-sanitize-function"),{html:i,hasChanged:!1})})}static get pluginName(){return"HtmlEmbedEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),e.commands.add("htmlEmbed",new DPe(e)),this._setupConversion()}_setupConversion(){const e=this.editor,i=e.t,r=e.editing.view,s=this._widgetButtonViewReferences,o=e.config.get("htmlEmbed");this.editor.editing.view.on("render",()=>{for(const h of s){if(h.element&&h.element.isConnected)return;h.destroy(),s.delete(h)}},{priority:"lowest"}),e.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),e.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(h,{writer:p})=>p.createElement("rawHtml",{value:h.getCustomProperty("$rawContent")})}),e.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(h,{writer:p})=>p.createRawElement("div",{class:"raw-html-embed"},function(b){b.innerHTML=h.getAttribute("value")||""})}),e.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(h,{writer:p})=>{let b,_,x;const C=p.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(A){b=A,a({editor:e,domElement:A,state:_,props:x}),b.addEventListener("mousedown",()=>{if(_.isEditable){const P=e.model;P.document.selection.getSelectedElement()!==h&&P.change(D=>D.setSelection(h,"on"))}},!0)}),S={makeEditable(){_=Object.assign({},_,{isEditable:!0}),a({domElement:b,editor:e,state:_,props:x}),r.change(A=>{A.setAttribute("data-cke-ignore-events","true",C)}),b.querySelector("textarea").focus()},save(A){A!==_.getRawHtmlValue()?(e.execute("htmlEmbed",A),e.editing.view.focus()):this.cancel()},cancel(){_=Object.assign({},_,{isEditable:!1}),a({domElement:b,editor:e,state:_,props:x}),e.editing.view.focus(),r.change(A=>{A.removeAttribute("data-cke-ignore-events",C)})}};_={showPreviews:o.showPreviews,isEditable:!1,getRawHtmlValue:()=>h.getAttribute("value")||""},x={sanitizeHtml:o.sanitizeHtml,textareaPlaceholder:i("Paste raw HTML here..."),onEditClick(){S.makeEditable()},onSaveClick(A){S.save(A)},onCancelClick(){S.cancel()}};const T=p.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":i("HTML snippet"),dir:e.locale.uiLanguageDirection},C);return p.setCustomProperty("rawHtmlApi",S,T),p.setCustomProperty("rawHtml",!0,T),$a(T,p,{label:i("HTML snippet"),hasSelectionHandle:!0})}});function a({editor:h,domElement:p,state:b,props:_}){p.textContent="";const x=p.ownerDocument;let C;if(b.isEditable){const T={isDisabled:!1,placeholder:_.textareaPlaceholder};C=c({domDocument:x,state:b,props:T}),p.append(C)}else if(b.showPreviews){const T={sanitizeHtml:_.sanitizeHtml};p.append(d({domDocument:x,state:b,props:T,editor:h}))}else{const T={isDisabled:!0,placeholder:_.textareaPlaceholder};p.append(c({domDocument:x,state:b,props:T}))}const S={onEditClick:_.onEditClick,onSaveClick:()=>{_.onSaveClick(C.value)},onCancelClick:_.onCancelClick};p.prepend(l({editor:h,domDocument:x,state:b,props:S}))}function l({editor:h,domDocument:p,state:b,props:_}){const x=di(p,"div",{class:"raw-html-embed__buttons-wrapper"});if(b.isEditable){const C=Kx(h,"save",_.onSaveClick),S=Kx(h,"cancel",_.onCancelClick);x.append(C.element,S.element),s.add(C).add(S)}else{const C=Kx(h,"edit",_.onEditClick);x.append(C.element),s.add(C)}return x}function c({domDocument:h,state:p,props:b}){const _=di(h,"textarea",{placeholder:b.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return _.disabled=b.isDisabled,_.value=p.getRawHtmlValue(),_}function d({editor:h,domDocument:p,state:b,props:_}){const x=_.sanitizeHtml(b.getRawHtmlValue()),C=b.getRawHtmlValue().length>0?i("No preview available"):i("Empty snippet content"),S=di(p,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},C),T=di(p,"div",{class:"raw-html-embed__preview-content",dir:h.locale.contentLanguageDirection}),P=p.createRange().createContextualFragment(x.html);return T.appendChild(P),di(p,"div",{class:"raw-html-embed__preview"},[S,T])}}}function Kx(n,t,e){const{t:i}=n.locale,r=new Pe(n.locale),s=n.commands.get("htmlEmbed");return r.set({class:`raw-html-embed__${t}-button`,icon:se.pencil,tooltip:!0,tooltipPosition:n.locale.uiLanguageDirection==="rtl"?"e":"w"}),r.render(),t==="edit"?(r.set({icon:se.pencil,label:i("Edit source")}),r.bind("isEnabled").to(s)):t==="save"?(r.set({icon:se.check,label:i("Save changes")}),r.bind("isEnabled").to(s)):r.set({icon:se.cancel,label:i("Cancel")}),r.on("execute",e),r}class BPe extends L{static get pluginName(){return"HtmlEmbedUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,i=t.locale.t;t.ui.componentFactory.add("htmlEmbed",()=>{const r=this._createButton(Pe);return r.set({tooltip:!0,label:i("Insert HTML")}),r}),t.ui.componentFactory.add("menuBar:htmlEmbed",()=>{const r=this._createButton(Et);return r.set({label:i("HTML snippet")}),r})}_createButton(t){const e=this.editor,i=e.commands.get("htmlEmbed"),r=new t(e.locale);return r.set({icon:se.html}),r.bind("isEnabled").to(i,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("htmlEmbed"),e.editing.view.focus(),e.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),r}}class jPe extends L{static get requires(){return[FPe,BPe,Mo]}static get pluginName(){return"HtmlEmbed"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function du(n,t,e,i){t&&zPe(n,t,i),e&&mo(n,e,i)}function mo(n,t,e){if(t.attributes)for(const[i,r]of Object.entries(t.attributes))n.setAttribute(i,r,e);t.styles&&n.setStyle(t.styles,e),t.classes&&n.addClass(t.classes,e)}function zPe(n,t,e){if(t.attributes)for(const[i]of Object.entries(t.attributes))n.removeAttribute(i,e);if(t.styles)for(const i of Object.keys(t.styles))n.removeStyle(i,e);t.classes&&n.removeClass(t.classes,e)}function $Pe(n,t){const e=ss(n);let i="attributes";for(i in t)i=="classes"?e[i]=Array.from(new Set([...n[i]||[],...t[i]])):e[i]={...n[i],...t[i]};return e}function gd(n,t,e,i,r){const s=t.getAttribute(e),o={};for(const a of["attributes","styles","classes"]){if(a!=i){s&&s[a]&&(o[a]=s[a]);continue}if(i=="classes"){const c=new Set(s&&s.classes||[]);r(c),c.size&&(o[a]=Array.from(c));continue}const l=new Map(Object.entries(s&&s[a]||{}));r(l),l.size&&(o[a]=Object.fromEntries(l))}Object.keys(o).length?t.is("documentSelection")?n.setSelectionAttribute(e,o):n.setAttribute(e,o,t):s&&(t.is("documentSelection")?n.removeSelectionAttribute(e):n.removeAttribute(e,t))}function UPe(n){return hye(n).replace(/ /g,"")}function Jr(n){return`html${UPe(n)}Attributes`}function jT({model:n}){return(t,e)=>e.writer.createElement(n,{htmlContent:t.getCustomProperty("$rawContent")})}function HPe(n,{view:t,isInline:e}){const i=n.t;return(r,{writer:s})=>{const o=i("HTML object"),a=wv(t,r,s),l=r.getAttribute(Jr(t));s.addClass("html-object-embed__content",a),l&&mo(s,l,a);const c=s.createContainerElement(e?"span":"div",{class:"html-object-embed","data-html-object-embed-label":o},a);return $a(c,s,{label:o})}}function wv(n,t,e){return e.createRawElement(n,null,(i,r)=>{r.setContentOf(i,t.getAttribute("htmlContent"))})}function WPe({view:n,model:t,allowEmpty:e},i){return s=>{s.on(`element:${n}`,(o,a,l)=>{let c=i.processViewAttributes(a.viewItem,l);if(!(!c&&!l.consumable.test(a.viewItem,{name:!0}))){if(c=c||{},l.consumable.consume(a.viewItem,{name:!0}),a.modelRange||(a=Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor))),e&&a.modelRange.isCollapsed&&Object.keys(c).length){const d=l.writer.createElement("htmlEmptyElement");if(!l.safeInsert(d,a.modelCursor))return;const h=l.getSplitParts(d);a.modelRange=l.writer.createRange(a.modelRange.start,l.writer.createPositionAfter(h[h.length-1])),l.updateConversionResult(d,a),r(d,c,l);return}for(const d of a.modelRange.getItems())r(d,c,l)}},{priority:"low"})};function r(s,o,a){if(a.schema.checkAttribute(s,t)){const l=s.getAttribute(t),c=$Pe(o,l||{});a.writer.setAttribute(t,c,s)}}}function N8({model:n,view:t},e){return(i,{writer:r,consumable:s})=>{if(!i.hasAttribute(n))return null;const o=r.createContainerElement(t),a=i.getAttribute(n);return s.consume(i,`attribute:${n}`),mo(r,a,o),o.getFillerOffset=()=>null,e?$a(o,r):o}}function qPe({priority:n,view:t}){return(e,i)=>{if(!e)return;const{writer:r}=i,s=r.createAttributeElement(t,null,{priority:n});return mo(r,e,s),s}}function op({view:n},t){return e=>{e.on(`element:${n}`,(i,r,s)=>{if(!r.modelRange||r.modelRange.isCollapsed)return;const o=t.processViewAttributes(r.viewItem,s);o&&s.writer.setAttribute(Jr(r.viewItem.name),o,r.modelRange)},{priority:"low"})}}function ap({view:n,model:t}){return e=>{e.on(`attribute:${Jr(n)}:${t}`,(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const{attributeOldValue:o,attributeNewValue:a}=r,l=s.writer,c=s.mapper.toViewElement(r.item);du(l,o,a,c)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var M8={block:[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6","$text"],allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowIn:["$root","$container"],allowChildren:["paragraph","htmlP","htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}}],inline:[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref"},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}]};class lf extends L{constructor(){super(...arguments);g(this,"_definitions",[])}static get pluginName(){return"DataSchema"}static get isOfficialPlugin(){return!0}init(){for(const e of M8.block)this.registerBlockElement(e);for(const e of M8.inline)this.registerInlineElement(e)}registerBlockElement(e){this._definitions.push({...e,isBlock:!0})}registerInlineElement(e){this._definitions.push({...e,isInline:!0})}extendBlockElement(e){this._extendDefinition({...e,isBlock:!0})}extendInlineElement(e){this._extendDefinition({...e,isInline:!0})}getDefinitionsForView(e,i=!1){const r=new Set;for(const s of this._getMatchingViewDefinitions(e)){if(i)for(const o of this._getReferences(s.model))r.add(o);r.add(s)}return r}getDefinitionsForModel(e){return this._definitions.filter(i=>i.model==e)}_getMatchingViewDefinitions(e){return this._definitions.filter(i=>i.view&&GPe(e,i.view))}*_getReferences(e){const i=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],r=this._definitions.filter(s=>s.model==e);for(const{modelSchema:s}of r)if(s)for(const o of i)for(const a of Ct(s[o]||[])){const l=this._definitions.filter(c=>c.model==a);for(const c of l)a!==e&&(yield*this._getReferences(c.model),yield c)}}_extendDefinition(e){const i=Array.from(this._definitions.entries()).filter(([,r])=>r.model==e.model);if(i.length==0){this._definitions.push(e);return}for(const[r,s]of i)this._definitions[r]=nye({},s,e,(o,a)=>Array.isArray(o)?o.concat(a):void 0)}}function GPe(n,t){return typeof n=="string"?n===t:n instanceof RegExp?n.test(t):!1}class $n extends L{constructor(e){super(e);g(this,"_dataSchema");g(this,"_allowedAttributes");g(this,"_disallowedAttributes");g(this,"_allowedElements");g(this,"_disallowedElements");g(this,"_dataInitialized");g(this,"_coupledAttributes");this._dataSchema=e.plugins.get("DataSchema"),this._allowedAttributes=new Ki,this._disallowedAttributes=new Ki,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get isOfficialPlugin(){return!0}static get requires(){return[lf,Mo]}loadAllowedConfig(e){for(const i of e){const r=i.name||/[\s\S]+/,s=L8(i);this.allowElement(r),s.forEach(o=>this.allowAttributes(o))}}loadDisallowedConfig(e){for(const i of e){const r=i.name||/[\s\S]+/,s=L8(i);s.length==0?this.disallowElement(r):s.forEach(o=>this.disallowAttributes(o))}}loadAllowedEmptyElementsConfig(e){for(const i of e)this.allowEmptyElement(i)}allowElement(e){for(const i of this._dataSchema.getDefinitionsForView(e,!0))this._addAllowedElement(i),this._coupledAttributes=null}disallowElement(e){for(const i of this._dataSchema.getDefinitionsForView(e,!1))this._disallowedElements.add(i.view)}allowEmptyElement(e){for(const i of this._dataSchema.getDefinitionsForView(e,!0))i.isInline&&this._dataSchema.extendInlineElement({...i,allowEmpty:!0})}allowAttributes(e){this._allowedAttributes.add(e)}disallowAttributes(e){this._disallowedAttributes.add(e)}processViewAttributes(e,i){const{consumable:r}=i;return D8(e,this._disallowedAttributes,r),KPe(e,D8(e,this._allowedAttributes,r))}_addAllowedElement(e){if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&typeof e.appliesToBlock=="string")for(const i of this._dataSchema.getDefinitionsForModel(e.appliesToBlock))i.isBlock&&this._addAllowedElement(i);this._dataInitialized&&this.editor.data.once("set",()=>{this._fireRegisterEvent(e)},{priority:Tr.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",()=>{this._dataInitialized=!0;for(const e of this._allowedElements)this._fireRegisterEvent(e)},{priority:Tr.highest+1})}_registerElementHandlers(){this.on("register",(e,i)=>{const r=this.editor.model.schema;if(i.isObject&&!r.isRegistered(i.model))this._registerObjectElement(i);else if(i.isBlock)this._registerBlockElement(i);else if(i.isInline)this._registerInlineElement(i);else throw new M("data-filter-invalid-definition",null,i);e.stop()},{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const e=this.editor.model,i=e.document.selection;e.document.registerPostFixer(r=>{const s=e.document.differ.getChanges();let o=!1;const a=this._getCoupledAttributesMap();for(const l of s){if(l.type!="attribute"||l.attributeNewValue!==null)continue;const c=a.get(l.attributeKey);if(c)for(const{item:d}of l.range.getWalker())for(const h of c)d.hasAttribute(h)&&(r.removeAttribute(h,d),o=!0)}return o}),this.listenTo(i,"change:attribute",(r,{attributeKeys:s})=>{const o=new Set,a=this._getCoupledAttributesMap();for(const l of s){if(i.hasAttribute(l))continue;const c=a.get(l);if(c)for(const d of c)i.hasAttribute(d)&&o.add(d)}o.size!=0&&e.change(l=>{for(const c of o)l.removeSelectionAttribute(c)})})}_registerAssociatedHtmlAttributesPostFixer(){const e=this.editor.model;e.document.registerPostFixer(i=>{const r=e.document.differ.getChanges();let s=!1;for(const o of r)if(!(o.type!=="insert"||o.name==="$text"))for(const a of o.attributes.keys())!a.startsWith("html")||!a.endsWith("Attributes")||e.schema.checkAttribute(o.name,a)||(i.removeAttribute(a,o.position.nodeAfter),s=!0);return s})}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const e of this._allowedElements)if(e.coupledAttribute&&e.model){const i=this._coupledAttributes.get(e.coupledAttribute);i?i.push(e.model):this._coupledAttributes.set(e.coupledAttribute,[e.model])}return this._coupledAttributes}_fireRegisterEvent(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?`register:${e.view}`:"register",e)}_registerObjectElement(e){const i=this.editor,r=i.model.schema,s=i.conversion,{view:o,model:a}=e;r.register(a,e.modelSchema);/* istanbul ignore next: paranoid check -- @preserve */o&&(r.extend(e.model,{allowAttributes:[Jr(o),"htmlContent"]}),i.data.registerRawContentMatcher({name:o}),s.for("upcast").elementToElement({view:o,model:jT(e),converterPriority:Tr.low+2}),s.for("upcast").add(op(e,this)),s.for("editingDowncast").elementToStructure({model:{name:a,attributes:[Jr(o)]},view:HPe(i,e)}),s.for("dataDowncast").elementToElement({model:a,view:(l,{writer:c})=>wv(o,l,c)}),s.for("dataDowncast").add(ap(e)))}_registerBlockElement(e){const i=this.editor,r=i.model.schema,s=i.conversion,{view:o,model:a}=e;if(!r.isRegistered(e.model)){if(r.register(e.model,e.modelSchema),!o)return;s.for("upcast").elementToElement({model:a,view:o,converterPriority:Tr.low+2}),s.for("downcast").elementToElement({model:a,view:o})}o&&(r.extend(e.model,{allowAttributes:Jr(o)}),s.for("upcast").add(op(e,this)),s.for("downcast").add(ap(e)))}_registerInlineElement(e){const i=this.editor,r=i.model.schema,s=i.conversion,o=e.model;e.appliesToBlock||(r.extend("$text",{allowAttributes:o}),e.attributeProperties&&r.setAttributeProperties(o,e.attributeProperties),s.for("upcast").add(WPe(e,this)),s.for("downcast").attributeToElement({model:o,view:qPe(e)}),e.allowEmpty&&(r.setAttributeProperties(o,{copyFromObject:!1}),r.isRegistered("htmlEmptyElement")||r.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"}),i.data.htmlProcessor.domConverter.registerInlineObjectMatcher(a=>a.name==e.view&&a.isEmpty&&Array.from(a.getAttributeKeys()).length?{name:!0}:null),s.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:N8(e,!0)}),s.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:N8(e)})))}}function D8(n,t,e){const i=t.matchAll(n)||[],r=n.document.stylesProcessor;return i.reduce((s,{match:o})=>{for(const a of o.styles||[]){const l=r.getRelatedStyles(a).filter(c=>c.split("-").length>a.split("-").length).sort((c,d)=>d.split("-").length-c.split("-").length);for(const c of l)e.consume(n,{styles:[c]})&&s.styles.push(c);e.consume(n,{styles:[a]})&&s.styles.push(a)}for(const a of o.classes||[])e.consume(n,{classes:[a]})&&s.classes.push(a);for(const a of o.attributes||[])e.consume(n,{attributes:[a]})&&s.attributes.push(a);return s},{attributes:[],classes:[],styles:[]})}function KPe(n,{attributes:t,classes:e,styles:i}){return!t.length&&!e.length&&!i.length?null:{...t.length&&{attributes:YPe(n,t)},...i.length&&{styles:ZPe(n,i)},...e.length&&{classes:e}}}function YPe(n,t){const e={};for(const i of t){const r=n.getAttribute(i);r!==void 0&&bj(i)&&(e[i]=r)}return e}function ZPe(n,t){const e=new T1(n.document.stylesProcessor);for(const i of t){const r=n.getStyle(i);r!==void 0&&e.set(i,r)}return Object.fromEntries(e.getStylesEntries())}function Yx(n,t){const{name:e}=n,i=n[t];return vs(i)?Object.entries(i).map(([r,s])=>({name:e,[t]:{[r]:s}})):Array.isArray(i)?i.map(r=>({name:e,[t]:[r]})):[n]}function L8(n){const{name:t,attributes:e,classes:i,styles:r}=n,s=[];return e&&s.push(...Yx({name:t,attributes:e},"attributes")),i&&s.push(...Yx({name:t,classes:i},"classes")),r&&s.push(...Yx({name:t,styles:r},"styles")),s}class JPe extends L{static get requires(){return[$n]}static get pluginName(){return"CodeBlockElementSupport"}static get isOfficialPlugin(){return!0}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const t=this.editor.plugins.get($n);t.on("register:pre",(e,i)=>{if(i.model!=="codeBlock")return;const r=this.editor,s=r.model.schema,o=r.conversion;s.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),o.for("upcast").add(XPe(t)),o.for("downcast").add(QPe()),e.stop()})}}function XPe(n){return t=>{t.on("element:code",(e,i,r)=>{const s=i.viewItem,o=s.parent;if(!o||!o.is("element","pre"))return;a(o,"htmlPreAttributes"),a(s,"htmlContentAttributes");function a(l,c){const d=n.processViewAttributes(l,r);d&&r.writer.setAttribute(c,d,i.modelRange)}},{priority:"low"})}}function QPe(){return n=>{n.on("attribute:htmlPreAttributes:codeBlock",(t,e,i)=>{if(!i.consumable.consume(e.item,t.name))return;const{attributeOldValue:r,attributeNewValue:s}=e,a=i.mapper.toViewElement(e.item).parent;du(i.writer,r,s,a)}),n.on("attribute:htmlContentAttributes:codeBlock",(t,e,i)=>{if(!i.consumable.consume(e.item,t.name))return;const{attributeOldValue:r,attributeNewValue:s}=e,o=i.mapper.toViewElement(e.item);du(i.writer,r,s,o)})}}class e4e extends L{static get requires(){return[$n]}static get pluginName(){return"DualContentModelElementSupport"}static get isOfficialPlugin(){return!0}init(){this.editor.plugins.get($n).on("register",(e,i)=>{const r=i,s=this.editor,o=s.model.schema,a=s.conversion;if(!r.paragraphLikeModel||o.isRegistered(r.model)||o.isRegistered(r.paragraphLikeModel))return;const l={model:r.paragraphLikeModel,view:r.view};o.register(r.model,r.modelSchema),o.register(l.model,{inheritAllFrom:"$block"}),a.for("upcast").elementToElement({view:r.view,model:(c,{writer:d})=>this._hasBlockContent(c)?d.createElement(r.model):d.createElement(l.model),converterPriority:Tr.low+.5}),a.for("downcast").elementToElement({view:r.view,model:r.model}),this._addAttributeConversion(r),a.for("downcast").elementToElement({view:l.view,model:l.model}),this._addAttributeConversion(l),e.stop()})}_hasBlockContent(t){const e=this.editor.editing.view,i=e.domConverter.blockElements;for(const r of e.createRangeIn(t).getItems())if(r.is("element")&&i.includes(r.name))return!0;return!1}_addAttributeConversion(t){const e=this.editor,i=e.conversion,r=e.plugins.get($n);e.model.schema.extend(t.model,{allowAttributes:Jr(t.view)}),i.for("upcast").add(op(t,r)),i.for("downcast").add(ap(t))}}class t4e extends L{static get requires(){return[lf,Jp]}static get pluginName(){return"HeadingElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("HeadingEditing"))return;const e=t.config.get("heading.options");this.registerHeadingElements(t,e)}registerHeadingElements(t,e){const i=t.plugins.get(lf),r=[];for(const s of e)"model"in s&&"view"in s&&(i.registerBlockElement({view:s.view,model:s.model}),r.push(s.model));i.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:r}}),i.extendBlockElement({model:"htmlSummary",modelSchema:{allowChildren:r}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function B1(n,t,e){const i=n.createRangeOn(t);for(const{item:r}of i.getWalker())if(r.is("element",e))return r}class n4e extends L{static get requires(){return[$n]}static get pluginName(){return"ImageElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("ImageInlineEditing")&&!t.plugins.has("ImageBlockEditing"))return;const e=t.model.schema,i=t.conversion,r=t.plugins.get($n);r.on("register:figure",()=>{i.for("upcast").add(s4e(r))}),r.on("register:img",(s,o)=>{o.model!=="imageBlock"&&o.model!=="imageInline"||(e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),i.for("upcast").add(i4e(r)),i.for("downcast").add(o4e()),t.plugins.has("LinkImage")&&i.for("upcast").add(r4e(r,t)),s.stop())})}}function i4e(n){return t=>{t.on("element:img",(e,i,r)=>{if(!i.modelRange)return;const s=i.viewItem,o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlImgAttributes",o,i.modelRange)},{priority:"low"})}}function r4e(n,t){const e=t.plugins.get("ImageUtils");return i=>{i.on("element:a",(r,s,o)=>{const a=s.viewItem;if(!e.findViewImgElement(a))return;const c=s.modelCursor.parent;if(!c.is("element","imageBlock"))return;const d=n.processViewAttributes(a,o);d&&o.writer.setAttribute("htmlLinkAttributes",d,c)},{priority:"low"})}}function s4e(n){return t=>{t.on("element:figure",(e,i,r)=>{const s=i.viewItem;if(!i.modelRange||!s.hasClass("image"))return;const o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function o4e(){return n=>{t("htmlImgAttributes"),e("img","htmlImgAttributes"),e("figure","htmlFigureAttributes"),e("a","htmlLinkAttributes");function t(i){n.on(`attribute:${i}:imageInline`,(r,s,o)=>{if(!o.consumable.consume(s.item,r.name))return;const{attributeOldValue:a,attributeNewValue:l}=s,c=o.mapper.toViewElement(s.item);du(o.writer,a,l,c)},{priority:"low"})}function e(i,r){n.on(`attribute:${r}:imageBlock`,(s,o,a)=>{if(!a.consumable.test(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:c}=o,d=a.mapper.toViewElement(o.item),h=B1(a.writer,d,i);h&&(du(a.writer,l,c,h),a.consumable.consume(o.item,s.name))},{priority:"low"}),i==="a"&&n.on("attribute:linkHref:imageBlock",(s,o,a)=>{if(!a.consumable.consume(o.item,"attribute:htmlLinkAttributes:imageBlock"))return;const l=a.mapper.toViewElement(o.item),c=B1(a.writer,l,"a");mo(a.writer,o.item.getAttribute("htmlLinkAttributes"),c)},{priority:"low"})}}}class a4e extends L{static get requires(){return[$n]}static get pluginName(){return"MediaEmbedElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("MediaEmbed")||t.config.get("mediaEmbed.previewsInData"))return;const e=t.model.schema,i=t.conversion,r=this.editor.plugins.get($n),s=this.editor.plugins.get(lf),o=t.config.get("mediaEmbed.elementName");s.registerBlockElement({model:"media",view:o}),r.on("register:figure",()=>{i.for("upcast").add(c4e(r))}),r.on(`register:${o}`,(a,l)=>{l.model==="media"&&(e.extend("media",{allowAttributes:[Jr(o),"htmlFigureAttributes"]}),i.for("upcast").add(l4e(r,o)),i.for("dataDowncast").add(u4e(o)),a.stop())})}}function l4e(n,t){const e=(i,r,s)=>{const o=r.viewItem;a(o,Jr(t));function a(l,c){const d=n.processViewAttributes(l,s);d&&s.writer.setAttribute(c,d,r.modelRange)}};return i=>{i.on(`element:${t}`,e,{priority:"low"})}}function c4e(n){return t=>{t.on("element:figure",(e,i,r)=>{const s=i.viewItem;if(!i.modelRange||!s.hasClass("media"))return;const o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function u4e(n){return t=>{e(n,Jr(n)),e("figure","htmlFigureAttributes");function e(i,r){t.on(`attribute:${r}:media`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:c}=o,d=a.mapper.toViewElement(o.item),h=B1(a.writer,d,i);du(a.writer,l,c,h)})}}}class d4e extends L{static get requires(){return[$n]}static get pluginName(){return"ScriptElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get($n);t.on("register:script",(e,i)=>{const r=this.editor,s=r.model.schema,o=r.conversion;s.register("htmlScript",i.modelSchema),s.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),r.data.registerRawContentMatcher({name:"script"}),o.for("upcast").elementToElement({view:"script",model:jT(i)}),o.for("upcast").add(op(i,t)),o.for("downcast").elementToElement({model:"htmlScript",view:(a,{writer:l})=>wv("script",a,l)}),o.for("downcast").add(ap(i)),e.stop()})}}class f4e extends L{static get requires(){return[$n]}static get pluginName(){return"TableElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("TableEditing"))return;const e=t.model.schema,i=t.conversion,r=t.plugins.get($n),s=t.plugins.get("TableUtils");r.on("register:figure",()=>{i.for("upcast").add(p4e(r))}),r.on("register:table",(o,a)=>{a.model==="table"&&(e.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),i.for("upcast").add(m4e(r)),i.for("downcast").add(g4e()),t.model.document.registerPostFixer(h4e(t.model,s)),o.stop())})}}function h4e(n,t){return e=>{const i=n.document.differ.getChanges();let r=!1;for(const s of i){if(s.type!="attribute"||s.attributeKey!="headingRows")continue;const o=s.range.start.nodeAfter,a=o.getAttribute("htmlTheadAttributes"),l=o.getAttribute("htmlTbodyAttributes");a&&!s.attributeNewValue?(e.removeAttribute("htmlTheadAttributes",o),r=!0):l&&s.attributeNewValue==t.getRows(o)&&(e.removeAttribute("htmlTbodyAttributes",o),r=!0)}return r}}function m4e(n){return t=>{t.on("element:table",(e,i,r)=>{if(!i.modelRange)return;const s=i.viewItem;o(s,"htmlTableAttributes");for(const a of s.getChildren())a.is("element","thead")&&o(a,"htmlTheadAttributes"),a.is("element","tbody")&&o(a,"htmlTbodyAttributes");function o(a,l){const c=n.processViewAttributes(a,r);c&&r.writer.setAttribute(l,c,i.modelRange)}},{priority:"low"})}}function p4e(n){return t=>{t.on("element:figure",(e,i,r)=>{const s=i.viewItem;if(!i.modelRange||!s.hasClass("table"))return;const o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function g4e(){return n=>{t("table","htmlTableAttributes"),t("figure","htmlFigureAttributes"),t("thead","htmlTheadAttributes"),t("tbody","htmlTbodyAttributes");function t(e,i){n.on(`attribute:${i}:table`,(r,s,o)=>{if(!o.consumable.test(s.item,r.name))return;const a=o.mapper.toViewElement(s.item),l=B1(o.writer,a,e);l&&(o.consumable.consume(s.item,r.name),du(o.writer,s.attributeOldValue,s.attributeNewValue,l))})}}}class b4e extends L{static get requires(){return[$n]}static get pluginName(){return"StyleElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get($n);t.on("register:style",(e,i)=>{const r=this.editor,s=r.model.schema,o=r.conversion;s.register("htmlStyle",i.modelSchema),s.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),r.data.registerRawContentMatcher({name:"style"}),o.for("upcast").elementToElement({view:"style",model:jT(i)}),o.for("upcast").add(op(i,t)),o.for("downcast").elementToElement({model:"htmlStyle",view:(a,{writer:l})=>wv("style",a,l)}),o.for("downcast").add(ap(i)),e.stop()})}}class w4e extends L{static get requires(){return[$n]}static get pluginName(){return"ListElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("ListEditing"))return;const e=t.model.schema,i=t.conversion,r=t.plugins.get($n),s=t.plugins.get("ListEditing"),o=t.plugins.get("ListUtils"),a=["ul","ol","li"];s.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:mo}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:mo}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:mo}),r.on("register",(l,c)=>{if(!a.includes(c.view)||(l.stop(),e.checkAttribute("$block","htmlLiAttributes")))return;const d=a.map(h=>Jr(h));e.extend("$listItem",{allowAttributes:d}),i.for("upcast").add(h=>{h.on("element:ul",Zx("htmlUlAttributes",r),{priority:"low"}),h.on("element:ol",Zx("htmlOlAttributes",r),{priority:"low"}),h.on("element:li",Zx("htmlLiAttributes",r),{priority:"low"})})}),s.on("postFixer",(l,{listNodes:c,writer:d})=>{for(const{node:h,previousNodeInList:p}of c)if(p){if(p.getAttribute("listType")==h.getAttribute("listType")){const b=V8(p.getAttribute("listType")),_=p.getAttribute(b);!nf(h.getAttribute(b),_)&&d.model.schema.checkAttribute(h,b)&&(d.setAttribute(b,_,h),l.return=!0)}if(p.getAttribute("listItemId")==h.getAttribute("listItemId")){const b=p.getAttribute("htmlLiAttributes");!nf(h.getAttribute("htmlLiAttributes"),b)&&d.model.schema.checkAttribute(h,"htmlLiAttributes")&&(d.setAttribute("htmlLiAttributes",b,h),l.return=!0)}}}),s.on("postFixer",(l,{listNodes:c,writer:d})=>{for(const{node:h}of c){const p=h.getAttribute("listType");!o.isNumberedListType(p)&&h.getAttribute("htmlOlAttributes")&&(d.removeAttribute("htmlOlAttributes",h),l.return=!0),o.isNumberedListType(p)&&h.getAttribute("htmlUlAttributes")&&(d.removeAttribute("htmlUlAttributes",h),l.return=!0)}})}afterInit(){const t=this.editor;if(!t.commands.get("indentList"))return;const e=t.commands.get("indentList");this.listenTo(e,"afterExecute",(i,r)=>{t.model.change(s=>{for(const o of r){const a=V8(o.getAttribute("listType"));t.model.schema.checkAttribute(o,a)&&s.setAttribute(a,{},o)}})})}}function Zx(n,t){return(e,i,r)=>{const s=i.viewItem;i.modelRange||Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor));const o=t.processViewAttributes(s,r);for(const a of i.modelRange.getItems({shallow:!0}))a.hasAttribute("listItemId")&&(a.hasAttribute("htmlUlAttributes")||a.hasAttribute("htmlOlAttributes")||r.writer.model.schema.checkAttribute(a,n)&&r.writer.setAttribute(n,o||{},a))}}function V8(n){return n==="numbered"||n=="customNumbered"?"htmlOlAttributes":"htmlUlAttributes"}class v4e extends L{static get requires(){return[$n,lf]}static get pluginName(){return"CustomElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get($n),e=this.editor.plugins.get(lf);t.on("register:$customElement",(i,r)=>{i.stop();const s=this.editor,o=s.model.schema,a=s.conversion,l=s.editing.view.domConverter.unsafeElements,c=s.data.htmlProcessor.domConverter.preElements;o.register(r.model,r.modelSchema),o.extend(r.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),s.data.htmlProcessor.domConverter.registerRawContentMatcher({name:"template"}),a.for("upcast").elementToElement({view:/.*/,model:(d,h)=>{if(d.name=="$comment"||!y4e(d.name)||e.getDefinitionsForView(d.name).size)return null;l.includes(d.name)||l.push(d.name),c.includes(d.name)||c.push(d.name);const p=h.writer.createElement(r.model,{htmlElementName:d.name}),b=t.processViewAttributes(d,h);b&&h.writer.setAttribute("htmlCustomElementAttributes",b,p);let _;if(d.is("element","template")&&d.getCustomProperty("$rawContent"))_=d.getCustomProperty("$rawContent");else{const C=new Fr(d.document).createDocumentFragment(d),S=s.data.htmlProcessor.domConverter.viewToDom(C),T=S.firstChild;for(;T.firstChild;)S.appendChild(T.firstChild);T.remove(),_=s.data.htmlProcessor.htmlWriter.getHtml(S)}h.writer.setAttribute("htmlContent",_,p);for(const{item:x}of s.editing.view.createRangeIn(d))h.consumable.consume(x,{name:!0});return p},converterPriority:"low"}),a.for("editingDowncast").elementToElement({model:{name:r.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(d,{writer:h})=>{const p=d.getAttribute("htmlElementName"),b=h.createRawElement(p);return d.hasAttribute("htmlCustomElementAttributes")&&mo(h,d.getAttribute("htmlCustomElementAttributes"),b),b}}),a.for("dataDowncast").elementToElement({model:{name:r.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(d,{writer:h})=>{const p=d.getAttribute("htmlElementName"),b=d.getAttribute("htmlContent"),_=h.createRawElement(p,null,(x,C)=>{C.setContentOf(x,b)});return d.hasAttribute("htmlCustomElementAttributes")&&mo(h,d.getAttribute("htmlCustomElementAttributes"),_),_}})})}}function y4e(n){try{document.createElement(n)}catch{return!1}return!0}class _4e extends L{static get pluginName(){return"GeneralHtmlSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[$n,JPe,e4e,t4e,n4e,a4e,d4e,f4e,b4e,w4e,v4e]}init(){const t=this.editor,e=t.plugins.get($n);e.loadAllowedEmptyElementsConfig(t.config.get("htmlSupport.allowEmpty")||[]),e.loadAllowedConfig(t.config.get("htmlSupport.allow")||[]),e.loadDisallowedConfig(t.config.get("htmlSupport.disallow")||[])}getGhsAttributeNameForElement(t){const e=this.editor.plugins.get("DataSchema"),i=Array.from(e.getDefinitionsForView(t,!1)),r=i.find(s=>s.isInline&&!i[0].isObject);return r?r.model:Jr(t)}addModelHtmlClass(t,e,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(t);r.change(o=>{for(const a of bd(r,i,s))gd(o,a,s,"classes",l=>{for(const c of Ct(e))l.add(c)})})}removeModelHtmlClass(t,e,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(t);r.change(o=>{for(const a of bd(r,i,s))gd(o,a,s,"classes",l=>{for(const c of Ct(e))l.delete(c)})})}setModelHtmlAttributes(t,e,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(t);r.change(o=>{for(const a of bd(r,i,s))gd(o,a,s,"attributes",l=>{for(const[c,d]of Object.entries(e))l.set(c,d)})})}removeModelHtmlAttributes(t,e,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(t);r.change(o=>{for(const a of bd(r,i,s))gd(o,a,s,"attributes",l=>{for(const c of Ct(e))l.delete(c)})})}setModelHtmlStyles(t,e,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(t);r.change(o=>{for(const a of bd(r,i,s))gd(o,a,s,"styles",l=>{for(const[c,d]of Object.entries(e))l.set(c,d)})})}removeModelHtmlStyles(t,e,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(t);r.change(o=>{for(const a of bd(r,i,s))gd(o,a,s,"styles",l=>{for(const c of Ct(e))l.delete(c)})})}}function*bd(n,t,e){if(t)if(!(Symbol.iterator in t)&&t.is("documentSelection")&&t.isCollapsed)n.schema.checkAttributeInSelection(t,e)&&(yield t);else for(const i of x4e(n,t,e))yield*i.getItems({shallow:!0})}function x4e(n,t,e){return!(Symbol.iterator in t)&&(t.is("node")||t.is("$text")||t.is("$textProxy"))?n.schema.checkAttribute(t,e)?[n.createRangeOn(t)]:[]:n.schema.getValidRanges(n.createSelection(t).getRanges(),e)}class k4e extends L{static get pluginName(){return"HtmlComment"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=new Map;t.data.processor.skipComments=!1,t.model.schema.addAttributeCheck((i,r)=>{if(i.endsWith("$root")&&r.startsWith("$comment"))return!0}),t.conversion.for("upcast").elementToMarker({view:"$comment",model:i=>{const s=`$comment:${ii()}`,o=i.getCustomProperty("$rawContent");return e.set(s,o),s}}),t.conversion.for("dataDowncast").markerToElement({model:"$comment",view:(i,{writer:r})=>{let s;for(const c of this.editor.model.document.getRootNames())if(s=this.editor.model.document.getRoot(c),s.hasAttribute(i.markerName))break;const o=i.markerName,a=s.getAttribute(o),l=r.createUIElement("$comment");return r.setCustomProperty("$rawContent",a,l),l}}),t.model.document.registerPostFixer(i=>{let r=!1;const s=t.model.document.differ.getChangedMarkers().filter(o=>o.name.startsWith("$comment:"));for(const o of s){const{oldRange:a,newRange:l}=o.data;if(!(a&&l&&a.root==l.root)){if(a){const c=a.root;c.hasAttribute(o.name)&&(i.removeAttribute(o.name,c),r=!0)}if(l){const c=l.root;c.rootName=="$graveyard"?(i.removeMarker(o.name),r=!0):c.hasAttribute(o.name)||(i.setAttribute(o.name,e.get(o.name)||"",c),r=!0)}}}return r}),t.data.on("set",()=>{for(const i of t.model.markers.getMarkersGroup("$comment"))this.removeHtmlComment(i.name)},{priority:"high"}),t.model.on("deleteContent",(i,[r])=>{for(const s of r.getRanges()){const o=t.model.schema.getLimitElement(s),a=t.model.createPositionAt(o,0),l=t.model.createPositionAt(o,"end");let c;a.isTouching(s.start)&&l.isTouching(s.end)?c=this.getHtmlCommentsInRange(t.model.createRange(a,l)):c=this.getHtmlCommentsInRange(s,{skipBoundaries:!0});for(const d of c)this.removeHtmlComment(d)}},{priority:"high"})}createHtmlComment(t,e){const i=ii(),s=this.editor.model,o=s.document.getRoot(t.root.rootName),a=`$comment:${i}`;return s.change(l=>{const c=l.createRange(t);return l.addMarker(a,{usingOperation:!0,affectsData:!0,range:c}),l.setAttribute(a,e,o),a})}removeHtmlComment(t){const e=this.editor,i=e.model.markers.get(t);return i?(e.model.change(r=>{r.removeMarker(i)}),!0):!1}getHtmlCommentData(t){const i=this.editor.model.markers.get(t);if(!i)return null;let r="";for(const s of this.editor.model.document.getRoots())if(s.hasAttribute(t)){r=s.getAttribute(t);break}return{content:r,position:i.getStart()}}getHtmlCommentsInRange(t,{skipBoundaries:e=!1}={}){const i=!e;return Array.from(this.editor.model.markers.getMarkersGroup("$comment")).filter(s=>r(s,t)).map(s=>s.name);function r(s,o){const a=s.getRange().start;return(a.isAfter(o.start)||i&&a.isEqual(o.start))&&(a.isBefore(o.end)||i&&a.isEqual(o.end))}}}class C4e extends bT{toView(t){if(!/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4)))return super.toView(t);let e="",i="";t=t.trim().replace(/<\?xml\s[^?]*\?>/i,a=>(i=a,"")),t=t.trim().replace(/^<!DOCTYPE\s[^>]*?>/i,a=>(e=a,""));const r=this._toDom(t),s=this.domConverter.domToView(r,{skipComments:this.skipComments}),o=new Fr(s.document);return o.setCustomProperty("$fullPageDocument",r.ownerDocument.documentElement.outerHTML,s),e&&o.setCustomProperty("$fullPageDocType",e,s),i&&o.setCustomProperty("$fullPageXmlDeclaration",i,s),s}toData(t){let e=super.toData(t);const i=t.getCustomProperty("$fullPageDocument"),r=t.getCustomProperty("$fullPageDocType"),s=t.getCustomProperty("$fullPageXmlDeclaration");return i&&(e=i.replace(/<\/body\s*>/,e+"$&"),r&&(e=r+`
`+e),s&&(e=s+`
`+e)),e}}class E4e extends L{static get pluginName(){return"FullPage"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=["$fullPageDocument","$fullPageDocType","$fullPageXmlDeclaration"];t.data.processor=new C4e(t.data.viewDocument),t.model.schema.extend("$root",{allowAttributes:e}),t.data.on("toModel",(i,[r])=>{const s=t.model.document.getRoot();t.model.change(o=>{for(const a of e){const l=r.getCustomProperty(a);l&&o.setAttribute(a,l,s)}})},{priority:"low"}),t.data.on("toView",(i,[r])=>{if(!r.is("rootElement"))return;const s=r,o=i.return;if(!s.hasAttribute("$fullPageDocument"))return;const a=new Fr(o.document);for(const l of e){const c=s.getAttribute(l);c&&a.setCustomProperty(l,c,o)}},{priority:"low"}),t.data.on("set",()=>{const i=t.model.document.getRoot();t.model.change(r=>{for(const s of e)i.hasAttribute(s)&&r.removeAttribute(s,i)})},{priority:"high"}),t.data.on("get",(i,r)=>{r[0]||(r[0]={}),r[0].trim=!1},{priority:"high"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function S4e(n){return n.createContainerElement("span",{class:"image-inline"},n.createEmptyElement("img"))}function F8(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function O$(n,t){const e=n.plugins.get("ImageUtils"),i=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return s=>e.isInlineImageView(s)?i&&(s.getStyle("display")=="block"||s.findAncestor(e.isBlockImageView)?"imageBlock":"imageInline")!==t?null:r(s):null;function r(s){const o={name:!0};return s.hasAttribute("src")&&(o.attributes=["src"]),o}}function zT(n,t){const e=Ut(t.getSelectedBlocks());return!e||n.isObject(e)||e.isEmpty&&e.name!="listItem"?"imageBlock":"imageInline"}function j1(n){return n&&n.endsWith("px")?parseInt(n):null}function z1(n){const t=j1(n.getStyle("width")),e=j1(n.getStyle("height"));return!!(t&&e)}const T4e=/^(image|image-inline)$/;class _i extends L{constructor(){super(...arguments);g(this,"_domEmitter",new(Ji()))}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,r=null,s={}){const o=this.editor,a=o.model,l=a.document.selection,c=N$(o,i||l,r);e={...Object.fromEntries(l.getAttributes()),...e};for(const d in e)a.schema.checkAttribute(c,d)||delete e[d];return a.change(d=>{const{setImageSizes:h=!0}=s,p=d.createElement(c,e);return a.insertObject(p,i,null,{setSelection:"on",findOptimalPosition:!i&&c!="imageInline"?"auto":void 0}),p.parent?(h&&this.setImageNaturalSizeAttributes(p),p):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const s=new _e.window.Image;this._domEmitter.listenTo(s,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(r.batch,o=>{o.setAttribute("width",s.naturalWidth,e),o.setAttribute("height",s.naturalHeight,e)}),this._domEmitter.stopListening(s,"load")}),s.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let s=i.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:T4e})}isImageAllowed(){const i=this.editor.model.document.selection;return A4e(this.editor,i)&&I4e(i)}toImageWidget(e,i,r){return i.setCustomProperty("image",!0,e),$a(e,i,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&In(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:r}of i.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function A4e(n,t){if(N$(n,t,null)=="imageBlock"){const i=P4e(t,n.model);if(n.model.schema.checkChild(i,"imageBlock"))return!0}else if(n.model.schema.checkChild(t.focus,"imageInline"))return!0;return!1}function I4e(n){return[...n.focus.getAncestors()].every(t=>!t.is("element","imageBlock"))}function P4e(n,t){const i=Xp(n,t).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}function N$(n,t,e){const i=n.model.schema,r=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?e||(r==="inline"?"imageInline":r!=="auto"?"imageBlock":t.is("selection")?zT(i,t):i.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const R4e=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class O4e extends L{constructor(e){super(e);g(this,"_timeoutId");g(this,"_positionToInsert");this._timeoutId=null,this._positionToInsert=null}static get requires(){return[DT,_i,FT,ko]}static get pluginName(){return"AutoImage"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const s=i.selection.getFirstRange(),o=qn.fromPosition(s.start);o.stickiness="toPrevious";const a=qn.fromPosition(s.end);a.stickiness="toNext",i.once("change:data",()=>{this._embedImageBetweenPositions(o,a),o.detach(),a.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(_e.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,i){const r=this.editor,s=new Ui(e,i),o=s.getWalker({ignoreElementEnd:!0}),a=Object.fromEntries(r.model.document.selection.getAttributes()),l=this.editor.plugins.get("ImageUtils");let c="";for(const d of o)d.item.is("$textProxy")&&(c+=d.item.data);if(c=c.trim(),!c.match(R4e)){s.detach();return}this._positionToInsert=qn.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!r.commands.get("insertImage").isEnabled){s.detach();return}r.model.change(p=>{this._timeoutId=null,p.remove(s),s.detach();let b;this._positionToInsert.root.rootName!=="$graveyard"&&(b=this._positionToInsert.toPosition()),l.insertImage({...a,src:c},b),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get("Delete").requestUndoOnBackspace()},100)}}class N4e extends je{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled&&i.hasAttribute("alt")?this.value=i.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,i=e.plugins.get("ImageUtils"),r=e.model,s=i.getClosestSelectedImageElement(r.document.selection);r.change(o=>{o.setAttribute("alt",t.newValue,s)})}}class M4e extends L{static get requires(){return[_i]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new N4e(this.editor))}}class D4e extends de{constructor(e){super(e);g(this,"focusTracker");g(this,"keystrokes");g(this,"labeledInput");g(this,"saveButtonView");g(this,"cancelButtonView");g(this,"_focusables");g(this,"_focusCycler");const i=this.locale.t;this.focusTracker=new Pt,this.keystrokes=new jt,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),se.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),se.cancel,"ck-button-cancel","cancel"),this._focusables=new Hn,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),za({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,r,s){const o=new Pe(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.extendTemplate({attributes:{class:r}}),s&&o.delegate("execute").to(this,s),o}_createLabeledInputView(){const e=this.locale.t,i=new xn(this.locale,dr);return i.label=e("Text alternative"),i}}function L4e(n){const t=n.plugins.get("ContextualBalloon");if(n.plugins.get("ImageUtils").getClosestSelectedImageWidget(n.editing.view.document.selection)){const i=$T(n);t.updatePosition(i)}}function $T(n){const t=n.editing.view,e=ei.defaultPositions,i=n.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(t.document.selection)),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.viewportStickyNorth]}}class V4e extends L{constructor(){super(...arguments);g(this,"_balloon");g(this,"_form")}static get requires(){return[Yi]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const s=e.commands.get("imageTextAlternative"),o=new Pe(r);return o.set({label:i("Change image text alternative"),icon:se.textAlternative,tooltip:!0}),o.bind("isEnabled").to(s,"isEnabled"),o.bind("isOn").to(s,"value",a=>!!a),this.listenTo(o,"execute",()=>{this._showForm()}),o})}_createForm(){const e=this.editor,r=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Rf(D4e))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(o,a)=>{this._hideForm(!0),a()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(r.selection)?this._isVisible&&L4e(e):this._hideForm(!0)}),Oo({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:$T(e)}),r.fieldView.value=r.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class UT extends L{static get requires(){return[M4e,V4e]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function F4e(n){const t=(e,i,r)=>{if(!r.consumable.test(i.viewItem,{name:!0,classes:"image"}))return;const s=n.findViewImgElement(i.viewItem);if(!s||!r.consumable.test(s,{name:!0}))return;r.consumable.consume(i.viewItem,{name:!0,classes:"image"});const o=r.convertItem(s,i.modelCursor),a=Ut(o.modelRange.getItems());if(!a){r.consumable.revert(i.viewItem,{name:!0,classes:"image"});return}r.convertChildren(i.viewItem,a),r.updateConversionResult(a,i)};return e=>{e.on("element:figure",t)}}function M$(n,t){const e=(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const o=s.writer,a=s.mapper.toViewElement(r.item),l=n.findViewImgElement(a);r.attributeNewValue===null?(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l)):r.attributeNewValue&&(o.setAttribute("srcset",r.attributeNewValue,l),o.setAttribute("sizes","100vw",l))};return i=>{i.on(`attribute:srcset:${t}`,e)}}function $1(n,t,e){const i=(r,s,o)=>{if(!o.consumable.consume(s.item,r.name))return;const a=o.writer,l=o.mapper.toViewElement(s.item),c=n.findViewImgElement(l);a.setAttribute(s.attributeKey,s.attributeNewValue||"",c)};return r=>{r.on(`attribute:${e}:${t}`,i)}}class HT extends Hs{observe(t){this.listenTo(t,"load",(e,i)=>{const r=i.target;this.checkShouldIgnoreEventFromTarget(r)||r.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class B4e extends je{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||e==="block"&&ht("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||e==="inline"&&ht("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=Ct(t.source),i=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(i.getAttributes());e.forEach((o,a)=>{const l=i.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&r.isImage(l)){const c=this.editor.model.createPositionAfter(l);r.insertImage({...o,...s},c,t.imageType)}else r.insertImage({...o,...s},null,t.imageType)})}}class j4e extends je{constructor(t){super(t),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement(),i=this.editor.plugins.get("ImageUtils");this.editor.model.change(r=>{r.setAttribute("src",t.source,e),this.cleanupImage(r,e),i.setImageNaturalSizeAttributes(e)})}cleanupImage(t,e){t.removeAttribute("srcset",e),t.removeAttribute("sizes",e),t.removeAttribute("sources",e),t.removeAttribute("width",e),t.removeAttribute("height",e),t.removeAttribute("alt",e)}}class D$ extends L{static get requires(){return[_i]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(HT),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new B4e(t),r=new j4e(t);t.commands.add("insertImage",i),t.commands.add("replaceImageSource",r),t.commands.add("imageInsert",i)}}class L$ extends L{static get requires(){return[_i]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const e=this.editor,i=e.plugins.get("ImageUtils"),r=t==="imageBlock"?"figure":"img";e.conversion.for("upcast").attributeToAttribute({view:{name:r,styles:{width:/.+/}},model:{key:"width",value:o=>z1(o)?j1(o.getStyle("width")):null}}).attributeToAttribute({view:{name:r,key:"width"},model:"width"}).attributeToAttribute({view:{name:r,styles:{height:/.+/}},model:{key:"height",value:o=>z1(o)?j1(o.getStyle("height")):null}}).attributeToAttribute({view:{name:r,key:"height"},model:"height"}),e.conversion.for("editingDowncast").add(o=>{s(o,"width","width",!0),s(o,"height","height",!0)}),e.conversion.for("dataDowncast").add(o=>{s(o,"width","width",!1),s(o,"height","height",!1)});function s(o,a,l,c){o.on(`attribute:${a}:${t}`,(d,h,p)=>{if(!p.consumable.consume(h.item,d.name))return;const b=p.writer,_=p.mapper.toViewElement(h.item),x=i.findViewImgElement(_);if(h.attributeNewValue!==null?b.setAttribute(l,h.attributeNewValue,x):b.removeAttribute(l,x),h.item.hasAttribute("sources"))return;const C=h.item.hasAttribute("resizedWidth");if(t==="imageInline"&&!C&&!c)return;const S=h.item.getAttribute("width"),T=h.item.getAttribute("height");S&&T&&b.setStyle("aspect-ratio",`${S}/${T}`,x)})}}}class V$ extends je{constructor(e,i){super(e);g(this,"_modelElementName");this._modelElementName=i}refresh(){const i=this.editor.plugins.get("ImageUtils"),r=i.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=i.isInlineImage(r):this.isEnabled=i.isBlockImage(r)}execute(e={}){const i=this.editor,r=this.editor.model,s=i.plugins.get("ImageUtils"),o=s.getClosestSelectedImageElement(r.document.selection),a=Object.fromEntries(o.getAttributes());return!a.src&&!a.uploadId?null:r.change(l=>{const{setImageSizes:c=!0}=e,d=Array.from(r.markers).filter(b=>b.getRange().containsItem(o)),h=s.insertImage(a,r.createSelection(o,"on"),this._modelElementName,{setImageSizes:c});if(!h)return null;const p=l.createRangeOn(h);for(const b of d){const _=b.getRange(),x=_.root.rootName!="$graveyard"?_.getJoined(p,!0):p;l.updateMarker(b,{range:x})}return{oldElement:o,newElement:h}})}}class F$ extends L{static get requires(){return[_i]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const t=this.editor.model.schema;t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["placeholder"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const t=this.editor,e=t.conversion,i=t.plugins.get("ImageUtils");e.for("editingDowncast").add(r=>{r.on("attribute:placeholder",(s,o,a)=>{if(!a.consumable.test(o.item,s.name)||!o.item.is("element","imageBlock")&&!o.item.is("element","imageInline"))return;a.consumable.consume(o.item,s.name);const l=a.writer,c=a.mapper.toViewElement(o.item),d=i.findViewImgElement(c);o.attributeNewValue?(l.addClass("image_placeholder",d),l.setStyle("background-image",`url(${o.attributeNewValue})`,d),l.setCustomProperty("editingPipeline:doNotReuseOnce",!0,d)):(l.removeClass("image_placeholder",d),l.removeStyle("background-image",d))})})}_setupLoadListener(){const t=this.editor,e=t.model,i=t.editing,r=i.view,s=t.plugins.get("ImageUtils");r.addObserver(HT),this.listenTo(r.document,"imageLoaded",(o,a)=>{const l=r.domConverter.mapDomToView(a.target);if(!l)return;const c=s.getImageWidgetFromImageView(l);if(!c)return;const d=i.mapper.toModelElement(c);!d||!d.hasAttribute("placeholder")||e.enqueueChange({isUndoable:!1},h=>{h.removeAttribute("placeholder",d)})})}}class B$ extends L{static get requires(){return[D$,L$,_i,F$,pr]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new V$(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,i=t.conversion,r=t.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>F8(o)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>r.toImageWidget(F8(o),o,e("image widget"))}),i.for("downcast").add($1(r,"imageBlock","src")).add($1(r,"imageBlock","alt")).add(M$(r,"imageBlock")),i.for("upcast").elementToElement({view:O$(t,"imageBlock"),model:(s,{writer:o})=>o.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add(F4e(r))}_setupClipboardIntegration(){const t=this.editor,e=t.model,i=t.editing.view,r=t.plugins.get("ImageUtils"),s=t.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(r.isInlineImageView))return;a.targetRanges?c=t.editing.mapper.toModelRange(a.targetRanges[0]):c=e.document.selection.getFirstRange();const d=e.createSelection(c);if(zT(e.schema,d)==="imageBlock"){const h=new Fr(i.document),p=l.map(b=>h.createElement("figure",{class:"image"},b));a.content=h.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&e.change(l=>{const c=l.createRangeIn(a.content);for(const d of c.getItems())d.is("element","imageBlock")&&r.setImageNaturalSizeAttributes(d)})})}}class z4e extends de{constructor(e,i=[]){super(e);g(this,"focusTracker");g(this,"keystrokes");g(this,"_focusables");g(this,"_focusCycler");g(this,"children");this.focusTracker=new Pt,this.keystrokes=new jt,this._focusables=new Hn,this.children=this.createCollection(),this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const r of i)this.children.add(r),this._focusables.add(r),r instanceof ET&&this._focusables.addMany(r.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),za({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class Qp extends L{constructor(e){super(e);g(this,"dropdownView");g(this,"_integrations",new Map);e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[_i]}init(){const e=this.editor,i=e.model.document.selection,r=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=r.isImage(i.getSelectedElement())});const s=a=>this._createToolbarComponent(a),o=a=>this._createMenuBarComponent(a);e.ui.componentFactory.add("insertImage",s),e.ui.componentFactory.add("imageInsert",s),e.ui.componentFactory.add("menuBar:insertImage",o)}registerIntegration({name:e,observable:i,buttonViewCreator:r,formViewCreator:s,menuBarButtonViewCreator:o,requiresForm:a=!1}){this._integrations.has(e)&&ht("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:r,menuBarButtonViewCreator:o,formViewCreator:s,requiresForm:a})}_createToolbarComponent(e){const i=this.editor,r=e.t,s=this._prepareIntegrations();if(!s.length)return null;let o;const a=s[0];if(s.length==1){if(!a.requiresForm)return a.buttonViewCreator(!0);o=a.buttonViewCreator(!0)}else{const d=a.buttonViewCreator(!1);o=new Cu(e,d),o.tooltip=!0,o.bind("label").to(this,"isImageSelected",h=>r(h?"Replace image":"Insert image"))}const l=this.dropdownView=zn(e,o),c=s.map(({observable:d})=>typeof d=="function"?d():d);return l.bind("isEnabled").toMany(c,"isEnabled",(...d)=>d.some(h=>h)),l.once("change:isOpen",()=>{const d=s.map(({formViewCreator:p})=>p(s.length==1)),h=new z4e(i.locale,d);l.panelView.children.add(h)}),l}_createMenuBarComponent(e){const i=e.t,r=this._prepareIntegrations();if(!r.length)return null;let s;const o=r[0];if(r.length==1)s=o.menuBarButtonViewCreator(!0);else{s=new Mi(e);const a=new xo(e);s.panelView.children.add(a),s.buttonView.set({icon:se.image,label:i("Image")});for(const l of r){const c=new Ds(e,s),d=l.menuBarButtonViewCreator(!1);c.children.add(d),a.items.add(c)}}return s}_prepareIntegrations(){const i=this.editor.config.get("image.insert.integrations"),r=[];if(!i.length)return ht("image-insert-integrations-not-specified"),r;for(const s of i){if(!this._integrations.has(s)){["upload","assetManager","url"].includes(s)||ht("image-insert-unknown-integration",{item:s});continue}r.push(this._integrations.get(s))}return r.length||ht("image-insert-integrations-not-registered"),r}}class $4e extends L{static get requires(){return[B$,Mo,UT,Qp]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class U4e extends L{static get requires(){return[D$,L$,_i,F$,pr]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new V$(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,i=t.conversion,r=t.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:o})=>o.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:o})=>r.toImageWidget(S4e(o),o,e("image widget"))}),i.for("downcast").add($1(r,"imageInline","src")).add($1(r,"imageInline","alt")).add(M$(r,"imageInline")),i.for("upcast").elementToElement({view:O$(t,"imageInline"),model:(s,{writer:o})=>o.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,i=t.editing.view,r=t.plugins.get("ImageUtils"),s=t.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(r.isBlockImageView))return;a.targetRanges?c=t.editing.mapper.toModelRange(a.targetRanges[0]):c=e.document.selection.getFirstRange();const d=e.createSelection(c);if(zT(e.schema,d)==="imageInline"){const h=new Fr(i.document),p=l.map(b=>b.childCount===1?(Array.from(b.getAttributes()).forEach(_=>h.setAttribute(..._,r.findViewImgElement(b))),b.getChild(0)):b);a.content=h.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&e.change(l=>{const c=l.createRangeIn(a.content);for(const d of c.getItems())d.is("element","imageInline")&&r.setImageNaturalSizeAttributes(d)})})}}class H4e extends L{static get requires(){return[U4e,Mo,UT,Qp]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class j$ extends L{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[_i]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),i=t.getFirstPosition().findAncestor("caption");return i&&e.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&e.isBlockImageView(t.parent)?{name:!0}:null}}class W4e extends je{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils"),i=t.plugins.get("ImageUtils");if(!t.plugins.has(B$)){this.isEnabled=!1,this.value=!1;return}const r=t.model.document.selection,s=r.getSelectedElement();if(!s){const o=e.getCaptionFromModelSelection(r);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=i.isImage(s),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(s):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,e)})}_showImageCaption(t,e){const r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=r.getSelectedElement();const l=s._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=r.getSelectedElement());const c=l||t.createElement("caption");t.append(c,a),e&&t.setSelection(c,"in")}_hideImageCaption(t){const e=this.editor,i=e.model.document.selection,r=e.plugins.get("ImageCaptionEditing"),s=e.plugins.get("ImageCaptionUtils");let o=i.getSelectedElement(),a;o?a=s.getCaptionFromImageModelElement(o):(a=s.getCaptionFromModelSelection(i),o=a.parent),r._saveCaption(o,a),t.setSelection(o,"on"),t.remove(a)}}class q4e extends L{constructor(e){super(e);g(this,"_savedCaptionsMap");this._savedCaptionsMap=new WeakMap}static get requires(){return[_i,j$]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new W4e(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),o=e.t;e.conversion.for("upcast").elementToElement({view:a=>s.matchImageCaptionViewElement(a),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(a,{writer:l})=>r.isBlockImage(a.parent)?l.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(a,{writer:l})=>{if(!r.isBlockImage(a.parent))return null;const c=l.createEditableElement("figcaption");l.setCustomProperty("imageCaption",!0,c),c.placeholder=o("Enter image caption"),sv({view:i,element:c,keepOnFocus:!0});const d=a.parent.getAttribute("alt"),h=d?o("Caption for image: %0",[d]):o("Caption for the image");return OT(c,l,{label:h})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),o=e.commands.get("imageTypeBlock"),a=l=>{if(!l.return)return;const{oldElement:c,newElement:d}=l.return;/* istanbul ignore if: paranoid check -- @preserve */if(!c)return;if(i.isBlockImage(c)){const p=r.getCaptionFromImageModelElement(c);if(p){this._saveCaption(d,p);return}}const h=this._getSavedCaption(c);h&&this._saveCaption(d,h)};s&&this.listenTo(s,"execute",a,{priority:"low"}),o&&this.listenTo(o,"execute",a,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?dn.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const o=i.document.differ.getChanges();for(const a of o){if(a.attributeKey!=="alt")continue;const l=a.range.start.nodeAfter;if(r.isBlockImage(l)){const c=s.getCaptionFromImageModelElement(l);if(!c)return;e.editing.reconvertItem(c)}}})}}class G4e extends L{static get requires(){return[j$]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=t.plugins.get("ImageCaptionUtils"),r=t.t;t.ui.componentFactory.add("toggleImageCaption",s=>{const o=t.commands.get("toggleImageCaption"),a=new Pe(s);return a.set({icon:se.caption,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>r(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=i.getCaptionFromModelSelection(t.model.document.selection);if(l){const c=t.editing.mapper.toViewElement(l);e.scrollToTheSelection(),e.change(d=>{d.addClass("image__caption_highlighted",c)})}t.editing.view.focus()}),a})}}class K4e extends L{static get requires(){return[q4e,G4e]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function z$(n){const t=n.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Y4e(n){return new Promise((t,e)=>{const i=n.getAttribute("src");fetch(i).then(r=>r.blob()).then(r=>{const s=$$(r,i),a=`image.${s.replace("image/","")}`,l=new File([r],a,{type:s});t(l)}).catch(r=>r&&r.name==="TypeError"?J4e(i).then(t).catch(e):e(r))})}function Z4e(n,t){return!n.isInlineImageView(t)||!t.getAttribute("src")?!1:!!t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!t.getAttribute("src").match(/^blob:/g)}function $$(n,t){return n.type?n.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function J4e(n){return X4e(n).then(t=>{const e=$$(t,n),r=`image.${e.replace("image/","")}`;return new File([t],r,{type:e})})}function X4e(n){return new Promise((t,e)=>{const i=_e.document.createElement("img");i.addEventListener("load",()=>{const r=_e.document.createElement("canvas");r.width=i.width,r.height=i.height,r.getContext("2d").drawImage(i,0,0),r.toBlob(o=>o?t(o):e())}),i.addEventListener("error",()=>e()),i.src=n})}class Q4e extends L{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),t.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),t.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>t.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createButton(t){const e=this.editor,i=e.locale,r=e.commands.get("uploadImage"),s=e.config.get("image.upload.types"),o=z$(s),a=new t(e.locale),l=i.t;return a.set({acceptedType:s.map(c=>`image/${c}`).join(","),allowMultipleFiles:!0,label:l("Upload from computer"),icon:se.imageUpload}),a.bind("isEnabled").to(r),a.on("done",(c,d)=>{const h=Array.from(d).filter(p=>o.test(p.type));h.length&&(e.execute("uploadImage",{file:h}),e.editing.view.focus())}),a}_createToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),i=this.editor.commands.get("uploadImage"),r=this._createButton(IR);return r.tooltip=!0,r.bind("label").to(e,"isImageSelected",i,"isAccessAllowed",(s,o)=>t(o?s?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),r}_createDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),i=this._createButton(IR);return i.withText=!0,i.bind("label").to(e,"isImageSelected",r=>t(r?"Replace from computer":"Upload from computer")),i.on("execute",()=>{e.dropdownView.isOpen=!1}),i}_createMenuBarButton(t){const e=this.editor.locale.t,i=this._createButton(Qz);switch(i.withText=!0,t){case"standalone":i.label=e("Image from computer");break;case"insertOnly":i.label=e("Image");break;case"insertNested":i.label=e("From computer");break}return i}}class e6e extends L{constructor(e){super(e);g(this,"placeholder");g(this,"uploadStatusChange",(e,i,r)=>{const s=this.editor,o=i.item,a=o.getAttribute("uploadId");if(!r.consumable.consume(i.item,e.name))return;const l=s.plugins.get("ImageUtils"),c=s.plugins.get(Al),d=a?i.attributeNewValue:null,h=this.placeholder,p=s.editing.mapper.toViewElement(o),b=r.writer;if(d=="reading"){B8(p,b),j8(l,h,p,b);return}if(d=="uploading"){const _=c.loaders.get(a);B8(p,b),_?(z8(p,b),n6e(p,b,_,s.editing.view),a6e(l,p,b,_)):j8(l,h,p,b);return}d=="complete"&&c.loaders.get(a)&&r6e(p,b,s.editing.view),i6e(p,b),z8(p,b),t6e(p,b)});this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function B8(n,t){n.hasClass("ck-appear")||t.addClass("ck-appear",n)}function t6e(n,t){t.removeClass("ck-appear",n)}function j8(n,t,e,i){e.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",e);const r=n.findViewImgElement(e);r.getAttribute("src")!==t&&i.setAttribute("src",t,r),U$(e,"placeholder")||i.insert(i.createPositionAfter(r),o6e(i))}function z8(n,t){n.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",n),H$(n,t,"placeholder")}function n6e(n,t,e,i){const r=s6e(t);t.insert(t.createPositionAt(n,"end"),r),e.on("change:uploadedPercent",(s,o,a)=>{i.change(l=>{l.setStyle("width",a+"%",r)})})}function i6e(n,t){H$(n,t,"progressBar")}function r6e(n,t,e){const i=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(n,"end"),i),setTimeout(()=>{e.change(r=>r.remove(r.createRangeOn(i)))},3e3)}function s6e(n){const t=n.createUIElement("div",{class:"ck-progress-bar"});return n.setCustomProperty("progressBar",!0,t),t}function o6e(n){const t=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,t),t}function U$(n,t){for(const e of n.getChildren())if(e.getCustomProperty(t))return e}function H$(n,t,e){const i=U$(n,e);i&&t.remove(t.createRangeOn(i))}function a6e(n,t,e,i){if(i.data){const r=n.findViewImgElement(t);e.setAttribute("src",i.data,r)}}class l6e extends je{constructor(t){super(t),this.set("isAccessAllowed",!0)}refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),i=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(i)}execute(t){const e=Ct(t.file),i=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(i.getAttributes());e.forEach((o,a)=>{const l=i.getSelectedElement();if(a&&l&&r.isImage(l)){const c=this.editor.model.createPositionAfter(l);this._uploadImage(o,s,c)}else this._uploadImage(o,s)})}_uploadImage(t,e,i){const r=this.editor,o=r.plugins.get(Al).createLoader(t),a=r.plugins.get("ImageUtils");o&&a.insertImage({...e,uploadId:o.id},i)}}class c6e extends L{constructor(e){super(e);g(this,"_uploadImageElements");g(this,"_uploadedImages",new Map);e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Al,jR,pr,_i]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.document,r=e.conversion,s=e.plugins.get(Al),o=e.plugins.get("ImageUtils"),a=e.plugins.get("ClipboardPipeline"),l=z$(e.config.get("image.upload.types")),c=new l6e(e);e.commands.add("uploadImage",c),e.commands.add("imageUpload",c),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(d=>d.on("element:img",(h,p,b)=>{if(!b.consumable.test(p.viewItem,{attributes:["data-ck-upload-id"]}))return;const _=p.viewItem.getAttribute("data-ck-upload-id");if(!_)return;const[x]=Array.from(p.modelRange.getItems({shallow:!0})),C=s.loaders.get(_);x&&(b.writer.setAttribute("uploadId",_,x),b.consumable.consume(p.viewItem,{attributes:["data-ck-upload-id"]}),C&&C.data&&b.writer.setAttribute("uploadStatus",C.status,x))},{priority:"low"})),this.listenTo(e.editing.view.document,"clipboardInput",(d,h)=>{if(u6e(h.dataTransfer))return;const p=Array.from(h.dataTransfer.files).filter(_=>_?l.test(_.type):!1);if(!p.length)return;if(d.stop(),e.model.change(_=>{h.targetRanges&&_.setSelection(h.targetRanges.map(x=>e.editing.mapper.toModelRange(x))),e.execute("uploadImage",{file:p})}),!e.commands.get("uploadImage").isAccessAllowed){const _=e.plugins.get("Notification"),x=e.locale.t;_.showWarning(x("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(a,"inputTransformation",(d,h)=>{const p=Array.from(e.editing.view.createRangeIn(h.content)).map(_=>_.item).filter(_=>Z4e(o,_)&&!_.getAttribute("uploadProcessed")).map(_=>({promise:Y4e(_),imageElement:_}));if(!p.length)return;const b=new Fr(e.editing.view.document);for(const _ of p){b.setAttribute("uploadProcessed",!0,_.imageElement);const x=s.createLoader(_.promise);x&&(b.setAttribute("src","",_.imageElement),b.setAttribute("uploadId",x.id,_.imageElement))}}),e.editing.view.document.on("dragover",(d,h)=>{h.preventDefault()}),i.on("change",()=>{const d=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),h=new Set;for(const p of d)if(p.type=="insert"&&p.name!="$text"){const b=p.position.nodeAfter,_=p.position.root.rootName=="$graveyard";for(const x of d6e(e,b)){const C=x.getAttribute("uploadId");if(!C)continue;const S=s.loaders.get(C);if(!S){!_&&this._uploadedImages.has(C)&&e.model.enqueueChange({isUndoable:!1},T=>{T.setAttribute("uploadStatus","complete",x),this.fire("uploadComplete",{data:this._uploadedImages.get(C),imageElement:x})});continue}_?h.has(C)||Array.from(this._uploadImageElements.get(C)).every(A=>A.root.rootName=="$graveyard")&&S.abort():(h.add(C),this._uploadImageElements.has(C)?this._uploadImageElements.get(C).add(x):this._uploadImageElements.set(C,new Set([x])),S.status=="idle"&&this._readAndUpload(S))}}}),this.on("uploadComplete",(d,{imageElement:h,data:p})=>{const b=p.urls?p.urls:p;this.editor.model.change(_=>{_.setAttribute("src",b.default,h),this._parseAndSetSrcsetAttributeOnImage(b,h,_),o.setImageNaturalSizeAttributes(h)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(e){const i=this.editor,r=i.model,s=i.locale.t,o=i.plugins.get(Al),a=i.plugins.get(jR),l=i.plugins.get("ImageUtils"),c=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},h=>{const p=c.get(e.id);for(const b of p)h.setAttribute("uploadStatus","reading",b)}),e.read().then(()=>{const h=e.upload();i.ui&&i.ui.ariaLiveAnnouncer.announce(s("Uploading image"));for(const p of c.get(e.id)){/* istanbul ignore next -- @preserve */if(qe.isSafari){const b=i.editing.mapper.toViewElement(p),_=l.findViewImgElement(b);i.editing.view.once("render",()=>{if(!_.parent)return;const x=i.editing.view.domConverter.mapViewToDom(_.parent);if(!x)return;const C=x.style.display;x.style.display="none",x._ckHack=x.offsetHeight,x.style.display=C})}r.enqueueChange({isUndoable:!1},b=>{b.setAttribute("uploadStatus","uploading",p)})}return h}).then(h=>{r.enqueueChange({isUndoable:!1},p=>{for(const b of c.get(e.id))p.setAttribute("uploadStatus","complete",b),this.fire("uploadComplete",{data:h,imageElement:b});i.ui&&i.ui.ariaLiveAnnouncer.announce(s("Image upload complete")),this._uploadedImages.set(e.id,h)}),d()}).catch(h=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(s("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw h;e.status=="error"&&h&&a.showWarning(h,{title:s("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},p=>{for(const b of c.get(e.id))b.root.rootName!=="$graveyard"&&p.remove(b)}),d()});function d(){r.enqueueChange({isUndoable:!1},h=>{for(const p of c.get(e.id))h.removeAttribute("uploadId",p),h.removeAttribute("uploadStatus",p);c.delete(e.id)}),o.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,r){let s=0;const o=Object.keys(e).filter(a=>{const l=parseInt(a,10);if(!isNaN(l))return s=Math.max(s,l),!0}).map(a=>`${e[a]} ${a}w`).join(", ");if(o!=""){const a={srcset:o};!i.hasAttribute("width")&&!i.hasAttribute("height")&&(a.width=s),r.setAttributes(a,i)}}_registerConverters(e){const{conversion:i,plugins:r}=this.editor,s=r.get(Al),o=r.get(_i);i.for("dataDowncast").add(a=>{a.on(`attribute:uploadId:${e}`,(l,c,d)=>{if(!d.consumable.test(c.item,l.name))return;const h=s.loaders.get(c.attributeNewValue);if(!h||!h.data)return null;const p=d.mapper.toViewElement(c.item),b=o.findViewImgElement(p);b&&(d.consumable.consume(c.item,l.name),d.writer.setAttribute("data-ck-upload-id",h.id,b))})})}}function u6e(n){return Array.from(n.types).includes("text/html")&&n.getData("text/html")!==""}function d6e(n,t){const e=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(t)).filter(i=>e.isImage(i.item)).map(i=>i.item)}class W$ extends L{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[c6e,Q4e,e6e]}}class f6e extends de{constructor(e){super(e);g(this,"urlInputView");g(this,"keystrokes");this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new jt,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-image-insert-url"]},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const e=this.locale,i=e.t,r=new xn(e,dr);return r.bind("label").to(this,"isImageSelected",s=>i(s?"Update image URL":"Insert image via URL")),r.bind("isEnabled").to(this),r.fieldView.inputMode="url",r.fieldView.placeholder="https://example.com/image.png",r.fieldView.bind("value").to(this,"imageURLInputValue",s=>s||""),r.fieldView.on("input",()=>{this.imageURLInputValue=r.fieldView.element.value.trim()}),r}focus(){this.urlInputView.focus()}}class h6e extends L{constructor(){super(...arguments);g(this,"_imageInsertUI");g(this,"_formView")}static get pluginName(){return"ImageInsertViaUrlUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Qp,cu]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",()=>this._createToolbarButton()),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",()=>this._createMenuBarButton("standalone"))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createInsertUrlButton(e){const i=new e(this.editor.locale);return i.icon=se.imageUrl,i.on("execute",()=>{this._showModal()}),i}_createToolbarButton(){const e=this.editor.locale.t,i=this._createInsertUrlButton(Pe);return i.tooltip=!0,i.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert image via URL")),i}_createDropdownButton(){const e=this.editor.locale.t,i=this._createInsertUrlButton(Pe);return i.withText=!0,i.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert via URL")),i}_createMenuBarButton(e){const i=this.editor.locale.t,r=this._createInsertUrlButton(Et);switch(r.withText=!0,e){case"standalone":r.label=i("Image via URL");break;case"insertOnly":r.label=i("Image");break;case"insertNested":r.label=i("Via URL");break}return r}_createInsertUrlView(){const e=this.editor,i=e.locale,r=e.commands.get("replaceImageSource"),s=e.commands.get("insertImage"),o=new f6e(i);return o.bind("isImageSelected").to(this._imageInsertUI),o.bind("isEnabled").toMany([s,r],"isEnabled",(...a)=>a.some(l=>l)),o}_showModal(){const e=this.editor,r=e.locale.t,s=e.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",()=>this._handleSave()));const o=e.commands.get("replaceImageSource");this._formView.imageURLInputValue=o.value||"",s.show({id:"insertImageViaUrl",title:this._imageInsertUI.isImageSelected?r("Update image URL"):r("Insert image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:r("Cancel"),withText:!0,onExecute:()=>s.hide()},{label:r("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}class q$ extends L{static get pluginName(){return"ImageInsertViaUrl"}static get isOfficialPlugin(){return!0}static get requires(){return[h6e,Qp]}}class m6e extends L{static get pluginName(){return"ImageInsert"}static get isOfficialPlugin(){return!0}static get requires(){return[W$,q$,Qp]}}class p6e extends je{refresh(){const t=this.editor,i=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!i,!i||!i.hasAttribute("resizedWidth")?this.value=null:this.value={width:i.getAttribute("resizedWidth"),height:null}}execute(t){const e=this.editor,i=e.model,r=e.plugins.get("ImageUtils"),s=r.getClosestSelectedImageElement(i.document.selection);this.value={width:t.width,height:null},s&&i.change(o=>{o.setAttribute("resizedWidth",t.width,s),o.removeAttribute("resizedHeight",s),r.setImageNaturalSizeAttributes(s)})}}class G$ extends L{static get requires(){return[_i]}static get pluginName(){return"ImageResizeEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,e=new p6e(t);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",e),t.commands.add("imageResize",e)}afterInit(){this._registerSchema()}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(t){const e=this.editor,i=e.plugins.get("ImageUtils");e.conversion.for("downcast").add(r=>r.on(`attribute:resizedWidth:${t}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,c=a.mapper.toViewElement(o.item);o.attributeNewValue!==null?(l.setStyle("width",o.attributeNewValue,c),l.addClass("image_resized",c)):(l.removeStyle("width",c),l.removeClass("image_resized",c))})),e.conversion.for("dataDowncast").attributeToAttribute({model:{name:t,key:"resizedHeight"},view:r=>({key:"style",value:{height:r}})}),e.conversion.for("editingDowncast").add(r=>r.on(`attribute:resizedHeight:${t}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,c=a.mapper.toViewElement(o.item),d=t==="imageInline"?i.findViewImgElement(c):c;o.attributeNewValue!==null?l.setStyle("height",o.attributeNewValue,d):l.removeStyle("height",d)})),e.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:r=>z1(r)?null:r.getStyle("width")}}),e.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:r=>z1(r)?null:r.getStyle("height")}})}}const Jx={small:se.objectSizeSmall,medium:se.objectSizeMedium,large:se.objectSizeLarge,custom:se.objectSizeCustom,original:se.objectSizeFull};class g6e extends L{constructor(e){super(e);g(this,"_resizeUnit");this._resizeUnit=e.config.get("image.resizeUnit")}static get requires(){return[G$]}static get pluginName(){return"ImageResizeButtons"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.config.get("image.resizeOptions"),r=e.commands.get("resizeImage");this.bind("isEnabled").to(r);for(const s of i)this._registerImageResizeButton(s);this._registerImageResizeDropdown(i)}_registerImageResizeButton(e){const i=this.editor,{name:r,value:s,icon:o}=e;i.ui.componentFactory.add(r,a=>{const l=new Pe(a),c=i.commands.get("resizeImage"),d=this._getOptionLabelValue(e,!0);if(!Jx[o])throw new M("imageresizebuttons-missing-icon",i,e);if(l.set({label:d,icon:Jx[o],tooltip:d,isToggleable:!0}),l.bind("isEnabled").to(this),i.plugins.has("ImageCustomResizeUI")&&Vh(e)){const h=i.plugins.get("ImageCustomResizeUI");this.listenTo(l,"execute",()=>{h._showForm(this._resizeUnit)})}else{const h=s?s+this._resizeUnit:null;l.bind("isOn").to(c,"value",uC(h)),this.listenTo(l,"execute",()=>{i.execute("resizeImage",{width:h})})}return l})}_registerImageResizeDropdown(e){const i=this.editor,r=i.t,s=e.find(a=>!a.value),o=a=>{const l=i.commands.get("resizeImage"),c=zn(a,Uz),d=c.buttonView,h=r("Resize image");return d.set({tooltip:h,commandValue:s.value,icon:Jx.medium,isToggleable:!0,label:this._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button",ariaLabel:h,ariaLabelledBy:void 0}),d.bind("label").to(l,"value",p=>p&&p.width?p.width:this._getOptionLabelValue(s)),c.bind("isEnabled").to(this),No(c,()=>this._getResizeDropdownListItemDefinitions(e,l),{ariaLabel:r("Image resize list"),role:"menu"}),this.listenTo(c,"execute",p=>{"onClick"in p.source?p.source.onClick():(i.execute(p.source.commandName,{width:p.source.commandValue}),i.editing.view.focus())}),c};i.ui.componentFactory.add("resizeImage",o),i.ui.componentFactory.add("imageResize",o)}_getOptionLabelValue(e,i=!1){const r=this.editor.t;return e.label?e.label:i?Vh(e)?r("Custom image size"):e.value?r("Resize image to %0",e.value+this._resizeUnit):r("Resize image to the original size"):Vh(e)?r("Custom"):e.value?e.value+this._resizeUnit:r("Original")}_getResizeDropdownListItemDefinitions(e,i){const{editor:r}=this,s=new Sn,o=e.map(a=>Vh(a)?{...a,valueWithUnits:"custom"}:a.value?{...a,valueWithUnits:`${a.value}${this._resizeUnit}`}:{...a,valueWithUnits:null});for(const a of o){let l=null;if(r.plugins.has("ImageCustomResizeUI")&&Vh(a)){const c=r.plugins.get("ImageCustomResizeUI");l={type:"button",model:new Ls({label:this._getOptionLabelValue(a),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{c._showForm(this._resizeUnit)}})};const d=oye(o,"valueWithUnits");l.model.bind("isOn").to(i,"value",b6e(d))}else l={type:"button",model:new Ls({commandName:"resizeImage",commandValue:a.valueWithUnits,label:this._getOptionLabelValue(a),role:"menuitemradio",withText:!0,icon:null})},l.model.bind("isOn").to(i,"value",uC(a.valueWithUnits));l.model.bind("isEnabled").to(i,"isEnabled"),s.add(l)}return s}}function Vh(n){return n.value==="custom"}function uC(n){return t=>{const e=t;return n===null&&e===n?!0:e!==null&&e.width===n}}function b6e(n){return t=>!n.some(e=>uC(e)(t))}const w6e="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",Xx="image_resized";class v6e extends L{static get requires(){return[Ux,_i]}static get pluginName(){return"ImageResizeHandles"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,e=t.editing.view,i=t.plugins.get("ImageUtils");e.addObserver(HT),this.listenTo(e.document,"imageLoaded",(r,s)=>{if(!s.target.matches(w6e))return;const o=t.editing.view.domConverter,a=o.domToView(s.target),l=i.getImageWidgetFromImageView(a);let c=this.editor.plugins.get(Ux).getResizerByViewElement(l);if(c){c.redraw();return}const d=t.editing.mapper,h=d.toModelElement(l);c=t.plugins.get(Ux).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:h,viewElement:l,editor:t,getHandleHost(p){return p.querySelector("img")},getResizeHost(){return o.mapViewToDom(d.toViewElement(h))},isCentered(){return h.getAttribute("imageStyle")=="alignCenter"},onCommit(p){e.change(b=>{b.removeClass(Xx,l)}),t.execute("resizeImage",{width:p})}}),c.on("updateSize",()=>{l.hasClass(Xx)||e.change(b=>{b.addClass(Xx,l)});const p=h.name==="imageInline"?a:l;p.getStyle("height")&&e.change(b=>{b.removeStyle("height",p)})}),c.bind("isEnabled").to(this)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function K$(n){if(!n)return null;const[,t,e]=n.trim().match(/([.,\d]+)(%|px)$/)||[],i=Number.parseFloat(t);return Number.isNaN(i)?null:{value:i,unit:e}}function Y$(n,t,e){return e==="px"?{value:t.value,unit:"px"}:{value:t.value/n*100,unit:"%"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Z$(n){const{editing:t}=n,i=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);if(!i)return null;const r=t.mapper.toViewElement(i),s=t.view.domConverter.mapViewToDom(r);return{model:i,view:r,dom:s}}function y6e(n,t){const e=Z$(n);if(!e)return null;const i=K$(e.model.getAttribute("resizedWidth")||null);if(!i)return null;if(i.unit===t)return i;const r=NT(e.dom),s={value:new Ye(e.dom).width};return Y$(r,s,t)}class _6e extends de{constructor(e,i,r){super(e);g(this,"focusTracker");g(this,"keystrokes");g(this,"unit");g(this,"labeledInput");g(this,"saveButtonView");g(this,"cancelButtonView");g(this,"_focusables");g(this,"_focusCycler");g(this,"_validators");const s=this.locale.t;this.focusTracker=new Pt,this.keystrokes=new jt,this.unit=i,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),se.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),se.cancel,"ck-button-cancel","cancel"),this._focusables=new Hn,this._validators=r,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),za({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,r,s){const o=new Pe(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.extendTemplate({attributes:{class:r}}),s&&o.delegate("execute").to(this,s),o}_createLabeledInputView(){const e=this.locale.t,i=new xn(this.locale,qz);return i.label=e("Resize image (in %0)",this.unit),i.fieldView.set({step:.1}),i}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.labeledInput.errorText=i,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:e}=this.labeledInput.fieldView;return e?e.value:null}get parsedSize(){const{rawSize:e}=this;if(e===null)return null;const i=Number.parseFloat(e);return Number.isNaN(i)?null:i}get sizeWithUnits(){const{parsedSize:e,unit:i}=this;return e===null?null:`${e}${i}`}}function x6e(n,t){const e=Z$(n);if(!e)return null;const i=NT(e.dom),r=K$(window.getComputedStyle(e.dom).minWidth)||{value:1},s=Math.max(.1,Y$(i,r,t).value);return{unit:t,lower:s,upper:t==="px"?i:100}}class k6e extends L{constructor(){super(...arguments);g(this,"_balloon");g(this,"_form")}static get requires(){return[Yi]}static get pluginName(){return"ImageCustomResizeUI"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(e){const i=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Rf(_6e))(i.locale,e,C6e(i)),this._form.render(),this.listenTo(this._form,"submit",()=>{this._form.isValid()&&(i.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))}),this.listenTo(this._form.labeledInput,"change:errorText",()=>{i.ui.update()}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(r,s)=>{this._hideForm(!0),s()}),Oo({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(e){if(this._isVisible)return;this._form||this._createForm(e);const i=this.editor,r=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:$T(i)});const s=y6e(i,e),o=s?s.value.toFixed(1):"",a=x6e(i,e);r.fieldView.value=r.fieldView.element.value=o,a&&Object.assign(r.fieldView,{min:a.lower.toFixed(1),max:Math.ceil(a.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}function C6e(n){const t=n.t;return[e=>{if(e.rawSize.trim()==="")return t("The value must not be empty.");if(e.parsedSize===null)return t("The value should be a plain number.")}]}class E6e extends L{static get requires(){return[G$,v6e,k6e,g6e]}static get pluginName(){return"ImageResize"}static get isOfficialPlugin(){return!0}}class S6e extends je{constructor(e,i){super(e);g(this,"_defaultStyles");g(this,"_styles");this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(r=>{if(r.isDefault)for(const s of r.modelElements)this._defaultStyles[s]=r.name;return[r.name,r]}))}refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled?r.hasAttribute("imageStyle")?this.value=r.getAttribute("imageStyle"):this.value=this._defaultStyles[r.name]:this.value=!1}execute(e={}){const i=this.editor,r=i.model,s=i.plugins.get("ImageUtils");r.change(o=>{const a=e.value,{setImageSizes:l=!0}=e;let c=s.getClosestSelectedImageElement(r.document.selection);a&&this.shouldConvertImageType(a,c)&&(this.editor.execute(s.isBlockImage(c)?"imageTypeInline":"imageTypeBlock",{setImageSizes:l}),c=s.getClosestSelectedImageElement(r.document.selection)),!a||this._styles.get(a).isDefault?o.removeAttribute("imageStyle",c):o.setAttribute("imageStyle",a,c),l&&s.setImageNaturalSizeAttributes(c)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}const xb={get inline(){return{name:"inline",title:"In line",icon:se.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:se.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:se.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:se.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:se.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:se.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:se.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:se.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},J$={full:se.objectFullWidth,left:se.objectBlockLeft,right:se.objectBlockRight,center:se.objectCenter,inlineLeft:se.objectLeft,inlineRight:se.objectRight,inline:se.objectInline},X$=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function T6e(n){return(n.configuredStyles.options||[]).map(i=>P6e(i)).filter(i=>R6e(i,n))}function A6e(n,t){return n&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}}function I6e(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...X$]:[]}function P6e(n){return typeof n=="string"?xb[n]?n={...xb[n]}:n={name:n}:n=O6e(xb[n.name],n),typeof n.icon=="string"&&(n.icon=J$[n.icon]||n.icon),n}function R6e(n,{isBlockPluginLoaded:t,isInlinePluginLoaded:e}){const{modelElements:i,name:r}=n;if(!i||!i.length||!r)return Q$({style:n}),!1;{const s=[t?"imageBlock":null,e?"imageInline":null];if(!i.some(o=>s.includes(o)))return ht("image-style-missing-dependency",{style:n,missingPlugins:i.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function O6e(n,t){const e={...t};for(const i in n)Object.prototype.hasOwnProperty.call(t,i)||(e[i]=n[i]);return e}function Q$(n){ht("image-style-configuration-definition-invalid",n)}var dC={normalizeStyles:T6e,getDefaultStylesConfiguration:A6e,getDefaultDropdownDefinitions:I6e,warnInvalidStyle:Q$,DEFAULT_OPTIONS:xb,DEFAULT_ICONS:J$,DEFAULT_DROPDOWN_DEFINITIONS:X$};function N6e(n){return(t,e,i)=>{if(!i.consumable.consume(e.item,t.name))return;const r=$8(e.attributeNewValue,n),s=$8(e.attributeOldValue,n),o=i.mapper.toViewElement(e.item),a=i.writer;s&&a.removeClass(s.className,o),r&&a.addClass(r.className,o)}}function M6e(n){const t={imageInline:n.filter(e=>!e.isDefault&&e.modelElements.includes("imageInline")),imageBlock:n.filter(e=>!e.isDefault&&e.modelElements.includes("imageBlock"))};return(e,i,r)=>{if(!i.modelRange)return;const s=i.viewItem,o=Ut(i.modelRange.getItems());if(o&&r.schema.checkAttribute(o,"imageStyle"))for(const a of t[o.name])r.consumable.consume(s,{classes:a.className})&&r.writer.setAttribute("imageStyle",a.name,o)}}function $8(n,t){for(const e of t)if(e.name===n)return e}class eU extends L{constructor(){super(...arguments);g(this,"normalizedStyles")}static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[_i]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=dC,r=this.editor,s=r.plugins.has("ImageBlockEditing"),o=r.plugins.has("ImageInlineEditing");r.config.define("image.styles",i(s,o)),this.normalizedStyles=e({configuredStyles:r.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:o}),this._setupConversion(s,o),this._setupPostFixer(),r.commands.add("imageStyle",new S6e(r,this.normalizedStyles))}_setupConversion(e,i){const r=this.editor,s=r.model.schema,o=N6e(this.normalizedStyles),a=M6e(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",o),r.data.downcastDispatcher.on("attribute:imageStyle",o),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",a,{priority:"low"})),i&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",a,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,r=e.plugins.get(_i),s=new Map(this.normalizedStyles.map(o=>[o.name,o]));i.registerPostFixer(o=>{let a=!1;for(const l of i.differ.getChanges())if(l.type=="insert"||l.type=="attribute"&&l.attributeKey=="imageStyle"){let c=l.type=="insert"?l.position.nodeAfter:l.range.start.nodeAfter;if(c&&c.is("element","paragraph")&&c.childCount>0&&(c=c.getChild(0)),!r.isImage(c))continue;const d=c.getAttribute("imageStyle");if(!d)continue;const h=s.get(d);(!h||!h.modelElements.includes(c.name))&&(o.removeAttribute("imageStyle",c),a=!0)}return a})}}class D6e extends L{static get requires(){return[eU]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],i=t.get("ImageStyleEditing"),r=U8(i.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of r)this._createButton(o);const s=U8([...e.filter(qt),...dC.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const o of s)this._createDropdown(o,r)}_createDropdown(t,e){const i=this.editor.ui.componentFactory;i.add(t.name,r=>{let s;const{defaultItem:o,items:a,title:l}=t,c=a.filter(b=>e.find(({name:_})=>H8(_)===b)).map(b=>{const _=i.create(b);return b===o&&(s=_),_});a.length!==c.length&&dC.warnInvalidStyle({dropdown:t});const d=zn(r,Cu),h=d.buttonView,p=h.arrowView;return Yp(d,c,{enableActiveItemFocusOnDropdownOpen:!0}),h.set({label:W8(l,s.label),class:null,tooltip:!0}),p.unbind("label"),p.set({label:l}),h.bind("icon").toMany(c,"isOn",(...b)=>{const _=b.findIndex(Cl);return _<0?s.icon:c[_].icon}),h.bind("label").toMany(c,"isOn",(...b)=>{const _=b.findIndex(Cl);return W8(l,_<0?s.label:c[_].label)}),h.bind("isOn").toMany(c,"isOn",(...b)=>b.some(Cl)),h.bind("class").toMany(c,"isOn",(...b)=>b.some(Cl)?"ck-splitbutton_flatten":void 0),h.on("execute",()=>{c.some(({isOn:b})=>b)?d.isOpen=!d.isOpen:s.fire("execute")}),d.bind("isEnabled").toMany(c,"isEnabled",(...b)=>b.some(Cl)),this.listenTo(d,"execute",()=>{this.editor.editing.view.focus()}),d})}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(H8(e),i=>{const r=this.editor.commands.get("imageStyle"),s=new Pe(i);return s.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value",o=>o===e),s.on("execute",this._executeCommand.bind(this,e)),s})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function U8(n,t){for(const e of n)t[e.title]&&(e.title=t[e.title]);return n}function H8(n){return`imageStyle:${n}`}function W8(n,t){return(n?n+": ":"")+t}class L6e extends L{static get requires(){return[eU,D6e]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class V6e extends L{static get requires(){return[D1,_i]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,i=t.plugins.get(D1),r=t.plugins.get("ImageUtils");i.register("image",{ariaLabel:e("Image toolbar"),items:F6e(t.config.get("image.toolbar")||[]),getRelatedElement:s=>r.getClosestSelectedImageWidget(s)})}}function F6e(n){return n.map(t=>qt(t)?t.name:t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class B6e extends L{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("indent",new rR(t)),t.commands.add("outdent",new rR(t))}}class j6e extends L{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,i=t.t,r=e.uiLanguageDirection=="ltr"?se.indent:se.outdent,s=e.uiLanguageDirection=="ltr"?se.outdent:se.indent;this._defineButton("indent",i("Increase indent"),r),this._defineButton("outdent",i("Decrease indent"),s)}_defineButton(t,e,i){const r=this.editor;r.ui.componentFactory.add(t,()=>{const s=this._createButton(Pe,t,e,i);return s.set({tooltip:!0}),s}),r.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(Et,t,e,i))}_createButton(t,e,i,r){const s=this.editor,o=s.commands.get(e),a=new t(s.locale);return a.set({label:i,icon:r}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{s.execute(e),s.editing.view.focus()}),a}}class z6e extends L{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[B6e,j6e]}}class q0 extends je{constructor(e,i){super(e);g(this,"_indentBehavior");this._indentBehavior=i}refresh(){const i=this.editor.model,r=Ut(i.document.selection.getSelectedBlocks());if(!r||!this._isIndentationChangeAllowed(r)){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(r.getAttribute("blockIndent"))}execute(){const e=this.editor.model,i=this._getBlocksToChange();e.change(r=>{for(const s of i){const o=s.getAttribute("blockIndent"),a=this._indentBehavior.getNextIndent(o);a?r.setAttribute("blockIndent",a,s):r.removeAttribute("blockIndent",s)}})}_getBlocksToChange(){const i=this.editor.model.document.selection;return Array.from(i.getSelectedBlocks()).filter(s=>this._isIndentationChangeAllowed(s))}_isIndentationChangeAllowed(e){const i=this.editor;return i.model.schema.checkAttribute(e,"blockIndent")?!i.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!i.plugins.get("ListUtils").isListItemBlock(e):!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class q8{constructor(t){g(this,"isForward");g(this,"offset");g(this,"unit");this.isForward=t.direction==="forward",this.offset=t.offset,this.unit=t.unit}checkEnabled(t){const e=parseFloat(t||"0");return this.isForward||e>0}getNextIndent(t){const e=parseFloat(t||"0");if(!(!t||t.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const r=this.isForward?this.offset:-this.offset,s=e+r;return s>0?s+this.unit:void 0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class G8{constructor(t){g(this,"isForward");g(this,"classes");this.isForward=t.direction==="forward",this.classes=t.classes}checkEnabled(t){const e=this.classes.indexOf(t);return this.isForward?e<this.classes.length-1:e>=0}getNextIndent(t){const e=this.classes.indexOf(t),i=this.isForward?1:-1;return this.classes[e+i]}}const $6e=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class U6e extends L{constructor(t){super(t),t.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.config.get("indentBlock");e.classes&&e.classes.length?(this._setupConversionUsingClasses(e.classes),t.commands.add("indentBlock",new q0(t,new G8({direction:"forward",classes:e.classes}))),t.commands.add("outdentBlock",new q0(t,new G8({direction:"backward",classes:e.classes})))):(t.data.addStyleProcessorRules(xCe),this._setupConversionUsingOffset(),t.commands.add("indentBlock",new q0(t,new q8({direction:"forward",offset:e.offset,unit:e.unit}))),t.commands.add("outdentBlock",new q0(t,new q8({direction:"backward",offset:e.offset,unit:e.unit}))))}afterInit(){const t=this.editor,e=t.model.schema,i=t.commands.get("indent"),r=t.commands.get("outdent"),s=t.config.get("heading.options");(s&&s.map(l=>l.model)||$6e).forEach(l=>{e.isRegistered(l)&&e.extend(l,{allowAttributes:"blockIndent"})}),e.setAttributeProperties("blockIndent",{isFormatting:!0}),i.registerChildCommand(t.commands.get("indentBlock")),r.registerChildCommand(t.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const t=this.editor.conversion,i=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:{[i]:/[\s\S]+/}},model:{key:"blockIndent",value:r=>{if(!r.is("element","li"))return r.getStyle(i)}}}),t.for("downcast").attributeToAttribute({model:"blockIndent",view:r=>({key:"style",value:{[i]:r}})})}_setupConversionUsingClasses(t){const e={model:{key:"blockIndent",values:[]},view:{}};for(const i of t)e.model.values.push(i),e.view[i]={key:"class",value:[i]};this.editor.conversion.attributeToAttribute(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function WT(n,t){return t=t||Bk(n),`${n}:${t}`}function H6e(n){const[t,e]=n.split(":");return{languageCode:t,textDirection:e}}class W6e extends je{refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"language")}execute({languageCode:t,textDirection:e}={}){const i=this.editor.model,s=i.document.selection,o=t?WT(t,e):!1;i.change(a=>{if(s.isCollapsed)o?a.setSelectionAttribute("language",o):a.removeSelectionAttribute("language");else{const l=i.schema.getValidRanges(s.getRanges(),"language");for(const c of l)o?a.setAttribute("language",o,c):a.removeAttribute("language",c)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,i=t.document.selection;if(i.isCollapsed)return i.getAttribute("language")||!1;for(const r of i.getRanges())for(const s of r.getItems())if(e.checkAttribute(s,"language"))return s.getAttribute("language")||!1;return!1}}class q6e extends L{static get pluginName(){return"TextPartLanguageEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"language"}),t.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),t.commands.add("textPartLanguage",new W6e(t))}_defineConverters(){const t=this.editor.conversion;t.for("upcast").elementToAttribute({model:{key:"language",value:e=>{const i=e.getAttribute("lang"),r=e.getAttribute("dir");return WT(i,r)}},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),t.for("downcast").attributeToElement({model:"language",view:(e,{writer:i},r)=>{if(!e||!r.item.is("$textProxy")&&!r.item.is("documentSelection"))return;const{languageCode:s,textDirection:o}=H6e(e);return i.createAttributeElement("span",{lang:s,dir:o})}})}}class G6e extends L{static get pluginName(){return"TextPartLanguageUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=e("Choose language"),r=e("Language");t.ui.componentFactory.add("textPartLanguage",s=>{const{definitions:o,titles:a}=this._getItemMetadata(),l=t.commands.get("textPartLanguage"),c=zn(s);return No(c,o,{ariaLabel:r,role:"menu"}),c.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),c.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),c.bind("isEnabled").to(l,"isEnabled"),c.buttonView.bind("label").to(l,"value",d=>d&&a[d]||i),c.buttonView.bind("ariaLabel").to(l,"value",d=>{const h=d&&a[d];return h?`${h}, ${r}`:r}),this.listenTo(c,"execute",d=>{l.execute({languageCode:d.source.languageCode,textDirection:d.source.textDirection}),t.editing.view.focus()}),c}),t.ui.componentFactory.add("menuBar:textPartLanguage",s=>{const{definitions:o}=this._getItemMetadata(),a=t.commands.get("textPartLanguage"),l=new Mi(s);l.buttonView.set({label:r});const c=new xo(s);c.set({ariaLabel:e("Language"),role:"menu"});for(const d of o){if(d.type!="button"){c.items.add(new Kp(s));continue}const h=new Ds(s,l),p=new Et(s);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(d.model)).to(d.model),p.delegate("execute").to(l),h.children.add(p),c.items.add(h)}return l.bind("isEnabled").to(a,"isEnabled"),l.panelView.children.add(c),l.on("execute",d=>{a.execute({languageCode:d.source.languageCode,textDirection:d.source.textDirection}),t.editing.view.focus()}),l})}_getItemMetadata(){const t=this.editor,e=new Sn,i={},r=t.commands.get("textPartLanguage"),s=t.config.get("language.textPartLanguage"),o=t.locale.t,a=o("Remove language");e.add({type:"button",model:new Ls({label:a,languageCode:!1,withText:!0})}),e.add({type:"separator"});for(const l of s){const c={type:"button",model:new Ls({label:l.title,languageCode:l.languageCode,role:"menuitemradio",textDirection:l.textDirection,withText:!0})},d=WT(l.languageCode,l.textDirection);c.model.bind("isOn").to(r,"value",h=>h===d),e.add(c),i[d]=l.title}return{definitions:e,titles:i}}}class K6e extends L{static get requires(){return[q6e,G6e]}static get pluginName(){return"TextPartLanguage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Y6e{constructor(){g(this,"_definitions",new Set)}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,i,r)=>{if(!r.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||r.schema.isInline(i.item)))return;const s=r.writer,o=s.document.selection;for(const a of this._definitions){const l=s.createAttributeElement("a",a.attributes,{priority:5});a.classes&&s.addClass(a.classes,l);for(const c in a.styles)s.setStyle(c,a.styles[c],l);s.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?s.wrap(o.getFirstRange(),l):s.wrap(r.mapper.toViewRange(i.range),l):s.unwrap(r.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,i,{writer:r,mapper:s})=>{const o=s.toViewElement(i.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));if(a)for(const l of this._definitions){const c=Os(l.attributes);if(l.callback(i.attributeNewValue)){for(const[d,h]of c)d==="class"?r.addClass(h,a):r.setAttribute(d,h,a);l.classes&&r.addClass(l.classes,a);for(const d in l.styles)r.setStyle(d,l.styles[d],a)}else{for(const[d,h]of c)d==="class"?r.removeClass(h,a):r.removeAttribute(d,a);l.classes&&r.removeClass(l.classes,a);for(const d in l.styles)r.removeStyle(d,a)}}})}}}const Z6e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,J6e="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",X6e=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Q6e=/^((\w+:(\/{2,})?)|(\W))/i,eRe=["https?","ftps?","mailto"],Gh="Ctrl+K";function tRe(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function K8(n,{writer:t}){const e=t.createAttributeElement("a",{href:n},{priority:5});return t.setCustomProperty("link",!0,e),e}function tU(n,t=eRe){const e=String(n),i=t.join("|"),r=new RegExp(`${J6e.replace("<protocols>",i)}`,"i");return nRe(e,r)?e:"#"}function nRe(n,t){return!!n.replace(Z6e,"").match(t)}function iRe(n,t){const e={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return t.forEach(i=>("label"in i&&e[i.label]&&(i.label=e[i.label]),i)),t}function rRe(n){const t=[];if(n)for(const[e,i]of Object.entries(n)){const r=Object.assign({},i,{id:`link${bB(e)}`});t.push(r)}return t}function fC(n,t){return n?t.checkAttribute(n.name,"linkHref"):!1}function sRe(n){return X6e.test(n)}function qT(n,t){const e=sRe(n)?"mailto:":t,i=!!e&&!nU(n);return n&&i?e+n:n}function nU(n){return Q6e.test(n)}function iU(n){window.open(n,"_blank","noopener")}function rU(n){const t=n.plugins.has("BookmarkEditing")?n.plugins.get("BookmarkEditing"):null;function e(r){return!!r&&r.startsWith("#")&&!!t&&!!t.getElementForBookmarkId(r.slice(1))}function i(r){const s=r.slice(1),o=t.getElementForBookmarkId(s);n.model.change(a=>{a.setSelection(o,"on")}),n.editing.view.scrollToTheSelection({alignToTop:!0,forceScroll:!0})}return{isScrollableToTarget:e,scrollToTarget:i}}class oRe extends je{constructor(){super(...arguments);g(this,"manualDecorators",new Sn);g(this,"automaticDecorators",new Y6e)}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,r=i.getSelectedElement()||Ut(i.getSelectedBlocks());fC(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,i={}){const r=this.editor.model,s=r.document.selection,o=[],a=[];for(const l in i)i[l]?o.push(l):a.push(l);r.change(l=>{if(s.isCollapsed){const c=s.getFirstPosition();if(s.hasAttribute("linkHref")){const d=Y8(s);let h=Zp(c,"linkHref",s.getAttribute("linkHref"),r);s.getAttribute("linkHref")===d&&(h=this._updateLinkContent(r,l,h,e)),l.setAttribute("linkHref",e,h),o.forEach(p=>{l.setAttribute(p,!0,h)}),a.forEach(p=>{l.removeAttribute(p,h)}),l.setSelection(l.createPositionAfter(h.end.nodeBefore))}else if(e!==""){const d=Os(s.getAttributes());d.set("linkHref",e),o.forEach(p=>{d.set(p,!0)});const{end:h}=r.insertContent(l.createText(e,d),c);l.setSelection(h)}["linkHref",...o,...a].forEach(d=>{l.removeSelectionAttribute(d)})}else{const c=r.schema.getValidRanges(s.getRanges(),"linkHref"),d=[];for(const p of s.getSelectedBlocks())r.schema.checkAttribute(p,"linkHref")&&d.push(l.createRangeOn(p));const h=d.slice();for(const p of c)this._isRangeToUpdate(p,d)&&h.push(p);for(const p of h){let b=p;if(h.length===1){const _=Y8(s);s.getAttribute("linkHref")===_&&(b=this._updateLinkContent(r,l,p,e),l.setSelection(l.createSelection(b)))}l.setAttribute("linkHref",e,b),o.forEach(_=>{l.setAttribute(_,!0,b)}),a.forEach(_=>{l.removeAttribute(_,b)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,r=i.document.selection,s=r.getSelectedElement();return fC(s,i.schema)?s.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,i){for(const r of i)if(r.containsRange(e))return!1;return!0}_updateLinkContent(e,i,r,s){const o=i.createText(s,{linkHref:s});return e.insertContent(o,r)}}function Y8(n){if(n.isCollapsed){const t=n.getFirstPosition();return t.textNode&&t.textNode.data}else{const t=Array.from(n.getFirstRange().getItems());if(t.length>1)return null;const e=t[0];return e.is("$text")||e.is("$textProxy")?e.data:null}}class aRe extends je{refresh(){const t=this.editor.model,e=t.document.selection,i=e.getSelectedElement();fC(i,t.schema)?this.isEnabled=t.schema.checkAttribute(i,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,i=e.document.selection,r=t.commands.get("link");e.change(s=>{const o=i.isCollapsed?[Zp(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),e)]:e.schema.getValidRanges(i.getRanges(),"linkHref");for(const a of o)if(s.removeAttribute("linkHref",a),r)for(const l of r.manualDecorators)s.removeAttribute(l.id,a)})}}class lRe extends Ot(){constructor({id:e,label:i,attributes:r,classes:s,styles:o,defaultValue:a}){super();g(this,"id");g(this,"defaultValue");g(this,"label");g(this,"attributes");g(this,"classes");g(this,"styles");this.id=e,this.set("value",void 0),this.defaultValue=a,this.label=i,this.attributes=r,this.classes=s,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const cRe="ck-link_selected",Z8="automatic",uRe="manual",dRe=/^(https?:)?\/\//;class vv extends L{static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[N1,s$,pr]}constructor(t){super(t),t.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const t=this.editor,e=this.editor.config.get("link.allowedProtocols");t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:K8}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,o)=>K8(tU(s,e),o)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),t.commands.add("link",new oRe(t)),t.commands.add("unlink",new aRe(t));const i=iRe(t.t,rRe(t.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(s=>s.mode===Z8)),this._enableManualDecorators(i.filter(s=>s.mode===uRe)),t.plugins.get(N1).registerAttribute("linkHref"),c$(t,"linkHref","a",cRe),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,r=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:Z8,callback:s=>!!s&&dRe.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(t),r.length&&e.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,r=e.commands.get("link").manualDecorators;t.forEach(s=>{e.model.schema.extend("$text",{allowAttributes:s.id});const o=new lRe(s);r.add(o),e.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:c},{item:d})=>{if((d.is("selection")||c.isInline(d))&&a){const h=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,h);for(const p in o.styles)l.setStyle(p,o.styles[p],h);return l.setCustomProperty("link",!0,h),h}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const t=this.editor,i=t.editing.view.document,r=rU(t);function s(o){r.isScrollableToTarget(o)?r.scrollToTarget(o):iU(o)}this.listenTo(i,"click",(o,a)=>{if(!(qe.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let c=a.domTarget;if(c.tagName.toLowerCase()!="a"&&(c=c.closest("a")),!c)return;const d=c.getAttribute("href");d&&(o.stop(),a.preventDefault(),s(d))},{context:"$capture"}),this.listenTo(i,"keydown",(o,a)=>{const c=t.commands.get("link").value;c&&a.keyCode===ct.enter&&a.altKey&&(o.stop(),s(c))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(r,{attributeKeys:s})=>{!s.includes("linkHref")||i.hasAttribute("linkHref")||e.change(o=>{fRe(o,hRe(e.schema))})})}_enableClipboardIntegration(){const t=this.editor,e=t.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(r,s)=>{e.change(o=>{const a=o.createRangeIn(s.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=qT(l.getAttribute("linkHref"),i);o.setAttribute("linkHref",c,l)}})})}}function fRe(n,t){n.removeSelectionAttribute("linkHref");for(const e of t)n.removeSelectionAttribute(e)}function hRe(n){return n.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}class mRe extends de{constructor(e,i,r){super(e);g(this,"focusTracker",new Pt);g(this,"keystrokes",new jt);g(this,"urlInputView");g(this,"saveButtonView");g(this,"cancelButtonView");g(this,"_manualDecoratorSwitches");g(this,"children");g(this,"_validators");g(this,"_focusables",new Hn);g(this,"_focusCycler");const s=e.t;this._validators=r,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),se.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),se.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),za({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,i=new xn(this.locale,dr);return i.fieldView.inputMode="url",i.label=e("Link URL"),i}_createButton(e,i,r,s){const o=new Pe(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.extendTemplate({attributes:{class:r}}),s&&o.delegate("execute").to(this,s),o}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const r of e.manualDecorators){const s=new uu(this.locale);s.set({name:r.id,label:r.label,withText:!0}),s.bind("isOn").toMany([r,e],"value",(o,a)=>a===void 0&&o===void 0?!!r.defaultValue:!!o),s.on("execute",()=>{r.set("value",!s.isOn)}),i.add(s)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const r=new de;r.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(r)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var pRe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class gRe extends de{constructor(e,i={},r){super(e);g(this,"focusTracker",new Pt);g(this,"keystrokes",new jt);g(this,"previewButtonView");g(this,"unlinkButtonView");g(this,"editButtonView");g(this,"_focusables",new Hn);g(this,"_focusCycler");g(this,"_linkConfig");g(this,"_options");const s=e.t;this._options=r,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),pRe,"unlink"),this.editButtonView=this._createButton(s("Edit link"),se.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,r){const s=new Pe(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s.delegate("execute").to(this,r),s}_createPreviewButton(){const e=new Pe(this.locale),i=this.bindTemplate,r=this.t;return e.set({withText:!0}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",s=>s&&tU(s,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"},on:{click:i.to(s=>{this._options&&this._options.isScrollableToTarget(this.href)?(s.preventDefault(),this._options.scrollToTarget(this.href)):iU(this.href)})}}),e.bind("tooltip").to(this,"href",s=>this._options&&this._options.isScrollableToTarget(s)?r("Scroll to target"):r("Open link in new tab")),e.bind("label").to(this,"href",s=>s||r("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e}}var sU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';const to="link-ui";class oU extends L{constructor(){super(...arguments);g(this,"actionsView",null);g(this,"formView",null);g(this,"_balloon")}static get requires(){return[Yi]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(mz),this._balloon=e.plugins.get(Yi),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:to,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:to,view:(r,{writer:s})=>{if(!r.markerRange.isCollapsed)return null;const o=s.createUIElement("span");return s.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],o),o}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:Gh},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new gRe(e.locale,e.config.get("link"),rU(e)),r=e.commands.get("link"),s=e.commands.get("unlink");return i.bind("href").to(r,"value"),i.editButtonView.bind("isEnabled").to(r),i.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(o,a)=>{this._hideUI(),a()}),i.keystrokes.set(Gh,(o,a)=>{this._addFormView(),a()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),s=new(Rf(mRe))(e.locale,i,bRe(e));return s.urlInputView.fieldView.bind("value").to(i,"value"),s.urlInputView.bind("isEnabled").to(i,"isEnabled"),s.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"submit",()=>{if(s.isValid()){const{value:o}=s.urlInputView.fieldView.element,a=qT(o,r);e.execute("link",a,s.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(s.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(o,a)=>{this._closeFormView(),a()}),s}_createToolbarLinkButton(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const i=this._createButton(Pe);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:link",()=>{const i=this._createButton(Et);return i.set({role:"menuitemcheckbox"}),i})}_createButton(e){const i=this.editor,r=i.locale,s=i.commands.get("link"),o=new e(i.locale),a=r.t;return o.set({label:a("Link"),icon:sU,keystroke:Gh,isToggleable:!0}),o.bind("isEnabled").to(s,"isEnabled"),o.bind("isOn").to(s,"value",l=>!!l),this.listenTo(o,"execute",()=>this._showUI(!0)),o}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Gh,(r,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),Oo({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=i.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let r=this._getSelectedLinkElement(),s=a();const o=()=>{const l=this._getSelectedLinkElement(),c=a();r&&!l||!r&&c!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=l,s=c};function a(){return i.selection.focus.getAncestors().reverse().find(l=>l.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,r=e.document;let s;if(i.markers.has(to)){const o=Array.from(this.editor.editing.mapper.markerNameToElements(to)),a=e.createRange(e.createPositionBefore(o[0]),e.createPositionAfter(o[o.length-1]));s=e.domConverter.viewRangeToDom(a)}else s=()=>{const o=this._getSelectedLinkElement();return o?e.domConverter.mapViewToDom(o):e.domConverter.viewRangeToDom(r.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,r=i.getSelectedElement();if(i.isCollapsed||r&&In(r))return Qx(i.getFirstPosition());{const s=i.getFirstRange().getTrimmed(),o=Qx(s.start),a=Qx(s.end);return!o||o!=a?null:e.createRangeIn(o).getTrimmed().isEqual(s)?o:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const r=e.document.selection.getFirstRange();if(e.markers.has(to))i.updateMarker(to,{range:r});else if(r.start.isAtEnd){const s=r.start.getLastMatchingPosition(({item:o})=>!e.schema.isContent(o),{boundaries:r});i.addMarker(to,{usingOperation:!1,affectsData:!1,range:i.createRange(s,r.end)})}else i.addMarker(to,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(to)&&e.change(i=>{i.removeMarker(to)})}}function Qx(n){return n.getAncestors().find(t=>tRe(t))||null}function bRe(n){const t=n.t,e=n.config.get("link.allowCreatingEmptyLinks");return[i=>{if(!e&&!i.url.length)return t("Link URL must not be empty.")}]}const wRe=4,aU=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),vRe=2;class yRe extends L{static get requires(){return[ko,vv]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?Zp(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const r=this.editor.model,s=r.document.selection,o=s.getFirstPosition(),a=s.getLastPosition();let l=e.getJoined(this._expandLinkRange(r,o)||e);l&&(l=l.getJoined(this._expandLinkRange(r,a)||e)),l&&(l.start.isBefore(o)||l.end.isAfter(a))&&t.setSelection(l)}_enablePasteLinking(){const t=this.editor,e=t.model,i=e.document.selection,r=t.plugins.get("ClipboardPipeline"),s=t.commands.get("link");r.on("inputTransformation",(o,a)=>{if(!this.isEnabled||!s.isEnabled||i.isCollapsed||a.method!=="paste"||i.rangeCount>1)return;const l=i.getFirstRange(),c=a.dataTransfer.getData("text/plain");if(!c)return;const d=c.match(aU);d&&d[2]===c&&(e.change(h=>{this._selectEntireLinks(h,l),s.execute(c)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new RT(t.model,i=>{if(!_Re(i))return;const r=J8(i.substr(0,i.length-1));if(r)return{url:r}});e.on("matched:data",(i,r)=>{const{batch:s,range:o,url:a}=r;if(!s.isTyping)return;const l=o.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),d=t.model.createRange(c,l);this._applyAutoLink(a,d)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("enter");i&&i.on("execute",()=>{const r=e.document.selection.getFirstPosition();if(!r.parent.previousSibling)return;const s=e.createRangeIn(r.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(s)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("shiftEnter");i&&i.on("execute",()=>{const r=e.document.selection.getFirstPosition(),s=e.createRange(e.createPositionAt(r.parent,0),r.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:i,range:r}=l$(t,e),s=J8(i);if(s){const o=e.createRange(r.end.getShiftedBy(-s.length),r.end);this._applyAutoLink(s,o)}}_applyAutoLink(t,e){const i=this.editor.model,r=this.editor.config.get("link.defaultProtocol"),s=qT(t,r);!this.isEnabled||!xRe(e,i)||!nU(s)||kRe(e)||this._persistAutoLink(s,e)}_persistAutoLink(t,e){const i=this.editor.model,r=this.editor.plugins.get("Delete");i.enqueueChange(s=>{s.setAttribute("linkHref",t,e),i.enqueueChange(()=>{r.requestUndoOnBackspace()})})}}function _Re(n){return n.length>wRe&&n[n.length-1]===" "&&n[n.length-2]!==" "}function J8(n){const t=aU.exec(n);return t?t[vRe]:null}function xRe(n,t){return t.schema.checkAttributeInSelection(t.createSelection(n),"linkHref")}function kRe(n){const t=n.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}class CRe extends L{static get requires(){return[vv,oU,yRe]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}class ERe extends L{static get requires(){return["ImageEditing","ImageUtils",vv]}static get pluginName(){return"LinkImageEditing"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.model.schema;t.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["linkHref"]}),t.conversion.for("upcast").add(SRe(t)),t.conversion.for("downcast").add(TRe(t)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const t=this.editor,i=t.commands.get("link").automaticDecorators;i.length&&t.conversion.for("downcast").add(i.getDispatcherForLinkedImage())}_enableManualDecorators(){const t=this.editor,e=t.commands.get("link");for(const i of e.manualDecorators)t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:i.id}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:i.id}),t.conversion.for("downcast").add(ARe(i)),t.conversion.for("upcast").add(IRe(t,i))}}function SRe(n){const t=n.plugins.has("ImageInlineEditing"),e=n.plugins.get("ImageUtils");return i=>{i.on("element:a",(r,s,o)=>{const a=s.viewItem,l=e.findViewImgElement(a);if(!l)return;const c=l.findAncestor(b=>e.isBlockImageView(b));if(t&&!c)return;const d={attributes:["href"]};if(!o.consumable.consume(a,d))return;const h=a.getAttribute("href");if(!h)return;let p=s.modelCursor.parent;if(!p.is("element","imageBlock")){const b=o.convertItem(l,s.modelCursor);s.modelRange=b.modelRange,s.modelCursor=b.modelCursor,p=s.modelCursor.nodeBefore}p&&p.is("element","imageBlock")&&o.writer.setAttribute("linkHref",h,p)},{priority:"high"})}}function TRe(n){const t=n.plugins.get("ImageUtils");return e=>{e.on("attribute:linkHref:imageBlock",(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const o=s.mapper.toViewElement(r.item),a=s.writer,l=Array.from(o.getChildren()).find(h=>h.is("element","a")),c=t.findViewImgElement(o),d=c.parent.is("element","picture")?c.parent:c;if(l)r.attributeNewValue?a.setAttribute("href",r.attributeNewValue,l):(a.move(a.createRangeOn(d),a.createPositionAt(o,0)),a.remove(l));else{const h=a.createContainerElement("a",{href:r.attributeNewValue});a.insert(a.createPositionAt(o,0),h),a.move(a.createRangeOn(d),a.createPositionAt(h,0))}},{priority:"high"})}}function ARe(n){return t=>{t.on(`attribute:${n.id}:imageBlock`,(e,i,r)=>{const s=r.mapper.toViewElement(i.item),o=Array.from(s.getChildren()).find(a=>a.is("element","a"));if(o){for(const[a,l]of Os(n.attributes))r.writer.setAttribute(a,l,o);n.classes&&r.writer.addClass(n.classes,o);for(const a in n.styles)r.writer.setStyle(a,n.styles[a],o)}})}}function IRe(n,t){const e=n.plugins.has("ImageInlineEditing"),i=n.plugins.get("ImageUtils");return r=>{r.on("element:a",(s,o,a)=>{const l=o.viewItem,c=i.findViewImgElement(l);if(!c)return;const d=c.findAncestor(_=>i.isBlockImageView(_));if(e&&!d)return;const p=new Ki(t._createPattern()).match(l);if(!p||!a.consumable.consume(l,p.match))return;const b=o.modelCursor.nodeBefore||o.modelCursor.parent;a.writer.setAttribute(t.id,!0,b)},{priority:"high"})}}class PRe extends L{static get requires(){return[vv,oU,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(i,r)=>{this._isSelectedLinkedImage(t.model.document.selection)&&(r.preventDefault(),i.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("linkImage",i=>{const r=new Pe(i),s=t.plugins.get("LinkUI"),o=t.commands.get("link");return r.set({isEnabled:!0,label:e("Link image"),icon:sU,keystroke:Gh,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",a=>!!a),this.listenTo(r,"execute",()=>{this._isSelectedLinkedImage(t.model.document.selection)?s._addActionsView():s._showUI(!0)}),r})}_isSelectedLinkedImage(t){const e=t.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(e)&&e.hasAttribute("linkHref")}}class RRe extends L{static get requires(){return[ERe,PRe]}static get pluginName(){return"LinkImage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class es{constructor(t,e){g(this,"_startElement");g(this,"_referenceIndent");g(this,"_isForward");g(this,"_includeSelf");g(this,"_sameAttributes");g(this,"_sameIndent");g(this,"_lowerIndent");g(this,"_higherIndent");this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=Ct(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){const r=new this(t,e)[Symbol.iterator]();return Ut(r)}*[Symbol.iterator](){const t=[];for(const{node:e}of new eg(this._getStartNode(),this._isForward?"forward":"backward")){const i=e.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some(r=>e.getAttribute(r)!==this._startElement.getAttribute(r)))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class eg{constructor(t,e="forward"){g(this,"_node");g(this,"_isForward");g(this,"_previousNodesByIndent",[]);g(this,"_previous",null);g(this,"_previousNodeIndent",null);this._node=t,this._isForward=e==="forward"}[Symbol.iterator](){return this}next(){if(!Wt(this._node))return{done:!0,value:void 0};const t=this._node.getAttribute("listIndent");let e=null;if(this._previous){const r=this._previousNodeIndent;t>r?this._previousNodesByIndent[r]=this._previous:t<r?(e=this._previousNodesByIndent[t]||null,this._previousNodesByIndent.length=t):e=this._previous}const i={node:this._node,previous:this._previous,previousNodeInList:e};return this._previous=this._node,this._previousNodeIndent=t,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:i,done:!1}}}class ORe{constructor(t){g(this,"_listHead");this._listHead=t}[Symbol.iterator](){return new eg(this._listHead)}}class cf{static next(){return ii()}}function Wt(n){return!!n&&n.is("element")&&n.hasAttribute("listItemId")}function uf(n,t={}){return[...Wl(n,{...t,direction:"backward"}),...Wl(n,{...t,direction:"forward"})]}function Wl(n,t={}){const e=t.direction=="forward",i=Array.from(new es(n,{...t,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?i:i.reverse()}function NRe(n){return Array.from(new es(n,{direction:"forward",higherIndent:!0}))}function lU(n,t){const e=new es(n,{sameIndent:!0,sameAttributes:"listType",...t}),i=new es(n,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(e).reverse(),...i]}function Ra(n){return!es.first(n,{sameIndent:!0,sameAttributes:"listItemId"})}function X8(n){return!es.first(n,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function tg(n,t={}){n=Ct(n);const e=t.withNested!==!1,i=new Set;for(const r of n)for(const s of uf(r,{higherIndent:e}))i.add(s);return Tu(i)}function yv(n){n=Ct(n);const t=new Set;for(const e of n)for(const i of lU(e))t.add(i);return Tu(t)}function GT(n,t){const e=Wl(n,{direction:"forward"}),i=cf.next();for(const r of e)t.setAttribute("listItemId",i,r);return e}function hC(n,t,e){const i={};for(const[s,o]of t.getAttributes())s.startsWith("list")&&(i[s]=o);const r=Wl(n,{direction:"forward"});for(const s of r)e.setAttributes(i,s);return r}function mC(n,t,{expand:e,indentBy:i=1}={}){n=Ct(n);const r=e?tg(n):n;for(const s of r){const o=s.getAttribute("listIndent")+i;o<0?_v(s,t):t.setAttribute("listIndent",o,s)}return r}function MRe(n,t){n=Ct(n);const e=tg(n),i=new Set,r=Math.min(...e.map(o=>o.getAttribute("listIndent"))),s=new Map;for(const o of e)s.set(o,es.first(o,{lowerIndent:!0}));for(const o of e){if(i.has(o))continue;i.add(o);const a=o.getAttribute("listIndent")-1;if(a<0){_v(o,t);continue}if(o.getAttribute("listIndent")==r){const l=LRe(o,s.get(o),t);for(const c of l)i.add(c);if(l.length)continue}t.setAttribute("listIndent",a,o)}return Tu(i)}function _v(n,t){n=Ct(n);for(const e of n)e.is("element","listItem")&&t.rename(e,"paragraph");for(const e of n)for(const i of e.getAttributeKeys())i.startsWith("list")&&t.removeAttribute(i,e);return n}function lp(n){if(!n.length)return!1;const t=n[0].getAttribute("listItemId");return t?!n.some(e=>e.getAttribute("listItemId")!=t):!1}function DRe(n,t){const e=[];let i=Number.POSITIVE_INFINITY;for(const{node:r}of new eg(n.nextSibling)){const s=r.getAttribute("listIndent");if(s==0)break;s<i&&(i=s);const o=s-i;t.setAttribute("listIndent",o,r),e.push(r)}return e}function Tu(n){return Array.from(n).filter(t=>t.root.rootName!=="$graveyard").sort((t,e)=>t.index-e.index)}function cp(n){const t=n.document.selection.getSelectedElement();return t&&n.schema.isObject(t)&&n.schema.isBlock(t)?t:null}function e2(n,t){return t.checkChild(n.parent,"listItem")&&t.checkChild(n,"$text")&&!t.isObject(n)}function U1(n){return n=="numbered"||n=="customNumbered"}function LRe(n,t,e){return Wl(t,{direction:"forward"}).pop().index>n.index?hC(n,t,e):[]}class Q8 extends je{constructor(e,i){super(e);g(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=eO(e.document.selection);e.change(r=>{const s=[];lp(i)&&!Ra(i[0])?(this._direction=="forward"&&s.push(...mC(i,r)),s.push(...GT(i[0],r))):this._direction=="forward"?s.push(...mC(i,r,{expand:!0})):s.push(...MRe(i,r));for(const o of s){if(!o.hasAttribute("listType"))continue;const a=es.first(o,{sameIndent:!0});a&&r.setAttribute("listType",a.getAttribute("listType"),o)}this._fireAfterExecute(s)})}_fireAfterExecute(e){this.fire("afterExecute",Tu(new Set(e)))}_checkEnabled(){let e=eO(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||lp(e)&&!Ra(e[0]))return!0;e=tg(e),i=e[0];const r=es.first(i,{sameIndent:!0});return r?r.getAttribute("listType")==i.getAttribute("listType"):!1}}function eO(n){const t=Array.from(n.getSelectedBlocks()),e=t.findIndex(i=>!Wt(i));return e!=-1&&(t.length=e),t}class Kh extends je{constructor(e,i,r={}){super(e);g(this,"type");g(this,"_listWalkerOptions");this.type=i,this._listWalkerOptions=r.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,r=i.document,s=cp(i),o=Array.from(r.selection.getSelectedBlocks()).filter(l=>i.schema.checkAttribute(l,"listType")||e2(l,i.schema)),a=e.forceValue!==void 0?!e.forceValue:this.value;i.change(l=>{if(a){const c=o[o.length-1],d=Wl(c,{direction:"forward"}),h=[];d.length>1&&h.push(...GT(d[1],l)),h.push(..._v(o,l)),h.push(...DRe(c,l)),this._fireAfterExecute(h)}else if((s||r.selection.isCollapsed)&&Wt(o[0])){const c=lU(s||o[0],this._listWalkerOptions);for(const d of c)l.setAttributes({...e.additionalAttributes,listType:this.type},d);this._fireAfterExecute(c)}else{const c=[];for(const d of o)if(!d.hasAttribute("listType"))!d.is("element","listItem")&&e2(d,i.schema)&&l.rename(d,"listItem"),l.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:cf.next(),listType:this.type},d),c.push(d);else for(const h of tg(d,{withNested:!1}))h.getAttribute("listType")!=this.type&&(l.setAttributes({...e.additionalAttributes,listType:this.type},h),c.push(h));this._fireAfterExecute(c)}})}_fireAfterExecute(e){this.fire("afterExecute",Tu(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const r of i)if(r.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,r=e.document.selection,s=Array.from(r.getSelectedBlocks());if(!s.length)return!1;if(this.value)return!0;for(const o of s)if(i.checkAttribute(o,"listType")||e2(o,i))return!0;return!1}}class tO extends je{constructor(e,i){super(e);g(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,r=i.document.selection,s=[];i.change(o=>{const{firstElement:a,lastElement:l}=this._getMergeSubjectElements(r,e),c=a.getAttribute("listIndent")||0,d=l.getAttribute("listIndent"),h=l.getAttribute("listItemId");if(c!=d){const p=NRe(l);s.push(...mC([l,...p],o,{indentBy:c-d,expand:c<d}))}if(e){let p=r;r.isCollapsed&&(p=o.createSelection(o.createRange(o.createPositionAt(a,"end"),o.createPositionAt(l,0)))),i.deleteContent(p,{doNotResetEntireContent:r.isCollapsed});const b=p.getLastPosition().parent,_=b.nextSibling;s.push(b),_&&_!==l&&_.getAttribute("listItemId")==h&&s.push(...hC(_,b,o))}else s.push(...hC(l,a,o));this._fireAfterExecute(s)})}_fireAfterExecute(e){this.fire("afterExecute",Tu(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,r=cp(e);if(i.isCollapsed||r){const s=r||i.getFirstPosition().parent;if(!Wt(s))return!1;const o=this._direction=="backward"?s.previousSibling:s.nextSibling;if(!o||lp([s,o]))return!1}else{const s=i.getLastPosition(),o=i.getFirstPosition();if(s.parent===o.parent||!Wt(s.parent))return!1}return!0}_getMergeSubjectElements(e,i){const r=this.editor.model,s=cp(r);let o,a;if(e.isCollapsed||s){const l=s||e.getFirstPosition().parent,c=Ra(l);this._direction=="backward"?(a=l,c&&!i?o=es.first(l,{sameIndent:!0,lowerIndent:!0}):o=l.previousSibling):(o=l,a=l.nextSibling)}else o=e.getFirstPosition().parent,a=e.getLastPosition().parent;return{firstElement:o,lastElement:a}}}class nO extends je{constructor(e,i){super(e);g(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(i=>{const r=GT(this._getStartBlock(),i);this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Tu(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&Wt(i)&&!Ra(i)}_getStartBlock(){const i=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?i:i.nextSibling}}class VRe extends L{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(t){return yv(t)}isFirstBlockOfListItem(t){return Ra(t)}isListItemBlock(t){return Wt(t)}expandListBlocksToCompleteItems(t,e={}){return tg(t,e)}isNumberedListType(t){return U1(t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function FRe(n){return n.is("element","ol")||n.is("element","ul")}function pC(n){return n.is("element","li")}function BRe(n){let t=0,e=n.parent;for(;e;){if(pC(e))t++;else{const i=e.previousSibling;i&&pC(i)&&t++}e=e.parent}return t}function jRe(n,t,e,i=uU(e,t)){return n.createAttributeElement(cU(e),null,{priority:2*t/100-100,id:i})}function zRe(n,t,e){return n.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:e})}function cU(n){return n=="numbered"||n=="customNumbered"?"ol":"ul"}function uU(n,t){return`list-${n}-${t}`}function gs(n,t){const e=n.nodeBefore;if(Wt(e)){let i=e;for(const{node:r}of new eg(i,"backward"))if(i=r,t.has(i))return;t.set(e,i)}else{const i=n.nodeAfter;Wt(i)&&t.set(i,i)}}function $Re(n,t){let e=0,i=-1,r=null,s=!1;for(const{node:o}of n){const a=o.getAttribute("listIndent");if(a>e){let l;r===null?(r=a-e,l=e):(r>a&&(r=a),l=a-r),l>i+1&&(l=i+1),t.setAttribute("listIndent",l,o),s=!0,i=l}else r=null,e=a+1,i=a}return s}function URe(n,t,e){const i=new Set;let r=!1;for(const{node:s}of n){if(i.has(s))continue;let o=s.getAttribute("listType"),a=s.getAttribute("listItemId");if(t.has(a)&&(a=cf.next()),t.add(a),s.is("element","listItem")){s.getAttribute("listItemId")!=a&&(e.setAttribute("listItemId",a,s),r=!0);continue}for(const l of Wl(s,{direction:"forward"}))i.add(l),l.getAttribute("listType")!=o&&(a=cf.next(),o=l.getAttribute("listType")),l.getAttribute("listItemId")!=a&&(e.setAttribute("listItemId",a,l),r=!0)}return r}function HRe(){return(n,t,e)=>{const{writer:i,schema:r}=e;if(!t.modelRange)return;const s=Array.from(t.modelRange.getItems({shallow:!0})).filter(h=>r.checkAttribute(h,"listItemId"));if(!s.length)return;const o=cf.next(),a=BRe(t.viewItem);let l=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const c=s[0].getAttribute("listType");c&&(l=c);const d={listItemId:o,listIndent:a,listType:l};for(const h of s)h.hasAttribute("listItemId")||i.setAttributes(d,h);s.length>1&&s[1].getAttribute("listItemId")!=d.listItemId&&e.keepEmptyElement(s[0])}}function WRe(n,t,e,i){return()=>{const a=n.document.differ.getChanges(),l=[],c=new Map,d=new Set;for(const h of a)if(h.type=="insert"&&h.name!="$text")gs(h.position,c),h.attributes.has("listItemId")?d.add(h.position.nodeAfter):gs(h.position.getShiftedBy(h.length),c);else if(h.type=="remove"&&h.attributes.has("listItemId"))gs(h.position,c);else if(h.type=="attribute"){const p=h.range.start.nodeAfter;e.includes(h.attributeKey)?(gs(h.range.start,c),h.attributeNewValue===null?(gs(h.range.start.getShiftedBy(1),c),s(p)&&l.push(p)):d.add(p)):Wt(p)&&s(p)&&l.push(p)}for(const h of c.values())l.push(...r(h,d));for(const h of new Set(l))t.reconvertItem(h)};function r(a,l){const c=[],d=new Set,h=[];for(const{node:p,previous:b}of new eg(a)){if(d.has(p))continue;const _=p.getAttribute("listIndent");b&&_<b.getAttribute("listIndent")&&(h.length=_+1),h[_]=Object.fromEntries(Array.from(p.getAttributes()).filter(([C])=>e.includes(C)));const x=Wl(p,{direction:"forward"});for(const C of x)d.add(C),(s(C,x)||o(C,h,l))&&c.push(C)}return c}function s(a,l){const c=t.mapper.toViewElement(a);if(!c)return!1;if(i.fire("checkElement",{modelElement:a,viewElement:c}))return!0;if(!a.is("element","paragraph")&&!a.is("element","listItem"))return!1;const h=fU(a,e,l);return h&&c.is("element","p")?!0:!!(!h&&c.is("element","span"))}function o(a,l,c){if(c.has(a))return!1;const d=t.mapper.toViewElement(a);let h=l.length-1;for(let p=d.parent;!p.is("editableElement");p=p.parent){const b=pC(p),_=FRe(p);if(!_&&!b)continue;const x=`checkAttributes:${b?"item":"list"}`;if(i.fire(x,{viewElement:p,modelAttributes:l[h]}))break;if(_&&(h--,h<0))return!1}return!0}}function iO(n,t,e,{dataPipeline:i}={}){const r=XRe(n);return(s,o,a)=>{const{writer:l,mapper:c,consumable:d}=a,h=o.item;if(!n.includes(o.attributeKey)||!r(h,d))return;const p=GRe(h,c,e);dU(p,l,c),ZRe(p,l);const b=YRe(h,p,t,l,{dataPipeline:i});JRe(h,b,t,l)}}function qRe(n){return(t,e,i)=>{const{writer:r,mapper:s}=i,o=t.name.split(":")[1];if(!n.checkAttribute(o,"listItemId"))return;const a=s.toViewPosition(e.position),l=e.position.getShiftedBy(e.length),c=s.toViewPosition(l,{isPhantom:!0}),h=r.createRange(a,c).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */h&&dU(h,r,s)}}function rO(n,{dataPipeline:t}={}){return(e,{writer:i})=>{if(!fU(e,n))return null;if(!t)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const r=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}function GRe(n,t,e){const i=e.createRangeOn(n);return t.toViewRange(i).getTrimmed().end.nodeBefore}function KRe(n,t){return(e,i)=>{if(i.modelPosition.offset>0)return;const r=i.modelPosition.parent;if(!Wt(r)||!n.some(c=>c.scope=="itemMarker"&&c.canInjectMarkerIntoElement&&c.canInjectMarkerIntoElement(r)))return;const s=i.mapper.toViewElement(r),o=t.createRangeIn(s),a=o.getWalker();let l=o.start;for(const{item:c}of a){if(c.is("element")&&i.mapper.toModelElement(c)||c.is("$textProxy"))break;c.is("element")&&c.getCustomProperty("listItemMarker")&&(l=t.createPositionAfter(c),a.skip(({previousPosition:d})=>!d.isEqual(l)))}i.viewPosition=l}}function dU(n,t,e){for(;n.parent.is("attributeElement")&&n.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(n),n.parent);const i=[];r(t.createPositionBefore(n).getWalker({direction:"backward"})),r(t.createRangeIn(n).getWalker());for(const s of i)t.remove(s);function r(s){for(const{item:o}of s){if(o.is("element")&&e.toModelElement(o))break;o.is("element")&&o.getCustomProperty("listItemMarker")&&i.push(o)}}}function YRe(n,t,e,i,{dataPipeline:r}){let s=i.createRangeOn(t);if(!Ra(n))return s;for(const o of e){if(o.scope!="itemMarker")continue;const a=o.createElement(i,n,{dataPipeline:r});if(!a||(i.setCustomProperty("listItemMarker",!0,a),o.canInjectMarkerIntoElement&&o.canInjectMarkerIntoElement(n)?i.insert(i.createPositionAt(t,0),a):(i.insert(s.start,a),s=i.createRange(i.createPositionBefore(a),i.createPositionAfter(t))),!o.createWrapperElement||!o.canWrapElement))continue;const l=o.createWrapperElement(i,n,{dataPipeline:r});i.setCustomProperty("listItemWrapper",!0,l),o.canWrapElement(n)?s=i.wrap(s,l):(s=i.wrap(i.createRangeOn(a),l),s=i.createRange(s.start,i.createPositionAfter(t)))}return s}function ZRe(n,t){let e=n.parent;for(;e.is("attributeElement")&&["ul","ol","li"].includes(e.name);){const i=e.parent;t.unwrap(t.createRangeOn(n),e),e=i}}function JRe(n,t,e,i){if(!n.hasAttribute("listIndent"))return;const r=n.getAttribute("listIndent");let s=n;for(let o=r;o>=0;o--){const a=zRe(i,o,s.getAttribute("listItemId")),l=jRe(i,o,s.getAttribute("listType"));for(const c of e)(c.scope=="list"||c.scope=="item")&&s.hasAttribute(c.attributeName)&&c.setAttributeOnDowncast(i,s.getAttribute(c.attributeName),c.scope=="list"?l:a);if(t=i.wrap(t,a),t=i.wrap(t,l),o==0||(s=es.first(s,{lowerIndent:!0}),!s))break}}function XRe(n){return(t,e)=>{const i=[];for(const r of n)t.hasAttribute(r)&&i.push(`attribute:${r}`);return i.every(r=>e.test(t,r)!==!1)?(i.forEach(r=>e.consume(t,r)),!0):!1}}function fU(n,t,e=uf(n)){if(!Wt(n))return!1;for(const i of n.getAttributeKeys())if(!i.startsWith("selection:")&&!t.includes(i))return!1;return e.length<2}const kb=["listType","listIndent","listItemId"];class up extends L{constructor(e){super(e);g(this,"_downcastStrategies",[]);e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Jp,ko,VRe,pr]}init(){const e=this.editor,i=e.model,r=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new M("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:kb}),r?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const s of kb)i.schema.setAttributeProperties(s,{copyOnReplace:!0});e.commands.add("numberedList",new Kh(e,"numbered")),e.commands.add("bulletedList",new Kh(e,"bulleted")),e.commands.add("customNumberedList",new Kh(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new Kh(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new Q8(e,"forward")),e.commands.add("outdentList",new Q8(e,"backward")),e.commands.add("splitListItemBefore",new nO(e,"before")),e.commands.add("splitListItemAfter",new nO(e,"after")),r&&(e.commands.add("mergeListItemBackward",new tO(e,"backward")),e.commands.add("mergeListItemForward",new tO(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const i=this.editor.commands,r=i.get("indent"),s=i.get("outdent");r&&r.registerChildCommand(i.get("indentList"),{priority:"high"}),s&&s.registerChildCommand(i.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...kb,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),r=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(s,o)=>{const a=e.model.document.selection;cp(e.model)||e.model.change(()=>{const l=a.getFirstPosition();if(a.isCollapsed&&o.direction=="backward"){if(!l.isAtStart)return;const c=l.parent;if(!Wt(c))return;if(!es.first(c,{sameAttributes:"listType",sameIndent:!0})&&c.getAttribute("listIndent")===0)X8(c)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:sO(e.model,"backward")})}o.preventDefault(),s.stop()}else{if(a.isCollapsed&&!a.getLastPosition().isAtEnd||!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:sO(e.model,"forward")}),o.preventDefault(),s.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,r=e.commands,s=r.get("enter");this.listenTo(e.editing.view.document,"enter",(o,a)=>{const l=i.document,c=l.selection.getFirstPosition().parent;if(l.selection.isCollapsed&&Wt(c)&&c.isEmpty&&!a.isSoft){const d=Ra(c),h=X8(c);d&&h?(e.execute("outdentList"),a.preventDefault(),o.stop()):d&&!h?(e.execute("splitListItemAfter"),a.preventDefault(),o.stop()):h&&(e.execute("splitListItemBefore"),a.preventDefault(),o.stop())}},{context:"li"}),this.listenTo(s,"afterExecute",()=>{const o=r.get("splitListItemBefore");if(o.refresh(),!o.isEnabled)return;const l=e.model.document.selection.getLastPosition().parent;uf(l).length===2&&o.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,r)=>{const s=r.shiftKey?"outdentList":"indentList";this.editor.commands.get(s).isEnabled&&(e.execute(s),r.stopPropagation(),r.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,r=this.getListAttributeNames(),s=e.config.get("list.multiBlock"),o=s?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(l,{writer:c})=>c.createElement(o,{listType:""})}).elementToElement({view:"p",model:(l,{writer:c})=>l.parent&&l.parent.is("element","li")?c.createElement(o,{listType:""}):null,converterPriority:"high"}).add(l=>{l.on("element:li",HRe())}),s||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:o,view:rO(r),converterPriority:"high"}).add(l=>{l.on("attribute",iO(r,this._downcastStrategies,i)),l.on("remove",qRe(i.schema))}),e.conversion.for("dataDowncast").elementToElement({model:o,view:rO(r,{dataPipeline:!0}),converterPriority:"high"}).add(l=>{l.on("attribute",iO(r,this._downcastStrategies,i,{dataPipeline:!0}))});const a=KRe(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",a),e.data.mapper.on("modelToViewPosition",a),this.listenTo(i.document,"change:data",WRe(i,e.editing,r,this),{priority:"high"}),this.on("checkAttributes:item",(l,{viewElement:c,modelAttributes:d})=>{c.id!=d.listItemId&&(l.return=!0,l.stop())}),this.on("checkAttributes:list",(l,{viewElement:c,modelAttributes:d})=>{(c.name!=cU(d.listType)||c.id!=uU(d.listType,d.listIndent))&&(l.return=!0,l.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(r=>QRe(e,r,i,this)),this.on("postFixer",(r,{listNodes:s,writer:o})=>{r.return=$Re(s,o)||r.return},{priority:"high"}),this.on("postFixer",(r,{listNodes:s,writer:o,seenIds:a})=>{r.return=URe(s,a,o)||r.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",e8e(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(r,s)=>{e.change(o=>{const a=Array.from(s.content.getChildren()),l=a[a.length-1];if(a.length>1&&l.is("element")&&l.isEmpty&&a.slice(0,-1).every(Wt)&&o.remove(l),s.method=="copy"||s.method=="cut"){const c=Array.from(s.content.getChildren());lp(c)&&_v(c,o)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function QRe(n,t,e,i){const r=n.document.differ.getChanges(),s=new Map,o=i.editor.config.get("list.multiBlock");let a=!1;for(const c of r){if(c.type=="insert"&&c.name!="$text"){const d=c.position.nodeAfter;if(!n.schema.checkAttribute(d,"listItemId"))for(const h of Array.from(d.getAttributeKeys()))e.includes(h)&&(t.removeAttribute(h,d),a=!0);gs(c.position,s),c.attributes.has("listItemId")||gs(c.position.getShiftedBy(c.length),s);for(const{item:h,previousPosition:p}of n.createRangeIn(d))Wt(h)&&gs(p,s)}else c.type=="remove"?gs(c.position,s):c.type=="attribute"&&e.includes(c.attributeKey)&&(gs(c.range.start,s),c.attributeNewValue===null&&gs(c.range.start.getShiftedBy(1),s));if(!o&&c.type=="attribute"&&kb.includes(c.attributeKey)){const d=c.range.start.nodeAfter;c.attributeNewValue===null&&d&&d.is("element","listItem")?(t.rename(d,"paragraph"),a=!0):c.attributeOldValue===null&&d&&d.is("element")&&d.name!="listItem"&&(t.rename(d,"listItem"),a=!0)}}const l=new Set;for(const c of s.values())a=i.fire("postFixer",{listNodes:new ORe(c),listHead:c,writer:t,seenIds:l})||a;return a}function e8e(n){return(t,[e,i])=>{const r=e.is("documentFragment")?Array.from(e.getChildren()):[e];if(!r.length)return;const o=(i?n.createSelection(i):n.document.selection).getFirstPosition();let a;if(Wt(o.parent))a=o.parent;else if(Wt(o.nodeBefore)&&Wt(o.nodeAfter))a=o.nodeBefore;else return;n.change(l=>{const c=a.getAttribute("listType"),d=a.getAttribute("listIndent"),h=r[0].getAttribute("listIndent")||0,p=Math.max(d-h,0);for(const b of r){const _=Wt(b);a.is("element","listItem")&&b.is("element","paragraph")&&l.rename(b,"listItem"),l.setAttributes({listIndent:(_?b.getAttribute("listIndent"):0)+p,listItemId:_?b.getAttribute("listItemId"):cf.next(),listType:c},b)}})}}function sO(n,t){const e=n.document.selection;if(!e.isCollapsed)return!cp(n);if(t==="forward")return!0;const r=e.getFirstPosition().parent,s=r.previousSibling;return n.schema.isObject(s)?!1:s.isEmpty?!0:lp([r,s])}function gC(n,t,e,i){n.ui.componentFactory.add(t,()=>{const r=oO(Pe,n,t,e,i);return r.set({tooltip:!0,isToggleable:!0}),r}),n.ui.componentFactory.add(`menuBar:${t}`,()=>{const r=oO(Et,n,t,e,i);return r.set({role:"menuitemcheckbox",isToggleable:!0}),r})}function oO(n,t,e,i,r){const s=t.commands.get(e),o=new n(t.locale);return o.set({label:i,icon:r}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.on("execute",()=>{t.execute(e),t.editing.view.focus()}),o}class t8e extends L{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||gC(this.editor,"numberedList",t("Numbered List"),se.numberedList),this.editor.ui.componentFactory.has("bulletedList")||gC(this.editor,"bulletedList",t("Bulleted List"),se.bulletedList)}}class n8e extends L{static get requires(){return[up,t8e]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}class i8e extends je{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute({startIndex:t=1}={}){const e=this.editor.model,i=e.document;let r=Array.from(i.selection.getSelectedBlocks()).filter(s=>Wt(s)&&U1(s.getAttribute("listType")));r=yv(r),e.change(s=>{for(const o of r)s.setAttribute("listStart",t>=0?t:1,o)})}_getValue(){const e=this.editor.model.document,i=Ut(e.selection.getSelectedBlocks());return i&&Wt(i)&&U1(i.getAttribute("listType"))?i.getAttribute("listStart"):null}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const hU={},mU={},pU={},gU=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:t,listType:e}of gU)hU[n]=e,mU[n]=t,t&&(pU[t]=n);function bU(){return gU.map(n=>n.listStyle)}function KT(n){return hU[n]||null}function wU(n){return pU[n]||null}function bC(n){return mU[n]||null}class r8e extends je{constructor(e,i,r){super(e);g(this,"defaultType");g(this,"_supportedTypes");this.defaultType=i,this._supportedTypes=r}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,r=i.document;i.change(s=>{this._tryToConvertItemsToList(e);let o=Array.from(r.selection.getSelectedBlocks()).filter(a=>a.hasAttribute("listType"));if(o.length){o=yv(o);for(const a of o)s.setAttribute("listStyle",e.type||this.defaultType,a)}})}isStyleTypeSupported(e){return this._supportedTypes?this._supportedTypes.includes(e):!0}_getValue(){const e=Ut(this.editor.model.document.selection.getSelectedBlocks());return Wt(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,i=e.commands.get("numberedList"),r=e.commands.get("bulletedList");return i.isEnabled||r.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const i=KT(e.type);if(!i)return;const r=this.editor,s=`${i}List`;r.commands.get(s).value||r.execute(s)}}class s8e extends je{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute(t={}){const e=this.editor.model,i=e.document;let r=Array.from(i.selection.getSelectedBlocks()).filter(s=>Wt(s)&&s.getAttribute("listType")=="numbered");r=yv(r),e.change(s=>{for(const o of r)s.setAttribute("listReversed",!!t.reversed,o)})}_getValue(){const e=this.editor.model.document,i=Ut(e.selection.getSelectedBlocks());return Wt(i)&&i.getAttribute("listType")=="numbered"?i.getAttribute("listReversed"):null}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function aO(n){return(t,e,i)=>{const{writer:r,schema:s,consumable:o}=i;if(o.test(e.viewItem,n.viewConsumables)===!1)return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor));let a=!1;for(const l of e.modelRange.getItems({shallow:!0}))s.checkAttribute(l,n.attributeName)&&n.appliesToListItem(l)&&(l.hasAttribute(n.attributeName)||(r.setAttribute(n.attributeName,n.getAttributeOnUpcast(e.viewItem),l),a=!0));a&&o.consume(e.viewItem,n.viewConsumables)}}class o8e extends L{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return bU()}getListTypeFromListStyleType(t){return KT(t)}getListStyleTypeFromTypeAttribute(t){return wU(t)}getTypeAttributeFromListStyleType(t){return bC(t)}}function vU(n){const{startIndex:t,reversed:e,styles:i}=n;return{styles:a8e(i),startIndex:t||!1,reversed:e||!1}}function a8e(n){const t={listTypes:["bulleted","numbered"],useAttribute:!1};return n===!0||(n?Array.isArray(n)||typeof n=="string"?t.listTypes=Ct(n):(t.listTypes=n.listTypes?Ct(n.listTypes):t.listTypes,t.useAttribute=!!n.useAttribute):t.listTypes=[]),t}const Fh="default";class l8e extends L{static get requires(){return[up,o8e]}static get pluginName(){return"ListPropertiesEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const t=this.editor,e=t.model,i=t.plugins.get(up),r=t.config.get("list.properties"),s=c8e(r);for(const o of s)o.addCommand(t),e.schema.extend("$listItem",{allowAttributes:o.attributeName}),i.registerDowncastStrategy({scope:"list",attributeName:o.attributeName,setAttributeOnDowncast(a,l,c){o.setAttributeOnDowncast(a,l,c)}});t.conversion.for("upcast").add(o=>{for(const a of s)o.on("element:ol",aO(a)),o.on("element:ul",aO(a))}),i.on("checkAttributes:list",(o,{viewElement:a,modelAttributes:l})=>{for(const c of s)c.getAttributeOnUpcast(a)!=l[c.attributeName]&&(o.return=!0,o.stop())}),this.listenTo(t.commands.get("indentList"),"afterExecute",(o,a)=>{e.change(l=>{for(const c of a)for(const d of s)d.appliesToListItem(c)&&l.setAttribute(d.attributeName,d.defaultValue,c)})}),i.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:c}of a)for(const d of s)d.hasValidAttribute(c)||(d.appliesToListItem(c)?l.setAttribute(d.attributeName,d.defaultValue,c):l.removeAttribute(d.attributeName,c),o.return=!0)}),i.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:c,previousNodeInList:d}of a)if(d&&d.getAttribute("listType")==c.getAttribute("listType"))for(const h of s){const{attributeName:p}=h;if(!h.appliesToListItem(c))continue;const b=d.getAttribute(p);c.getAttribute(p)!=b&&(l.setAttribute(p,b,c),o.return=!0)}})}}function c8e(n){const t=[],e=vU(n);if(n.styles){const i=e.styles.useAttribute;t.push({attributeName:"listStyle",defaultValue:Fh,viewConsumables:{styles:"list-style-type"},addCommand(r){let s=bU();i&&(s=s.filter(o=>!!bC(o))),r.commands.add("listStyle",new r8e(r,Fh,s))},appliesToListItem(r){return r.getAttribute("listType")=="numbered"||r.getAttribute("listType")=="bulleted"},hasValidAttribute(r){if(!this.appliesToListItem(r))return!r.hasAttribute("listStyle");if(!r.hasAttribute("listStyle"))return!1;const s=r.getAttribute("listStyle");return s==Fh?!0:KT(s)==r.getAttribute("listType")},setAttributeOnDowncast(r,s,o){if(s&&s!==Fh)if(i){const a=bC(s);if(a){r.setAttribute("type",a,o);return}}else{r.setStyle("list-style-type",s,o);return}r.removeStyle("list-style-type",o),r.removeAttribute("type",o)},getAttributeOnUpcast(r){const s=r.getStyle("list-style-type");if(s)return s;const o=r.getAttribute("type");return o?wU(o):Fh}})}return n.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(i){i.commands.add("listReversed",new s8e(i))},appliesToListItem(i){return i.getAttribute("listType")=="numbered"},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listReversed")},setAttributeOnDowncast(i,r,s){r?i.setAttribute("reversed","reversed",s):i.removeAttribute("reversed",s)},getAttributeOnUpcast(i){return i.hasAttribute("reversed")}}),n.startIndex&&t.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(i){i.commands.add("listStart",new i8e(i))},appliesToListItem(i){return U1(i.getAttribute("listType"))},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listStart")},setAttributeOnDowncast(i,r,s){r==0||r>1?i.setAttribute("start",r,s):i.removeAttribute("start",s)},getAttributeOnUpcast(i){const r=i.getAttribute("start");return r>=0?r:1}}),t}class yU extends de{constructor(e,{enabledProperties:i,styleButtonViews:r,styleGridAriaLabel:s}){super(e);g(this,"children");g(this,"stylesView",null);g(this,"additionalPropertiesCollapsibleView",null);g(this,"startIndexFieldView",null);g(this,"reversedSwitchButtonView",null);g(this,"focusTracker",new Pt);g(this,"keystrokes",new jt);g(this,"focusables",new Hn);g(this,"focusCycler");const o=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Yn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r&&r.length?(this.stylesView=this._createStylesView(r,s),this.children.add(this.stylesView)):o.push("ck-list-properties_without-styles"),(i.startIndex||i.reversed)&&(this._addNumberedListPropertyViews(i),o.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:o},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);Wp({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>_e.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,i){const r=new de(this.locale);return r.children=r.createCollection(),r.children.addMany(e),r.setTemplate({tag:"div",attributes:{"aria-label":i,class:["ck","ck-list-styles-list"]},children:r.children}),r.children.delegate("execute").to(this),r.focus=function(){this.children.first.focus()},r.focusTracker=new Pt,r.keystrokes=new jt,r.render(),r.keystrokes.listenTo(r.element),r}_addNumberedListPropertyViews(e){const i=this.locale.t,r=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),r.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),r.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new ET(this.locale,r),this.additionalPropertiesCollapsibleView.set({label:i("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(r,"isEnabled",(...s)=>s.some(o=>o)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(s,o,a)=>{a||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(r)}_createStartIndexField(){const e=this.locale.t,i=new xn(this.locale,qz);return i.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),i.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),i.fieldView.on("input",()=>{const r=i.fieldView.element,s=r.valueAsNumber;if(Number.isNaN(s)){i.errorText=e("Invalid start index value.");return}r.checkValidity()?this.fire("listStart",{startIndex:s}):i.errorText=e("Start index must be greater than 0.")}),i}_createReversedSwitchButton(){const e=this.locale.t,i=new uu(this.locale);return i.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),i.delegate("execute").to(this,"listReversed"),i}}var u8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>',d8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',f8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>',h8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',m8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>',p8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>',g8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>',b8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>',w8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>';class v8e extends L{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=t.config.get("list.properties"),r=vU(i),s=r.styles.listTypes;if(s.includes("bulleted")){const o=[{label:e("Toggle the disc list style"),tooltip:e("Disc"),type:"disc",icon:u8e},{label:e("Toggle the circle list style"),tooltip:e("Circle"),type:"circle",icon:d8e},{label:e("Toggle the square list style"),tooltip:e("Square"),type:"square",icon:f8e}],a=e("Bulleted List"),l=e("Bulleted list styles toolbar"),c="bulletedList";t.ui.componentFactory.add(c,lO({editor:t,normalizedConfig:r,parentCommandName:c,buttonLabel:a,buttonIcon:se.bulletedList,styleGridAriaLabel:l,styleDefinitions:o})),t.ui.componentFactory.add(`menuBar:${c}`,cO({editor:t,normalizedConfig:r,parentCommandName:c,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}if(s.includes("numbered")||i.startIndex||i.reversed){const o=[{label:e("Toggle the decimal list style"),tooltip:e("Decimal"),type:"decimal",icon:h8e},{label:e("Toggle the decimal with leading zero list style"),tooltip:e("Decimal with leading zero"),type:"decimal-leading-zero",icon:m8e},{label:e("Toggle the lowerroman list style"),tooltip:e("Lowerroman"),type:"lower-roman",icon:p8e},{label:e("Toggle the upperroman list style"),tooltip:e("Upper-roman"),type:"upper-roman",icon:g8e},{label:e("Toggle the lowerlatin list style"),tooltip:e("Lower-latin"),type:"lower-latin",icon:b8e},{label:e("Toggle the upperlatin list style"),tooltip:e("Upper-latin"),type:"upper-latin",icon:w8e}],a=e("Numbered List"),l=e("Numbered list styles toolbar"),c="numberedList";t.ui.componentFactory.add(c,lO({editor:t,normalizedConfig:r,parentCommandName:c,buttonLabel:a,buttonIcon:se.numberedList,styleGridAriaLabel:l,styleDefinitions:o})),s.includes("numbered")&&t.ui.componentFactory.add(`menuBar:${c}`,cO({editor:t,normalizedConfig:r,parentCommandName:c,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}}}function lO({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,buttonIcon:r,styleGridAriaLabel:s,styleDefinitions:o}){const a=n.commands.get(e);return l=>{const c=zn(l,Cu),d=c.buttonView;return c.bind("isEnabled").to(a),c.class="ck-list-styles-dropdown",d.on("execute",()=>{n.execute(e),n.editing.view.focus()}),d.set({label:i,icon:r,tooltip:!0,isToggleable:!0}),d.bind("isOn").to(a,"value",h=>!!h),c.once("change:isOpen",()=>{const h=y8e({editor:n,normalizedConfig:t,dropdownView:c,parentCommandName:e,styleGridAriaLabel:s,styleDefinitions:o});c.panelView.children.add(h)}),c.on("execute",()=>{n.editing.view.focus()}),c}}function _U({editor:n,listStyleCommand:t,parentCommandName:e}){const i=n.locale,r=n.commands.get(e);return({label:s,type:o,icon:a,tooltip:l})=>{const c=new Pe(i);return c.set({label:s,icon:a,tooltip:l}),t.on("change:value",()=>{c.isOn=t.value===o}),c.on("execute",()=>{r.value?t.value===o?n.execute(e):t.value!==o&&n.execute("listStyle",{type:o}):n.model.change(()=>{n.execute("listStyle",{type:o})})}),c}}function y8e({editor:n,normalizedConfig:t,dropdownView:e,parentCommandName:i,styleDefinitions:r,styleGridAriaLabel:s}){const o=n.locale,a={...t,...i!="numberedList"?{startIndex:!1,reversed:!1}:null},l=i.replace("List","");let c=null;if(t.styles.listTypes.includes(l)){const h=n.commands.get("listStyle"),p=_U({editor:n,parentCommandName:i,listStyleCommand:h}),b=xU(h);c=r.filter(b).map(p)}const d=new yU(o,{styleGridAriaLabel:s,enabledProperties:a,styleButtonViews:c});if(t.styles.listTypes.includes(l)&&gv(e,()=>d.stylesView.children.find(h=>h.isOn)),a.startIndex){const h=n.commands.get("listStart");d.startIndexFieldView.bind("isEnabled").to(h),d.startIndexFieldView.fieldView.bind("value").to(h),d.on("listStart",(p,b)=>n.execute("listStart",b))}if(a.reversed){const h=n.commands.get("listReversed");d.reversedSwitchButtonView.bind("isEnabled").to(h),d.reversedSwitchButtonView.bind("isOn").to(h,"value",p=>!!p),d.on("listReversed",()=>{const p=h.value;n.execute("listReversed",{reversed:!p})})}return d.delegate("execute").to(e),d}function cO({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,styleGridAriaLabel:r,styleDefinitions:s}){return o=>{const a=new Mi(o),l=n.commands.get(e),c=n.commands.get("listStyle"),d=xU(c),h=_U({editor:n,parentCommandName:e,listStyleCommand:c}),p=s.filter(d).map(h),b=new yU(o,{styleGridAriaLabel:r,enabledProperties:{...t,startIndex:!1,reversed:!1},styleButtonViews:p});return b.delegate("execute").to(a),a.buttonView.set({label:i,icon:se[e]}),a.panelView.children.add(b),a.bind("isEnabled").to(l,"isEnabled"),a.on("execute",()=>{n.editing.view.focus()}),a}}function xU(n){return typeof n.isStyleTypeSupported=="function"?t=>n.isStyleTypeSupported(t.type):()=>!0}class _8e extends L{static get requires(){return[l8e,v8e]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}class x8e extends je{constructor(t){super(t),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const t=this._getSelectedItems();this.value=this._getValue(t),this.isEnabled=!!t.length}execute(t={}){this.editor.model.change(e=>{const i=this._getSelectedItems(),r=t.forceValue===void 0?!this._getValue(i):t.forceValue;for(const s of i)r?e.setAttribute("todoListChecked",!0,s):e.removeAttribute("todoListChecked",s)})}_getValue(t){return t.every(e=>e.getAttribute("todoListChecked"))}_getSelectedItems(){const t=this.editor.model,e=t.schema,i=t.document.selection.getFirstRange(),r=i.start.parent,s=[];e.checkAttribute(r,"todoListChecked")&&s.push(...uf(r));for(const o of i.getItems({shallow:!0}))e.checkAttribute(o,"todoListChecked")&&!s.includes(o)&&s.push(...uf(o));return s}}class k8e extends ja{constructor(){super(...arguments);g(this,"domEventType",["change"])}onDomEvent(e){if(e.target){const i=this.view.domConverter.mapDomToView(e.target);i&&i.is("element","input")&&i.getAttribute("type")=="checkbox"&&i.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",e)}}}const C8e=iv("Ctrl+Enter");class E8e extends L{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[up]}init(){const t=this.editor,e=t.model,i=t.editing,r=t.plugins.get(up),o=t.config.get("list.multiBlock")?"paragraph":"listItem";t.commands.add("todoList",new Kh(t,"todo")),t.commands.add("checkTodoList",new x8e(t)),i.view.addObserver(k8e),e.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),e.schema.addAttributeCheck(a=>{const l=a.last;if(!l.getAttribute("listItemId")||l.getAttribute("listType")!="todo")return!1},"todoListChecked"),t.conversion.for("upcast").add(a=>{a.on("element:input",T8e()),a.on("element:li",S8e(),{priority:"low"}),a.on("element:label",t2({name:"label",classes:"todo-list__label"})),a.on("element:label",t2({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),a.on("element:span",t2({name:"span",classes:"todo-list__label__description"})),a.on("element:ul",A8e({name:"ul",classes:"todo-list"}))}),t.conversion.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>{if(G0(a,r.getListAttributeNames()))return l.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),r.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(a,l,c){l=="todo"?a.addClass("todo-list",c):a.removeClass("todo-list",c)}}),r.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(a,l,{dataPipeline:c}){if(l.getAttribute("listType")!="todo")return null;const d=a.createUIElement("input",{type:"checkbox",...l.getAttribute("todoListChecked")?{checked:"checked"}:null,...c?{disabled:"disabled"}:{tabindex:"-1"}});if(c)return d;const h=a.createContainerElement("span",{contenteditable:"false"},d);return h.getFillerOffset=()=>null,h},canWrapElement(a){return G0(a,r.getListAttributeNames())},createWrapperElement(a,l,{dataPipeline:c}){const d=["todo-list__label"];return G0(l,r.getListAttributeNames())||d.push("todo-list__label_without-description"),a.createAttributeElement(c?"label":"span",{class:d.join(" ")})}}),r.on("checkElement",(a,{modelElement:l,viewElement:c})=>{const d=G0(l,r.getListAttributeNames());c.hasClass("todo-list__label__description")!=d&&(a.return=!0,a.stop())}),r.on("checkElement",(a,{modelElement:l,viewElement:c})=>{const d=l.getAttribute("listType")=="todo"&&Ra(l);let h=!1;const p=t.editing.view.createPositionBefore(c).getWalker({direction:"backward"});for(const{item:b}of p){if(b.is("element")&&t.editing.mapper.toModelElement(b))break;b.is("element","input")&&b.getAttribute("type")=="checkbox"&&(h=!0)}h!=d&&(a.return=!0,a.stop())}),r.on("postFixer",(a,{listNodes:l,writer:c})=>{for(const{node:d,previousNodeInList:h}of l){if(!h||h.getAttribute("listItemId")!=d.getAttribute("listItemId"))continue;const p=h.hasAttribute("todoListChecked"),b=d.hasAttribute("todoListChecked");b&&!p?(c.removeAttribute("todoListChecked",d),a.return=!0):!b&&p&&(c.setAttribute("todoListChecked",!0,d),a.return=!0)}}),e.document.registerPostFixer(a=>{const l=e.document.differ.getChanges();let c=!1;for(const d of l)if(d.type=="attribute"&&d.attributeKey=="listType"){const h=d.range.start.nodeAfter;d.attributeOldValue=="todo"&&h.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",h),c=!0)}else if(d.type=="insert"&&d.name!="$text")for(const{item:h}of a.createRangeOn(d.position.nodeAfter))h.is("element")&&h.getAttribute("listType")!="todo"&&h.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",h),c=!0);return c}),this.listenTo(i.view.document,"keydown",(a,l)=>{lu(l)===C8e&&(t.execute("checkTodoList"),a.stop())},{priority:"high"}),this.listenTo(i.view.document,"todoCheckboxChange",(a,l)=>{const c=l.target;if(!c||!c.is("element","input"))return;const d=i.view.createPositionAfter(c),p=i.mapper.toModelPosition(d).parent;p&&Wt(p)&&p.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(p)}),this.listenTo(i.view.document,"arrowKey",P8e(e,t.locale),{context:"$text"}),this.listenTo(i.mapper,"viewToModelPosition",(a,l)=>{const c=l.viewPosition.parent,d=c.is("attributeElement","li")&&l.viewPosition.offset==0,h=uO(c)&&l.viewPosition.offset<=1,p=c.is("element","span")&&c.getAttribute("contenteditable")=="false"&&uO(c.parent);if(!d&&!h&&!p)return;const b=l.modelPosition.nodeAfter;b&&b.getAttribute("listType")=="todo"&&(l.modelPosition=e.createPositionAt(b,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(t){const e=this.editor,i=e.model,r=Array.from(i.document.selection.getRanges());i.change(s=>{s.setSelection(t,"end"),e.execute("checkTodoList"),s.setSelection(r)})}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor;let r=null;e&&t.document.selection.on("change:range",()=>{const s=t.document.selection.focus.parent,o=dO(r),a=dO(s);o&&!a?e.ariaLiveAnnouncer.announce(i("Leaving a to-do list")):!o&&a&&e.ariaLiveAnnouncer.announce(i("Entering a to-do list")),r=s})}}function S8e(){return(n,t,e)=>{const{writer:i,schema:r}=e;if(!t.modelRange)return;const s=Array.from(t.modelRange.getItems({shallow:!0})).filter(o=>o.getAttribute("listType")==="todo"&&r.checkAttribute(o,"listItemId")).reduce((o,a)=>{const l=a.getAttribute("listItemId");return o.has(l)||o.set(l,uf(a)),o},new Map);for(const[,o]of s.entries())if(o.some(a=>a.getAttribute("todoListChecked")))for(const a of o)i.setAttribute("todoListChecked",!0,a)}}function T8e(){return(n,t,e)=>{const i=t.modelCursor,r=i.parent,s=t.viewItem;if(!e.consumable.test(s,{name:!0})||s.getAttribute("type")!="checkbox"||!i.isAtStart||!r.hasAttribute("listType"))return;e.consumable.consume(s,{name:!0});const o=e.writer;o.setAttribute("listType","todo",r),t.viewItem.hasAttribute("checked")&&o.setAttribute("todoListChecked",!0,r),t.modelRange=o.createRange(i)}}function t2(n){const t=new Ki(n);return(e,i,r)=>{const s=t.match(i.viewItem);s&&r.consumable.consume(i.viewItem,s.match)&&Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor))}}function A8e(n){const t=new Ki(n);return(e,i,r)=>{const s=t.match(i.viewItem);if(!s)return;const o=s.match;o.name=!1,r.consumable.consume(i.viewItem,o)}}function G0(n,t){return(n.is("element","paragraph")||n.is("element","listItem"))&&n.getAttribute("listType")=="todo"&&Ra(n)&&I8e(n,t)}function I8e(n,t){for(const e of n.getAttributeKeys())if(!e.startsWith("selection:")&&!t.includes(e))return!1;return!0}function P8e(n,t){return(e,i)=>{const r=rv(i.keyCode,t.contentLanguageDirection),s=n.schema,o=n.document.selection;if(!o.isCollapsed)return;const a=o.getFirstPosition(),l=a.parent;if(r=="right"&&a.isAtEnd){const c=s.getNearestSelectionRange(n.createPositionAfter(l),"forward");if(!c)return;const d=c.start.parent;d&&Wt(d)&&d.getAttribute("listType")=="todo"&&(n.change(h=>h.setSelection(c)),i.preventDefault(),i.stopPropagation(),e.stop())}else if(r=="left"&&a.isAtStart&&Wt(l)&&l.getAttribute("listType")=="todo"){const c=s.getNearestSelectionRange(n.createPositionBefore(l),"backward");if(!c)return;n.change(d=>d.setSelection(c)),i.preventDefault(),i.stopPropagation(),e.stop()}}}function uO(n){return!!n&&n.is("attributeElement")&&n.hasClass("todo-list__label")}function dO(n){return!n||!n.is("element","paragraph")&&!n.is("element","listItem")?!1:n.getAttribute("listType")=="todo"}class R8e extends L{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;gC(this.editor,"todoList",t("To-do List"),se.todoList)}}class O8e extends L{static get requires(){return[E8e,R8e]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}function kU(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Nf=kU();function N8e(n){Nf=n}const M8e=/[&<>"']/,D8e=/[&<>"']/g,L8e=/[<>"']|&(?!#?\w+;)/,V8e=/[<>"']|&(?!#?\w+;)/g,F8e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fO=n=>F8e[n];function ui(n,t){if(t){if(M8e.test(n))return n.replace(D8e,fO)}else if(L8e.test(n))return n.replace(V8e,fO);return n}const B8e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function CU(n){return n.replace(B8e,(t,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const j8e=/(^|[^\[])\^/g;function Jt(n,t){n=n.source||n,t=t||"";const e={replace:(i,r)=>(r=r.source||r,r=r.replace(j8e,"$1"),n=n.replace(i,r),e),getRegex:()=>new RegExp(n,t)};return e}const z8e=/[^\w:]/g,$8e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function hO(n,t,e){if(n){let i;try{i=decodeURIComponent(CU(e)).replace(z8e,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}t&&!$8e.test(e)&&(e=q8e(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const K0={},U8e=/^[^:]+:\/*[^/]*$/,H8e=/^([^:]+:)[\s\S]*$/,W8e=/^([^:]+:\/*[^/]*)[\s\S]*$/;function q8e(n,t){K0[" "+n]||(U8e.test(n)?K0[" "+n]=n+"/":K0[" "+n]=Cb(n,"/",!0)),n=K0[" "+n];const e=n.indexOf(":")===-1;return t.substring(0,2)==="//"?e?t:n.replace(H8e,"$1")+t:t.charAt(0)==="/"?e?t:n.replace(W8e,"$1")+t:n+t}const H1={exec:function(){}};function Ws(n){let t=1,e,i;for(;t<arguments.length;t++){e=arguments[t];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n}function mO(n,t){const e=n.replace(/\|/g,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),i=e.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function Cb(n,t,e){const i=n.length;if(i===0)return"";let r=0;for(;r<i;){const s=n.charAt(i-r-1);if(s===t&&!e)r++;else if(s!==t&&e)r++;else break}return n.substr(0,i-r)}function G8e(n,t){if(n.indexOf(t[1])===-1)return-1;const e=n.length;let i=0,r=0;for(;r<e;r++)if(n[r]==="\\")r++;else if(n[r]===t[0])i++;else if(n[r]===t[1]&&(i--,i<0))return r;return-1}function EU(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function pO(n,t){if(t<1)return"";let e="";for(;t>1;)t&1&&(e+=n),t>>=1,n+=n;return e+n}function gO(n,t,e,i){const r=t.href,s=t.title?ui(t.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:e,href:r,title:s,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,a}else return{type:"image",raw:e,href:r,title:s,text:ui(o)}}function K8e(n,t){const e=n.match(/^(\s+)(?:```)/);if(e===null)return t;const i=e[1];return t.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[o]=s;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}class YT{constructor(t){this.options=t||Nf}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const i=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Cb(i,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const i=e[0],r=K8e(i,e[3]||"");return{type:"code",raw:i,lang:e[2]?e[2].trim():e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let i=e[2].trim();if(/#$/.test(i)){const s=Cb(i,"#");(this.options.pedantic||!s||/ $/.test(s))&&(i=s.trim())}const r={type:"heading",raw:e[0],depth:e[1].length,text:i,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const i=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i,r,s,o,a,l,c,d,h,p,b,_,x=e[1].trim();const C=x.length>1,S={type:"list",raw:"",ordered:C,start:C?+x.slice(0,-1):"",loose:!1,items:[]};x=C?`\\d{1,9}\\${x.slice(-1)}`:`\\${x}`,this.options.pedantic&&(x=C?x:"[*+-]");const T=new RegExp(`^( {0,3}${x})((?: [^\\n]*)?(?:\\n|$))`);for(;t&&(_=!1,!(!(e=T.exec(t))||this.rules.block.hr.test(t)));){if(i=e[0],t=t.substring(i.length),d=e[2].split(`
`,1)[0],h=t.split(`
`,1)[0],this.options.pedantic?(o=2,b=d.trimLeft()):(o=e[2].search(/[^ ]/),o=o>4?1:o,b=d.slice(o),o+=e[1].length),l=!1,!d&&/^ *$/.test(h)&&(i+=h+`
`,t=t.substring(h.length+1),_=!0),!_){const P=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;t&&(p=t.split(`
`,1)[0],d=p,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!P.test(d));){if(d.search(/[^ ]/)>=o||!d.trim())b+=`
`+d.slice(o);else if(!l)b+=`
`+d;else break;!l&&!d.trim()&&(l=!0),i+=p+`
`,t=t.substring(p.length+1)}}S.loose||(c?S.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(b),r&&(s=r[0]!=="[ ] ",b=b.replace(/^\[[ xX]\] +/,""))),S.items.push({type:"list_item",raw:i,task:!!r,checked:s,loose:!1,text:b}),S.raw+=i}S.items[S.items.length-1].raw=i.trimRight(),S.items[S.items.length-1].text=b.trimRight(),S.raw=S.raw.trimRight();const A=S.items.length;for(a=0;a<A;a++){this.lexer.state.top=!1,S.items[a].tokens=this.lexer.blockTokens(S.items[a].text,[]);const P=S.items[a].tokens.filter(D=>D.type==="space"),O=P.every(D=>{const R=D.raw.split("");let j=0;for(const $ of R)if($===`
`&&(j+=1),j>1)return!0;return!1});!S.loose&&P.length&&O&&(S.loose=!0,S.items[a].loose=!0)}return S}}html(t){const e=this.rules.block.html.exec(t);if(e){const i={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(e[0]):ui(e[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(t){const e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(t){const e=this.rules.block.table.exec(t);if(e){const i={type:"table",header:mO(e[1]).map(r=>({text:r})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=e[0];let r=i.align.length,s,o,a,l;for(s=0;s<r;s++)/^ *-+: *$/.test(i.align[s])?i.align[s]="right":/^ *:-+: *$/.test(i.align[s])?i.align[s]="center":/^ *:-+ *$/.test(i.align[s])?i.align[s]="left":i.align[s]=null;for(r=i.rows.length,s=0;s<r;s++)i.rows[s]=mO(i.rows[s],i.header.length).map(c=>({text:c}));for(r=i.header.length,o=0;o<r;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(r=i.rows.length,o=0;o<r;o++)for(l=i.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return i}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e){const i={type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const i={type:"paragraph",raw:e[0],text:e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(t){const e=this.rules.block.text.exec(t);if(e){const i={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:ui(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):ui(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const i=e[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=Cb(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=G8e(e[2],"()");if(o>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],s=o[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),gO(e,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=e[r.toLowerCase()],!r||!r.href){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return gO(i,r,i[0],this.lexer)}}emStrong(t,e,i=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const s=r[1]||r[2]||"";if(!s||s&&(i===""||this.rules.inline.punctuation.exec(i))){const o=r[0].length-1;let a,l,c=o,d=0;const h=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+o);(r=h.exec(e))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=a.length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){d+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+d),Math.min(o,l)%2){const b=t.slice(1,o+r.index+l);return{type:"em",raw:t.slice(0,o+r.index+l+1),text:b,tokens:this.lexer.inlineTokens(b,[])}}const p=t.slice(2,o+r.index+l-1);return{type:"strong",raw:t.slice(0,o+r.index+l+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let i=e[2].replace(/\n/g," ");const r=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return r&&s&&(i=i.substring(1,i.length-1)),i=ui(i,!0),{type:"codespan",raw:e[0],text:i}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(t,e){const i=this.rules.inline.autolink.exec(t);if(i){let r,s;return i[2]==="@"?(r=ui(this.options.mangle?e(i[1]):i[1]),s="mailto:"+r):(r=ui(i[1]),s=r),{type:"link",raw:i[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(t,e){let i;if(i=this.rules.inline.url.exec(t)){let r,s;if(i[2]==="@")r=ui(this.options.mangle?e(i[0]):i[0]),s="mailto:"+r;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);r=ui(i[0]),i[1]==="www."?s="http://"+r:s=r}return{type:"link",raw:i[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t,e){const i=this.rules.inline.text.exec(t);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):ui(i[0]):i[0]:r=ui(this.options.smartypants?e(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const tt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:H1,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};tt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;tt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;tt.def=Jt(tt.def).replace("label",tt._label).replace("title",tt._title).getRegex();tt.bullet=/(?:[*+-]|\d{1,9}[.)])/;tt.listItemStart=Jt(/^( *)(bull) */).replace("bull",tt.bullet).getRegex();tt.list=Jt(tt.list).replace(/bull/g,tt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+tt.def.source+")").getRegex();tt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";tt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;tt.html=Jt(tt.html,"i").replace("comment",tt._comment).replace("tag",tt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();tt.paragraph=Jt(tt._paragraph).replace("hr",tt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tt._tag).getRegex();tt.blockquote=Jt(tt.blockquote).replace("paragraph",tt.paragraph).getRegex();tt.normal=Ws({},tt);tt.gfm=Ws({},tt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});tt.gfm.table=Jt(tt.gfm.table).replace("hr",tt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tt._tag).getRegex();tt.gfm.paragraph=Jt(tt._paragraph).replace("hr",tt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",tt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tt._tag).getRegex();tt.pedantic=Ws({},tt.normal,{html:Jt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",tt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:H1,paragraph:Jt(tt.normal._paragraph).replace("hr",tt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",tt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const $e={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:H1,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:H1,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};$e._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";$e.punctuation=Jt($e.punctuation).replace(/punctuation/g,$e._punctuation).getRegex();$e.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;$e.escapedEmSt=/\\\*|\\_/g;$e._comment=Jt(tt._comment).replace("(?:-->|$)","-->").getRegex();$e.emStrong.lDelim=Jt($e.emStrong.lDelim).replace(/punct/g,$e._punctuation).getRegex();$e.emStrong.rDelimAst=Jt($e.emStrong.rDelimAst,"g").replace(/punct/g,$e._punctuation).getRegex();$e.emStrong.rDelimUnd=Jt($e.emStrong.rDelimUnd,"g").replace(/punct/g,$e._punctuation).getRegex();$e._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;$e._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;$e._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;$e.autolink=Jt($e.autolink).replace("scheme",$e._scheme).replace("email",$e._email).getRegex();$e._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;$e.tag=Jt($e.tag).replace("comment",$e._comment).replace("attribute",$e._attribute).getRegex();$e._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;$e._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;$e._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;$e.link=Jt($e.link).replace("label",$e._label).replace("href",$e._href).replace("title",$e._title).getRegex();$e.reflink=Jt($e.reflink).replace("label",$e._label).replace("ref",tt._label).getRegex();$e.nolink=Jt($e.nolink).replace("ref",tt._label).getRegex();$e.reflinkSearch=Jt($e.reflinkSearch,"g").replace("reflink",$e.reflink).replace("nolink",$e.nolink).getRegex();$e.normal=Ws({},$e);$e.pedantic=Ws({},$e.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Jt(/^!?\[(label)\]\((.*?)\)/).replace("label",$e._label).getRegex(),reflink:Jt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$e._label).getRegex()});$e.gfm=Ws({},$e.normal,{escape:Jt($e.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});$e.gfm.url=Jt($e.gfm.url,"i").replace("email",$e.gfm._extended_email).getRegex();$e.breaks=Ws({},$e.gfm,{br:Jt($e.br).replace("{2,}","*").getRegex(),text:Jt($e.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Y8e(n){return n.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function bO(n){let t="",e,i;const r=n.length;for(e=0;e<r;e++)i=n.charCodeAt(e),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t}class Oa{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Nf,this.options.tokenizer=this.options.tokenizer||new YT,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:tt.normal,inline:$e.normal};this.options.pedantic?(e.block=tt.pedantic,e.inline=$e.pedantic):this.options.gfm&&(e.block=tt.gfm,this.options.breaks?e.inline=$e.breaks:e.inline=$e.gfm),this.tokenizer.rules=e}static get rules(){return{block:tt,inline:$e}}static lex(t,e){return new Oa(e).lex(t)}static lexInline(t,e){return new Oa(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(t,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){this.options.pedantic&&(t=t.replace(/^ +$/gm,""));let i,r,s,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},t,e))?(t=t.substring(i.raw.length),e.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(function(d){c=d.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){r=e[e.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(i),o=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),r=e[e.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(i);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e){this.inlineQueue.push({src:t,tokens:e})}inlineTokens(t,e=[]){let i,r,s,o=t,a,l,c;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+pO("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+pO("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(i=d.call({lexer:this},t,e))?(t=t.substring(i.raw.length),e.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),r=e[e.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):e.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),r=e[e.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):e.push(i);continue}if(i=this.tokenizer.emStrong(t,o,c)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.autolink(t,bO)){t=t.substring(i.raw.length),e.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t,bO))){t=t.substring(i.raw.length),e.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=t.slice(1);let p;this.options.extensions.startInline.forEach(function(b){p=b.call({lexer:this},h),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(s=t.substring(0,d+1))}if(i=this.tokenizer.inlineText(s,Y8e)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),l=!0,r=e[e.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):e.push(i);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return e}}class ZT{constructor(t){this.options=t||Nf}code(t,e,i){const r=(e||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(t,r);s!=null&&s!==t&&(i=!0,t=s)}return t=t.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+ui(r,!0)+'">'+(i?t:ui(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:ui(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
`+t+`</blockquote>
`}html(t){return t}heading(t,e,i,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(i)+'">'+t+"</h"+e+`>
`:"<h"+e+">"+t+"</h"+e+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,e,i){const r=e?"ol":"ul",s=e&&i!==1?' start="'+i+'"':"";return"<"+r+s+`>
`+t+"</"+r+`>
`}listitem(t){return"<li>"+t+`</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return"<p>"+t+`</p>
`}table(t,e){return e&&(e="<tbody>"+e+"</tbody>"),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
`+t+`</tr>
`}tablecell(t,e){const i=e.header?"th":"td";return(e.align?"<"+i+' align="'+e.align+'">':"<"+i+">")+t+"</"+i+`>
`}strong(t){return"<strong>"+t+"</strong>"}em(t){return"<em>"+t+"</em>"}codespan(t){return"<code>"+t+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return"<del>"+t+"</del>"}link(t,e,i){if(t=hO(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let r='<a href="'+ui(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+i+"</a>",r}image(t,e,i){if(t=hO(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let r='<img src="'+t+'" alt="'+i+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">",r}text(t){return t}}class SU{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,i){return""+i}image(t,e,i){return""+i}br(){return""}}class TU{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let i=t,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[t];do r++,i=t+"-"+r;while(this.seen.hasOwnProperty(i))}return e||(this.seen[t]=r,this.seen[i]=0),i}slug(t,e={}){const i=this.serialize(t);return this.getNextSafeSlug(i,e.dryrun)}}class Na{constructor(t){this.options=t||Nf,this.options.renderer=this.options.renderer||new ZT,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new SU,this.slugger=new TU}static parse(t,e){return new Na(e).parse(t)}static parseInline(t,e){return new Na(e).parseInline(t)}parse(t,e=!0){let i="",r,s,o,a,l,c,d,h,p,b,_,x,C,S,T,A,P,O,D;const R=t.length;for(r=0;r<R;r++){if(b=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[b.type]&&(D=this.options.extensions.renderers[b.type].call({parser:this},b),D!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(b.type))){i+=D||"";continue}switch(b.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(b.tokens),b.depth,CU(this.parseInline(b.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(b.text,b.lang,b.escaped);continue}case"table":{for(h="",d="",a=b.header.length,s=0;s<a;s++)d+=this.renderer.tablecell(this.parseInline(b.header[s].tokens),{header:!0,align:b.align[s]});for(h+=this.renderer.tablerow(d),p="",a=b.rows.length,s=0;s<a;s++){for(c=b.rows[s],d="",l=c.length,o=0;o<l;o++)d+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:b.align[o]});p+=this.renderer.tablerow(d)}i+=this.renderer.table(h,p);continue}case"blockquote":{p=this.parse(b.tokens),i+=this.renderer.blockquote(p);continue}case"list":{for(_=b.ordered,x=b.start,C=b.loose,a=b.items.length,p="",s=0;s<a;s++)T=b.items[s],A=T.checked,P=T.task,S="",T.task&&(O=this.renderer.checkbox(A),C?T.tokens.length>0&&T.tokens[0].type==="paragraph"?(T.tokens[0].text=O+" "+T.tokens[0].text,T.tokens[0].tokens&&T.tokens[0].tokens.length>0&&T.tokens[0].tokens[0].type==="text"&&(T.tokens[0].tokens[0].text=O+" "+T.tokens[0].tokens[0].text)):T.tokens.unshift({type:"text",text:O}):S+=O),S+=this.parse(T.tokens,C),p+=this.renderer.listitem(S,P,A);i+=this.renderer.list(p,_,x);continue}case"html":{i+=this.renderer.html(b.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(b.tokens));continue}case"text":{for(p=b.tokens?this.parseInline(b.tokens):b.text;r+1<R&&t[r+1].type==="text";)b=t[++r],p+=`
`+(b.tokens?this.parseInline(b.tokens):b.text);i+=e?this.renderer.paragraph(p):p;continue}default:{const j='Token with "'+b.type+'" type was not found.';if(this.options.silent){console.error(j);return}else throw new Error(j)}}}return i}parseInline(t,e){e=e||this.renderer;let i="",r,s,o;const a=t.length;for(r=0;r<a;r++){if(s=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){i+=o||"";continue}switch(s.type){case"escape":{i+=e.text(s.text);break}case"html":{i+=e.html(s.text);break}case"link":{i+=e.link(s.href,s.title,this.parseInline(s.tokens,e));break}case"image":{i+=e.image(s.href,s.title,s.text);break}case"strong":{i+=e.strong(this.parseInline(s.tokens,e));break}case"em":{i+=e.em(this.parseInline(s.tokens,e));break}case"codespan":{i+=e.codespan(s.text);break}case"br":{i+=e.br();break}case"del":{i+=e.del(this.parseInline(s.tokens,e));break}case"text":{i+=e.text(s.text);break}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return i}}function it(n,t,e){if(typeof n>"u"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof t=="function"&&(e=t,t=null),t=Ws({},it.defaults,t||{}),EU(t),e){const i=t.highlight;let r;try{r=Oa.lex(n,t)}catch(a){return e(a)}const s=function(a){let l;if(!a)try{t.walkTokens&&it.walkTokens(r,t.walkTokens),l=Na.parse(r,t)}catch(c){a=c}return t.highlight=i,a?e(a):e(null,l)};if(!i||i.length<3||(delete t.highlight,!r.length))return s();let o=0;it.walkTokens(r,function(a){a.type==="code"&&(o++,setTimeout(()=>{i(a.text,a.lang,function(l,c){if(l)return s(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),o--,o===0&&s()})},0))}),o===0&&s();return}try{const i=Oa.lex(n,t);return t.walkTokens&&it.walkTokens(i,t.walkTokens),Na.parse(i,t)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+ui(i.message+"",!0)+"</pre>";throw i}}it.options=it.setOptions=function(n){return Ws(it.defaults,n),N8e(it.defaults),it};it.getDefaults=kU;it.defaults=Nf;it.use=function(...n){const t=Ws({},...n),e=it.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(r=>{if(r.extensions&&(i=!0,r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const o=e.renderers?e.renderers[s.name]:null;o?e.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:e.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)})),r.renderer){const s=it.defaults.renderer||new ZT;for(const o in r.renderer){const a=s[o];s[o]=(...l)=>{let c=r.renderer[o].apply(s,l);return c===!1&&(c=a.apply(s,l)),c}}t.renderer=s}if(r.tokenizer){const s=it.defaults.tokenizer||new YT;for(const o in r.tokenizer){const a=s[o];s[o]=(...l)=>{let c=r.tokenizer[o].apply(s,l);return c===!1&&(c=a.apply(s,l)),c}}t.tokenizer=s}if(r.walkTokens){const s=it.defaults.walkTokens;t.walkTokens=function(o){r.walkTokens.call(this,o),s&&s.call(this,o)}}i&&(t.extensions=e),it.setOptions(t)})};it.walkTokens=function(n,t){for(const e of n)switch(t.call(it,e),e.type){case"table":{for(const i of e.header)it.walkTokens(i.tokens,t);for(const i of e.rows)for(const r of i)it.walkTokens(r.tokens,t);break}case"list":{it.walkTokens(e.items,t);break}default:it.defaults.extensions&&it.defaults.extensions.childTokens&&it.defaults.extensions.childTokens[e.type]?it.defaults.extensions.childTokens[e.type].forEach(function(i){it.walkTokens(e[i],t)}):e.tokens&&it.walkTokens(e.tokens,t)}};it.parseInline=function(n,t){if(typeof n>"u"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");t=Ws({},it.defaults,t||{}),EU(t);try{const e=Oa.lexInline(n,t);return t.walkTokens&&it.walkTokens(e,t.walkTokens),Na.parseInline(e,t)}catch(e){if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+ui(e.message+"",!0)+"</pre>";throw e}};it.Parser=Na;it.parser=Na.parse;it.Renderer=ZT;it.TextRenderer=SU;it.Lexer=Oa;it.lexer=Oa.lex;it.Tokenizer=YT;it.Slugger=TU;it.parse=it;it.options;it.setOptions;it.use;it.walkTokens;it.parseInline;Na.parse;Oa.lex;function Z8e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}return n}function wC(n,t){return Array(t+1).join(n)}function J8e(n){return n.replace(/^\n*/,"")}function X8e(n){for(var t=n.length;t>0&&n[t-1]===`
`;)t--;return n.substring(0,t)}var Q8e=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function JT(n){return XT(n,Q8e)}var AU=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function IU(n){return XT(n,AU)}function eOe(n){return RU(n,AU)}var PU=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function tOe(n){return XT(n,PU)}function nOe(n){return RU(n,PU)}function XT(n,t){return t.indexOf(n.nodeName)>=0}function RU(n,t){return n.getElementsByTagName&&t.some(function(e){return n.getElementsByTagName(e).length})}var Vi={};Vi.paragraph={filter:"p",replacement:function(n){return`

`+n+`

`}};Vi.lineBreak={filter:"br",replacement:function(n,t,e){return e.br+`
`}};Vi.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,t,e){var i=Number(t.nodeName.charAt(1));if(e.headingStyle==="setext"&&i<3){var r=wC(i===1?"=":"-",n.length);return`

`+n+`
`+r+`

`}else return`

`+wC("#",i)+" "+n+`

`}};Vi.blockquote={filter:"blockquote",replacement:function(n){return n=n.replace(/^\n+|\n+$/g,""),n=n.replace(/^/gm,"> "),`

`+n+`

`}};Vi.list={filter:["ul","ol"],replacement:function(n,t){var e=t.parentNode;return e.nodeName==="LI"&&e.lastElementChild===t?`
`+n:`

`+n+`

`}};Vi.listItem={filter:"li",replacement:function(n,t,e){n=n.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var i=e.bulletListMarker+"   ",r=t.parentNode;if(r.nodeName==="OL"){var s=r.getAttribute("start"),o=Array.prototype.indexOf.call(r.children,t);i=(s?Number(s)+o:o+1)+".  "}return i+n+(t.nextSibling&&!/\n$/.test(n)?`
`:"")}};Vi.indentedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t,e){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Vi.fencedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t,e){for(var i=t.firstChild.getAttribute("class")||"",r=(i.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,o=e.fence.charAt(0),a=3,l=new RegExp("^"+o+"{3,}","gm"),c;c=l.exec(s);)c[0].length>=a&&(a=c[0].length+1);var d=wC(o,a);return`

`+d+r+`
`+s.replace(/\n$/,"")+`
`+d+`

`}};Vi.horizontalRule={filter:"hr",replacement:function(n,t,e){return`

`+e.hr+`

`}};Vi.inlineLink={filter:function(n,t){return t.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,t){var e=t.getAttribute("href");e&&(e=e.replace(/([()])/g,"\\$1"));var i=W1(t.getAttribute("title"));return i&&(i=' "'+i.replace(/"/g,'\\"')+'"'),"["+n+"]("+e+i+")"}};Vi.referenceLink={filter:function(n,t){return t.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,t,e){var i=t.getAttribute("href"),r=W1(t.getAttribute("title"));r&&(r=' "'+r+'"');var s,o;switch(e.linkReferenceStyle){case"collapsed":s="["+n+"][]",o="["+n+"]: "+i+r;break;case"shortcut":s="["+n+"]",o="["+n+"]: "+i+r;break;default:var a=this.references.length+1;s="["+n+"]["+a+"]",o="["+a+"]: "+i+r}return this.references.push(o),s},references:[],append:function(n){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};Vi.emphasis={filter:["em","i"],replacement:function(n,t,e){return n.trim()?e.emDelimiter+n+e.emDelimiter:""}};Vi.strong={filter:["strong","b"],replacement:function(n,t,e){return n.trim()?e.strongDelimiter+n+e.strongDelimiter:""}};Vi.code={filter:function(n){var t=n.previousSibling||n.nextSibling,e=n.parentNode.nodeName==="PRE"&&!t;return n.nodeName==="CODE"&&!e},replacement:function(n){if(!n)return"";n=n.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(n)?" ":"",e="`",i=n.match(/`+/gm)||[];i.indexOf(e)!==-1;)e=e+"`";return e+t+n+t+e}};Vi.image={filter:"img",replacement:function(n,t){var e=W1(t.getAttribute("alt")),i=t.getAttribute("src")||"",r=W1(t.getAttribute("title")),s=r?' "'+r+'"':"";return i?"!["+e+"]("+i+s+")":""}};function W1(n){return n?n.replace(/(\n+\s*)+/g,`
`):""}function OU(n){this.options=n,this._keep=[],this._remove=[],this.blankRule={replacement:n.blankReplacement},this.keepReplacement=n.keepReplacement,this.defaultRule={replacement:n.defaultReplacement},this.array=[];for(var t in n.rules)this.array.push(n.rules[t])}OU.prototype={add:function(n,t){this.array.unshift(t)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){if(n.isBlank)return this.blankRule;var t;return(t=n2(this.array,n,this.options))||(t=n2(this._keep,n,this.options))||(t=n2(this._remove,n,this.options))?t:this.defaultRule},forEach:function(n){for(var t=0;t<this.array.length;t++)n(this.array[t],t)}};function n2(n,t,e){for(var i=0;i<n.length;i++){var r=n[i];if(iOe(r,t,e))return r}}function iOe(n,t,e){var i=n.filter;if(typeof i=="string"){if(i===t.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof i=="function"){if(i.call(n,t,e))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function rOe(n){var t=n.element,e=n.isBlock,i=n.isVoid,r=n.isPre||function(h){return h.nodeName==="PRE"};if(!(!t.firstChild||r(t))){for(var s=null,o=!1,a=null,l=wO(a,t,r);l!==t;){if(l.nodeType===3||l.nodeType===4){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!o&&c[0]===" "&&(c=c.substr(1)),!c){l=i2(l);continue}l.data=c,s=l}else if(l.nodeType===1)e(l)||l.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):i(l)||r(l)?(s=null,o=!0):s&&(o=!1);else{l=i2(l);continue}var d=wO(a,l,r);a=l,l=d}s&&(s.data=s.data.replace(/ $/,""),s.data||i2(s))}}function i2(n){var t=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),t}function wO(n,t,e){return n&&n.parentNode===t||e(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var QT=typeof window<"u"?window:{};function sOe(){var n=QT.DOMParser,t=!1;try{new n().parseFromString("","text/html")&&(t=!0)}catch{}return t}function oOe(){var n=function(){};return aOe()?n.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:n.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e},n}function aOe(){var n=!1;try{document.implementation.createHTMLDocument("").open()}catch{QT.ActiveXObject&&(n=!0)}return n}var lOe=sOe()?QT.DOMParser:oOe();function cOe(n,t){var e;if(typeof n=="string"){var i=uOe().parseFromString('<x-turndown id="turndown-root">'+n+"</x-turndown>","text/html");e=i.getElementById("turndown-root")}else e=n.cloneNode(!0);return rOe({element:e,isBlock:JT,isVoid:IU,isPre:t.preformattedCode?dOe:null}),e}var r2;function uOe(){return r2=r2||new lOe,r2}function dOe(n){return n.nodeName==="PRE"||n.nodeName==="CODE"}function fOe(n,t){return n.isBlock=JT(n),n.isCode=n.nodeName==="CODE"||n.parentNode.isCode,n.isBlank=hOe(n),n.flankingWhitespace=mOe(n,t),n}function hOe(n){return!IU(n)&&!tOe(n)&&/^\s*$/i.test(n.textContent)&&!eOe(n)&&!nOe(n)}function mOe(n,t){if(n.isBlock||t.preformattedCode&&n.isCode)return{leading:"",trailing:""};var e=pOe(n.textContent);return e.leadingAscii&&vO("left",n,t)&&(e.leading=e.leadingNonAscii),e.trailingAscii&&vO("right",n,t)&&(e.trailing=e.trailingNonAscii),{leading:e.leading,trailing:e.trailing}}function pOe(n){var t=n.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function vO(n,t,e){var i,r,s;return n==="left"?(i=t.previousSibling,r=/ $/):(i=t.nextSibling,r=/^ /),i&&(i.nodeType===3?s=r.test(i.nodeValue):e.preformattedCode&&i.nodeName==="CODE"?s=!1:i.nodeType===1&&!JT(i)&&(s=r.test(i.textContent))),s}var gOe=Array.prototype.reduce,bOe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function q1(n){if(!(this instanceof q1))return new q1(n);var t={rules:Vi,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,i){return i.isBlock?`

`:""},keepReplacement:function(e,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(e,i){return i.isBlock?`

`+e+`

`:e}};this.options=Z8e({},t,n),this.rules=new OU(this.options)}q1.prototype={turndown:function(n){if(!yOe(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var t=NU.call(this,new cOe(n,this.options));return wOe.call(this,t)},use:function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)this.use(n[t]);else if(typeof n=="function")n(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(n,t){return this.rules.add(n,t),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return bOe.reduce(function(t,e){return t.replace(e[0],e[1])},n)}};function NU(n){var t=this;return gOe.call(n.childNodes,function(e,i){i=new fOe(i,t.options);var r="";return i.nodeType===3?r=i.isCode?i.nodeValue:t.escape(i.nodeValue):i.nodeType===1&&(r=vOe.call(t,i)),MU(e,r)},"")}function wOe(n){var t=this;return this.rules.forEach(function(e){typeof e.append=="function"&&(n=MU(n,e.append(t.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function vOe(n){var t=this.rules.forNode(n),e=NU.call(this,n),i=n.flankingWhitespace;return(i.leading||i.trailing)&&(e=e.trim()),i.leading+t.replacement(e,n,this.options)+i.trailing}function MU(n,t){var e=X8e(n),i=J8e(t),r=Math.max(n.length-e.length,t.length-i.length),s=`

`.substring(0,r);return e+s+i}function yOe(n){return n!=null&&(typeof n=="string"||n.nodeType&&(n.nodeType===1||n.nodeType===9||n.nodeType===11))}var yO=/highlight-(?:text|source)-([a-z0-9]+)/;function _Oe(n){n.addRule("highlightedCodeBlock",{filter:function(t){var e=t.firstChild;return t.nodeName==="DIV"&&yO.test(t.className)&&e&&e.nodeName==="PRE"},replacement:function(t,e,i){var r=e.className||"",s=(r.match(yO)||[null,""])[1];return`

`+i.fence+s+`
`+e.firstChild.textContent+`
`+i.fence+`

`}})}function xOe(n){n.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var kOe=Array.prototype.indexOf,COe=Array.prototype.every,df={};df.tableCell={filter:["th","td"],replacement:function(n,t){return DU(n,t)}};df.tableRow={filter:"tr",replacement:function(n,t){var e="",i={left:":--",right:"--:",center:":-:"};if(e5(t))for(var r=0;r<t.childNodes.length;r++){var s="---",o=(t.childNodes[r].getAttribute("align")||"").toLowerCase();o&&(s=i[o]||s),e+=DU(s,t.childNodes[r])}return`
`+n+(e?`
`+e:"")}};df.table={filter:function(n){return n.nodeName==="TABLE"&&e5(n.rows[0])},replacement:function(n){return n=n.replace(`

`,`
`),`

`+n+`

`}};df.tableSection={filter:["thead","tbody","tfoot"],replacement:function(n){return n}};function e5(n){var t=n.parentNode;return t.nodeName==="THEAD"||t.firstChild===n&&(t.nodeName==="TABLE"||EOe(t))&&COe.call(n.childNodes,function(e){return e.nodeName==="TH"})}function EOe(n){var t=n.previousSibling;return n.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function DU(n,t){var e=kOe.call(t.parentNode.childNodes,t),i=" ";return e===0&&(i="| "),i+n+" |"}function SOe(n){n.keep(function(e){return e.nodeName==="TABLE"&&!e5(e.rows[0])});for(var t in df)n.addRule(t,df[t])}function TOe(n){n.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}})}function AOe(n){n.use([_Oe,xOe,SOe,TOe])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IOe{constructor(){g(this,"_parser");g(this,"_options",{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1});it.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...t){return Object.getPrototypeOf(this).checkbox.call(this,...t).trimRight()},code(...t){return Object.getPrototypeOf(this).code.call(this,...t).replace(`
</code>`,"</code>")}}}),this._parser=it}parse(t){return this._parser.parse(t,this._options)}}const POe=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");class ROe extends q1{escape(t){const e=super.escape;function i(o){return o=e(o),o=o.replace(/</g,"\\<"),o}let r="",s=0;for(const o of this._matchAutolink(t)){const a=o.index;a>s&&(r+=i(t.substring(s,a)));const l=o[0];r+=l,s=a+l.length}return s<t.length&&(r+=i(t.substring(s,t.length))),r}*_matchAutolink(t){for(const e of t.matchAll(POe)){const i=e[0],r=this._autolinkFindEnd(i);yield Object.assign([i.substring(0,r)],{index:e.index})}}_autolinkFindEnd(t){let e=t.length;for(;e>0;){const i=t[e-1];if(`?!.,:*_~'"`.includes(i))e--;else if(i==")"){let r=0;for(let s=0;s<e;s++)t[s]=="("?r++:t[s]==")"&&r--;if(r<0)e--;else break}else break}return e}}class OOe{constructor(){g(this,"_parser");this._parser=this._createParser()}parse(t){return this._parser.turndown(t)}keep(t){this._parser.keep(t)}_createParser(){const t=new ROe({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});return t.use([AOe,this._todoList]),t}_todoList(t){t.addRule("taskListItems",{filter(e){return e.type==="checkbox"&&(e.parentNode.nodeName==="LI"||e.parentNode.parentNode.nodeName==="LI")},replacement(e,i){return(i.checked?"[x]":"[ ]")+" "}})}}class LU{constructor(t){g(this,"_htmlDP");g(this,"_markdown2html");g(this,"_html2markdown");this._htmlDP=new bT(t),this._markdown2html=new IOe,this._html2markdown=new OOe}keepHtml(t){this._html2markdown.keep([t])}toView(t){const e=this._markdown2html.parse(t);return this._htmlDP.toView(e)}toData(t){const e=this._htmlDP.toData(t);return this._html2markdown.parse(e)}registerRawContentMatcher(t){this._htmlDP.registerRawContentMatcher(t)}useFillerType(){}}class NOe extends L{constructor(t){super(t),t.data.processor=new LU(t.data.viewDocument)}static get pluginName(){return"Markdown"}static get isOfficialPlugin(){return!0}}const MOe=["SPAN","BR","PRE","CODE"];class DOe extends L{constructor(e){super(e);g(this,"_gfmDataProcessor");this._gfmDataProcessor=new LU(e.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get isOfficialPlugin(){return!0}static get requires(){return[pr]}init(){const e=this.editor,r=e.editing.view.document,s=e.plugins.get("ClipboardPipeline");let o=!1;this.listenTo(r,"keydown",(a,l)=>{o=l.shiftKey}),this.listenTo(s,"inputTransformation",(a,l)=>{if(o)return;const c=l.dataTransfer.getData("text/html");if(!c){const h=l.dataTransfer.getData("text/plain");l.content=this._gfmDataProcessor.toView(h);return}const d=this._parseMarkdownFromHtml(c);d&&(l.content=this._gfmDataProcessor.toView(d))})}_parseMarkdownFromHtml(e){const i=this._removeOsSpecificTags(e);if(!this._containsOnlyAllowedFirstLevelTags(i))return null;const r=this._removeFirstLevelWrapperTagsAndBrs(i);return this._containsAnyRemainingHtmlTags(r)?null:this._replaceHtmlReservedEntitiesWithCharacters(r)}_removeOsSpecificTags(e){return e.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(e){const i=new DOMParser,{body:r}=i.parseFromString(e,"text/html");return Array.from(r.children).map(o=>o.tagName).every(o=>MOe.includes(o))}_removeFirstLevelWrapperTagsAndBrs(e){const i=new DOMParser,{body:r}=i.parseFromString(e,"text/html"),s=r.querySelectorAll("br");for(const a of s)a.replaceWith(`
`);const o=r.querySelectorAll(":scope > *");for(const a of o){const l=a.cloneNode(!0);a.replaceWith(...l.childNodes)}return r.innerHTML}_containsAnyRemainingHtmlTags(e){return e.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(e){return e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _O(n,t){const e=(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const o=r.attributeNewValue,a=s.writer,l=s.mapper.toViewElement(r.item),c=[...l.getChildren()].find(h=>h.getCustomProperty("media-content"));a.remove(c);const d=n.getMediaViewElement(a,o,t);a.insert(a.createPositionAt(l,0),d)};return i=>{i.on("attribute:url:media",e)}}function LOe(n,t,e){return t.setCustomProperty("media",!0,n),$a(n,t,{label:e})}function xO(n,t,e,i){return n.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(n,e,i),n.createSlot()])}function kO(n){const t=n.getSelectedElement();return t&&t.is("element","media")?t:null}function VU(n,t,e,i){n.change(r=>{const s=r.createElement("media",{url:t});n.insertObject(s,e,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}class VOe extends je{refresh(){const t=this.editor.model,e=t.document.selection,i=kO(e);this.value=i?i.getAttribute("url"):void 0,this.isEnabled=BOe(e)||FOe(e,t)}execute(t){const e=this.editor.model,i=e.document.selection,r=kO(i);r?e.change(s=>{s.setAttribute("url",t,r)}):VU(e,t,i,!0)}}function FOe(n,t){let i=Xp(n,t).start.parent;return i.isEmpty&&!t.schema.isLimit(i)&&(i=i.parent),t.schema.checkChild(i,"media")}function BOe(n){const t=n.getSelectedElement();return!!t&&t.name==="media"}var jOe='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>';const zOe="0 0 64 42";class $Oe{constructor(t,e){g(this,"locale");g(this,"providerDefinitions");const i=e.providers,r=e.extraProviders||[],s=new Set(e.removeProviders),o=i.concat(r).filter(a=>{const l=a.name;return l?!s.has(l):(ht("media-embed-no-provider-name",{provider:a}),!1)});this.locale=t,this.providerDefinitions=o}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,i){return this._getMedia(e).getViewElement(t,i)}_getMedia(t){if(!t)return new CO(this.locale);t=t.trim();for(const e of this.providerDefinitions){const i=e.html,r=Ct(e.url);for(const s of r){const o=this._getUrlMatches(t,s);if(o)return new CO(this.locale,t,o,i)}}return null}_getUrlMatches(t,e){let i=t.match(e);if(i)return i;let r=t.replace(/^https?:\/\//,"");return i=r.match(e),i||(r=r.replace(/^www\./,""),i=r.match(e),i)?i:null}}class CO{constructor(t,e,i,r){g(this,"url");g(this,"_locale");g(this,"_match");g(this,"_previewRenderer");this.url=this._getValidUrl(e),this._locale=t,this._match=i,this._previewRenderer=r}getViewElement(t,e){const i={};let r;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),e.renderForEditingView&&(i.class="ck-media__wrapper");const s=this._getPreviewHtml(e);r=t.createRawElement("div",i,(o,a)=>{a.setContentOf(o,s)})}else this.url&&(i.url=this.url),r=t.createEmptyElement(e.elementName,i);return t.setCustomProperty("media-content",!0,r),r}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Ms,e=this._locale.t;return t.content=jOe,t.viewBox=zOe,new Wi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}class G1 extends L{constructor(e){super(e);g(this,"registry");e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const r=i[1],s=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${r}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new $Oe(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.schema,r=e.t,s=e.conversion,o=e.config.get("mediaEmbed.previewsInData"),a=e.config.get("mediaEmbed.elementName"),l=this.registry;e.commands.add("mediaEmbed",new VOe(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:(c,{writer:d})=>{const h=c.getAttribute("url");return xO(d,l,h,{elementName:a,renderMediaPreview:!!h&&o})}}),s.for("dataDowncast").add(_O(l,{elementName:a,renderMediaPreview:o})),s.for("editingDowncast").elementToStructure({model:"media",view:(c,{writer:d})=>{const h=c.getAttribute("url"),p=xO(d,l,h,{elementName:a,renderForEditingView:!0});return LOe(p,d,r("media widget"))}}),s.for("editingDowncast").add(_O(l,{elementName:a,renderForEditingView:!0})),s.for("upcast").elementToElement({view:c=>["oembed",a].includes(c.name)&&c.getAttribute("url")?{name:!0}:null,model:(c,{writer:d})=>{const h=c.getAttribute("url");return l.hasMedia(h)?d.createElement("media",{url:h}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(c,{writer:d})=>{const h=c.getAttribute("data-oembed-url");return l.hasMedia(h)?d.createElement("media",{url:h}):null}}).add(c=>{const d=(h,p,b)=>{if(!b.consumable.consume(p.viewItem,{name:!0,classes:"media"}))return;const{modelRange:_,modelCursor:x}=b.convertChildren(p.viewItem,p.modelCursor);p.modelRange=_,p.modelCursor=x,Ut(_.getItems())||b.consumable.revert(p.viewItem,{name:!0,classes:"media"})};c.on("element:figure",d)})}}const UOe=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class HOe extends L{constructor(e){super(e);g(this,"_timeoutId");g(this,"_positionToInsert");this._timeoutId=null,this._positionToInsert=null}static get requires(){return[DT,ko,FT]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const o=i.selection.getFirstRange(),a=qn.fromPosition(o.start);a.stickiness="toPrevious";const l=qn.fromPosition(o.end);l.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(a,l),a.detach(),l.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(_e.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const r=this.editor,s=r.plugins.get(G1).registry,o=new Ui(e,i),a=o.getWalker({ignoreElementEnd:!0});let l="";for(const d of a)d.item.is("$textProxy")&&(l+=d.item.data);if(l=l.trim(),!l.match(UOe)){o.detach();return}if(!s.hasMedia(l)){o.detach();return}if(!r.commands.get("mediaEmbed").isEnabled){o.detach();return}this._positionToInsert=qn.fromPosition(e),this._timeoutId=_e.window.setTimeout(()=>{r.model.change(d=>{this._timeoutId=null,d.remove(o),o.detach();let h=null;this._positionToInsert.root.rootName!=="$graveyard"&&(h=this._positionToInsert),VU(r.model,l,h,!1),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get(ko).requestUndoOnBackspace()},100)}}class WOe extends de{constructor(e,i){super(i);g(this,"focusTracker");g(this,"keystrokes");g(this,"urlInputView");g(this,"_validators");g(this,"_urlInputViewInfoDefault");g(this,"_urlInputViewInfoTip");this.focusTracker=new Pt,this.keystrokes=new jt,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),za({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new xn(this.locale,dr),r=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,r.inputMode="url",r.on("input",()=>{i.infoText=r.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=r.element.value.trim()}),i}}var qOe='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>';class GOe extends L{constructor(){super(...arguments);g(this,"_formView")}static get requires(){return[G1,cu]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("mediaEmbed",()=>{const i=this.editor.locale.t,r=this._createDialogButton(Pe);return r.tooltip=!0,r.label=i("Insert media"),r}),e.ui.componentFactory.add("menuBar:mediaEmbed",()=>{const i=this.editor.locale.t,r=this._createDialogButton(Et);return r.label=i("Media"),r})}_createDialogButton(e){const i=this.editor,r=new e(i.locale),s=i.commands.get("mediaEmbed"),o=this.editor.plugins.get("Dialog");return r.icon=qOe,r.bind("isEnabled").to(s,"isEnabled"),r.on("execute",()=>{o.id==="mediaEmbed"?o.hide():this._showDialog()}),r}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),r=e.commands.get("mediaEmbed"),s=e.locale.t;if(!this._formView){const o=e.plugins.get(G1).registry;this._formView=new(Rf(WOe))(KOe(e.t,o),e.locale),this._formView.on("submit",()=>this._handleSubmitForm())}i.show({id:"mediaEmbed",title:s("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=r.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:s("Cancel"),withText:!0,onExecute:()=>i.hide()},{label:s("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const e=this.editor,i=e.plugins.get("Dialog");this._formView.isValid()&&(e.execute("mediaEmbed",this._formView.url),i.hide(),e.editing.view.focus())}}function KOe(n,t){return[e=>{if(!e.url.length)return n("The URL must not be empty.")},e=>{if(!t.hasMedia(e.url))return n("This media URL is not supported.")}]}class YOe extends L{static get requires(){return[G1,GOe,HOe,Mo]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const EO={"(":")","[":"]","{":"}"};class ZOe extends je{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"mention")}execute(t){const e=this.editor.model,r=e.document.selection,s=typeof t.mention=="string"?{id:t.mention}:t.mention,o=s.id,a=t.range||r.getFirstRange();if(!e.canEditAt(a))return;const l=t.text||o,c=FU({_text:l,id:o},s);if(t.marker.length!=1)throw new M("mentioncommand-incorrect-marker",this);if(o.charAt(0)!=t.marker)throw new M("mentioncommand-incorrect-id",this);e.change(d=>{const h=Os(r.getAttributes()),p=new Map(h.entries());p.set("mention",c);const b=e.insertContent(d.createText(l,p),a),_=b.start.nodeBefore,x=b.end.nodeAfter,C=x&&x.is("$text")&&x.data.startsWith(" ");let S=!1;if(_&&x&&_.is("$text")&&x.is("$text")){const T=_.data.slice(-1),A=T in EO,P=A&&x.data.startsWith(EO[T]);S=A&&P}!S&&!C&&e.insertContent(d.createText(" ",h),a.start.getShiftedBy(l.length))})}}class JOe extends L{static get pluginName(){return"MentionEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model,i=e.document;e.schema.extend("$text",{allowAttributes:"mention"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:r=>BU(r)}}),t.conversion.for("downcast").attributeToElement({model:"mention",view:QOe}),t.conversion.for("downcast").add(XOe),i.registerPostFixer(r=>n7e(r,i,e.schema)),i.registerPostFixer(r=>i7e(r,i)),i.registerPostFixer(r=>e7e(r,i)),t.commands.add("mention",new ZOe(t))}}function FU(n,t){return Object.assign({uid:ii()},n,t||{})}function BU(n,t){const e=n.getAttribute("data-mention"),i=n.getChild(0);if(!i)return;const r={id:e,_text:i.data};return FU(r,t)}function XOe(n){n.on("attribute:mention",(t,e,i)=>{const r=e.attributeNewValue;if(!e.item.is("$textProxy")||!r)return;const s=e.range.start;(s.textNode||s.nodeAfter).data!=r._text&&i.consumable.consume(e.item,t.name)},{priority:"highest"})}function QOe(n,{writer:t}){if(!n)return;const e={class:"mention","data-mention":n.id},i={id:n.uid,priority:20};return t.createAttributeElement("span",e,i)}function e7e(n,t){const e=t.selection,i=e.focus;return e.isCollapsed&&e.hasAttribute("mention")&&t7e(i)?(n.removeSelectionAttribute("mention"),!0):!1}function t7e(n){const t=n.isAtStart;return n.nodeBefore&&n.nodeBefore.is("$text")||t}function n7e(n,t,e){const i=t.differ.getChanges();let r=!1;for(const s of i){if(s.type=="attribute")continue;const o=s.position;if(s.name=="$text"){const a=o.textNode&&o.textNode.nextSibling;r=Sc(o.textNode,n)||r,r=Sc(a,n)||r,r=Sc(o.nodeBefore,n)||r,r=Sc(o.nodeAfter,n)||r}if(s.name!="$text"&&s.type=="insert"){const a=o.nodeAfter;for(const l of n.createRangeIn(a).getItems())r=Sc(l,n)||r}if(s.type=="insert"&&e.isInline(s.name)){const a=o.nodeAfter&&o.nodeAfter.nextSibling;r=Sc(o.nodeBefore,n)||r,r=Sc(a,n)||r}}return r}function i7e(n,t){const e=t.differ.getChanges();let i=!1;for(const r of e)if(r.type==="attribute"&&r.attributeKey!="mention"){const s=r.range.start.nodeBefore,o=r.range.end.nodeAfter;for(const a of[s,o])jU(a)&&a.getAttribute(r.attributeKey)!=r.attributeNewValue&&(n.setAttribute(r.attributeKey,r.attributeNewValue,a),i=!0)}return i}function jU(n){if(!n||!(n.is("$text")||n.is("$textProxy"))||!n.hasAttribute("mention"))return!1;const t=n.data,i=n.getAttribute("mention")._text;return t!=i}function Sc(n,t){return jU(n)?(t.removeAttribute("mention",n),!0):!1}class r7e extends mv{constructor(e){super(e);g(this,"selected");g(this,"position");this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected,i=this.items.getIndex(e);this.select(i+1)}selectPrevious(){const e=this.selected,i=this.items.getIndex(e);this.select(i-1)}select(e){let i=0;e>0&&e<this.items.length?i=e:e<0&&(i=this.items.length-1);const r=this.items.get(i);this.selected!==r&&(this.selected&&this.selected.removeHighlight(),r.highlight(),this.selected=r,this._isItemVisibleInScrolledArea(r)||(this.element.scrollTop=r.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(e){return new Ye(this.element).contains(new Ye(e.element))}}class s7e extends de{constructor(e,i){super(e);g(this,"domElement");this.template=void 0,this.domElement=i,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(r,s,o)=>{o?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}focus(){this.domElement.focus()}}class o7e extends Pa{constructor(){super(...arguments);g(this,"item");g(this,"marker")}highlight(){const e=this.children.first;e.isOn=!0}removeHighlight(){const e=this.children.first;e.isOn=!1}}const Y0=3,a7e=[ct.arrowup,ct.arrowdown,ct.esc],l7e=[ct.enter,ct.tab];class c7e extends L{constructor(e){super(e);g(this,"_mentionsView");g(this,"_mentionsConfigurations");g(this,"_balloon");g(this,"_items",new Sn);g(this,"_lastRequested");g(this,"_requestFeedDebounced");this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=mr(this._requestFeed,100),e.config.define("mention",{feeds:[]})}static get pluginName(){return"MentionUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Yi]}init(){const e=this.editor,i=e.config.get("mention.commitKeys")||l7e,r=a7e.concat(i);this._balloon=e.plugins.get(Yi),e.editing.view.document.on("keydown",(a,l)=>{o(l.keyCode)&&this._isUIVisible&&(l.preventDefault(),a.stop(),l.keyCode==ct.arrowdown&&this._mentionsView.selectNext(),l.keyCode==ct.arrowup&&this._mentionsView.selectPrevious(),i.includes(l.keyCode)&&this._mentionsView.executeSelected(),l.keyCode==ct.esc&&this._hideUIAndRemoveMarker())},{priority:"highest"}),Oo({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const s=e.config.get("mention.feeds");for(const a of s){const{feed:l,marker:c,dropdownLimit:d}=a;if(!g7e(c))throw new M("mentionconfig-incorrect-marker",null,{marker:c});const h=typeof l=="function"?l.bind(this.editor):h7e(l),p=a.itemRenderer,b={marker:c,feedCallback:h,itemRenderer:p,dropdownLimit:d};this._mentionsConfigurations.set(c,b)}this._setupTextWatcher(s),this.listenTo(e,"change:isReadOnly",()=>{this._hideUIAndRemoveMarker()}),this.on("requestFeed:response",(a,l)=>this._handleFeedResponse(l)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker());function o(a){return r.includes(a)}}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale,i=new r7e(e);return i.items.bindTo(this._items).using(r=>{const{item:s,marker:o}=r,{dropdownLimit:a}=this._mentionsConfigurations.get(o),l=a||this.editor.config.get("mention.dropdownLimit")||10;if(i.items.length>=l)return null;const c=new o7e(e),d=this._renderItem(s,o);return d.delegate("execute").to(c),c.children.add(d),c.item=s,c.marker=o,c.on("execute",()=>{i.fire("execute",{item:s,marker:o})}),c}),i.on("execute",(r,s)=>{const o=this.editor,a=o.model,l=s.item,c=s.marker,d=o.model.markers.get("mention"),h=a.createPositionAt(a.document.selection.focus),p=a.createPositionAt(d.getStart()),b=a.createRange(p,h);this._hideUIAndRemoveMarker(),o.execute("mention",{mention:l,text:l.text,marker:c,range:b}),o.editing.view.focus()}),i}_getItemRenderer(e){const{itemRenderer:i}=this._mentionsConfigurations.get(e);return i}_requestFeed(e,i){this._lastRequested=i;const{feedCallback:r}=this._mentionsConfigurations.get(e),s=r(i);if(!(s instanceof Promise)){this.fire("requestFeed:response",{feed:s,marker:e,feedText:i});return}s.then(a=>{this._lastRequested==i?this.fire("requestFeed:response",{feed:a,marker:e,feedText:i}):this.fire("requestFeed:discarded",{feed:a,marker:e,feedText:i})}).catch(a=>{this.fire("requestFeed:error",{error:a}),ht("mention-feed-callback-error",{marker:e})})}_setupTextWatcher(e){const i=this.editor,r=e.map(a=>({...a,pattern:$U(a.marker,a.minimumCharacters||0)})),s=new RT(i.model,d7e(r));s.on("matched",(a,l)=>{const c=zU(r,l.text),h=i.model.document.selection.focus,p=i.model.createPositionAt(h.parent,c.position);if(m7e(h)||p7e(p)){this._hideUIAndRemoveMarker();return}const b=f7e(c,l.text),_=c.marker.length+b.length,x=h.getShiftedBy(-_),C=h.getShiftedBy(-b.length),S=i.model.createRange(x,C);if(s2(i)){const T=i.model.markers.get("mention");i.model.change(A=>{A.updateMarker(T,{range:S})})}else i.model.change(T=>{T.addMarker("mention",{range:S,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(c.marker,b)}),s.on("unmatched",()=>{this._hideUIAndRemoveMarker()});const o=i.commands.get("mention");return s.bind("isEnabled").to(o),s}_handleFeedResponse(e){const{feed:i,marker:r}=e;if(!s2(this.editor))return;this._items.clear();for(const o of i){const a=typeof o!="object"?{id:o,text:o}:o;this._items.add({item:a,marker:r})}const s=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(s):this._hideUIAndRemoveMarker()}_showOrUpdateUI(e){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),s2(this.editor)&&this.editor.model.change(e=>e.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(e,i){const r=this.editor;let s,o=e.id;const a=this._getItemRenderer(i);if(a){const l=a(e);typeof l!="string"?s=new s7e(r.locale,l):o=l}if(!s){const l=new Pe(r.locale);l.label=o,l.withText=!0,s=l}return s}_getBalloonPanelPositionData(e,i){const r=this.editor,s=r.editing,o=s.view.domConverter,a=s.mapper,l=r.locale.uiLanguageDirection;return{target:()=>{let c=e.getRange();c.start.root.rootName=="$graveyard"&&(c=r.model.document.selection.getFirstRange());const d=a.toViewRange(c);return Ye.getDomRangeRects(o.viewRangeToDom(d)).pop()},limiter:()=>{const c=this.editor.editing.view,h=c.document.selection.editableElement;return h?c.domConverter.mapViewToDom(h.root):null},positions:u7e(i,l)}}}function u7e(n,t){const e={caret_se:i=>({top:i.bottom+Y0,left:i.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(i,r)=>({top:i.top-r.height-Y0,left:i.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(i,r)=>({top:i.bottom+Y0,left:i.right-r.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(i,r)=>({top:i.top-r.height-Y0,left:i.right-r.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(e,n)?[e[n]]:t!=="rtl"?[e.caret_se,e.caret_sw,e.caret_ne,e.caret_nw]:[e.caret_sw,e.caret_se,e.caret_nw,e.caret_ne]}function zU(n,t){let e;for(const i of n){const r=t.lastIndexOf(i.marker);r>0&&!t.substring(r-1).match(i.pattern)||(!e||r>=e.position)&&(e={marker:i.marker,position:r,minimumCharacters:i.minimumCharacters,pattern:i.pattern})}return e}function $U(n,t){const e=t==0?"*":`{${t},}`,i=qe.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`,r=".";n=n.replace(/[.*+?^${}()\-|[\]\\]/g,"\\$&");const s=`(?:^|[ ${i}])([${n}])(${r}${e})$`;return new RegExp(s,"u")}function d7e(n){return e=>{const i=zU(n,e);if(!i)return!1;let r=0;i.position!==0&&(r=i.position-1);const s=e.substring(r);return i.pattern.test(s)}}function f7e(n,t){let e=0;n.position!==0&&(e=n.position-1);const i=$U(n.marker,0);return t.substring(e).match(i)[2]}function h7e(n){return t=>n.filter(i=>(typeof i=="string"?i:String(i.id)).toLowerCase().includes(t.toLowerCase()))}function m7e(n){const t=n.textNode&&n.textNode.hasAttribute("mention"),e=n.nodeBefore;return t||e&&e.is("$text")&&e.hasAttribute("mention")}function p7e(n){const t=n.nodeAfter;return t&&t.is("$text")&&t.hasAttribute("mention")}function g7e(n){return n&&n.length==1}function s2(n){return n.model.markers.has("mention")}class b7e extends L{toMentionAttribute(t,e){return BU(t,e)}static get pluginName(){return"Mention"}static get isOfficialPlugin(){return!0}static get requires(){return[JOe,c7e]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class w7e extends je{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection;this.isEnabled=v7e(i,e,t)}execute(){const t=this.editor.model;t.change(e=>{const i=e.createElement("pageBreak");t.insertObject(i,null,null,{setSelection:"after"})})}}function v7e(n,t,e){const i=y7e(n,e);return t.checkChild(i,"pageBreak")}function y7e(n,t){const i=Xp(n,t).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}class _7e extends L{static get pluginName(){return"PageBreakEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.t,r=t.conversion;e.register("pageBreak",{inheritAllFrom:"$blockObject"}),r.for("dataDowncast").elementToStructure({model:"pageBreak",view:(s,{writer:o})=>o.createContainerElement("div",{class:"page-break",style:"page-break-after: always"},o.createContainerElement("span",{style:"display: none"}))}),r.for("editingDowncast").elementToStructure({model:"pageBreak",view:(s,{writer:o})=>{const a=i("Page break"),l=o.createContainerElement("div"),c=o.createRawElement("span",{class:"page-break__label"},function(d){d.innerText=i("Page break")});return o.addClass("page-break",l),o.insert(o.createPositionAt(l,0),c),x7e(l,o,a)}}),r.for("upcast").elementToElement({view:s=>{const o=s.getStyle("page-break-before")=="always",a=s.getStyle("page-break-after")=="always";if(!o&&!a)return null;if(s.childCount==1){const l=s.getChild(0);if(!l.is("element","span")||l.getStyle("display")!="none")return null}else if(s.childCount>1)return null;return{name:!0}},model:"pageBreak",converterPriority:"high"}),t.commands.add("pageBreak",new w7e(t))}}function x7e(n,t,e){return t.setCustomProperty("pageBreak",!0,n),$a(n,t,{label:e})}var k7e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z"/><path d="M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z"/><path d="M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z"/></svg>';class C7e extends L{static get pluginName(){return"PageBreakUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("pageBreak",()=>{const e=this._createButton(Pe);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:pageBreak",()=>this._createButton(Et))}_createButton(t){const e=this.editor,i=e.locale,r=e.commands.get("pageBreak"),s=new t(e.locale),o=i.t;return s.set({label:o("Page break"),icon:k7e}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("pageBreak"),e.editing.view.focus()}),s}}class E7e extends L{static get requires(){return[_7e,C7e,Mo]}static get pluginName(){return"PageBreak"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function S7e(n,t){const e=[];for(const i of t.createRangeIn(n)){const r=i.item;r.is("element","a")&&!r.hasAttribute("href")&&(r.hasAttribute("id")||r.hasAttribute("name"))&&e.push(r)}for(const i of e){const r=i.parent.getChildIndex(i)+1,s=i.getChildren();t.insertChild(r,s,i.parent)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function T7e(n){const t=parseFloat(n);return n.endsWith("pt")?Ed(t*96/72):n.endsWith("pc")?Ed(t*12*96/72):n.endsWith("in")?Ed(t*96):n.endsWith("cm")?Ed(t*96/2.54):n.endsWith("mm")?Ed(t/10*96/2.54):n}function SO(n){return n!==void 0&&n.endsWith("px")}function Ed(n){return n.toFixed(2).replace(/\.?0+$/,"")+"px"}function A7e(n,t,e){if(!n.childCount)return;const i=new Fr(n.document),r=P7e(n,i);if(!r.length)return;const s={},o=[];for(const a of r)if(a.indent!==void 0){R7e(a)||(o.length=0);const l=`${a.id}:${a.indent}`,c=Math.min(a.indent-1,o.length);if(c<o.length&&o[c].id!==a.id&&(o.length=c),c<o.length-1)o.length=c+1;else{const h=O7e(a,t);if(c>o.length-1||o[c].listElement.name!=h.type){c==0&&h.type=="ol"&&a.id!==void 0&&s[l]&&(h.startIndex=s[l]);const p=L7e(h,i,e);if(SO(a.marginLeft)&&(c==0||SO(o[c-1].marginLeft))){let b=a.marginLeft;c>0&&(b=Ed(parseFloat(b)-parseFloat(o[c-1].marginLeft))),i.setStyle("padding-left",b,p)}if(o.length==0){const b=a.element.parent,_=b.getChildIndex(a.element)+1;i.insertChild(_,p,b)}else{const b=o[c-1].listItemElements;i.appendChild(p,b[b.length-1])}o[c]={...a,listElement:p,listItemElements:[]},c==0&&a.id!==void 0&&(s[l]=h.startIndex||1)}}const d=a.element.name=="li"?a.element:i.createElement("li");i.appendChild(d,o[c].listElement),o[c].listItemElements.push(d),c==0&&a.id!==void 0&&s[l]++,a.element!=d&&i.appendChild(a.element,d),F7e(a.element,i),i.removeStyle("text-indent",a.element),i.removeStyle("margin-left",a.element)}else{const l=o.find(c=>c.marginLeft==a.marginLeft);if(l){const c=l.listItemElements;i.appendChild(a.element,c[c.length-1]),i.removeStyle("margin-left",a.element)}else o.length=0}}function I7e(n,t){for(const e of t.createRangeIn(n)){const i=e.item;if(i.is("element","li")){const r=i.getChild(0);r&&r.is("element","p")&&t.unwrapElement(r)}}}function P7e(n,t){const e=t.createRangeIn(n),i=[],r=new Set;for(const s of e.getItems()){if(!s.is("element")||!s.name.match(/^(p|h\d+|li|div)$/))continue;let o=B7e(s);if(o!==void 0&&parseFloat(o)==0&&!Array.from(s.getClassNames()).find(a=>a.startsWith("MsoList"))&&(o=void 0),s.hasStyle("mso-list")||o!==void 0&&r.has(o)){const a=V7e(s);i.push({element:s,id:a.id,order:a.order,indent:a.indent,marginLeft:o}),o!==void 0&&r.add(o)}else r.clear()}return i}function R7e(n){const t=n.element.previousSibling;return TO(t||n.element.parent)}function TO(n){return n.is("element","ol")||n.is("element","ul")}function O7e(n,t){const e=new RegExp(`@list l${n.id}:level${n.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,r=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,s=new RegExp(`@list\\s+l${n.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),o=new RegExp(`@list l${n.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=s.exec(t),l=o.exec(t),c=a&&!l,d=e.exec(t);let h="decimal",p="ol",b=null;if(d&&d[1]){const _=i.exec(d[1]);if(_&&_[1]&&(h=_[1].trim(),p=h!=="bullet"&&h!=="image"?"ol":"ul"),h==="bullet"){const x=N7e(n.element);x&&(h=x)}else{const x=r.exec(d[1]);x&&x[1]&&(b=parseInt(x[1]))}c&&(p="ol")}return{type:p,startIndex:b,style:D7e(h),isLegalStyleList:c}}function N7e(n){if(n.name=="li"&&n.parent.name=="ul"&&n.parent.hasAttribute("type"))return n.parent.getAttribute("type");const t=M7e(n);if(!t)return null;const e=t._data;return e==="o"?"circle":e===""?"disc":e===""?"square":null}function M7e(n){if(n.getChild(0).is("$text"))return null;for(const t of n.getChildren()){if(!t.is("element","span"))continue;const e=t.getChild(0);if(e)return e.is("$text")?e:e.getChild(0)}/* istanbul ignore next -- @preserve */return null}function D7e(n){if(n.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(n){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return n;default:return null}}function L7e(n,t,e){const i=t.createElement(n.type);return n.style&&t.setStyle("list-style-type",n.style,i),n.startIndex&&n.startIndex>1&&t.setAttribute("start",n.startIndex,i),n.isLegalStyleList&&e&&t.addClass("legal-list",i),i}function V7e(n){const t=n.getStyle("mso-list");if(t===void 0)return{};const e=t.match(/(^|\s{1,100})l(\d+)/i),i=t.match(/\s{0,100}lfo(\d+)/i),r=t.match(/\s{0,100}level(\d+)/i);return e&&i&&r?{id:e[2],order:i[1],indent:parseInt(r[1])}:{indent:1}}function F7e(n,t){const e=new Ki({name:"span",styles:{"mso-list":"Ignore"}}),i=t.createRangeIn(n);for(const r of i)r.type==="elementStart"&&e.match(r.item)&&t.remove(r.item)}function B7e(n){const t=n.getStyle("margin-left");return t===void 0||t.endsWith("px")?t:T7e(t)}function j7e(n,t){if(!n.childCount)return;const e=new Fr(n.document),i=$7e(n,e);U7e(i,n,e),W7e(i,n,e),H7e(n,e);const r=q7e(n,e);r.length&&K7e(r,G7e(t),e)}function z7e(n){return btoa(n.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}function $7e(n,t){const e=t.createRangeIn(n),i=new Ki({name:/v:(.+)/}),r=[];for(const s of e){if(s.type!="elementStart")continue;const o=s.item,a=o.previousSibling,l=a&&a.is("element")?a.name:null,c=["Chart"],d=i.match(o),h=o.getAttribute("o:gfxdata"),p=l==="v:shapetype",b=h&&c.some(_=>o.getAttribute("id").includes(_));d&&h&&!p&&!b&&r.push(s.item.getAttribute("id"))}return r}function U7e(n,t,e){const i=e.createRangeIn(t),r=new Ki({name:"img"}),s=[];for(const o of i)if(o.item.is("element")&&r.match(o.item)){const a=o.item,l=a.getAttribute("v:shapes")?a.getAttribute("v:shapes").split(" "):[];l.length&&l.every(c=>n.indexOf(c)>-1)?s.push(a):a.getAttribute("src")||s.push(a)}for(const o of s)e.remove(o)}function H7e(n,t){const e=t.createRangeIn(n),i=new Ki({name:/v:(.+)/}),r=[];for(const s of e)s.type=="elementStart"&&i.match(s.item)&&r.push(s.item);for(const s of r)t.remove(s)}function W7e(n,t,e){const i=e.createRangeIn(t),r=[];for(const a of i)if(a.type=="elementStart"&&a.item.is("element","v:shape")){const l=a.item.getAttribute("id");if(n.includes(l))continue;s(a.item.parent.getChildren(),l)||r.push(a.item)}for(const a of r){const l={src:o(a)};a.hasAttribute("alt")&&(l.alt=a.getAttribute("alt"));const c=e.createElement("img",l);e.insertChild(a.index+1,c,a.parent)}function s(a,l){for(const c of a){/* istanbul ignore else -- @preserve */if(c.is("element")&&(c.name=="img"&&c.getAttribute("v:shapes")==l||s(c.getChildren(),l)))return!0}return!1}function o(a){for(const l of a.getChildren()){/* istanbul ignore else -- @preserve */if(l.is("element")&&l.getAttribute("src"))return l.getAttribute("src")}}}function q7e(n,t){const e=t.createRangeIn(n),i=new Ki({name:"img"}),r=[];for(const s of e)s.item.is("element")&&i.match(s.item)&&s.item.getAttribute("src").startsWith("file://")&&r.push(s.item);return r}function G7e(n){if(!n)return[];const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,e=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),i=n.match(e),r=[];if(i)for(const s of i){let o=!1;s.includes("\\pngblip")?o="image/png":s.includes("\\jpegblip")&&(o="image/jpeg"),o&&r.push({hex:s.replace(t,"").replace(/[^\da-fA-F]/g,""),type:o})}return r}function K7e(n,t,e){if(n.length===t.length)for(let i=0;i<n.length;i++){const r=`data:${t[i].type};base64,${z7e(t[i].hex)}`;e.setAttribute("src",r,n[i])}}function Y7e(n){const t=[],e=new Fr(n.document);for(const{item:i}of e.createRangeIn(n))if(i.is("element")){for(const r of i.getClassNames())/\bmso/gi.exec(r)&&e.removeClass(r,i);for(const r of i.getStyleNames())/\bmso/gi.exec(r)&&e.removeStyle(r,i);(i.is("element","w:sdt")||i.is("element","w:sdtpr")&&i.isEmpty||i.is("element","o:p")&&i.isEmpty)&&t.push(i)}for(const i of t){const r=i.parent,s=r.getChildIndex(i);e.insertChild(s,i.getChildren(),r),e.remove(i)}}const Z7e=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,J7e=/xmlns:o="urn:schemas-microsoft-com/i;class X7e{constructor(t,e=!1){g(this,"document");g(this,"hasMultiLevelListPlugin");this.document=t,this.hasMultiLevelListPlugin=e}isActive(t){return Z7e.test(t)||J7e.test(t)}execute(t){const e=new Fr(this.document),{body:i,stylesString:r}=t._parsedData;S7e(i,e),A7e(i,r,this.hasMultiLevelListPlugin),j7e(i,t.dataTransfer.getData("text/rtf")),Y7e(i),t.content=i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Q7e(n,t){for(const e of n.getChildren())if(e.is("element","b")&&e.getStyle("font-weight")==="normal"){const i=n.getChildIndex(e);t.remove(e),t.insertChild(i,e.getChildren(),n)}}function eNe(n,t){const e=new av(t.document.stylesProcessor),i=new cv(e,{renderingMode:"data"}),r=i.blockElements,s=i.inlineObjectElements,o=[];for(const a of t.createRangeIn(n)){const l=a.item;if(l.is("element","br")){const c=AO(l,"forward",t,{blockElements:r,inlineObjectElements:s}),d=AO(l,"backward",t,{blockElements:r,inlineObjectElements:s}),h=IO(c,r);(IO(d,r)||h)&&o.push(l)}}for(const a of o)a.hasClass("Apple-interchange-newline")?t.remove(a):t.replace(a,t.createElement("p"))}function AO(n,t,e,{blockElements:i,inlineObjectElements:r}){let s=e.createPositionAt(n,t=="forward"?"after":"before");return s=s.getLastMatchingPosition(({item:o})=>o.is("element")&&!i.includes(o.name)&&!r.includes(o.name),{direction:t}),t=="forward"?s.nodeAfter:s.nodeBefore}function IO(n,t){return!!n&&n.is("element")&&t.includes(n.name)}const tNe=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class nNe{constructor(t){g(this,"document");this.document=t}isActive(t){return tNe.test(t)}execute(t){const e=new Fr(this.document),{body:i}=t._parsedData;Q7e(i,e),I7e(i,e),eNe(i,e),t.content=i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iNe(n,t){for(const e of n.getChildren())e.is("element","table")&&e.hasAttribute("xmlns")&&t.removeAttribute("xmlns",e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rNe(n,t){for(const e of n.getChildren())if(e.is("element","google-sheets-html-origin")){const i=n.getChildIndex(e);t.remove(e),t.insertChild(i,e.getChildren(),n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sNe(n,t){for(const e of n.getChildren())e.is("element","table")&&e.getStyle("width")==="0px"&&t.removeStyle("width",e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oNe(n,t){for(const e of Array.from(n.getChildren()))e.is("element","style")&&t.remove(e)}const aNe=/<google-sheets-html-origin/i;class lNe{constructor(t){g(this,"document");this.document=t}isActive(t){return aNe.test(t)}execute(t){const e=new Fr(this.document),{body:i}=t._parsedData;rNe(i,e),iNe(i,e),sNe(i,e),oNe(i,e),t.content=i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cNe(n){return PO(PO(n)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function uNe(n){n.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t,i=e.innerText.length||0;e.innerText=Array(i+1).join(" ").substr(0,i)})}function PO(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length===1?" ":Array(e.length+1).join(" ").substr(0,e.length))}function dNe(n,t){const e=new DOMParser;n=n.replace(/<!--\[if gte vml 1]>/g,""),n=n.replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,"");const i=cNe(mNe(n)),r=e.parseFromString(i,"text/html");uNe(r);const s=r.body.innerHTML,o=fNe(r,t),a=hNe(r);return{body:o,bodyString:s,styles:a.styles,stylesString:a.stylesString}}function fNe(n,t){const e=new av(t),i=new cv(e,{renderingMode:"data"}),r=n.createDocumentFragment(),s=n.body.childNodes;for(;s.length>0;)r.appendChild(s[0]);return i.domToView(r,{skipComments:!0})}function hNe(n){const t=[],e=[],i=Array.from(n.getElementsByTagName("style"));for(const r of i)r.sheet&&r.sheet.cssRules&&r.sheet.cssRules.length&&(t.push(r.sheet),e.push(r.innerHTML));return{styles:t,stylesString:e.join(" ")}}function mNe(n){const t="</body>",e="</html>",i=n.indexOf(t);if(i<0)return n;const r=n.indexOf(e,i+t.length);return n.substring(0,i+t.length)+(r>=0?n.substring(r):"")}class pNe extends L{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[pr]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),i=t.editing.view.document,r=[],s=this.editor.plugins.has("MultiLevelList");r.push(new X7e(i,s)),r.push(new nNe(i)),r.push(new lNe(i)),e.on("inputTransformation",(o,a)=>{if(a._isTransformedWithPasteFromOffice||t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const c=a.dataTransfer.getData("text/html"),d=r.find(h=>h.isActive(c));d&&(a._parsedData||(a._parsedData=dNe(c,i.stylesProcessor)),d.execute(a),a._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var gNe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';const Z0="removeFormat";class bNe extends L{static get pluginName(){return"RemoveFormatUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add(Z0,()=>{const e=this._createButton(Pe);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add(`menuBar:${Z0}`,()=>this._createButton(Et))}_createButton(t){const e=this.editor,i=e.locale,r=e.commands.get(Z0),s=new t(e.locale),o=i.t;return s.set({label:o("Remove Format"),icon:gNe}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Z0),e.editing.view.focus()}),s}}class wNe extends je{refresh(){const t=this.editor.model;this.isEnabled=!!Ut(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change(i=>{for(const r of this._getFormattingItems(t.document.selection,e))if(r.is("selection"))for(const s of this._getFormattingAttributes(r,e))i.removeSelectionAttribute(s);else{const s=i.createRangeOn(r);for(const o of this._getFormattingAttributes(r,e))i.removeAttribute(o,s)}})}*_getFormattingItems(t,e){const i=r=>!!Ut(this._getFormattingAttributes(r,e));for(const r of t.getRanges())for(const s of r.getItems())!e.isBlock(s)&&i(s)&&(yield s);for(const r of t.getSelectedBlocks())i(r)&&(yield r);i(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[i]of t.getAttributes()){const r=e.getAttributeProperties(i);r&&r.isFormatting&&(yield i)}}}class vNe extends L{static get pluginName(){return"RemoveFormatEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("removeFormat",new wNe(t))}}class yNe extends L{static get requires(){return[vNe,bNe]}static get pluginName(){return"RemoveFormat"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _Ne extends je{constructor(t){super(t),this.affectsData=!1,this.value=!1}execute(){const t="ck-show-blocks",e=this.editor.editing.view;e.change(i=>{for(const r of e.document.roots)r.hasClass(t)?(i.removeClass(t,r),this.value=!1):(i.addClass(t,r),this.value=!0)})}}class xNe extends L{static get pluginName(){return"ShowBlocksEditing"}static get isOfficialPlugin(){return!0}init(){const{editor:t}=this;t.commands.add("showBlocks",new _Ne(t))}}var kNe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m6.395 9.196 2.545-.007V6.498a.598.598 0 0 1 .598-.598h.299a.598.598 0 0 1 .598.598v6.877a.598.598 0 0 1-.598.598h-.299a.598.598 0 0 1-.598-.598v-2.691l-2.545.007v2.691a.598.598 0 0 1-.598.598h-.299a.598.598 0 0 1-.598-.598V6.505a.598.598 0 0 1 .598-.598h.299a.598.598 0 0 1 .598.598v2.691Z"/><path d="M15.094 13.417V6.462a.562.562 0 0 0-.562-.562h-.782a1 1 0 0 0-.39.08l-1.017.43a.562.562 0 0 0-.343.517v.197c0 .4.406.67.775.519l.819-.337v6.111c0 .31.251.562.561.562h.377c.31 0 .562-.251.562-.562Z"/><path d="M0 15.417v1.5h1.5v-1.5H0Z"/><path d="M18.5 15.417v1.5H20v-1.5h-1.5Z"/><path d="M18.5 12.333v1.5H20v-1.5h-1.5Z"/><path d="M18.5 9.25v1.5H20v-1.5h-1.5Z"/><path d="M18.5 6.167v1.5H20v-1.5h-1.5Z"/><path d="M0 18.5v.5a1 1 0 0 0 1 1h.5v-1.5H0Z"/><path d="M3.083 18.5V20h1.5v-1.5h-1.5Z"/><path d="M6.167 18.5V20h1.5v-1.5h-1.5Z"/><path d="M9.25 18.5V20h1.5v-1.5h-1.5Z"/><path d="M12.333 18.5V20h1.5v-1.5h-1.5Z"/><path d="M15.417 18.5V20h1.5v-1.5h-1.5Z"/><path d="M18.5 18.5V20h.5a1 1 0 0 0 1-1v-.5h-1.5Z"/><path clip-rule="evenodd" d="M0 1a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v3.583h-1.5V1.5h-17v12.333H0V1Z"/></svg>';class CNe extends L{static get pluginName(){return"ShowBlocksUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("showBlocks",()=>{const e=this._createButton(Pe);return e.set({tooltip:!0,icon:kNe}),e}),t.ui.componentFactory.add("menuBar:showBlocks",()=>this._createButton(Et))}_createButton(t){const e=this.editor,i=e.locale,r=e.commands.get("showBlocks"),s=new t(i),o=i.t;return s.set({label:o("Show blocks"),isToggleable:!0,role:"menuitemcheckbox"}),s.bind("isEnabled").to(r),s.bind("isOn").to(r,"value",r,"isEnabled",(a,l)=>a&&l),this.listenTo(s,"execute",()=>{e.execute("showBlocks"),e.editing.view.focus()}),s}}class ENe extends L{static get pluginName(){return"ShowBlocks"}static get isOfficialPlugin(){return!0}static get requires(){return[xNe,CNe]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function SNe(n){const t=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],e=t.map(o=>o.name).join("|"),i=n.replace(new RegExp(`</?(${e})( .*?)?>`,"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`);let r=0,s=!1;return i.filter(o=>o.length).map(o=>(s=INe(o,s),TNe(o,t)?o2(o,r++):ANe(o,t)?o2(o,--r):s==="middle"||s==="last"?o:o2(o,r))).join(`
`)}function TNe(n,t){return t.some(e=>!(e.isVoid||!new RegExp(`<${e.name}( .*?)?>`).test(n)))}function ANe(n,t){return t.some(e=>new RegExp(`</${e.name}>`).test(n))}function o2(n,t,e="    "){return`${e.repeat(Math.max(0,t))}${n}`}function INe(n,t){return new RegExp("<pre( .*?)?>").test(n)?"first":new RegExp("</pre>").test(n)?"last":t==="first"||t==="middle"?"middle":!1}var PNe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>';const J0="SourceEditingMode";class RNe extends L{constructor(e){super(e);g(this,"_elementReplacer");g(this,"_replacedRoots");g(this,"_dataFromRoots");this.set("isSourceEditingMode",!1),this._elementReplacer=new aj,this._replacedRoots=new Map,this._dataFromRoots=new Map,e.config.define("sourceEditing.allowCollaborationFeatures",!1)}static get pluginName(){return"SourceEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[sf]}init(){this._checkCompatibility();const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("sourceEditing",()=>{const r=this._createButton(Pe);return r.set({label:i("Source"),icon:PNe,tooltip:!0,class:"ck-source-editing-button"}),r}),e.ui.componentFactory.add("menuBar:sourceEditing",()=>{const r=this._createButton(Et);return r.set({label:i("Show source"),role:"menuitemcheckbox"}),r}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(r,s,o)=>{o?(this._hideVisibleDialog(),this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(r,s,o)=>this._handleReadOnlyMode(!o)),this.listenTo(e,"change:isReadOnly",(r,s,o)=>this._handleReadOnlyMode(o))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}updateEditorData(){const e=this.editor,i={};for(const[r,s]of this._replacedRoots){const o=this._dataFromRoots.get(r),a=s.dataset.value;o!==a&&(i[r]=a,this._dataFromRoots.set(r,a))}Object.keys(i).length&&e.data.set(i,{batchType:{isUndoable:!0},suppressErrorInCollaboration:!0})}_checkCompatibility(){const e=this.editor,i=e.config.get("sourceEditing.allowCollaborationFeatures");if(!i&&e.plugins.has("RealTimeCollaborativeEditing"))throw new M("source-editing-incompatible-with-real-time-collaboration",null);!i&&["CommentsEditing","TrackChangesEditing","RevisionHistory"].some(s=>e.plugins.has(s))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}_showSourceEditing(){const e=this.editor,i=e.editing.view,r=e.model;r.change(s=>{s.setSelection(null),s.removeSelectionAttribute(r.document.selection.getAttributeKeys())});for(const[s,o]of i.domRoots){const a=ONe(e.data.get({rootName:s})),l=di(o.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),c=di(o.ownerDocument,"div",{class:"ck-source-editing-area","data-value":a},[l]);l.value=a,l.setSelectionRange(0,0),l.addEventListener("input",()=>{c.dataset.value=l.value,e.ui.update()}),i.change(d=>{const h=i.document.getRoot(s);d.addClass("ck-hidden",h)}),e.ui.setEditableElement("sourceEditing:"+s,l),this._replacedRoots.set(s,c),this._elementReplacer.replace(o,c),this._dataFromRoots.set(s,a)}this._focusSourceEditing()}_hideSourceEditing(){const i=this.editor.editing.view;this.updateEditorData(),i.change(r=>{for(const[s]of this._replacedRoots)r.removeClass("ck-hidden",i.document.getRoot(s))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),i.focus()}_focusSourceEditing(){const e=this.editor,[i]=this._replacedRoots.values(),r=i.querySelector("textarea");e.editing.view.document.isFocused=!1,r.focus()}_disableCommands(){const e=this.editor;for(const i of e.commands.commands())i.forceDisabled(J0);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").forceDisabled(J0)}_enableCommands(){const e=this.editor;for(const i of e.commands.commands())i.clearForceDisabled(J0);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").clearForceDisabled(J0)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,i]of this._replacedRoots)i.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const i=this.editor.ui.view.editable;return i&&!i.hasExternalElement}_hideVisibleDialog(){if(this.editor.plugins.has("Dialog")){const e=this.editor.plugins.get("Dialog");e.isOpen&&e.hide()}}_createButton(e){const i=this.editor,r=new e(i.locale);return r.set({withText:!0,isToggleable:!0}),r.bind("isOn").to(this,"isSourceEditingMode"),r.bind("isEnabled").to(this,"isEnabled",i,"isReadOnly",i.plugins.get(sf),"hasAny",(s,o,a)=>!(!s||o||a)),this.listenTo(r,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),r}}function ONe(n){return NNe(n)?SNe(n):n}function NNe(n){return n.startsWith("<")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MNe extends de{constructor(e){super(e);g(this,"tiles");g(this,"focusTracker");g(this,"keystrokes");this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new Pt,this.keystrokes=new jt,Wp({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>_e.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,i){const r=new Pe(this.locale);return r.set({label:e,withText:!0,class:"ck-character-grid__tile"}),r.extendTemplate({attributes:{title:i},on:{mouseover:r.bindTemplate.to("mouseover"),focus:r.bindTemplate.to("focus")}}),r.on("mouseover",()=>{this.fire("tileHover",{name:i,character:e})}),r.on("focus",()=>{this.fire("tileFocus",{name:i,character:e})}),r.on("execute",()=>{this.fire("execute",{name:i,character:e})}),r}render(){super.render();for(const e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",(e,{added:i,removed:r})=>{if(i.length>0)for(const s of i)this.focusTracker.add(s.element);if(r.length>0)for(const s of r)this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class DNe extends de{constructor(t){super(t);const e=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",LNe),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:e.to("name",i=>i||"")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:e.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function LNe(n){return n===null?"":"U+"+("0000"+n.codePointAt(0).toString(16)).slice(-4)}class VNe extends de{constructor(e,i,r,s){super(e);g(this,"items");g(this,"focusTracker");g(this,"keystrokes");g(this,"_focusCycler");g(this,"categoriesView");g(this,"gridView");g(this,"infoView");this.categoriesView=i,this.gridView=r,this.infoView=s,this.items=this.createCollection(),this.focusTracker=new Pt,this.keystrokes=new jt,this._focusCycler=new Yn({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}var FNe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>';class BNe extends de{constructor(e,i){super(e);g(this,"_groupNames");g(this,"_dropdownView");this.set("currentGroupName",Array.from(i.entries())[0][0]),this._groupNames=i,this._dropdownView=new xn(e,TT),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const e=new Sn;for(const[s,o]of this._groupNames){const a={type:"button",model:new Ls({name:s,label:o,role:"menuitemradio",withText:!0})};a.model.bind("isOn").to(this,"currentGroupName",l=>l===s),e.add(a)}const i=this.locale.t,r=i("Category");this._dropdownView.set({label:r,isEmpty:!1}),this._dropdownView.fieldView.panelPosition=this.locale.uiLanguageDirection==="rtl"?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:r,ariaLabel:r,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",s=>this._groupNames.get(s)),this._dropdownView.fieldView.on("execute",({source:s})=>{this.currentGroupName=s.name}),No(this._dropdownView.fieldView,e,{ariaLabel:r,role:"menu"})}}const a2="All";class jNe extends L{constructor(e){super(e);g(this,"_characters");g(this,"_groups");g(this,"_allSpecialCharactersGroupLabel");const i=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=i("All")}static get requires(){return[a$,cu]}static get pluginName(){return"SpecialCharacters"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("specialCharacters",()=>{const i=this._createDialogButton(Pe);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:specialCharacters",()=>this._createDialogButton(Et))}addItems(e,i,r={label:e}){if(e===a2)throw new M("special-character-invalid-group-name",null);const s=this._getGroup(e,r.label);for(const o of i)s.items.add(o.title),this._characters.set(o.title,o.character)}getGroups(){const e=Array.from(this._groups.keys()),i=this.editor.config.get("specialCharacters.order")||[],r=i.find(s=>!e.includes(s));if(r)throw new M("special-character-invalid-order-group-name",null,{invalidGroup:r});return new Set([...i,...e])}getCharactersForGroup(e){if(e===a2)return new Set(this._characters.keys());const i=this._groups.get(e);if(i)return i.items}getCharacter(e){return this._characters.get(e)}_getGroup(e,i){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:i}),this._groups.get(e)}_updateGrid(e,i){i.tiles.clear();const r=this.getCharactersForGroup(e);for(const s of r){const o=this.getCharacter(s);i.tiles.add(i.createTile(o,s))}}_createDropdownPanelContent(e){const i=Array.from(this.getGroups()).map(l=>[l,this._groups.get(l).label]),r=new Map([[a2,this._allSpecialCharactersGroupLabel],...i]),s=new BNe(e,r),o=new MNe(e),a=new DNe(e);return o.on("tileHover",(l,c)=>{a.set(c)}),o.on("tileFocus",(l,c)=>{a.set(c)}),s.on("change:currentGroupName",(l,c,d)=>{this._updateGrid(d,o)}),this._updateGrid(s.currentGroupName,o),{categoriesView:s,gridView:o,infoView:a}}_createDialogButton(e){const i=this.editor,r=i.locale,s=new e(i.locale),o=i.commands.get("insertText"),a=r.t,l=this.editor.plugins.get("Dialog");return s.set({label:a("Special characters"),icon:FNe,isToggleable:!0}),s.bind("isOn").to(l,"id",c=>c==="specialCharacters"),s.bind("isEnabled").to(o,"isEnabled"),s.on("execute",()=>{if(l.id==="specialCharacters"){l.hide();return}this._showDialog()}),s}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),r=e.locale,s=r.t,{categoriesView:o,gridView:a,infoView:l}=this._createDropdownPanelContent(r),c=new VNe(r,o,a,l);a.on("execute",(d,h)=>{e.execute("insertText",{text:h.character})}),i.show({id:"specialCharacters",title:s("Special characters"),className:"ck-special-characters",content:c,position:xr.EDITOR_TOP_SIDE})}}class UU extends L{static get pluginName(){return"SpecialCharactersArrows"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Arrows",[{title:e("leftwards simple arrow"),character:""},{title:e("rightwards simple arrow"),character:""},{title:e("upwards simple arrow"),character:""},{title:e("downwards simple arrow"),character:""},{title:e("leftwards double arrow"),character:""},{title:e("rightwards double arrow"),character:""},{title:e("upwards double arrow"),character:""},{title:e("downwards double arrow"),character:""},{title:e("leftwards dashed arrow"),character:""},{title:e("rightwards dashed arrow"),character:""},{title:e("upwards dashed arrow"),character:""},{title:e("downwards dashed arrow"),character:""},{title:e("leftwards arrow to bar"),character:""},{title:e("rightwards arrow to bar"),character:""},{title:e("upwards arrow to bar"),character:""},{title:e("downwards arrow to bar"),character:""},{title:e("up down arrow with base"),character:""},{title:e("back with leftwards arrow above"),character:""},{title:e("end with leftwards arrow above"),character:""},{title:e("on with exclamation mark with left right arrow above"),character:""},{title:e("soon with rightwards arrow above"),character:""},{title:e("top with upwards arrow above"),character:""}],{label:e("Arrows")})}}class HU extends L{static get pluginName(){return"SpecialCharactersText"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Text",[{character:"",title:e("Single left-pointing angle quotation mark")},{character:"",title:e("Single right-pointing angle quotation mark")},{character:"",title:e("Left-pointing double angle quotation mark")},{character:"",title:e("Right-pointing double angle quotation mark")},{character:"",title:e("Left single quotation mark")},{character:"",title:e("Right single quotation mark")},{character:"",title:e("Left double quotation mark")},{character:"",title:e("Right double quotation mark")},{character:"",title:e("Single low-9 quotation mark")},{character:"",title:e("Double low-9 quotation mark")},{character:"",title:e("Inverted exclamation mark")},{character:"",title:e("Inverted question mark")},{character:"",title:e("Two dot leader")},{character:"",title:e("Horizontal ellipsis")},{character:"",title:e("Double dagger")},{character:"",title:e("Per mille sign")},{character:"",title:e("Per ten thousand sign")},{character:"",title:e("Double exclamation mark")},{character:"",title:e("Question exclamation mark")},{character:"",title:e("Exclamation question mark")},{character:"",title:e("Double question mark")},{character:"",title:e("Copyright sign")},{character:"",title:e("Registered sign")},{character:"",title:e("Trade mark sign")},{character:"",title:e("Section sign")},{character:"",title:e("Paragraph sign")},{character:"",title:e("Reversed paragraph sign")}],{label:e("Text")})}}class WU extends L{static get pluginName(){return"SpecialCharactersMathematical"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:e("Less-than sign")},{character:">",title:e("Greater-than sign")},{character:"",title:e("Less-than or equal to")},{character:"",title:e("Greater-than or equal to")},{character:"",title:e("En dash")},{character:"",title:e("Em dash")},{character:"",title:e("Macron")},{character:"",title:e("Overline")},{character:"",title:e("Degree sign")},{character:"",title:e("Minus sign")},{character:"",title:e("Plus-minus sign")},{character:"",title:e("Division sign")},{character:"",title:e("Fraction slash")},{character:"",title:e("Multiplication sign")},{character:"",title:e("Latin small letter f with hook")},{character:"",title:e("Integral")},{character:"",title:e("N-ary summation")},{character:"",title:e("Infinity")},{character:"",title:e("Square root")},{character:"",title:e("Tilde operator")},{character:"",title:e("Approximately equal to")},{character:"",title:e("Almost equal to")},{character:"",title:e("Not equal to")},{character:"",title:e("Identical to")},{character:"",title:e("Element of")},{character:"",title:e("Not an element of")},{character:"",title:e("Contains as member")},{character:"",title:e("N-ary product")},{character:"",title:e("Logical and")},{character:"",title:e("Logical or")},{character:"",title:e("Not sign")},{character:"",title:e("Intersection")},{character:"",title:e("Union")},{character:"",title:e("Partial differential")},{character:"",title:e("For all")},{character:"",title:e("There exists")},{character:"",title:e("Empty set")},{character:"",title:e("Nabla")},{character:"",title:e("Asterisk operator")},{character:"",title:e("Proportional to")},{character:"",title:e("Angle")},{character:"",title:e("Vulgar fraction one quarter")},{character:"",title:e("Vulgar fraction one half")},{character:"",title:e("Vulgar fraction three quarters")}],{label:e("Mathematical")})}}class qU extends L{static get pluginName(){return"SpecialCharactersLatin"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Latin",[{character:"",title:e("Latin capital letter a with macron")},{character:"",title:e("Latin small letter a with macron")},{character:"",title:e("Latin capital letter a with breve")},{character:"",title:e("Latin small letter a with breve")},{character:"",title:e("Latin capital letter a with ogonek")},{character:"",title:e("Latin small letter a with ogonek")},{character:"",title:e("Latin capital letter c with acute")},{character:"",title:e("Latin small letter c with acute")},{character:"",title:e("Latin capital letter c with circumflex")},{character:"",title:e("Latin small letter c with circumflex")},{character:"",title:e("Latin capital letter c with dot above")},{character:"",title:e("Latin small letter c with dot above")},{character:"",title:e("Latin capital letter c with caron")},{character:"",title:e("Latin small letter c with caron")},{character:"",title:e("Latin capital letter d with caron")},{character:"",title:e("Latin small letter d with caron")},{character:"",title:e("Latin capital letter d with stroke")},{character:"",title:e("Latin small letter d with stroke")},{character:"",title:e("Latin capital letter e with macron")},{character:"",title:e("Latin small letter e with macron")},{character:"",title:e("Latin capital letter e with breve")},{character:"",title:e("Latin small letter e with breve")},{character:"",title:e("Latin capital letter e with dot above")},{character:"",title:e("Latin small letter e with dot above")},{character:"",title:e("Latin capital letter e with ogonek")},{character:"",title:e("Latin small letter e with ogonek")},{character:"",title:e("Latin capital letter e with caron")},{character:"",title:e("Latin small letter e with caron")},{character:"",title:e("Latin capital letter g with circumflex")},{character:"",title:e("Latin small letter g with circumflex")},{character:"",title:e("Latin capital letter g with breve")},{character:"",title:e("Latin small letter g with breve")},{character:"",title:e("Latin capital letter g with dot above")},{character:"",title:e("Latin small letter g with dot above")},{character:"",title:e("Latin capital letter g with cedilla")},{character:"",title:e("Latin small letter g with cedilla")},{character:"",title:e("Latin capital letter h with circumflex")},{character:"",title:e("Latin small letter h with circumflex")},{character:"",title:e("Latin capital letter h with stroke")},{character:"",title:e("Latin small letter h with stroke")},{character:"",title:e("Latin capital letter i with tilde")},{character:"",title:e("Latin small letter i with tilde")},{character:"",title:e("Latin capital letter i with macron")},{character:"",title:e("Latin small letter i with macron")},{character:"",title:e("Latin capital letter i with breve")},{character:"",title:e("Latin small letter i with breve")},{character:"",title:e("Latin capital letter i with ogonek")},{character:"",title:e("Latin small letter i with ogonek")},{character:"",title:e("Latin capital letter i with dot above")},{character:"",title:e("Latin small letter dotless i")},{character:"",title:e("Latin capital ligature ij")},{character:"",title:e("Latin small ligature ij")},{character:"",title:e("Latin capital letter j with circumflex")},{character:"",title:e("Latin small letter j with circumflex")},{character:"",title:e("Latin capital letter k with cedilla")},{character:"",title:e("Latin small letter k with cedilla")},{character:"",title:e("Latin small letter kra")},{character:"",title:e("Latin capital letter l with acute")},{character:"",title:e("Latin small letter l with acute")},{character:"",title:e("Latin capital letter l with cedilla")},{character:"",title:e("Latin small letter l with cedilla")},{character:"",title:e("Latin capital letter l with caron")},{character:"",title:e("Latin small letter l with caron")},{character:"",title:e("Latin capital letter l with middle dot")},{character:"",title:e("Latin small letter l with middle dot")},{character:"",title:e("Latin capital letter l with stroke")},{character:"",title:e("Latin small letter l with stroke")},{character:"",title:e("Latin capital letter n with acute")},{character:"",title:e("Latin small letter n with acute")},{character:"",title:e("Latin capital letter n with cedilla")},{character:"",title:e("Latin small letter n with cedilla")},{character:"",title:e("Latin capital letter n with caron")},{character:"",title:e("Latin small letter n with caron")},{character:"",title:e("Latin small letter n preceded by apostrophe")},{character:"",title:e("Latin capital letter eng")},{character:"",title:e("Latin small letter eng")},{character:"",title:e("Latin capital letter o with macron")},{character:"",title:e("Latin small letter o with macron")},{character:"",title:e("Latin capital letter o with breve")},{character:"",title:e("Latin small letter o with breve")},{character:"",title:e("Latin capital letter o with double acute")},{character:"",title:e("Latin small letter o with double acute")},{character:"",title:e("Latin capital ligature oe")},{character:"",title:e("Latin small ligature oe")},{character:"",title:e("Latin capital letter r with acute")},{character:"",title:e("Latin small letter r with acute")},{character:"",title:e("Latin capital letter r with cedilla")},{character:"",title:e("Latin small letter r with cedilla")},{character:"",title:e("Latin capital letter r with caron")},{character:"",title:e("Latin small letter r with caron")},{character:"",title:e("Latin capital letter s with acute")},{character:"",title:e("Latin small letter s with acute")},{character:"",title:e("Latin capital letter s with circumflex")},{character:"",title:e("Latin small letter s with circumflex")},{character:"",title:e("Latin capital letter s with cedilla")},{character:"",title:e("Latin small letter s with cedilla")},{character:"",title:e("Latin capital letter s with caron")},{character:"",title:e("Latin small letter s with caron")},{character:"",title:e("Latin capital letter t with cedilla")},{character:"",title:e("Latin small letter t with cedilla")},{character:"",title:e("Latin capital letter t with caron")},{character:"",title:e("Latin small letter t with caron")},{character:"",title:e("Latin capital letter t with stroke")},{character:"",title:e("Latin small letter t with stroke")},{character:"",title:e("Latin capital letter u with tilde")},{character:"",title:e("Latin small letter u with tilde")},{character:"",title:e("Latin capital letter u with macron")},{character:"",title:e("Latin small letter u with macron")},{character:"",title:e("Latin capital letter u with breve")},{character:"",title:e("Latin small letter u with breve")},{character:"",title:e("Latin capital letter u with ring above")},{character:"",title:e("Latin small letter u with ring above")},{character:"",title:e("Latin capital letter u with double acute")},{character:"",title:e("Latin small letter u with double acute")},{character:"",title:e("Latin capital letter u with ogonek")},{character:"",title:e("Latin small letter u with ogonek")},{character:"",title:e("Latin capital letter w with circumflex")},{character:"",title:e("Latin small letter w with circumflex")},{character:"",title:e("Latin capital letter y with circumflex")},{character:"",title:e("Latin small letter y with circumflex")},{character:"",title:e("Latin capital letter y with diaeresis")},{character:"",title:e("Latin capital letter z with acute")},{character:"",title:e("Latin small letter z with acute")},{character:"",title:e("Latin capital letter z with dot above")},{character:"",title:e("Latin small letter z with dot above")},{character:"",title:e("Latin capital letter z with caron")},{character:"",title:e("Latin small letter z with caron")},{character:"",title:e("Latin small letter long s")}],{label:e("Latin")})}}class GU extends L{static get pluginName(){return"SpecialCharactersCurrency"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:e("Dollar sign")},{character:"",title:e("Euro sign")},{character:"",title:e("Yen sign")},{character:"",title:e("Pound sign")},{character:"",title:e("Cent sign")},{character:"",title:e("Euro-currency sign")},{character:"",title:e("Colon sign")},{character:"",title:e("Cruzeiro sign")},{character:"",title:e("French franc sign")},{character:"",title:e("Lira sign")},{character:"",title:e("Currency sign")},{character:"",title:e("Bitcoin sign")},{character:"",title:e("Mill sign")},{character:"",title:e("Naira sign")},{character:"",title:e("Peseta sign")},{character:"",title:e("Rupee sign")},{character:"",title:e("Won sign")},{character:"",title:e("New sheqel sign")},{character:"",title:e("Dong sign")},{character:"",title:e("Kip sign")},{character:"",title:e("Tugrik sign")},{character:"",title:e("Drachma sign")},{character:"",title:e("German penny sign")},{character:"",title:e("Peso sign")},{character:"",title:e("Guarani sign")},{character:"",title:e("Austral sign")},{character:"",title:e("Hryvnia sign")},{character:"",title:e("Cedi sign")},{character:"",title:e("Livre tournois sign")},{character:"",title:e("Spesmilo sign")},{character:"",title:e("Tenge sign")},{character:"",title:e("Indian rupee sign")},{character:"",title:e("Turkish lira sign")},{character:"",title:e("Nordic mark sign")},{character:"",title:e("Manat sign")},{character:"",title:e("Ruble sign")}],{label:e("Currency")})}}class zNe extends L{static get pluginName(){return"SpecialCharactersEssentials"}static get isOfficialPlugin(){return!0}static get requires(){return[GU,HU,WU,UU,qU]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $Ne extends Pe{constructor(e,i){super(e);g(this,"styleDefinition");g(this,"previewView");this.styleDefinition=i,this.previewView=this._createPreview(),this.set({label:i.name,class:"ck-style-grid__button",withText:!0}),this.extendTemplate({attributes:{role:"option"}}),this.children.add(this.previewView,0)}_createPreview(){const e=new de(this.locale);return e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all-excluded","ck-style-grid__button__preview","ck-content"],"aria-hidden":"true"},children:[this.styleDefinition.previewTemplate]}),e}}class UNe extends de{constructor(e,i){super(e);g(this,"focusTracker");g(this,"keystrokes");g(this,"children");this.focusTracker=new Pt,this.keystrokes=new jt,this.set("activeStyles",[]),this.set("enabledStyles",[]),this.children=this.createCollection(),this.children.delegate("execute").to(this);for(const r of i){const s=new $Ne(e,r);this.children.add(s)}this.on("change:activeStyles",()=>{for(const r of this.children)r.isOn=this.activeStyles.includes(r.styleDefinition.name)}),this.on("change:enabledStyles",()=>{for(const r of this.children)r.isEnabled=this.enabledStyles.includes(r.styleDefinition.name)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-grid"],role:"listbox"},children:this.children})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element);Wp({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.children,numberOfColumns:3,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection}),this.keystrokes.listenTo(this.element)}focus(){this.children.first.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class RO extends de{constructor(e,i,r){super(e);g(this,"gridView");g(this,"labelView");this.labelView=new ur(e),this.labelView.text=i,this.gridView=new UNe(e,r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel__style-group"],role:"group","aria-labelledby":this.labelView.id},children:[this.labelView,this.gridView]})}}class HNe extends de{constructor(e,i){super(e);g(this,"focusTracker");g(this,"keystrokes");g(this,"children");g(this,"blockStylesGroupView");g(this,"inlineStylesGroupView");g(this,"_focusables");g(this,"_focusCycler");const r=e.t;this.focusTracker=new Pt,this.keystrokes=new jt,this.children=this.createCollection(),this.blockStylesGroupView=new RO(e,r("Block styles"),i.block),this.inlineStylesGroupView=new RO(e,r("Text styles"),i.inline),this.set("activeStyles",[]),this.set("enabledStyles",[]),this._focusables=new Hn,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["shift + tab"],focusNext:["tab"]}}),i.block.length&&this.children.add(this.blockStylesGroupView),i.inline.length&&this.children.add(this.inlineStylesGroupView),this.blockStylesGroupView.gridView.delegate("execute").to(this),this.inlineStylesGroupView.gridView.delegate("execute").to(this),this.blockStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.inlineStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel"]},children:this.children})}render(){super.render(),this._focusables.add(this.blockStylesGroupView.gridView),this._focusables.add(this.inlineStylesGroupView.gridView),this.focusTracker.add(this.blockStylesGroupView.gridView.element),this.focusTracker.add(this.inlineStylesGroupView.gridView.element),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}const WNe=["caption","colgroup","dd","dt","figcaption","legend","li","optgroup","option","rp","rt","summary","tbody","td","tfoot","th","thead","tr"];class Ma extends L{constructor(e){super(e);g(this,"_htmlSupport");this.decorate("isStyleEnabledForBlock"),this.decorate("isStyleActiveForBlock"),this.decorate("getAffectedBlocks"),this.decorate("isStyleEnabledForInlineSelection"),this.decorate("isStyleActiveForInlineSelection"),this.decorate("getAffectedInlineSelectable"),this.decorate("getStylePreview"),this.decorate("configureGHSDataFilter")}static get pluginName(){return"StyleUtils"}static get isOfficialPlugin(){return!0}init(){this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport")}normalizeConfig(e,i=[]){const r={block:[],inline:[]};for(const s of i){const o=[],a=[];for(const c of e.getDefinitionsForView(s.element)){const d="appliesToBlock"in c?c.appliesToBlock:!1;if(c.isBlock||d){if(typeof d=="string")o.push(d);else if(c.isBlock){const h=c;o.push(c.model),h.paragraphLikeModel&&o.push(h.paragraphLikeModel)}}else a.push(c.model)}const l=this.getStylePreview(s,[{text:"AaBbCcDdEeFfGgHhIiJj"}]);o.length?r.block.push({...s,previewTemplate:l,modelElements:o,isBlock:!0}):r.inline.push({...s,previewTemplate:l,ghsAttributes:a})}return r}isStyleEnabledForBlock(e,i){const r=this.editor.model,s=this._htmlSupport.getGhsAttributeNameForElement(e.element);return r.schema.checkAttribute(i,s)?e.modelElements.includes(i.name):!1}isStyleActiveForBlock(e,i){const r=this._htmlSupport.getGhsAttributeNameForElement(e.element),s=i.getAttribute(r);return this.hasAllClasses(s,e.classes)}getAffectedBlocks(e,i){return e.modelElements.includes(i.name)?[i]:null}isStyleEnabledForInlineSelection(e,i){const r=this.editor.model;for(const s of e.ghsAttributes)if(r.schema.checkAttributeInSelection(i,s))return!0;return!1}isStyleActiveForInlineSelection(e,i){for(const r of e.ghsAttributes){const s=this._getValueFromFirstAllowedNode(i,r);if(this.hasAllClasses(s,e.classes))return!0}return!1}getAffectedInlineSelectable(e,i){return i}getStylePreview(e,i){const{element:r,classes:s}=e;return{tag:GNe(r)?r:"div",attributes:{class:s},children:i}}hasAllClasses(e,i){return qt(e)&&qNe(e)&&i.every(r=>e.classes.includes(r))}configureGHSDataFilter({block:e,inline:i}){const r=this.editor.plugins.get("DataFilter");r.loadAllowedConfig(e.map(OO)),r.loadAllowedConfig(i.map(OO))}_getValueFromFirstAllowedNode(e,i){const s=this.editor.model.schema;if(e.isCollapsed)return e.getAttribute(i);for(const o of e.getRanges())for(const a of o.getItems())if(s.checkAttribute(a,i))return a.getAttribute(i);return null}}function qNe(n){return!!n.classes&&Array.isArray(n.classes)}function GNe(n){return!WNe.includes(n)}function OO({element:n,classes:t}){return{name:n,classes:t}}class KNe extends L{static get pluginName(){return"StyleUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Ma]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),i=t.plugins.get("StyleUtils"),r=t.config.get("style.definitions"),s=i.normalizeConfig(e,r);t.ui.componentFactory.add("style",o=>{const a=o.t,l=zn(o),c=t.commands.get("style");return l.once("change:isOpen",()=>{const d=new HNe(o,s);l.panelView.children.add(d),d.delegate("execute").to(l),d.bind("activeStyles").to(c,"value"),d.bind("enabledStyles").to(c,"enabledStyles")}),l.bind("isEnabled").to(c),l.buttonView.withText=!0,l.buttonView.bind("label").to(c,"value",d=>d.length>1?a("Multiple styles"):d.length===1?d[0]:a("Styles")),l.bind("class").to(c,"value",d=>{const h=["ck-style-dropdown"];return d.length>1&&h.push("ck-style-dropdown_multiple-active"),h.join(" ")}),l.on("execute",d=>{t.execute("style",{styleName:d.source.styleDefinition.name}),t.editing.view.focus()}),l})}}class YNe extends je{constructor(e,i){super(e);g(this,"_styleDefinitions");g(this,"_styleUtils");this.set("value",[]),this.set("enabledStyles",[]),this._styleDefinitions=i,this._styleUtils=this.editor.plugins.get(Ma)}refresh(){const e=this.editor.model,i=e.document.selection,r=new Set,s=new Set;for(const a of this._styleDefinitions.inline)this._styleUtils.isStyleEnabledForInlineSelection(a,i)&&s.add(a.name),this._styleUtils.isStyleActiveForInlineSelection(a,i)&&r.add(a.name);const o=Ut(i.getSelectedBlocks())||i.getFirstPosition().parent;if(o){const a=o.getAncestors({includeSelf:!0,parentFirst:!0});for(const l of a){if(l.is("rootElement"))break;for(const c of this._styleDefinitions.block)this._styleUtils.isStyleEnabledForBlock(c,l)&&(s.add(c.name),this._styleUtils.isStyleActiveForBlock(c,l)&&r.add(c.name));if(e.schema.isObject(l))break}}this.enabledStyles=Array.from(s).sort(),this.isEnabled=this.enabledStyles.length>0,this.value=this.isEnabled?Array.from(r).sort():[]}execute({styleName:e,forceValue:i}){if(!this.enabledStyles.includes(e)){ht("style-command-executed-with-incorrect-style-name");return}const r=this.editor.model,s=r.document.selection,o=this.editor.plugins.get("GeneralHtmlSupport"),a=[...this._styleDefinitions.inline,...this._styleDefinitions.block],l=a.filter(({name:h})=>this.value.includes(h)),c=a.find(({name:h})=>h==e),d=i===void 0?!this.value.includes(c.name):i;r.change(()=>{let h;JNe(c)?h=this._findAffectedBlocks(XNe(s),c):h=[this._styleUtils.getAffectedInlineSelectable(c,s)];for(const p of h)d?o.addModelHtmlClass(c.element,c.classes,p):o.removeModelHtmlClass(c.element,ZNe(l,c),p)})}_findAffectedBlocks(e,i){const r=new Set;for(const s of e){const o=s.getAncestors({includeSelf:!0,parentFirst:!0});for(const a of o){if(a.is("rootElement"))break;const l=this._styleUtils.getAffectedBlocks(i,a);if(l){for(const c of l)r.add(c);break}}}return r}}function ZNe(n,t){return n.reduce((e,i)=>i.name===t.name?e:e.filter(r=>!i.classes.includes(r)),t.classes)}function JNe(n){return"isBlock"in n}function XNe(n){const t=Array.from(n.getSelectedBlocks());return t.length?t:[n.getFirstPosition().parent]}class QNe extends L{constructor(){super(...arguments);g(this,"_listUtils");g(this,"_styleUtils");g(this,"_htmlSupport")}static get pluginName(){return"ListStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Ma,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("ListEditing")&&(this._styleUtils=e.plugins.get(Ma),this._listUtils=this.editor.plugins.get("ListUtils"),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(i,[r,s])=>{this._isStyleEnabledForBlock(r,s)&&(i.return=!0,i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForBlock",(i,[r,s])=>{this._isStyleActiveForBlock(r,s)&&(i.return=!0,i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(i,[r,s])=>{const o=this._getAffectedBlocks(r,s);o&&(i.return=o,i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getStylePreview",(i,[r,s])=>{const o=this._getStylePreview(r,s);o&&(i.return=o,i.stop())},{priority:"high"}))}_isStyleEnabledForBlock(e,i){const r=this.editor.model;if(!["ol","ul","li"].includes(e.element)||!this._listUtils.isListItemBlock(i))return!1;const s=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(e.element=="ol"||e.element=="ul"){if(!r.schema.checkAttribute(i,s))return!1;const a=this._listUtils.isNumberedListType(i.getAttribute("listType"))?"ol":"ul";return e.element==a}else return r.schema.checkAttribute(i,s)}_isStyleActiveForBlock(e,i){const r=this._htmlSupport.getGhsAttributeNameForElement(e.element),s=i.getAttribute(r);return this._styleUtils.hasAllClasses(s,e.classes)}_getAffectedBlocks(e,i){return this._isStyleEnabledForBlock(e,i)?e.element=="li"?this._listUtils.expandListBlocksToCompleteItems(i,{withNested:!1}):this._listUtils.expandListBlocksToCompleteList(i):null}_getStylePreview(e,i){const{element:r,classes:s}=e;return r=="ol"||r=="ul"?{tag:r,attributes:{class:s},children:[{tag:"li",children:i}]}:r=="li"?{tag:"ol",children:[{tag:r,attributes:{class:s},children:i}]}:null}}class eMe extends L{constructor(){super(...arguments);g(this,"_tableUtils");g(this,"_styleUtils")}static get pluginName(){return"TableStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Ma]}init(){const e=this.editor;e.plugins.has("TableEditing")&&(this._styleUtils=e.plugins.get(Ma),this._tableUtils=this.editor.plugins.get("TableUtils"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(i,[r,s])=>{this._isApplicable(r,s)&&(i.return=this._isStyleEnabledForBlock(r,s),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(i,[r,s])=>{this._isApplicable(r,s)&&(i.return=this._getAffectedBlocks(r,s),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"configureGHSDataFilter",(i,[{block:r}])=>{this.editor.plugins.get("DataFilter").loadAllowedConfig(r.filter(o=>o.element=="figcaption").map(o=>({name:"caption",classes:o.classes})))}))}_isApplicable(e,i){return["td","th"].includes(e.element)?i.name=="tableCell":["thead","tbody"].includes(e.element)?i.name=="table":!1}_isStyleEnabledForBlock(e,i){if(["td","th"].includes(e.element)){const r=this._tableUtils.getCellLocation(i),o=i.parent.parent,a=o.getAttribute("headingRows")||0,l=o.getAttribute("headingColumns")||0,c=r.row<a||r.column<l;return e.element=="th"?c:!c}if(["thead","tbody"].includes(e.element)){const r=i.getAttribute("headingRows")||0;return e.element=="thead"?r>0:r<this._tableUtils.getRows(i)}/* istanbul ignore next -- @preserve */return!1}_getAffectedBlocks(e,i){return this._isStyleEnabledForBlock(e,i)?[i]:null}}class tMe extends L{constructor(){super(...arguments);g(this,"_styleUtils");g(this,"_htmlSupport")}static get pluginName(){return"LinkStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Ma,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("LinkEditing")&&(this._styleUtils=e.plugins.get(Ma),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForInlineSelection",(i,[r,s])=>{r.element=="a"&&(i.return=this._isStyleEnabled(r,s),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForInlineSelection",(i,[r,s])=>{r.element=="a"&&(i.return=this._isStyleActive(r,s),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedInlineSelectable",(i,[r,s])=>{if(r.element!="a")return;const o=this._getAffectedSelectable(r,s);o&&(i.return=o,i.stop())},{priority:"high"}))}_isStyleEnabled(e,i){const r=this.editor.model;if(i.isCollapsed)return i.hasAttribute("linkHref");for(const s of i.getRanges())for(const o of s.getItems())if((o.is("$textProxy")||r.schema.isInline(o))&&o.hasAttribute("linkHref"))return!0;return!1}_isStyleActive(e,i){const r=this.editor.model,s=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(i.isCollapsed){if(i.hasAttribute("linkHref")){const o=i.getAttribute(s);if(this._styleUtils.hasAllClasses(o,e.classes))return!0}return!1}for(const o of i.getRanges())for(const a of o.getItems())if((a.is("$textProxy")||r.schema.isInline(a))&&a.hasAttribute("linkHref")){const l=a.getAttribute(s);return this._styleUtils.hasAllClasses(l,e.classes)}return!1}_getAffectedSelectable(e,i){const r=this.editor.model;if(i.isCollapsed){const o=i.getAttribute("linkHref");return Zp(i.getFirstPosition(),"linkHref",o,r)}const s=[];for(const o of i.getRanges()){const a=r.createRange(NO(o.start,"linkHref",!0,r),NO(o.end,"linkHref",!1,r));for(const l of a.getItems())(l.is("$textProxy")||r.schema.isInline(l))&&l.hasAttribute("linkHref")&&s.push(this.editor.model.createRangeOn(l))}return nMe(s)}}function NO(n,t,e,i){const r=n.textNode||(e?n.nodeAfter:n.nodeBefore);if(!r||!r.hasAttribute(t))return n;const s=r.getAttribute(t);return rC(n,t,s,e,i)}function nMe(n){for(let t=1;t<n.length;t++){const e=n[t-1].getJoined(n[t]);e&&n.splice(--t,2,e)}return n}class iMe extends L{static get pluginName(){return"StyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["GeneralHtmlSupport",Ma,QNe,eMe,tMe]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),i=t.plugins.get("StyleUtils"),r=t.config.get("style.definitions"),s=i.normalizeConfig(e,r);t.commands.add("style",new YNe(t,s)),i.configureGHSDataFilter(s)}}class rMe extends L{static get pluginName(){return"Style"}static get isOfficialPlugin(){return!0}static get requires(){return[iMe,KNe]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function t5(n,t){const{modelAttribute:e,styleName:i,viewElement:r,defaultValue:s,reduceBoxSides:o=!1,shouldUpcast:a=()=>!0}=t;n.for("upcast").attributeToAttribute({view:{name:r,styles:{[i]:/[\s\S]+/}},model:{key:e,value:l=>{if(!a(l))return;const c=l.getNormalizedStyle(i),d=o?Sb(c):c;if(s!==d)return d}}})}function vC(n,t,e,i){n.for("upcast").add(r=>r.on("element:"+t,(s,o,a)=>{if(!o.modelRange)return;const l=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(b=>o.viewItem.hasStyle(b));if(!l.length)return;const c={styles:l};if(!a.consumable.test(o.viewItem,c))return;const d=[...o.modelRange.getItems({shallow:!0})].pop();a.consumable.consume(o.viewItem,c);const h={style:o.viewItem.getNormalizedStyle("border-style"),color:o.viewItem.getNormalizedStyle("border-color"),width:o.viewItem.getNormalizedStyle("border-width")},p={style:Sb(h.style),color:Sb(h.color),width:Sb(h.width)};p.style!==i.style&&a.writer.setAttribute(e.style,p.style,d),p.color!==i.color&&a.writer.setAttribute(e.color,p.color,d),p.width!==i.width&&a.writer.setAttribute(e.width,p.width,d)}))}function dm(n,t){const{modelElement:e,modelAttribute:i,styleName:r}=t;n.for("downcast").attributeToAttribute({model:{name:e,key:i},view:s=>({key:"style",value:{[r]:s}})})}function Eb(n,t){const{modelAttribute:e,styleName:i}=t;n.for("downcast").add(r=>r.on(`attribute:${e}:table`,(s,o,a)=>{const{item:l,attributeNewValue:c}=o,{mapper:d,writer:h}=a;if(!a.consumable.consume(o.item,s.name))return;const p=[...d.toViewElement(l).getChildren()].find(b=>b.is("element","table"));c?h.setStyle(i,c,p):h.removeStyle(i,p)}))}function Sb(n){if(!n)return;const t=["top","right","bottom","left"];if(!t.every(s=>n[s]))return n;const i=n.top;return t.every(s=>n[s]===i)?i:n}function An(n,t,e,i,r=1){t!=null&&r!==void 0&&r!==null&&t>r?i.setAttribute(n,t,e):i.removeAttribute(n,e)}function Au(n,t,e={}){const i=n.createElement("tableCell",e);return n.insertElement("paragraph",i),n.insert(i,t),i}function yC(n,t){const e=t.parent.parent,i=parseInt(e.getAttribute("headingColumns")||"0"),{column:r}=n.getCellLocation(t);return!!i&&r<i}function Tb(n,t,e){const{modelAttribute:i}=e;n.extend("tableCell",{allowAttributes:[i]}),t5(t,{viewElement:/^(td|th)$/,...e}),dm(t,{modelElement:"tableCell",...e})}function Uc(n){const t=n.getSelectedElement();return t&&t.is("element","table")?t:n.getFirstPosition().findAncestor("table")}function sMe(){return n=>{n.on("element:figure",(t,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const r=lMe(e.viewItem);if(!r||!i.consumable.test(r,{name:!0}))return;i.consumable.consume(e.viewItem,{name:!0,classes:"table"});const s=i.convertItem(r,e.modelCursor),o=Ut(s.modelRange.getItems());if(!o){i.consumable.revert(e.viewItem,{name:!0,classes:"table"});return}i.convertChildren(e.viewItem,i.writer.createPositionAt(o,"end")),i.updateConversionResult(o,e)})}}function oMe(){return n=>{n.on("element:table",(t,e,i)=>{const r=e.viewItem;if(!i.consumable.test(r,{name:!0}))return;const{rows:s,headingRows:o,headingColumns:a}=cMe(r),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const c=i.writer.createElement("table",l);if(i.safeInsert(c,e.modelCursor)){if(i.consumable.consume(r,{name:!0}),s.forEach(d=>i.convertItem(d,i.writer.createPositionAt(c,"end"))),i.convertChildren(r,i.writer.createPositionAt(c,"end")),c.isEmpty){const d=i.writer.createElement("tableRow");i.writer.insert(d,i.writer.createPositionAt(c,"end")),Au(i.writer,i.writer.createPositionAt(d,"end"))}i.updateConversionResult(c,e)}})}}function aMe(){return n=>{n.on("element:tr",(t,e)=>{e.viewItem.isEmpty&&e.modelCursor.index==0&&t.stop()},{priority:"high"})}}function MO(n){return t=>{t.on(`element:${n}`,(e,i,{writer:r})=>{if(!i.modelRange)return;const s=i.modelRange.start.nodeAfter,o=r.createPositionAt(s,0);if(i.viewItem.isEmpty){r.insertElement("paragraph",o);return}const a=Array.from(s.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=r.createElement("paragraph");r.insert(l,r.createPositionAt(s,0));for(const c of a)r.move(r.createRangeOn(c),r.createPositionAt(l,"end"))}},{priority:"low"})}}function lMe(n){for(const t of n.getChildren())if(t.is("element","table"))return t}function cMe(n){let t=0,e;const i=[],r=[];let s;for(const o of Array.from(n.getChildren())){if(o.name!=="tbody"&&o.name!=="thead"&&o.name!=="tfoot")continue;o.name==="thead"&&!s&&(s=o);const a=Array.from(o.getChildren()).filter(l=>l.is("element","tr"));for(const l of a)if(s&&o===s||o.name==="tbody"&&Array.from(l.getChildren()).length&&Array.from(l.getChildren()).every(c=>c.is("element","th")))t++,i.push(l);else{r.push(l);const c=uMe(l);(!e||c<e)&&(e=c)}}return{headingRows:t,headingColumns:e||0,rows:[...i,...r]}}function uMe(n){let t=0,e=0;const i=Array.from(n.getChildren()).filter(r=>r.name==="th"||r.name==="td");for(;e<i.length&&i[e].name==="th";){const r=i[e],s=parseInt(r.getAttribute("colspan")||"1");t=t+s,e++}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Ft{constructor(t,e={}){g(this,"_table");g(this,"_startRow");g(this,"_endRow");g(this,"_startColumn");g(this,"_endColumn");g(this,"_includeAllSlots");g(this,"_skipRows");g(this,"_row");g(this,"_rowIndex");g(this,"_column");g(this,"_cellIndex");g(this,"_spannedCells");g(this,"_nextCellAtColumn");g(this,"_jumpedToStartRow",!1);this._table=t,this._startRow=e.row!==void 0?e.row:e.startRow||0,this._endRow=e.row!==void 0?e.row:e.endRow,this._startColumn=e.column!==void 0?e.column:e.startColumn||0,this._endColumn=e.column!==void 0?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(i.cell,i.row,i.column));else{const r=t.getChild(this._cellIndex);if(!r)return this._advanceToNextRow();const s=parseInt(r.getAttribute("colspan")||"1"),o=parseInt(r.getAttribute("rowspan")||"1");(s>1||o>1)&&this._recordSpans(r,o,s),this._shouldSkipSlot()||(e=this._formatOutValue(r)),this._nextCellAtColumn=this._column+s}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,e=this._row,i=this._column){return{done:!1,value:new dMe(this,t,e,i)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,i=this._column<this._startColumn,r=this._endColumn!==void 0&&this._column>this._endColumn;return t||e||i||r}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,i){const r={cell:t,row:this._row,column:this._column};for(let s=this._row;s<this._row+e;s++)for(let o=this._column;o<this._column+i;o++)(s!=this._row||o!=this._column)&&this._markSpannedCell(s,o,r)}_markSpannedCell(t,e,i){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let e=this._startRow;!this._jumpedToStartRow;e--)t===this._getRowLength(e)&&(this._row=e,this._rowIndex=e,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce((i,r)=>i+parseInt(r.getAttribute("colspan")||"1"),0)}}class dMe{constructor(t,e,i,r){g(this,"cell");g(this,"row");g(this,"column");g(this,"cellAnchorRow");g(this,"cellAnchorColumn");g(this,"_cellIndex");g(this,"_rowIndex");g(this,"_table");this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=i,this.cellAnchorColumn=r,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function DO(n,t){return(e,{writer:i})=>{const r=e.getAttribute("headingRows")||0,s=i.createContainerElement("table",null,[]),o=i.createContainerElement("figure",{class:"table"},s);r>0&&i.insert(i.createPositionAt(s,"end"),i.createContainerElement("thead",null,i.createSlot(a=>a.is("element","tableRow")&&a.index<r))),r<n.getRows(e)&&i.insert(i.createPositionAt(s,"end"),i.createContainerElement("tbody",null,i.createSlot(a=>a.is("element","tableRow")&&a.index>=r)));for(const{positionOffset:a,filter:l}of t.additionalSlots)i.insert(i.createPositionAt(s,a),i.createSlot(l));return i.insert(i.createPositionAt(s,"after"),i.createSlot(a=>a.is("element","tableRow")?!1:!t.additionalSlots.some(({filter:l})=>l(a)))),t.asWidget?hMe(o,i):o}}function fMe(){return(n,{writer:t})=>n.isEmpty?t.createEmptyElement("tr"):t.createContainerElement("tr")}function LO(n={}){return(t,{writer:e})=>{const i=t.parent,r=i.parent,s=r.getChildIndex(i),o=new Ft(r,{row:s}),a=r.getAttribute("headingRows")||0,l=r.getAttribute("headingColumns")||0;let c=null;for(const d of o)if(d.cell==t){const p=d.row<a||d.column<l?"th":"td";c=n.asWidget?OT(e.createEditableElement(p),e):e.createContainerElement(p);break}return c}}function VO(n={}){return(t,{writer:e})=>{if(!t.parent.is("element","tableCell")||!KU(t))return null;if(n.asWidget)return e.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=e.createContainerElement("p");return e.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function KU(n){return n.parent.childCount==1&&!mMe(n)}function hMe(n,t){return t.setCustomProperty("table",!0,n),$a(n,t,{hasSelectionHandle:!0})}function mMe(n){return!n.getAttributeKeys().next().done}class pMe extends je{refresh(){const t=this.editor.model,e=t.document.selection,i=t.schema;this.isEnabled=gMe(e,i)}execute(t={}){const e=this.editor,i=e.model,r=e.plugins.get("TableUtils"),s=e.config.get("table.defaultHeadings.rows"),o=e.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&s&&(t.headingRows=s),t.headingColumns===void 0&&o&&(t.headingColumns=o),i.change(a=>{const l=r.createTable(a,t);i.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function gMe(n,t){const e=n.getFirstPosition().parent,i=e===e.root?e:e.parent;return t.checkChild(i,"table")}class FO extends je{constructor(e,i={}){super(e);g(this,"order");this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,i=e.model.document.selection,r=e.plugins.get("TableUtils"),s=this.order==="above",o=r.getSelectionAffectedTableCells(i),a=r.getRowIndexes(o),l=s?a.first:a.last,c=o[0].findAncestor("table");r.insertRows(c,{at:s?l:l+1,copyStructureFromAbove:!s})}}class BO extends je{constructor(e,i={}){super(e);g(this,"order");this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,i=e.model.document.selection,r=e.plugins.get("TableUtils"),s=this.order==="left",o=r.getSelectionAffectedTableCells(i),a=r.getColumnIndexes(o),l=s?a.first:a.last,c=o[0].findAncestor("table");r.insertColumns(c,{columns:1,at:s?l:l+1})}}class jO extends je{constructor(e,i={}){super(e);g(this,"direction");this.direction=i.direction||"horizontally"}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function YU(n,t,e){const{startRow:i,startColumn:r,endRow:s,endColumn:o}=t,a=e.createElement("table"),l=s-i+1;for(let d=0;d<l;d++)e.insertElement("tableRow",a,"end");const c=[...new Ft(n,{startRow:i,endRow:s,startColumn:r,endColumn:o,includeAllSlots:!0})];for(const{row:d,column:h,cell:p,isAnchor:b,cellAnchorRow:_,cellAnchorColumn:x}of c){const C=d-i,S=a.getChild(C);if(!b)(_<i||x<r)&&Au(e,e.createPositionAt(S,"end"));else{const T=e.cloneElement(p);e.append(T,S),eH(T,d,h,s,o,e)}}return bMe(a,n,i,r,e),a}function ZU(n,t,e=0){const i=[],r=new Ft(n,{startRow:e,endRow:t-1});for(const s of r){const{row:o,cellHeight:a}=s,l=o+a-1;o<t&&t<=l&&i.push(s)}return i}function JU(n,t,e){const i=n.parent,r=i.parent,s=i.index,o=parseInt(n.getAttribute("rowspan")),a=t-s,l={},c=o-a;c>1&&(l.rowspan=c);const d=parseInt(n.getAttribute("colspan")||"1");d>1&&(l.colspan=d);const h=s,p=h+a,b=[...new Ft(r,{startRow:h,endRow:p,includeAllSlots:!0})];let _=null,x;for(const C of b){const{row:S,column:T,cell:A}=C;A===n&&x===void 0&&(x=T),x!==void 0&&x===T&&S===p&&(_=Au(e,C.getPositionBefore(),l))}return An("rowspan",a,n,e),_}function XU(n,t){const e=[],i=new Ft(n);for(const r of i){const{column:s,cellWidth:o}=r,a=s+o-1;s<t&&t<=a&&e.push(r)}return e}function QU(n,t,e,i){const r=parseInt(n.getAttribute("colspan")),s=e-t,o={},a=r-s;a>1&&(o.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const c=Au(i,i.createPositionAfter(n),o);return An("colspan",s,n,i),c}function eH(n,t,e,i,r,s){const o=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(e+o-1>r){const d=r-e+1;An("colspan",d,n,s,1)}if(t+a-1>i){const d=i-t+1;An("rowspan",d,n,s,1)}}function bMe(n,t,e,i,r){const s=parseInt(t.getAttribute("headingRows")||"0");if(s>0){const a=s-e;An("headingRows",a,n,r,0)}const o=parseInt(t.getAttribute("headingColumns")||"0");if(o>0){const a=o-i;An("headingColumns",a,n,r,0)}}function _C(n,t){const e=t.getColumns(n),i=new Array(e).fill(0);for(const{column:s}of new Ft(n))i[s]++;const r=i.reduce((s,o,a)=>o?s:[...s,a],[]);if(r.length>0){const s=r[r.length-1];return t.removeColumns(n,{at:s}),!0}return!1}function xC(n,t){const e=[],i=t.getRows(n);for(let r=0;r<i;r++)n.getChild(r).isEmpty&&e.push(r);if(e.length>0){const r=e[e.length-1];return t.removeRows(n,{at:r}),!0}return!1}function n5(n,t){_C(n,t)||xC(n,t)}function tH(n,t){const e=Array.from(new Ft(n,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(e.every(({cellHeight:s})=>s===1))return t.lastRow;const r=e[0].cellHeight-1;return t.lastRow+r}function nH(n,t){const e=Array.from(new Ft(n,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(e.every(({cellWidth:s})=>s===1))return t.lastColumn;const r=e[0].cellWidth-1;return t.lastColumn+r}class X0 extends je{constructor(e,i){super(e);g(this,"direction");g(this,"isHorizontal");this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],o=this.value,a=this.direction;e.change(l=>{const c=a=="right"||a=="down",d=c?s:o,h=c?o:s,p=h.parent;yMe(h,d,l);const b=this.isHorizontal?"colspan":"rowspan",_=parseInt(s.getAttribute(b)||"1"),x=parseInt(o.getAttribute(b)||"1");l.setAttribute(b,_+x,d),l.setSelection(l.createRangeIn(d));const C=this.editor.plugins.get("TableUtils"),S=p.findAncestor("table");n5(S,C)})}_getMergeableCell(){const i=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),s=r.getTableCellsContainingSelection(i.selection)[0];if(!s)return;const o=this.isHorizontal?wMe(s,this.direction,r):vMe(s,this.direction,r);if(!o)return;const a=this.isHorizontal?"rowspan":"colspan",l=parseInt(s.getAttribute(a)||"1");if(parseInt(o.getAttribute(a)||"1")===l)return o}}function wMe(n,t,e){const r=n.parent.parent,s=t=="right"?n.nextSibling:n.previousSibling,o=(r.getAttribute("headingColumns")||0)>0;if(!s)return;const a=t=="right"?n:s,l=t=="right"?s:n,{column:c}=e.getCellLocation(a),{column:d}=e.getCellLocation(l),h=parseInt(a.getAttribute("colspan")||"1"),p=yC(e,a),b=yC(e,l);return o&&p!=b?void 0:c+h===d?s:void 0}function vMe(n,t,e){const i=n.parent,r=i.parent,s=r.getChildIndex(i);if(t=="down"&&s===e.getRows(r)-1||t=="up"&&s===0)return null;const o=parseInt(n.getAttribute("rowspan")||"1"),a=r.getAttribute("headingRows")||0,l=t=="down"&&s+o===a,c=t=="up"&&s===a;if(a&&(l||c))return null;const d=parseInt(n.getAttribute("rowspan")||"1"),h=t=="down"?s+d:s,p=[...new Ft(r,{endRow:h})],_=p.find(C=>C.cell===n).column,x=p.find(({row:C,cellHeight:S,column:T})=>T!==_?!1:t=="down"?C===h:h===C+S);return x&&x.cell?x.cell:null}function yMe(n,t,e){zO(n)||(zO(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(n),e.createPositionAt(t,"end"))),e.remove(n)}function zO(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class _Me extends je{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),i=e[0];if(i){const r=i.findAncestor("table"),o=t.getRows(r)-1,a=t.getRowIndexes(e),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),r=e.getRowIndexes(i),s=i[0],o=s.findAncestor("table"),a=e.getCellLocation(s).column;t.change(l=>{const c=r.last-r.first+1;e.removeRows(o,{at:r.first,rows:c});const d=xMe(o,r.first,a,e.getRows(o));l.setSelection(l.createPositionAt(d,0))})}}function xMe(n,t,e,i){const r=n.getChild(Math.min(t,i-1));let s=r.getChild(0),o=0;for(const a of r.getChildren()){if(o>e)return s;s=a,o+=parseInt(a.getAttribute("colspan")||"1")}return s}class kMe extends je{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),i=e[0];if(i){const r=i.findAncestor("table"),s=t.getColumns(r),{first:o,last:a}=t.getColumnIndexes(e);this.isEnabled=a-o<s-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,i]=EMe(this.editor.model.document.selection,t),r=e.parent.parent,s=[...new Ft(r)],o={first:s.find(l=>l.cell===e).column,last:s.find(l=>l.cell===i).column},a=CMe(s,e,i,o);this.editor.model.change(l=>{const c=o.last-o.first+1;t.removeColumns(r,{at:o.first,columns:c}),l.setSelection(l.createPositionAt(a,0))})}}function CMe(n,t,e,i){return parseInt(e.getAttribute("colspan")||"1")>1?e:t.previousSibling||e.nextSibling?e.nextSibling||t.previousSibling:i.first?n.reverse().find(({column:s})=>s<i.first).cell:n.reverse().find(({column:s})=>s>i.last).cell}function EMe(n,t){const e=t.getSelectionAffectedTableCells(n),i=e[0],r=e.pop(),s=[i,r];return i.isBefore(r)?s:s.reverse()}class SMe extends je{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,i=t.getSelectionAffectedTableCells(e.document.selection),r=i.length>0;this.isEnabled=r,this.value=r&&i.every(s=>this._isInHeading(s,s.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=e.getSelectionAffectedTableCells(i.document.selection),s=r[0].findAncestor("table"),{first:o,last:a}=e.getRowIndexes(r),l=this.value?o:a+1,c=s.getAttribute("headingRows")||0;i.change(d=>{if(l){const h=l>c?c:0,p=ZU(s,l,h);for(const{cell:b}of p)JU(b,l,d)}An("headingRows",l,s,d,0)})}_isInHeading(t,e){const i=parseInt(e.getAttribute("headingRows")||"0");return!!i&&t.parent.index<i}}class TMe extends je{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),r=i.length>0;this.isEnabled=r,this.value=r&&i.every(s=>yC(e,s))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=e.getSelectionAffectedTableCells(i.document.selection),s=r[0].findAncestor("table"),{first:o,last:a}=e.getColumnIndexes(r),l=this.value?o:a+1;i.change(c=>{if(l){const d=XU(s,l);for(const{cell:h,column:p}of d)QU(h,p,l,c)}An("headingColumns",l,s,c,0)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const AMe=5,kC=40,IMe=2;function PMe(n){const t=new Set;for(const e of n.document.differ.getChanges()){let i=null;switch(e.type){case"insert":i=["table","tableRow","tableCell"].includes(e.name)?e.position:null;break;case"remove":i=["tableRow","tableCell"].includes(e.name)?e.position:null;break;case"attribute":e.range.start.nodeAfter&&(i=["table","tableRow","tableCell"].includes(e.range.start.nodeAfter.name)?e.range.start:null);break}if(!i)continue;const r=i.nodeAfter&&i.nodeAfter.is("element","table")?i.nodeAfter:i.findAncestor("table");for(const s of n.createRangeOn(r).getItems())s.is("element","table")&&ng(s)&&t.add(s)}return t}function RMe(n,t){return kC*100/iH(n,t)}function iH(n,t){const e=$O(n,"tbody",t)||$O(n,"thead",t),i=t.editing.view.domConverter.mapViewToDom(e);return CC(i)}function $O(n,t,e){return[...[...e.editing.mapper.toViewElement(n).getChildren()].find(s=>s.is("element","table")).getChildren()].find(s=>s.is("element",t))}function CC(n){const t=_e.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth):parseFloat(t.width)}function OMe(n,t){const e=t.getCellLocation(n).column,i=n.getAttribute("colspan")||1;return{leftEdge:e,rightEdge:e+i-1}}function cr(n){const t=Math.pow(10,IMe),e=typeof n=="number"?n:parseFloat(n);return Math.round(e*t)/t}function NMe(n,t,e){return n<=t?cr(t):n>=e?cr(e):cr(n)}function MMe(n,t){return Array(n).fill(t)}function dp(n){return n.map(t=>typeof t=="number"?t:parseFloat(t)).filter(t=>!Number.isNaN(t)).reduce((t,e)=>t+e,0)}function i5(n){const t=n.map(r=>r==="auto"?r:parseFloat(r.replace("%","")));let e=DMe(t);const i=dp(e);return i!==100&&(e=e.map(r=>cr(r*100/i)).map((r,s,o)=>{if(!(s===o.length-1))return r;const l=dp(o);return cr(r+100-l)})),e.map(r=>r+"%")}function DMe(n){const t=n.filter(r=>r==="auto").length;if(t===0)return n.map(r=>cr(r));const e=dp(n),i=Math.max((100-e)/t,AMe);return n.map(r=>r==="auto"?i:r).map(r=>cr(r))}function LMe(n){const t=_e.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseInt(t.width):parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderWidth)}function rH(n,t,e,i){for(let r=0;r<Math.max(e.length,n.length);r++){const s=n[r],o=e[r];o?s?i.setAttribute("columnWidth",o,s):i.appendElement("tableColumn",{columnWidth:o},t):i.remove(s)}}function ng(n){if(n.is("element","tableColumnGroup"))return n;const t=n.getChildren();return Array.from(t).find(e=>e.is("element","tableColumnGroup"))}function ig(n){const t=ng(n);return t?Array.from(t.getChildren()):[]}function VMe(n){return ig(n).map(t=>t.getAttribute("columnWidth"))}function FMe(n,t){return ig(n).reduce((i,r)=>{const s=r.getAttribute("columnWidth"),o=r.getAttribute("colSpan");if(!o)return i.push(s),i;for(let a=0;a<o;a++)i.push(s);return t.removeAttribute("colSpan",r),i},[])}class fi extends L{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,i=e.parent,r=i.getChildIndex(e),s=new Ft(i,{row:r});for(const{cell:o,row:a,column:l}of s)if(o===t)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(t,e){const i=t.createElement("table"),r=e.rows||2,s=e.columns||2;return l2(t,i,0,r,s),e.headingRows&&An("headingRows",Math.min(e.headingRows,r),i,t,0),e.headingColumns&&An("headingColumns",Math.min(e.headingColumns,s),i,t,0),i}insertRows(t,e={}){const i=this.editor.model,r=e.at||0,s=e.rows||1,o=e.copyStructureFromAbove!==void 0,a=e.copyStructureFromAbove?r-1:r,l=this.getRows(t),c=this.getColumns(t);if(r>l)throw new M("tableutils-insertrows-insert-out-of-range",this,{options:e});i.change(d=>{const h=t.getAttribute("headingRows")||0;if(h>r&&An("headingRows",h+s,t,d,0),!o&&(r===0||r===l)){l2(d,t,r,s,c);return}const p=o?Math.max(r,a):r,b=new Ft(t,{endRow:p}),_=new Array(c).fill(1);for(const{row:x,column:C,cellHeight:S,cellWidth:T,cell:A}of b){const P=x+S-1,O=x<r&&r<=P,D=x<=a&&a<=P;O?(d.setAttribute("rowspan",S+s,A),_[C]=-T):o&&D&&(_[C]=T)}for(let x=0;x<s;x++){const C=d.createElement("tableRow");d.insert(C,t,r);for(let S=0;S<_.length;S++){const T=_[S],A=d.createPositionAt(C,"end");T>0&&Au(d,A,T>1?{colspan:T}:void 0),S+=Math.abs(T)-1}}})}insertColumns(t,e={}){const i=this.editor.model,r=e.at||0,s=e.columns||1;i.change(o=>{const a=t.getAttribute("headingColumns");r<a&&o.setAttribute("headingColumns",a+s,t);const l=this.getColumns(t);if(r===0||l===r){for(const d of t.getChildren())d.is("element","tableRow")&&Sd(s,o,o.createPositionAt(d,r?"end":0));return}const c=new Ft(t,{column:r,includeAllSlots:!0});for(const d of c){const{row:h,cell:p,cellAnchorColumn:b,cellAnchorRow:_,cellWidth:x,cellHeight:C}=d;if(b<r){o.setAttribute("colspan",x+s,p);const S=_+C-1;for(let T=h;T<=S;T++)c.skipRow(T)}else Sd(s,o,d.getPositionBefore())}})}removeRows(t,e){const i=this.editor.model,r=e.rows||1,s=this.getRows(t),o=e.at,a=o+r-1;if(a>s-1)throw new M("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});i.change(l=>{const c={first:o,last:a},{cellsToMove:d,cellsToTrim:h}=zMe(t,c);if(d.size){const p=a+1;$Me(t,p,d,l)}for(let p=a;p>=o;p--)l.remove(t.getChild(p));for(const{rowspan:p,cell:b}of h)An("rowspan",p,b,l);jMe(t,c,l),_C(t,this)||xC(t,this)})}removeColumns(t,e){const i=this.editor.model,r=e.at,s=e.columns||1,o=e.at+s-1;i.change(a=>{BMe(t,{first:r,last:o},a);const l=ig(t);for(let c=o;c>=r;c--){for(const{cell:d,column:h,cellWidth:p}of[...new Ft(t)])h<=c&&p>1&&h+p>c?An("colspan",p-1,d,a):h===c&&a.remove(d);if(l[c]){const d=c===0?l[1]:l[c-1],h=parseFloat(l[c].getAttribute("columnWidth")),p=parseFloat(d.getAttribute("columnWidth"));a.remove(l[c]),a.setAttribute("columnWidth",h+p+"%",d)}}xC(t,this)||_C(t,this)})}splitCellVertically(t,e=2){const i=this.editor.model,s=t.parent.parent,o=parseInt(t.getAttribute("rowspan")||"1"),a=parseInt(t.getAttribute("colspan")||"1");i.change(l=>{if(a>1){const{newCellsSpan:c,updatedSpan:d}=UO(a,e);An("colspan",d,t,l);const h={};c>1&&(h.colspan=c),o>1&&(h.rowspan=o);const p=a>e?e-1:a-1;Sd(p,l,l.createPositionAfter(t),h)}if(a<e){const c=e-a,d=[...new Ft(s)],{column:h}=d.find(({cell:x})=>x===t),p=d.filter(({cell:x,cellWidth:C,column:S})=>{const T=x!==t&&S===h,A=S<h&&S+C>h;return T||A});for(const{cell:x,cellWidth:C}of p)l.setAttribute("colspan",C+c,x);const b={};o>1&&(b.rowspan=o),Sd(c,l,l.createPositionAfter(t),b);const _=s.getAttribute("headingColumns")||0;_>h&&An("headingColumns",_+c,s,l)}})}splitCellHorizontally(t,e=2){const i=this.editor.model,r=t.parent,s=r.parent,o=s.getChildIndex(r),a=parseInt(t.getAttribute("rowspan")||"1"),l=parseInt(t.getAttribute("colspan")||"1");i.change(c=>{if(a>1){const d=[...new Ft(s,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:h,updatedSpan:p}=UO(a,e);An("rowspan",p,t,c);const{column:b}=d.find(({cell:C})=>C===t),_={};h>1&&(_.rowspan=h),l>1&&(_.colspan=l);let x=0;for(const C of d){const{column:S,row:T}=C,A=T>=o+p,P=S===b;x>=h&&P&&(x=0),A&&P&&(x||Sd(1,c,C.getPositionBefore(),_),x++)}}if(a<e){const d=e-a,h=[...new Ft(s,{startRow:0,endRow:o})];for(const{cell:_,cellHeight:x,row:C}of h)if(_!==t&&C+x>o){const S=x+d;c.setAttribute("rowspan",S,_)}const p={};l>1&&(p.colspan=l),l2(c,s,o+1,d,1,p);const b=s.getAttribute("headingRows")||0;b>o&&An("headingRows",b+d,s,c)}})}getColumns(t){return[...t.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,r)=>{const s=parseInt(r.getAttribute("colspan")||"1");return i+s},0)}getRows(t){return Array.from(t.getChildren()).reduce((e,i)=>i.is("element","tableRow")?e+1:e,0)}createTableWalker(t,e={}){return new Ft(t,e)}getSelectedTableCells(t){const e=[];for(const i of this.sortRanges(t.getRanges())){const r=i.getContainedElement();r&&r.is("element","tableCell")&&e.push(r)}return e}getTableCellsContainingSelection(t){const e=[];for(const i of t.getRanges()){const r=i.start.findAncestor("tableCell");r&&e.push(r)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(i=>i.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),r=[...new Ft(e)].filter(s=>t.includes(s.cell)).map(s=>s.column);return this._getFirstLastIndexesObject(r)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,i=new Set;let r=0;for(const o of t){const{row:a,column:l}=this.getCellLocation(o),c=parseInt(o.getAttribute("rowspan"))||1,d=parseInt(o.getAttribute("colspan"))||1;e.add(a),i.add(l),c>1&&e.add(a+c-1),d>1&&i.add(l+d-1),r+=c*d}return HMe(e,i)==r}sortRanges(t){return Array.from(t).sort(UMe)}_getFirstLastIndexesObject(t){const e=t.sort((s,o)=>s-o),i=e[0],r=e[e.length-1];return{first:i,last:r}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),i=this.getRowIndexes(t),r=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,r))return!1;const s=this.getColumnIndexes(t),o=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,o)}_areIndexesInSameSection({first:t,last:e},i){const r=t<i,s=e<i;return r===s}}function l2(n,t,e,i,r,s={}){for(let o=0;o<i;o++){const a=n.createElement("tableRow");n.insert(a,t,e),Sd(r,n,n.createPositionAt(a,"end"),s)}}function Sd(n,t,e,i={}){for(let r=0;r<n;r++)Au(t,e,i)}function UO(n,t){if(n<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(n/t),i=n-e*t+e;return{newCellsSpan:e,updatedSpan:i}}function BMe(n,t,e){const i=n.getAttribute("headingColumns")||0;if(i&&t.first<i){const r=Math.min(i-1,t.last)-t.first+1;e.setAttribute("headingColumns",i-r,n)}}function jMe(n,{first:t,last:e},i){const r=n.getAttribute("headingRows")||0;if(t<r){const s=e<r?r-(e-t+1):t;An("headingRows",s,n,i,0)}}function zMe(n,{first:t,last:e}){const i=new Map,r=[];for(const{row:s,column:o,cellHeight:a,cell:l}of new Ft(n,{endRow:e})){const c=s+a-1;if(s>=t&&s<=e&&c>e){const p=e-s+1,b=a-p;i.set(o,{cell:l,rowspan:b})}if(s<t&&c>=t){let p;c>=e?p=e-t+1:p=c-t+1,r.push({cell:l,rowspan:a-p})}}return{cellsToMove:i,cellsToTrim:r}}function $Me(n,t,e,i){const s=[...new Ft(n,{includeAllSlots:!0,row:t})],o=n.getChild(t);let a;for(const{column:l,cell:c,isAnchor:d}of s)if(e.has(l)){const{cell:h,rowspan:p}=e.get(l),b=a?i.createPositionAfter(a):i.createPositionAt(o,0);i.move(i.createRangeOn(h),b),An("rowspan",p,h,i),a=h}else d&&(a=c)}function UMe(n,t){const e=n.start,i=t.start;return e.isBefore(i)?-1:1}function HMe(n,t){const e=Array.from(n.values()),i=Array.from(t.values()),r=Math.max(...e),s=Math.min(...e),o=Math.max(...i),a=Math.min(...i);return(r-s+1)*(o-a+1)}class WMe extends je{refresh(){const t=this.editor.plugins.get(fi),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(fi);t.change(i=>{const r=e.getSelectedTableCells(t.document.selection),s=r.shift(),{mergeWidth:o,mergeHeight:a}=GMe(s,r,e);An("colspan",o,s,i),An("rowspan",a,s,i);for(const c of r)qMe(c,s,i);const l=s.findAncestor("table");n5(l,e),i.setSelection(s,"in")})}}function qMe(n,t,e){HO(n)||(HO(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(n),e.createPositionAt(t,"end"))),e.remove(n)}function HO(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function GMe(n,t,e){let i=0,r=0;for(const c of t){const{row:d,column:h}=e.getCellLocation(c);i=WO(c,h,i,"colspan"),r=WO(c,d,r,"rowspan")}const{row:s,column:o}=e.getCellLocation(n),a=i-o,l=r-s;return{mergeWidth:a,mergeHeight:l}}function WO(n,t,e,i){const r=parseInt(n.getAttribute(i)||"1");return Math.max(e,t+r)}class KMe extends je{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),r=e.getRowIndexes(i),s=i[0].findAncestor("table"),o=[];for(let a=r.first;a<=r.last;a++)for(const l of s.getChild(a).getChildren())o.push(t.createRangeOn(l));t.change(a=>{a.setSelection(o)})}}class YMe extends je{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,i=t.getSelectionAffectedTableCells(e.document.selection),r=i[0],s=i.pop(),o=r.findAncestor("table"),a=t.getCellLocation(r),l=t.getCellLocation(s),c=Math.min(a.column,l.column),d=Math.max(a.column,l.column),h=[];for(const p of new Ft(o,{startColumn:c,endColumn:d}))h.push(e.createRangeOn(p.cell));e.change(p=>{p.setSelection(h)})}}function ZMe(n){n.document.registerPostFixer(t=>JMe(t,n))}function JMe(n,t){const e=t.document.differ.getChanges();let i=!1;const r=new Set;for(const s of e){let o=null;s.type=="insert"&&s.name=="table"&&(o=s.position.nodeAfter),(s.type=="insert"||s.type=="remove")&&(s.name=="tableRow"||s.name=="tableCell")&&(o=s.position.findAncestor("table")),nDe(s)&&(o=s.range.start.findAncestor("table")),o&&!r.has(o)&&(i=XMe(o,n)||i,i=QMe(o,n)||i,r.add(o))}return i}function XMe(n,t){let e=!1;const i=eDe(n);if(i.length){e=!0;for(const r of i)An("rowspan",r.rowspan,r.cell,t,1)}return e}function QMe(n,t){let e=!1;const i=tDe(n),r=[];for(const[l,c]of i.entries())!c&&n.getChild(l).is("element","tableRow")&&r.push(l);if(r.length){e=!0;for(const l of r.reverse())t.remove(n.getChild(l)),i.splice(l,1)}const s=i.filter((l,c)=>n.getChild(c).is("element","tableRow")),o=s[0];if(!s.every(l=>l===o)){const l=s.reduce((c,d)=>d>c?d:c,0);for(const[c,d]of s.entries()){const h=l-d;if(h){for(let p=0;p<h;p++)Au(t,t.createPositionAt(n.getChild(c),"end"));e=!0}}}return e}function eDe(n){const t=parseInt(n.getAttribute("headingRows")||"0"),e=Array.from(n.getChildren()).reduce((r,s)=>s.is("element","tableRow")?r+1:r,0),i=[];for(const{row:r,cell:s,cellHeight:o}of new Ft(n)){if(o<2)continue;const l=r<t?t:e;if(r+o>l){const c=l-r;i.push({cell:s,rowspan:c})}}return i}function tDe(n){const t=new Array(n.childCount).fill(0);for(const{rowIndex:e}of new Ft(n,{includeAllSlots:!0}))t[e]++;return t}function nDe(n){if(n.type!=="attribute")return!1;const t=n.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iDe(n){n.document.registerPostFixer(t=>rDe(t,n))}function rDe(n,t){const e=t.document.differ.getChanges();let i=!1;for(const r of e)r.type=="insert"&&r.name=="table"&&(i=sDe(r.position.nodeAfter,n)||i),r.type=="insert"&&r.name=="tableRow"&&(i=sH(r.position.nodeAfter,n)||i),r.type=="insert"&&r.name=="tableCell"&&(i=EC(r.position.nodeAfter,n)||i),(r.type=="remove"||r.type=="insert")&&oDe(r)&&(i=EC(r.position.parent,n)||i);return i}function sDe(n,t){let e=!1;for(const i of n.getChildren())i.is("element","tableRow")&&(e=sH(i,t)||e);return e}function sH(n,t){let e=!1;for(const i of n.getChildren())e=EC(i,t)||e;return e}function EC(n,t){if(n.childCount==0)return t.insertElement("paragraph",n),!0;const e=Array.from(n.getChildren()).filter(i=>i.is("$text"));for(const i of e)t.wrap(t.createRangeOn(i),"paragraph");return!!e.length}function oDe(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}function aDe(n,t){const e=n.document.differ;for(const i of e.getChanges()){let r,s=!1;if(i.type=="attribute"){const c=i.range.start.nodeAfter;if(!c||!c.is("element","table")||i.attributeKey!="headingRows"&&i.attributeKey!="headingColumns")continue;r=c,s=i.attributeKey=="headingRows"}else(i.name=="tableRow"||i.name=="tableCell")&&(r=i.position.findAncestor("table"),s=i.name=="tableRow");if(!r)continue;const o=r.getAttribute("headingRows")||0,a=r.getAttribute("headingColumns")||0,l=new Ft(r);for(const c of l){const h=c.row<o||c.column<a?"th":"td",p=t.mapper.toViewElement(c.cell);p&&p.is("element")&&p.name!=h&&t.reconvertItem(s?c.cell.parent:c.cell)}}}function lDe(n,t){const e=n.document.differ,i=new Set;for(const r of e.getChanges()){const s=r.type=="attribute"?r.range.start.parent:r.position.parent;s.is("element","tableCell")&&i.add(s)}for(const r of i.values()){const s=Array.from(r.getChildren()).filter(o=>cDe(o,t.mapper));for(const o of s)t.reconvertItem(o)}}function cDe(n,t){if(!n.is("element","paragraph"))return!1;const e=t.toViewElement(n);return e?KU(n)!==e.is("element","span"):!1}class rg extends L{constructor(e){super(e);g(this,"_additionalSlots");this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[fi]}init(){const e=this.editor,i=e.model,r=i.schema,s=e.conversion,o=e.plugins.get(fi);r.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),r.register("tableRow",{allowIn:"table",isLimit:!0}),r.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),s.for("upcast").add(sMe()),s.for("upcast").add(oMe()),s.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:DO(o,{asWidget:!0,additionalSlots:this._additionalSlots})}),s.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:DO(o,{additionalSlots:this._additionalSlots})}),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(aMe()),s.for("downcast").elementToElement({model:"tableRow",view:fMe()}),s.for("upcast").elementToElement({model:"tableCell",view:"td"}),s.for("upcast").elementToElement({model:"tableCell",view:"th"}),s.for("upcast").add(MO("td")),s.for("upcast").add(MO("th")),s.for("editingDowncast").elementToElement({model:"tableCell",view:LO({asWidget:!0})}),s.for("dataDowncast").elementToElement({model:"tableCell",view:LO()}),s.for("editingDowncast").elementToElement({model:"paragraph",view:VO({asWidget:!0}),converterPriority:"high"}),s.for("dataDowncast").elementToElement({model:"paragraph",view:VO(),converterPriority:"high"}),s.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),s.for("upcast").attributeToAttribute({model:{key:"colspan",value:qO("colspan")},view:"colspan"}),s.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("upcast").attributeToAttribute({model:{key:"rowspan",value:qO("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new pMe(e)),e.commands.add("insertTableRowAbove",new FO(e,{order:"above"})),e.commands.add("insertTableRowBelow",new FO(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new BO(e,{order:"left"})),e.commands.add("insertTableColumnRight",new BO(e,{order:"right"})),e.commands.add("removeTableRow",new _Me(e)),e.commands.add("removeTableColumn",new kMe(e)),e.commands.add("splitTableCellVertically",new jO(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new jO(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new WMe(e)),e.commands.add("mergeTableCellRight",new X0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new X0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new X0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new X0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new TMe(e)),e.commands.add("setTableRowHeader",new SMe(e)),e.commands.add("selectTableRow",new KMe(e)),e.commands.add("selectTableColumn",new YMe(e)),ZMe(i),iDe(i),this.listenTo(i.document,"change:data",()=>{aDe(i,e.editing),lDe(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function qO(n){return t=>{const e=parseInt(t.getAttribute(n));return Number.isNaN(e)||e<=0?null:e}}class GO extends de{constructor(e){super(e);g(this,"items");g(this,"keystrokes");g(this,"focusTracker");const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new jt,this.focusTracker=new Pt,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(r,s)=>`${s}  ${r}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(r=>{r.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(r,s)=>{const{row:o,column:a}=s.target.dataset;this.items.get((parseInt(o,10)-1)*10+(parseInt(a,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(r,s,o)=>{if(!o)return;const{row:a,column:l}=o.dataset;this.set({rows:parseInt(a),columns:parseInt(l)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Wp({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((r,s)=>{const o=Math.floor(s/10),a=s%10,l=o<e&&a<i;r.set("isOn",l)})}_createGridButton(e,i,r,s){const o=new Pe(e);return o.set({label:s,class:"ck-insert-table-dropdown-grid-box"}),o.extendTemplate({attributes:{"data-row":i,"data-column":r}}),o}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const r=Math.floor(i/10),s=i%10,o=`${r+1}  ${s+1}`;e.push(this._createGridButton(this.locale,r+1,s+1,o))}return this.createCollection(e)}}var uDe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',dDe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',fDe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class hDe extends L{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t,r=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",s=>{const o=t.commands.get("insertTable"),a=zn(s);a.bind("isEnabled").to(o),a.buttonView.set({icon:se.table,label:e("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new GO(s),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{t.execute("insertTable",{rows:l.rows,columns:l.columns}),t.editing.view.focus()}))}),a}),t.ui.componentFactory.add("menuBar:insertTable",s=>{const o=t.commands.get("insertTable"),a=new Mi(s),l=new GO(s);return l.delegate("execute").to(a),a.on("change:isOpen",(c,d,h)=>{h||l.reset()}),l.on("execute",()=>{t.execute("insertTable",{rows:l.rows,columns:l.columns}),t.editing.view.focus()}),a.buttonView.set({label:e("Table"),icon:se.table}),a.panelView.children.add(l),a.bind("isEnabled").to(o),a}),t.ui.componentFactory.add("tableColumn",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),uDe,o,s)}),t.ui.componentFactory.add("tableRow",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),dDe,o,s)}),t.ui.componentFactory.add("mergeTableCells",s=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),fDe,o,s)})}_prepareDropdown(t,e,i,r){const s=this.editor,o=zn(r),a=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:t,icon:e,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(o,"execute",l=>{s.execute(l.source.commandName),l.source instanceof uu||s.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(t,e,i,r){const s=this.editor,o=zn(r,Cu),a="mergeTableCells",l=s.commands.get(a),c=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...c],"isEnabled",(...d)=>d.some(h=>h)),this.listenTo(o.buttonView,"execute",()=>{s.execute(a),s.editing.view.focus()}),this.listenTo(o,"execute",d=>{s.execute(d.source.commandName),s.editing.view.focus()}),o}_fillDropdownWithListOptions(t,e){const i=this.editor,r=[],s=new Sn;for(const o of e)mDe(o,i,r,s);return No(t,s),r}}function mDe(n,t,e,i){if(n.type==="button"||n.type==="switchbutton"){const r=n.model=new Ls(n.model),{commandName:s,bindIsOn:o}=n.model,a=t.commands.get(s);e.push(a),r.set({commandName:s}),r.bind("isEnabled").to(a),o&&r.bind("isOn").to(a,"value"),r.set({withText:!0})}i.add(n)}class Hc extends L{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[fi,fi]}init(){const t=this.editor,e=t.model,i=t.editing.view;this.listenTo(e,"deleteContent",(r,s)=>this._handleDeleteContent(r,s),{priority:"high"}),this.listenTo(i.document,"insertText",(r,s)=>this._handleInsertTextEvent(r,s),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(fi),e=this.editor.model.document.selection,i=t.getSelectedTableCells(e);return i.length==0?null:i}getSelectionAsFragment(){const t=this.editor.plugins.get(fi),e=this.getSelectedTableCells();return e?this.editor.model.change(i=>{const r=i.createDocumentFragment(),{first:s,last:o}=t.getColumnIndexes(e),{first:a,last:l}=t.getRowIndexes(e),c=e[0].findAncestor("table");let d=l,h=o;if(t.isSelectionRectangular(e)){const _={firstColumn:s,lastColumn:o,firstRow:a,lastRow:l};d=tH(c,_),h=nH(c,_)}const b=YU(c,{startRow:a,startColumn:s,endRow:d,endColumn:h},i);return i.insert(b,r,0),r}):null}setCellSelection(t,e){const i=this._getCellsToSelect(t,e);this.editor.model.change(r=>{r.setSelection(i.cells.map(s=>r.createRangeOn(s)),{backward:i.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const t=this.editor.model.document.selection,i=Ut(t.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(r=>r.on("selection",(s,o,a)=>{const l=a.writer;i(l);const c=this.getSelectedTableCells();if(!c)return;for(const h of c){const p=a.mapper.toViewElement(h);l.addClass("ck-editor__editable_selected",p),e.add(p)}const d=a.mapper.toViewElement(c[c.length-1]);l.setSelection(d,0)},{priority:"lowest"}));function i(r){for(const s of e)r.removeClass("ck-editor__editable_selected",s);e.clear()}}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(i=>{const r=i.createPositionAt(e[0],0),s=t.model.schema.getNearestSelectionRange(r);i.setSelection(s)})}})}_handleDeleteContent(t,e){const i=this.editor.plugins.get(fi),r=e[0],s=e[1],o=this.editor.model,a=!s||s.direction=="backward",l=i.getSelectedTableCells(r);l.length&&(t.stop(),o.change(c=>{const d=l[a?l.length-1:0];o.change(p=>{for(const b of l)o.deleteContent(p.createSelection(b,"in"))});const h=o.schema.getNearestSelectionRange(c.createPositionAt(d,0));r.is("documentSelection")?c.setSelection(h):r.setTo(h)}))}_handleInsertTextEvent(t,e){const i=this.editor,r=this.getSelectedTableCells();if(!r)return;const s=i.editing.view,o=i.editing.mapper,a=r.map(l=>s.createRangeOn(o.toViewElement(l)));e.selection=s.createSelection(a)}_getCellsToSelect(t,e){const i=this.editor.plugins.get("TableUtils"),r=i.getCellLocation(t),s=i.getCellLocation(e),o=Math.min(r.row,s.row),a=Math.max(r.row,s.row),l=Math.min(r.column,s.column),c=Math.max(r.column,s.column),d=new Array(a-o+1).fill(null).map(()=>[]),h={startRow:o,endRow:a,startColumn:l,endColumn:c};for(const{row:_,cell:x}of new Ft(t.findAncestor("table"),h))d[_-o].push(x);const p=s.row<r.row,b=s.column<r.column;return p&&d.reverse(),b&&d.forEach(_=>_.reverse()),{cells:d.flat(),backward:p||b}}}class pDe extends L{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[um,pr,Hc,fi]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(i,r)=>this._onCopyCut(i,r)),this.listenTo(e,"cut",(i,r)=>this._onCopyCut(i,r)),this.listenTo(t.model,"insertContent",(i,[r,s])=>this._onInsertContent(i,r,s),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const i=this.editor.editing.view,r=this.editor.plugins.get(Hc),s=this.editor.plugins.get(um);r.getSelectedTableCells()&&(t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)||(e.preventDefault(),t.stop(),this.editor.model.enqueueChange({isUndoable:t.name==="cut"},()=>{const o=s._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,()=>r.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:this.editor.data.toView(o),method:t.name})})))}_onInsertContent(t,e,i){if(i&&!i.is("documentSelection"))return;const r=this.editor.model,s=this.editor.plugins.get(fi),o=this.editor.plugins.get(um),a=this.getTableIfOnlyTableInContent(e,r);if(!a)return;const l=s.getSelectionAffectedTableCells(r.document.selection);if(!l.length){n5(a,s);return}t.stop(),e.is("documentFragment")?o._pasteMarkersIntoTransformedElement(e.markers,c=>this._replaceSelectedCells(a,l,c)):this.editor.model.change(c=>{this._replaceSelectedCells(a,l,c)})}_replaceSelectedCells(t,e,i){const r=this.editor.plugins.get(fi),s={width:r.getColumns(t),height:r.getRows(t)},o=gDe(e,s,i,r),a=o.lastRow-o.firstRow+1,l=o.lastColumn-o.firstColumn+1,c={startRow:0,startColumn:0,endRow:Math.min(a,s.height)-1,endColumn:Math.min(l,s.width)-1};t=YU(t,c,i);const d=e[0].findAncestor("table"),h=this._replaceSelectedCellsWithPasted(t,s,d,o,i);if(this.editor.plugins.get("TableSelection").isEnabled){const p=r.sortRanges(h.map(b=>i.createRangeOn(b)));i.setSelection(p)}else i.setSelection(h[0],0);return d}_replaceSelectedCellsWithPasted(t,e,i,r,s){const{width:o,height:a}=e,l=wDe(t,o,a),c=[...new Ft(i,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],d=[];let h;for(const C of c){const{row:S,column:T}=C;T===r.firstColumn&&(h=C.getPositionBefore());const A=S-r.firstRow,P=T-r.firstColumn,O=l[A%a][P%o],D=O?s.cloneElement(O):null,R=this._replaceTableSlotCell(C,D,h,s);R&&(eH(R,S,T,r.lastRow,r.lastColumn,s),d.push(R),h=s.createPositionAfter(R))}const p=parseInt(i.getAttribute("headingRows")||"0"),b=parseInt(i.getAttribute("headingColumns")||"0"),_=r.firstRow<p&&p<=r.lastRow,x=r.firstColumn<b&&b<=r.lastColumn;if(_){const C={first:r.firstColumn,last:r.lastColumn},S=SC(i,p,C,s,r.firstRow);d.push(...S)}if(x){const C={first:r.firstRow,last:r.lastRow},S=TC(i,b,C,s);d.push(...S)}return d}_replaceTableSlotCell(t,e,i,r){const{cell:s,isAnchor:o}=t;return o&&r.remove(s),e?(r.insert(e,i),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const i=e.createRangeIn(t);for(const r of i.getItems())if(r.is("element","table")){const s=e.createRange(i.start,e.createPositionBefore(r));if(e.hasContent(s,{ignoreWhitespaces:!0}))return null;const o=e.createRange(e.createPositionAfter(r),i.end);return e.hasContent(o,{ignoreWhitespaces:!0})?null:r}return null}}function gDe(n,t,e,i){const r=n[0].findAncestor("table"),s=i.getColumnIndexes(n),o=i.getRowIndexes(n),a={firstColumn:s.first,lastColumn:s.last,firstRow:o.first,lastRow:o.last},l=n.length===1;return l&&(a.lastRow+=t.height-1,a.lastColumn+=t.width-1,bDe(r,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(n)?vDe(r,a,e):(a.lastRow=tH(r,a),a.lastColumn=nH(r,a)),a}function bDe(n,t,e,i){const r=i.getColumns(n),s=i.getRows(n);e>r&&i.insertColumns(n,{at:r,columns:e-r}),t>s&&i.insertRows(n,{at:s,rows:t-s})}function wDe(n,t,e){const i=new Array(e).fill(null).map(()=>new Array(t).fill(null));for(const{column:r,row:s,cell:o}of new Ft(n))i[s][r]=o;return i}function vDe(n,t,e){const{firstRow:i,lastRow:r,firstColumn:s,lastColumn:o}=t,a={first:i,last:r},l={first:s,last:o};TC(n,s,a,e),TC(n,o+1,a,e),SC(n,i,l,e),SC(n,r+1,l,e,i)}function SC(n,t,e,i,r=0){return t<1?void 0:ZU(n,t,r).filter(({column:a,cellWidth:l})=>oH(a,l,e)).map(({cell:a})=>JU(a,t,i))}function TC(n,t,e,i){return t<1?void 0:XU(n,t).filter(({row:o,cellHeight:a})=>oH(o,a,e)).map(({cell:o,column:a})=>QU(o,a,t,i))}function oH(n,t,e){const i=n+t-1,{first:r,last:s}=e,o=n>=r&&n<=s,a=n<r&&i>=r;return o||a}class yDe extends L{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Hc,fi]}init(){const t=this.editor,i=t.editing.view.document,r=t.t;this.listenTo(i,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(i,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(i,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:r("Keystrokes that can be used in a table cell"),keystrokes:[{label:r("Move the selection to the next cell"),keystroke:"Tab"},{label:r("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:r("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:r("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(t,e){const i=this.editor,s=i.model.document.selection.getSelectedElement();!s||!s.is("element","table")||(e.preventDefault(),e.stopPropagation(),t.stop(),i.model.change(o=>{o.setSelection(o.createRangeIn(s.getChild(0).getChild(0)))}))}_handleTab(t,e){const i=this.editor,r=this.editor.plugins.get(fi),s=this.editor.plugins.get("TableSelection"),o=i.model.document.selection,a=!e.shiftKey;let l=r.getTableCellsContainingSelection(o)[0];if(l||(l=s.getFocusCell()),!l)return;e.preventDefault(),e.stopPropagation(),t.stop();const c=l.parent,d=c.parent,h=d.getChildIndex(c),p=c.getChildIndex(l),b=p===0;if(!a&&b&&h===0){i.model.change(S=>{S.setSelection(S.createRangeOn(d))});return}const _=p===c.childCount-1,x=h===r.getRows(d)-1;if(a&&x&&_&&(i.execute("insertTableRowBelow"),h===r.getRows(d)-1)){i.model.change(S=>{S.setSelection(S.createRangeOn(d))});return}let C;if(a&&_)C=d.getChild(h+1).getChild(0);else if(!a&&b){const S=d.getChild(h-1);C=S.getChild(S.childCount-1)}else C=c.getChild(p+(a?1:-1));i.model.change(S=>{S.setSelection(S.createRangeIn(C))})}_onArrowKey(t,e){const i=this.editor,r=e.keyCode,s=rv(r,i.locale.contentLanguageDirection);this._handleArrowKeys(s,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const i=this.editor.plugins.get(fi),r=this.editor.plugins.get("TableSelection"),s=this.editor.model,o=s.document.selection,a=["right","down"].includes(t),l=i.getSelectedTableCells(o);if(l.length){let d;return e?d=r.getFocusCell():d=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(d,t,e),!0}const c=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!c)return!1;if(!o.isCollapsed)if(e){if(o.isBackward==a&&!o.containsEntireContent(c))return!1}else{const d=o.getSelectedElement();if(!d||!s.schema.isObject(d))return!1}return this._isSelectionAtCellEdge(o,c,a)?(this._navigateFromCellInDirection(c,t,e),!0):!1}_isSelectionAtCellEdge(t,e,i){const r=this.editor.model,s=this.editor.model.schema,o=i?t.getLastPosition():t.getFirstPosition();if(!s.getLimitElement(o).is("element","tableCell"))return r.createPositionAt(e,i?"end":0).isTouching(o);const a=r.createSelection(o);return r.modifySelection(a,{direction:i?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(t,e,i=!1){const r=this.editor.model,s=t.findAncestor("table"),o=[...new Ft(s,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],c=o.find(({cell:T})=>T==t);let{row:d,column:h}=c;switch(e){case"left":h--;break;case"up":d--;break;case"right":h+=c.cellWidth;break;case"down":d+=c.cellHeight;break}const p=d<0||d>a,b=h<0&&d<=0,_=h>l&&d>=a;if(p||b||_){r.change(T=>{T.setSelection(T.createRangeOn(s))});return}h<0?(h=i?0:l,d--):h>l&&(h=i?l:0,d++);const x=o.find(T=>T.row==d&&T.column==h).cell,C=["right","down"].includes(e),S=this.editor.plugins.get("TableSelection");if(i&&S.isEnabled){const T=S.getAnchorCell()||t;S.setCellSelection(T,x)}else{const T=r.createPositionAt(x,C?0:"end");r.change(A=>{A.setSelection(T)})}}}class aH extends ja{constructor(){super(...arguments);g(this,"domEventType",["mousemove","mouseleave"])}onDomEvent(e){this.fire(e.type,e)}}class _De extends L{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[Hc,fi]}init(){this.editor.editing.view.addObserver(aH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(fi);let i=!1;const r=t.plugins.get(Hc);this.listenTo(t.editing.view.document,"mousedown",(s,o)=>{const a=t.model.document.selection;if(!this.isEnabled||!r.isEnabled||!o.domEvent.shiftKey)return;const l=r.getAnchorCell()||e.getTableCellsContainingSelection(a)[0];if(!l)return;const c=this._getModelTableCellFromDomEvent(o);c&&KO(l,c)&&(i=!0,r.setCellSelection(l,c),o.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(t.editing.view.document,"selectionChange",s=>{i&&s.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,i,r=!1,s=!1;const o=t.plugins.get(Hc);this.listenTo(t.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(l))}),this.listenTo(t.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!e)return;const c=this._getModelTableCellFromDomEvent(l);c&&KO(e,c)&&(i=c,!r&&i!=e&&(r=!0)),r&&(s=!0,o.setCellSelection(e,i),l.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{r=!1,s=!1,e=null,i=null}),this.listenTo(t.editing.view.document,"selectionChange",a=>{s&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,i=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function KO(n,t){return n.parent.parent==t.parent.parent}class xDe extends L{static get requires(){return[rg,hDe,Hc,_De,yDe,pDe,Mo]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function lH(n){const t=cH(n);return t||xv(n)}function cH(n){const t=n.getSelectedElement();return t&&uH(t)?t:null}function xv(n){const t=n.getFirstPosition();if(!t)return null;let e=t.parent;for(;e;){if(e.is("element")&&uH(e))return e;e=e.parent}return null}function uH(n){return!!n.getCustomProperty("table")&&In(n)}class kDe extends L{static get requires(){return[D1]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,i=t.plugins.get(D1),r=t.config.get("table.contentToolbar"),s=t.config.get("table.tableToolbar");r&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:xv}),s&&i.register("table",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:cH})}}class CDe extends de{constructor(e,i){super(e);g(this,"options");g(this,"focusTracker");g(this,"focusCycler");g(this,"_focusables");g(this,"dropdownView");g(this,"inputView");g(this,"keystrokes");g(this,"_stillTyping");this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=i,this.focusTracker=new Pt,this._focusables=new Hn,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new jt,this._stillTyping=!1,this.focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(r,s,o)=>this._setInputValue(o))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(e=>{this.focusTracker.add(e.element),this._focusables.add(e)}),this.keystrokes.listenTo(this.element)}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const e=this.locale,i=e.t,r=this.bindTemplate,s=this._createColorSelector(e),o=zn(e),a=new de;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:r.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",r.if("value","ck-hidden",l=>l!="")]}}]}),o.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),o.buttonView.children.add(a),o.buttonView.label=i("Color picker"),o.buttonView.tooltip=!0,o.panelPosition=e.uiLanguageDirection==="rtl"?"se":"sw",o.panelView.children.add(s),o.bind("isEnabled").to(this,"isReadOnly",l=>!l),o.on("change:isOpen",(l,c,d)=>{d&&(s.updateSelectedColors(),s.showColorGridsFragment())}),o}_createInputTextView(){const e=this.locale,i=new $z(e);return i.extendTemplate({on:{blur:i.bindTemplate.to("blur")}}),i.value=this.value,i.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(i),i.on("input",()=>{const r=i.element.value,s=this.options.colorDefinitions.find(o=>r===o.label);this._stillTyping=!0,this.value=s&&s.color||r}),i.on("blur",()=>{this._stillTyping=!1,this._setInputValue(i.element.value)}),i.delegate("input").to(this),i}_createColorSelector(e){const i=e.t,r=this.options.defaultColorValue||"",s=i(r?"Restore default":"Remove color"),o=new AT(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:s,colorPickerLabel:i("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig===!1?!1:{...this.options.colorPickerConfig,hideInput:!0}});o.appendUI(),o.on("execute",(l,c)=>{if(c.source==="colorPickerSaveButton"){this.dropdownView.isOpen=!1;return}this.value=c.value||r,this.fire("input"),c.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)});let a=this.value;return o.on("colorPicker:cancel",()=>{this.value=a,this.fire("input"),this.dropdownView.isOpen=!1}),o.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{a=this.value}),o.bind("selectedColor").to(this,"value"),o}_setInputValue(e){if(!this._stillTyping){const i=YO(e),r=this.options.colorDefinitions.find(s=>i===YO(s.color));r?this.inputView.value=r.label:this.inputView.value=e||""}}}function YO(n){return n.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const r5=n=>n==="";function s5(n){return{none:n("None"),solid:n("Solid"),dotted:n("Dotted"),dashed:n("Dashed"),double:n("Double"),groove:n("Groove"),ridge:n("Ridge"),inset:n("Inset"),outset:n("Outset")}}function dH(n){return n('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function fH(n){return n('The value is invalid. Try "10px" or "2em" or simply "2".')}function K1(n){return n=n.trim().toLowerCase(),r5(n)||pz(n)}function fm(n){return n=n.trim(),r5(n)||pH(n)||dv(n)||gz(n)}function hH(n){return n=n.trim(),r5(n)||pH(n)||dv(n)}function mH(n,t){const e=new Sn,i=s5(n.t);for(const r in i){const s={type:"button",model:new Ls({_borderStyleValue:r,label:i[r],role:"menuitemradio",withText:!0})};r==="none"?s.model.bind("isOn").to(n,"borderStyle",o=>t==="none"?!o:o===r):s.model.bind("isOn").to(n,"borderStyle",o=>o===r),e.add(s)}return e}function AC(n){const{view:t,icons:e,toolbar:i,labels:r,propertyName:s,nameToValue:o,defaultValue:a}=n;for(const l in r){const c=new Pe(t.locale);c.set({label:r[l],icon:e[l],tooltip:r[l]});const d=o?o(l):l;c.bind("isOn").to(t,s,h=>{let p=h;return h===""&&a&&(p=a),d===p}),c.on("execute",()=>{t[s]=d}),i.items.add(c)}}const Y1=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function Z1(n){return(t,e,i)=>{const r=new CDe(t.locale,{colorDefinitions:EDe(n.colorConfig),columns:n.columns,defaultColorValue:n.defaultColorValue,colorPickerConfig:n.colorPickerConfig});return r.inputView.set({id:e,ariaDescribedById:i}),r.bind("isReadOnly").to(t,"isEnabled",s=>!s),r.bind("hasError").to(t,"errorText",s=>!!s),r.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused").to(r),r}}function pH(n){const t=parseFloat(n);return!Number.isNaN(t)&&n===String(t)}function EDe(n){return n.map(t=>({color:t.model,label:t.label,options:{hasBorder:t.hasBorder}}))}class kr extends de{constructor(e,i={}){super(e);g(this,"children");const r=this.bindTemplate;this.set("class",i.class||null),this.children=this.createCollection(),i.children&&i.children.forEach(s=>this.children.add(s)),this.set("_role",null),this.set("_ariaLabelledBy",null),i.labelView&&this.set({_role:"group",_ariaLabelledBy:i.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",r.to("class")],role:r.to("_role"),"aria-labelledby":r.to("_ariaLabelledBy")},children:this.children})}}class SDe extends de{constructor(e,i){super(e);g(this,"options");g(this,"focusTracker");g(this,"keystrokes");g(this,"children");g(this,"borderStyleDropdown");g(this,"borderWidthInput");g(this,"borderColorInput");g(this,"backgroundInput");g(this,"paddingInput");g(this,"widthInput");g(this,"heightInput");g(this,"horizontalAlignmentToolbar");g(this,"verticalAlignmentToolbar");g(this,"saveButtonView");g(this,"cancelButtonView");g(this,"_focusables");g(this,"_focusCycler");this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=i;const{borderStyleDropdown:r,borderWidthInput:s,borderColorInput:o,borderRowLabel:a}=this._createBorderFields(),{backgroundRowLabel:l,backgroundInput:c}=this._createBackgroundFields(),{widthInput:d,operatorLabel:h,heightInput:p,dimensionsLabel:b}=this._createDimensionFields(),{horizontalAlignmentToolbar:_,verticalAlignmentToolbar:x,alignmentLabel:C}=this._createAlignmentFields();this.focusTracker=new Pt,this.keystrokes=new jt,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=s,this.borderColorInput=o,this.backgroundInput=c,this.paddingInput=this._createPaddingField(),this.widthInput=d,this.heightInput=p,this.horizontalAlignmentToolbar=_,this.verticalAlignmentToolbar=x;const{saveButtonView:S,cancelButtonView:T}=this._createActionButtons();this.saveButtonView=S,this.cancelButtonView=T,this._focusables=new Hn,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new qp(e,{label:this.t("Cell properties")})),this.children.add(new kr(e,{labelView:a,children:[a,r,o,s],class:"ck-table-form__border-row"})),this.children.add(new kr(e,{labelView:l,children:[l,c],class:"ck-table-form__background-row"})),this.children.add(new kr(e,{children:[new kr(e,{labelView:b,children:[b,d,h,p],class:"ck-table-form__dimensions-row"}),new kr(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new kr(e,{labelView:C,children:[C,_,x],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new kr(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),za({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,i={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},r=Z1({colorConfig:this.options.borderColors,columns:5,defaultColorValue:i.color,colorPickerConfig:this.options.colorPickerConfig}),s=this.locale,o=this.t,a=o("Style"),l=new ur(s);l.text=o("Border");const c=s5(o),d=new xn(s,TT);d.set({label:a,class:"ck-table-form__border-style"}),d.fieldView.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),d.fieldView.buttonView.bind("label").to(this,"borderStyle",b=>c[b||"none"]),d.fieldView.on("execute",b=>{this.borderStyle=b.source._borderStyleValue}),d.bind("isEmpty").to(this,"borderStyle",b=>!b),No(d.fieldView,mH(this,i.style),{role:"menu",ariaLabel:a});const h=new xn(s,dr);h.set({label:o("Width"),class:"ck-table-form__border-width"}),h.fieldView.bind("value").to(this,"borderWidth"),h.bind("isEnabled").to(this,"borderStyle",Q0),h.fieldView.on("input",()=>{this.borderWidth=h.fieldView.element.value});const p=new xn(s,r);return p.set({label:o("Color"),class:"ck-table-form__border-color"}),p.fieldView.bind("value").to(this,"borderColor"),p.bind("isEnabled").to(this,"borderStyle",Q0),p.fieldView.on("input",()=>{this.borderColor=p.fieldView.value}),this.on("change:borderStyle",(b,_,x,C)=>{Q0(x)||(this.borderColor="",this.borderWidth=""),Q0(C)||(this.borderColor=i.color,this.borderWidth=i.width)}),{borderRowLabel:l,borderStyleDropdown:d,borderColorInput:p,borderWidthInput:h}}_createBackgroundFields(){const e=this.locale,i=this.t,r=new ur(e);r.text=i("Background");const s=Z1({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),o=new xn(e,s);return o.set({label:i("Color"),class:"ck-table-cell-properties-form__background"}),o.fieldView.bind("value").to(this,"backgroundColor"),o.fieldView.on("input",()=>{this.backgroundColor=o.fieldView.value}),{backgroundRowLabel:r,backgroundInput:o}}_createDimensionFields(){const e=this.locale,i=this.t,r=new ur(e);r.text=i("Dimensions");const s=new xn(e,dr);s.set({label:i("Width"),class:"ck-table-form__dimensions-row__width"}),s.fieldView.bind("value").to(this,"width"),s.fieldView.on("input",()=>{this.width=s.fieldView.element.value});const o=new de(e);o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const a=new xn(e,dr);return a.set({label:i("Height"),class:"ck-table-form__dimensions-row__height"}),a.fieldView.bind("value").to(this,"height"),a.fieldView.on("input",()=>{this.height=a.fieldView.element.value}),{dimensionsLabel:r,widthInput:s,operatorLabel:o,heightInput:a}}_createPaddingField(){const e=this.locale,i=this.t,r=new xn(e,dr);return r.set({label:i("Padding"),class:"ck-table-cell-properties-form__padding"}),r.fieldView.bind("value").to(this,"padding"),r.fieldView.on("input",()=>{this.padding=r.fieldView.element.value}),r}_createAlignmentFields(){const e=this.locale,i=this.t,r=new ur(e),s={left:se.alignLeft,center:se.alignCenter,right:se.alignRight,justify:se.alignJustify,top:se.alignTop,middle:se.alignMiddle,bottom:se.alignBottom};r.text=i("Table cell text alignment");const o=new Hl(e),a=e.contentLanguageDirection==="rtl";o.set({isCompact:!0,ariaLabel:i("Horizontal text alignment toolbar")}),AC({view:this,icons:s,toolbar:o,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:c=>{if(a){if(c==="left")return"right";if(c==="right")return"left"}return c},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const l=new Hl(e);return l.set({isCompact:!0,ariaLabel:i("Vertical text alignment toolbar")}),AC({view:this,icons:s,toolbar:l,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:o,verticalAlignmentToolbar:l,alignmentLabel:r}}_createActionButtons(){const e=this.locale,i=this.t,r=new Pe(e),s=new Pe(e),o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return r.set({label:i("Save"),icon:se.check,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(o,"errorText",(...a)=>a.every(l=>!l)),s.set({label:i("Cancel"),icon:se.cancel,class:"ck-button-cancel",withText:!0}),s.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:s}}get _horizontalAlignmentLabels(){const e=this.locale,i=this.t,r=i("Align cell text to the left"),s=i("Align cell text to the center"),o=i("Align cell text to the right"),a=i("Justify cell text");return e.uiLanguageDirection==="rtl"?{right:o,center:s,left:r,justify:a}:{left:r,center:s,right:o,justify:a}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function Q0(n){return n!=="none"}const IC=[ei.defaultPositions.northArrowSouth,ei.defaultPositions.northArrowSouthWest,ei.defaultPositions.northArrowSouthEast,ei.defaultPositions.southArrowNorth,ei.defaultPositions.southArrowNorthWest,ei.defaultPositions.southArrowNorthEast,ei.defaultPositions.viewportStickyNorth];function gH(n,t){const e=n.plugins.get("ContextualBalloon"),i=n.editing.view.document.selection;let r;t==="cell"?xv(i)&&(r=wH(n)):lH(i)&&(r=bH(n)),r&&e.updatePosition(r)}function bH(n){const t=n.model.document.selection,e=Uc(t),i=n.editing.mapper.toViewElement(e);return{target:n.editing.view.domConverter.mapViewToDom(i),positions:IC}}function wH(n){const t=n.editing.mapper,e=n.editing.view.domConverter,i=n.model.document.selection;if(i.rangeCount>1)return{target:()=>TDe(i.getRanges(),n),positions:IC};const r=vH(i.getFirstPosition()),s=t.toViewElement(r);return{target:e.mapViewToDom(s),positions:IC}}function vH(n){return n.nodeAfter&&n.nodeAfter.is("element","tableCell")?n.nodeAfter:n.findAncestor("tableCell")}function TDe(n,t){const e=t.editing.mapper,i=t.editing.view.domConverter,r=Array.from(n).map(s=>{const o=vH(s.start),a=e.toViewElement(o);return new Ye(i.mapViewToDom(a))});return Ye.getBoundingRect(r)}var ADe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>';function Iu(n){if(!n||!qt(n))return n;const{top:t,right:e,bottom:i,left:r}=n;if(t==e&&e==i&&i==r)return t}function Pu(n,t){const e=parseFloat(n);return Number.isNaN(e)||String(e)!==String(n)?n:`${e}${t}`}function yH(n,t={}){const e={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...n};return t.includeAlignmentProperty&&!e.alignment&&(e.alignment="center"),t.includePaddingProperty&&!e.padding&&(e.padding=""),t.includeVerticalAlignmentProperty&&!e.verticalAlignment&&(e.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!e.horizontalAlignment&&(e.horizontalAlignment=t.isRightToLeftContent?"right":"left"),e}function _H(n,t){return yH({borderStyle:"double",borderColor:"hsl(0, 0%, 70%)",borderWidth:"1px",...n},t)}function o5(n,t){return yH({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...n},t)}const IDe=500,ZO={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class PDe extends L{constructor(e){super(e);g(this,"_defaultTableCellProperties");g(this,"_balloon");g(this,"view");g(this,"_undoStepBatch");g(this,"_isReady");e.config.define("table.tableCellProperties",{borderColors:Y1,backgroundColors:Y1})}static get requires(){return[Yi]}static get pluginName(){return"TableCellPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t;this._defaultTableCellProperties=o5(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._balloon=e.plugins.get(Yi),this.view=null,this._isReady=!1,e.ui.componentFactory.add("tableCellProperties",r=>{const s=new Pe(r);s.set({label:i("Cell properties"),icon:ADe,tooltip:!0}),this.listenTo(s,"execute",()=>this._showView());const o=Object.values(ZO).map(a=>e.commands.get(a));return s.bind("isEnabled").toMany(o,"isEnabled",(...a)=>a.some(l=>l)),s})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,i=e.config.get("table.tableCellProperties"),r=rp(i.borderColors),s=ip(e.locale,r),o=rp(i.backgroundColors),a=ip(e.locale,o),l=i.colorPicker!==!1,c=new SDe(e.locale,{borderColors:s,backgroundColors:a,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:l?i.colorPicker||{}:!1}),d=e.t;c.render(),this.listenTo(c,"submit",()=>{this._hideView()}),this.listenTo(c,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),c.keystrokes.set("Esc",(b,_)=>{this._hideView(),_()}),Oo({emitter:c,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const h=dH(d),p=fH(d);return c.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),c.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:c.borderColorInput,commandName:"tableCellBorderColor",errorText:h,validator:K1})),c.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:c.borderWidthInput,commandName:"tableCellBorderWidth",errorText:p,validator:hH})),c.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:c.paddingInput,commandName:"tableCellPadding",errorText:p,validator:fm})),c.on("change:width",this._getValidatedPropertyChangeCallback({viewField:c.widthInput,commandName:"tableCellWidth",errorText:p,validator:fm})),c.on("change:height",this._getValidatedPropertyChangeCallback({viewField:c.heightInput,commandName:"tableCellHeight",errorText:p,validator:fm})),c.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:c.backgroundInput,commandName:"tableCellBackgroundColor",errorText:h,validator:K1})),c.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),c.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),c}_fillViewFormFromCommandValues(){const e=this.editor.commands,i=e.get("tableCellBorderStyle");Object.entries(ZO).map(([r,s])=>{const o=this._defaultTableCellProperties[r]||"";return[r,e.get(s).value||o]}).forEach(([r,s])=>{(r==="borderColor"||r==="borderWidth")&&i.value==="none"||this.view.set(r,s)}),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:wH(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,i=e.editing.view.document;xv(i.selection)?this._isViewVisible&&gH(e,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(i,r,s)=>{this._isReady&&this.editor.execute(e,{value:s,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:i,viewField:r,validator:s,errorText:o}=e,a=mr(()=>{r.errorText=o},IDe);return(l,c,d)=>{a.cancel(),this._isReady&&(s(d)?(this.editor.execute(i,{value:d,batch:this._undoStepBatch}),r.errorText=null):a())}}}class Ua extends je{constructor(e,i,r){super(e);g(this,"attributeName");g(this,"_defaultValue");this.attributeName=i,this._defaultValue=r}refresh(){const e=this.editor,r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!r.length,this.value=this._getSingleValue(r)}execute(e={}){const{value:i,batch:r}=e,s=this.editor.model,a=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s.document.selection),l=this._getValueToSet(i);s.enqueueChange(r,c=>{l?a.forEach(d=>c.setAttribute(this.attributeName,l,d)):a.forEach(d=>c.removeAttribute(this.attributeName,d))})}_getAttribute(e){if(!e)return;const i=e.getAttribute(this.attributeName);if(i!==this._defaultValue)return i}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const i=this._getAttribute(e[0]);return e.every(s=>this._getAttribute(s)===i)?i:void 0}}class RDe extends Ua{constructor(t,e){super(t,"tableCellWidth",e)}_getValueToSet(t){if(t=Pu(t,"px"),t!==this._defaultValue)return t}}class xH extends L{static get pluginName(){return"TableCellWidthEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[rg]}init(){const t=this.editor,e=o5(t.config.get("table.tableCellProperties.defaultProperties"));Tb(t.model.schema,t.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:e.width}),t.commands.add("tableCellWidth",new RDe(t,e.width))}}class ODe extends Ua{constructor(t,e){super(t,"tableCellPadding",e)}_getAttribute(t){if(!t)return;const e=Iu(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Pu(t,"px");if(e!==this._defaultValue)return e}}class NDe extends Ua{constructor(t,e){super(t,"tableCellHeight",e)}_getValueToSet(t){const e=Pu(t,"px");if(e!==this._defaultValue)return e}}class MDe extends Ua{constructor(t,e){super(t,"tableCellBackgroundColor",e)}}class DDe extends Ua{constructor(t,e){super(t,"tableCellVerticalAlignment",e)}}class LDe extends Ua{constructor(t,e){super(t,"tableCellHorizontalAlignment",e)}}class VDe extends Ua{constructor(t,e){super(t,"tableCellBorderStyle",e)}_getAttribute(t){if(!t)return;const e=Iu(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class FDe extends Ua{constructor(t,e){super(t,"tableCellBorderColor",e)}_getAttribute(t){if(!t)return;const e=Iu(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class BDe extends Ua{constructor(t,e){super(t,"tableCellBorderWidth",e)}_getAttribute(t){if(!t)return;const e=Iu(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Pu(t,"px");if(e!==this._defaultValue)return e}}const JO=/^(top|middle|bottom)$/,XO=/^(left|center|right|justify)$/;class jDe extends L{static get pluginName(){return"TableCellPropertiesEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[rg,xH]}init(){const t=this.editor,e=t.model.schema,i=t.conversion;t.config.define("table.tableCellProperties.defaultProperties",{});const r=o5(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:t.locale.contentLanguageDirection==="rtl"});t.data.addStyleProcessorRules(wz),zDe(e,i,{color:r.borderColor,style:r.borderStyle,width:r.borderWidth}),t.commands.add("tableCellBorderStyle",new VDe(t,r.borderStyle)),t.commands.add("tableCellBorderColor",new FDe(t,r.borderColor)),t.commands.add("tableCellBorderWidth",new BDe(t,r.borderWidth)),Tb(e,i,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:r.height}),t.commands.add("tableCellHeight",new NDe(t,r.height)),t.data.addStyleProcessorRules(kCe),Tb(e,i,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:r.padding}),t.commands.add("tableCellPadding",new ODe(t,r.padding)),t.data.addStyleProcessorRules(_T),Tb(e,i,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:r.backgroundColor}),t.commands.add("tableCellBackgroundColor",new MDe(t,r.backgroundColor)),$De(e,i,r.horizontalAlignment),t.commands.add("tableCellHorizontalAlignment",new LDe(t,r.horizontalAlignment)),UDe(e,i,r.verticalAlignment),t.commands.add("tableCellVerticalAlignment",new DDe(t,r.verticalAlignment))}}function zDe(n,t,e){const i={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};n.extend("tableCell",{allowAttributes:Object.values(i)}),vC(t,"td",i,e),vC(t,"th",i,e),dm(t,{modelElement:"tableCell",modelAttribute:i.style,styleName:"border-style"}),dm(t,{modelElement:"tableCell",modelAttribute:i.color,styleName:"border-color"}),dm(t,{modelElement:"tableCell",modelAttribute:i.width,styleName:"border-width"})}function $De(n,t,e){n.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:i=>({key:"style",value:{"text-align":i}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":XO}},model:{key:"tableCellHorizontalAlignment",value:i=>{const r=i.getStyle("text-align");return r===e?null:r}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:XO}},model:{key:"tableCellHorizontalAlignment",value:i=>{const r=i.getAttribute("align");return r===e?null:r}}})}function UDe(n,t,e){n.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:i=>({key:"style",value:{"vertical-align":i}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":JO}},model:{key:"tableCellVerticalAlignment",value:i=>{const r=i.getStyle("vertical-align");return r===e?null:r}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:JO}},model:{key:"tableCellVerticalAlignment",value:i=>{const r=i.getAttribute("valign");return r===e?null:r}}})}class HDe extends L{static get pluginName(){return"TableCellProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[jDe,PDe]}}class Ru extends je{constructor(e,i,r){super(e);g(this,"attributeName");g(this,"_defaultValue");this.attributeName=i,this._defaultValue=r}refresh(){const i=this.editor.model.document.selection,r=Uc(i);this.isEnabled=!!r,this.value=this._getValue(r)}execute(e={}){const i=this.editor.model,r=i.document.selection,{value:s,batch:o}=e,a=Uc(r),l=this._getValueToSet(s);i.enqueueChange(o,c=>{l?c.setAttribute(this.attributeName,l,a):c.removeAttribute(this.attributeName,a)})}_getValue(e){if(!e)return;const i=e.getAttribute(this.attributeName);if(i!==this._defaultValue)return i}_getValueToSet(e){if(e!==this._defaultValue)return e}}class WDe extends Ru{constructor(t,e){super(t,"tableBackgroundColor",e)}}class qDe extends Ru{constructor(t,e){super(t,"tableBorderColor",e)}_getValue(t){if(!t)return;const e=Iu(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class GDe extends Ru{constructor(t,e){super(t,"tableBorderStyle",e)}_getValue(t){if(!t)return;const e=Iu(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class KDe extends Ru{constructor(t,e){super(t,"tableBorderWidth",e)}_getValue(t){if(!t)return;const e=Iu(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Pu(t,"px");if(e!==this._defaultValue)return e}}class YDe extends Ru{constructor(t,e){super(t,"tableWidth",e)}_getValueToSet(t){if(t=Pu(t,"px"),t!==this._defaultValue)return t}}class ZDe extends Ru{constructor(t,e){super(t,"tableHeight",e)}_getValueToSet(t){if(t=Pu(t,"px"),t!==this._defaultValue)return t}}class JDe extends Ru{constructor(t,e){super(t,"tableAlignment",e)}}const XDe=/^(left|center|right)$/,QDe=/^(left|none|right)$/;class eLe extends L{static get pluginName(){return"TablePropertiesEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[rg]}init(){const t=this.editor,e=t.model.schema,i=t.conversion;t.config.define("table.tableProperties.defaultProperties",{});const r=_H(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});t.data.addStyleProcessorRules(wz),tLe(e,i,{color:r.borderColor,style:r.borderStyle,width:r.borderWidth}),t.commands.add("tableBorderColor",new qDe(t,r.borderColor)),t.commands.add("tableBorderStyle",new GDe(t,r.borderStyle)),t.commands.add("tableBorderWidth",new KDe(t,r.borderWidth)),nLe(e,i,r.alignment),t.commands.add("tableAlignment",new JDe(t,r.alignment)),QO(e,i,{modelAttribute:"tableWidth",styleName:"width",defaultValue:r.width}),t.commands.add("tableWidth",new YDe(t,r.width)),QO(e,i,{modelAttribute:"tableHeight",styleName:"height",defaultValue:r.height}),t.commands.add("tableHeight",new ZDe(t,r.height)),t.data.addStyleProcessorRules(_T),iLe(e,i,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:r.backgroundColor}),t.commands.add("tableBackgroundColor",new WDe(t,r.backgroundColor))}}function tLe(n,t,e){const i={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};n.extend("table",{allowAttributes:Object.values(i)}),vC(t,"table",i,e),Eb(t,{modelAttribute:i.color,styleName:"border-color"}),Eb(t,{modelAttribute:i.style,styleName:"border-style"}),Eb(t,{modelAttribute:i.width,styleName:"border-width"})}function nLe(n,t,e){n.extend("table",{allowAttributes:["tableAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:i=>({key:"style",value:{float:i==="center"?"none":i}}),converterPriority:"high"}),t.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:QDe}},model:{key:"tableAlignment",value:i=>{let r=i.getStyle("float");return r==="none"&&(r="center"),r===e?null:r}}}).attributeToAttribute({view:{attributes:{align:XDe}},model:{name:"table",key:"tableAlignment",value:i=>{const r=i.getAttribute("align");return r===e?null:r}}})}function iLe(n,t,e){const{modelAttribute:i}=e;n.extend("table",{allowAttributes:[i]}),t5(t,{viewElement:"table",...e}),Eb(t,e)}function QO(n,t,e){const{modelAttribute:i}=e;n.extend("table",{allowAttributes:[i]}),t5(t,{viewElement:/^(table|figure)$/,shouldUpcast:r=>!(r.name=="table"&&r.parent.name=="figure"),...e}),dm(t,{modelElement:"table",...e})}class rLe extends de{constructor(e,i){super(e);g(this,"options");g(this,"focusTracker");g(this,"keystrokes");g(this,"children");g(this,"borderStyleDropdown");g(this,"borderWidthInput");g(this,"borderColorInput");g(this,"backgroundInput");g(this,"widthInput");g(this,"heightInput");g(this,"alignmentToolbar");g(this,"saveButtonView");g(this,"cancelButtonView");g(this,"_focusables");g(this,"_focusCycler");this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=i;const{borderStyleDropdown:r,borderWidthInput:s,borderColorInput:o,borderRowLabel:a}=this._createBorderFields(),{backgroundRowLabel:l,backgroundInput:c}=this._createBackgroundFields(),{widthInput:d,operatorLabel:h,heightInput:p,dimensionsLabel:b}=this._createDimensionFields(),{alignmentToolbar:_,alignmentLabel:x}=this._createAlignmentFields();this.focusTracker=new Pt,this.keystrokes=new jt,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=s,this.borderColorInput=o,this.backgroundInput=c,this.widthInput=d,this.heightInput=p,this.alignmentToolbar=_;const{saveButtonView:C,cancelButtonView:S}=this._createActionButtons();this.saveButtonView=C,this.cancelButtonView=S,this._focusables=new Hn,this._focusCycler=new Yn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new qp(e,{label:this.t("Table properties")})),this.children.add(new kr(e,{labelView:a,children:[a,r,o,s],class:"ck-table-form__border-row"})),this.children.add(new kr(e,{labelView:l,children:[l,c],class:"ck-table-form__background-row"})),this.children.add(new kr(e,{children:[new kr(e,{labelView:b,children:[b,d,h,p],class:"ck-table-form__dimensions-row"}),new kr(e,{labelView:x,children:[x,_],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new kr(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),za({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,i={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},r=Z1({colorConfig:this.options.borderColors,columns:5,defaultColorValue:i.color,colorPickerConfig:this.options.colorPickerConfig}),s=this.locale,o=this.t,a=o("Style"),l=new ur(s);l.text=o("Border");const c=s5(o),d=new xn(s,TT);d.set({label:a,class:"ck-table-form__border-style"}),d.fieldView.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),d.fieldView.buttonView.bind("label").to(this,"borderStyle",b=>c[b||"none"]),d.fieldView.on("execute",b=>{this.borderStyle=b.source._borderStyleValue}),d.bind("isEmpty").to(this,"borderStyle",b=>!b),No(d.fieldView,mH(this,i.style),{role:"menu",ariaLabel:a});const h=new xn(s,dr);h.set({label:o("Width"),class:"ck-table-form__border-width"}),h.fieldView.bind("value").to(this,"borderWidth"),h.bind("isEnabled").to(this,"borderStyle",eb),h.fieldView.on("input",()=>{this.borderWidth=h.fieldView.element.value});const p=new xn(s,r);return p.set({label:o("Color"),class:"ck-table-form__border-color"}),p.fieldView.bind("value").to(this,"borderColor"),p.bind("isEnabled").to(this,"borderStyle",eb),p.fieldView.on("input",()=>{this.borderColor=p.fieldView.value}),this.on("change:borderStyle",(b,_,x,C)=>{eb(x)||(this.borderColor="",this.borderWidth=""),eb(C)||(this.borderColor=i.color,this.borderWidth=i.width)}),{borderRowLabel:l,borderStyleDropdown:d,borderColorInput:p,borderWidthInput:h}}_createBackgroundFields(){const e=this.locale,i=this.t,r=new ur(e);r.text=i("Background");const s=Z1({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),o=new xn(e,s);return o.set({label:i("Color"),class:"ck-table-properties-form__background"}),o.fieldView.bind("value").to(this,"backgroundColor"),o.fieldView.on("input",()=>{this.backgroundColor=o.fieldView.value}),{backgroundRowLabel:r,backgroundInput:o}}_createDimensionFields(){const e=this.locale,i=this.t,r=new ur(e);r.text=i("Dimensions");const s=new xn(e,dr);s.set({label:i("Width"),class:"ck-table-form__dimensions-row__width"}),s.fieldView.bind("value").to(this,"width"),s.fieldView.on("input",()=>{this.width=s.fieldView.element.value});const o=new de(e);o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const a=new xn(e,dr);return a.set({label:i("Height"),class:"ck-table-form__dimensions-row__height"}),a.fieldView.bind("value").to(this,"height"),a.fieldView.on("input",()=>{this.height=a.fieldView.element.value}),{dimensionsLabel:r,widthInput:s,operatorLabel:o,heightInput:a}}_createAlignmentFields(){const e=this.locale,i=this.t,r=new ur(e);r.text=i("Alignment");const s=new Hl(e);return s.set({isCompact:!0,ariaLabel:i("Table alignment toolbar")}),AC({view:this,icons:{left:se.objectLeft,center:se.objectCenter,right:se.objectRight},toolbar:s,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:r,alignmentToolbar:s}}_createActionButtons(){const e=this.locale,i=this.t,r=new Pe(e),s=new Pe(e),o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return r.set({label:i("Save"),icon:se.check,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(o,"errorText",(...a)=>a.every(l=>!l)),s.set({label:i("Cancel"),icon:se.cancel,class:"ck-button-cancel",withText:!0}),s.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:s}}get _alignmentLabels(){const e=this.locale,i=this.t,r=i("Align table to the left"),s=i("Center table"),o=i("Align table to the right");return e.uiLanguageDirection==="rtl"?{right:o,center:s,left:r}:{left:r,center:s,right:o}}}function eb(n){return n!=="none"}var sLe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>';const oLe=500,e7={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class aLe extends L{constructor(e){super(e);g(this,"_defaultTableProperties");g(this,"_balloon");g(this,"view",null);g(this,"_undoStepBatch");g(this,"_isReady");e.config.define("table.tableProperties",{borderColors:Y1,backgroundColors:Y1})}static get requires(){return[Yi]}static get pluginName(){return"TablePropertiesUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t;this._defaultTableProperties=_H(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=e.plugins.get(Yi),e.ui.componentFactory.add("tableProperties",r=>{const s=new Pe(r);s.set({label:i("Table properties"),icon:sLe,tooltip:!0}),this.listenTo(s,"execute",()=>this._showView());const o=Object.values(e7).map(a=>e.commands.get(a));return s.bind("isEnabled").toMany(o,"isEnabled",(...a)=>a.some(l=>l)),s})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,i=e.config.get("table.tableProperties"),r=rp(i.borderColors),s=ip(e.locale,r),o=rp(i.backgroundColors),a=ip(e.locale,o),l=i.colorPicker!==!1,c=new rLe(e.locale,{borderColors:s,backgroundColors:a,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:l?i.colorPicker||{}:!1}),d=e.t;c.render(),this.listenTo(c,"submit",()=>{this._hideView()}),this.listenTo(c,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),c.keystrokes.set("Esc",(b,_)=>{this._hideView(),_()}),Oo({emitter:c,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const h=dH(d),p=fH(d);return c.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),c.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:c.borderColorInput,commandName:"tableBorderColor",errorText:h,validator:K1})),c.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:c.borderWidthInput,commandName:"tableBorderWidth",errorText:p,validator:hH})),c.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:c.backgroundInput,commandName:"tableBackgroundColor",errorText:h,validator:K1})),c.on("change:width",this._getValidatedPropertyChangeCallback({viewField:c.widthInput,commandName:"tableWidth",errorText:p,validator:fm})),c.on("change:height",this._getValidatedPropertyChangeCallback({viewField:c.heightInput,commandName:"tableHeight",errorText:p,validator:fm})),c.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),c}_fillViewFormFromCommandValues(){const e=this.editor.commands,i=e.get("tableBorderStyle");Object.entries(e7).map(([r,s])=>{const o=r,a=this._defaultTableProperties[o]||"";return[o,e.get(s).value||a]}).forEach(([r,s])=>{(r==="borderColor"||r==="borderWidth")&&i.value==="none"||this.view.set(r,s)}),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:bH(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,i=e.editing.view.document;lH(i.selection)?this._isViewVisible&&gH(e,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(i,r,s)=>{this._isReady&&this.editor.execute(e,{value:s,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:i,viewField:r,validator:s,errorText:o}=e,a=mr(()=>{r.errorText=o},oLe);return(l,c,d)=>{a.cancel(),this._isReady&&(s(d)?(this.editor.execute(i,{value:d,batch:this._undoStepBatch}),r.errorText=null):a())}}}class lLe extends L{static get pluginName(){return"TableProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[eLe,aLe]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cLe(n){n.document.registerPostFixer(t=>uLe(t,n))}function uLe(n,t){const e=t.document.differ.getChanges();let i=!1;for(const r of e){if(r.type!="insert")continue;const s=r.position.parent;if(s.is("element","table")||r.name=="table"){const o=r.name=="table"?r.position.nodeAfter:s,a=Array.from(o.getChildren()).filter(c=>c.is("element","caption")),l=a.shift();if(!l)continue;for(const c of a)n.move(n.createRangeIn(c),l,"end"),n.remove(c);l.nextSibling&&(n.move(n.createRangeOn(l),o,"end"),i=!0),i=!!a.length||i}}return i}function t7(n){return!!n&&n.is("element","table")}function PC(n){for(const t of n.getChildren())if(t.is("element","caption"))return t;return null}function dLe(n){const t=Uc(n);return t?PC(t):null}function fLe(n){const t=n.parent;return n.name=="figcaption"&&t&&t.is("element","figure")&&t.hasClass("table")?{name:!0}:n.name=="caption"&&t&&t.is("element","table")?{name:!0}:null}class hLe extends je{refresh(){const t=this.editor,e=Uc(t.model.document.selection);this.isEnabled=!!e,this.isEnabled?this.value=!!PC(e):this.value=!1}execute({focusCaptionOnShow:t=!1}={}){this.editor.model.change(e=>{this.value?this._hideTableCaption(e):this._showTableCaption(e,t)})}_showTableCaption(t,e){const i=this.editor.model,r=Uc(i.document.selection),a=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(r)||t.createElement("caption");i.insertContent(a,r,"end"),e&&t.setSelection(a,"in")}_hideTableCaption(t){const e=this.editor.model,i=Uc(e.document.selection),r=this.editor.plugins.get("TableCaptionEditing"),s=PC(i);r._saveCaption(i,s),e.deleteContent(t.createSelection(s,"on"))}}class mLe extends L{constructor(e){super(e);g(this,"_savedCaptionsMap");this._savedCaptionsMap=new WeakMap}static get pluginName(){return"TableCaptionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.schema,r=e.editing.view,s=e.t;i.isRegistered("caption")?i.extend("caption",{allowIn:"table"}):i.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new hLe(this.editor)),e.conversion.for("upcast").elementToElement({view:fLe,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>t7(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!t7(o.parent))return null;const l=a.createEditableElement("figcaption");return a.setCustomProperty("tableCaption",!0,l),l.placeholder=s("Enter table caption"),sv({view:r,element:l,keepOnFocus:!0}),OT(l,a)}}),cLe(e.model)}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?dn.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}}class pLe extends L{static get pluginName(){return"TableCaptionUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=t.t;t.ui.componentFactory.add("toggleTableCaption",r=>{const s=t.commands.get("toggleTableCaption"),o=new Pe(r);return o.set({icon:se.caption,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.bind("label").to(s,"value",a=>i(a?"Toggle caption off":"Toggle caption on")),this.listenTo(o,"execute",()=>{if(t.execute("toggleTableCaption",{focusCaptionOnShow:!0}),s.value){const a=dLe(t.model.document.selection),l=t.editing.mapper.toViewElement(a);if(!l)return;e.scrollToTheSelection(),e.change(c=>{c.addClass("table__caption_highlighted",l)})}t.editing.view.focus()}),o})}}class gLe extends L{static get pluginName(){return"TableCaption"}static get isOfficialPlugin(){return!0}static get requires(){return[mLe,pLe]}}class bLe extends je{refresh(){this.isEnabled=!0}execute(t={}){const{model:e,plugins:i}=this.editor;let{table:r=e.document.selection.getSelectedElement(),columnWidths:s,tableWidth:o}=t;s&&(s=Array.isArray(s)?s:s.split(",")),e.change(a=>{o?a.setAttribute("tableWidth",o,r):a.removeAttribute("tableWidth",r);const l=i.get("TableColumnResizeEditing").getColumnGroupElement(r);if(!s&&!l)return;if(!s)return a.remove(l);const c=i5(s);if(l)Array.from(l.getChildren()).forEach((d,h)=>a.setAttribute("columnWidth",c[h],d));else{const d=a.createElement("tableColumnGroup");c.forEach(h=>a.appendElement("tableColumn",{columnWidth:h},d)),a.append(d,r)}})}}function wLe(n){return t=>t.on("element:colgroup",(e,i,r)=>{const s=i.modelCursor.findAncestor("table"),o=ng(s);if(!o)return;const a=ig(o),l=n.getColumns(s);let c=FMe(o,r.writer);c=Array.from({length:l},(d,h)=>c[h]||"auto"),(c.length!=a.length||c.includes("auto"))&&rH(a,o,i5(c),r.writer)},{priority:"low"})}function vLe(){return n=>n.on("insert:table",(t,e,i)=>{const r=i.writer,s=e.item,o=i.mapper.toViewElement(s),a=o.is("element","table")?o:Array.from(o.getChildren()).find(c=>c.is("element","table"));ng(s)?r.addClass("ck-table-resized",a):r.removeClass("ck-table-resized",a)},{priority:"low"})}class yLe extends L{constructor(e){super(e);g(this,"_isResizingActive");g(this,"_resizingData");g(this,"_domEmitter");g(this,"_tableUtilsPlugin");this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(Ji()),this._tableUtilsPlugin=e.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(i,r,s)=>{const o=s?"removeClass":"addClass";e.editing.view.change(a=>{for(const l of e.editing.view.document.roots)a[o]("ck-column-resize_disabled",e.editing.view.document.getRoot(l.rootName))})})}static get requires(){return[rg,fi]}static get pluginName(){return"TableColumnResizeEditing"}static get isOfficialPlugin(){return!0}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const e=this.editor,i=e.plugins.get("TableColumnResize");e.plugins.get("TableEditing").registerAdditionalSlot({filter:o=>o.is("element","tableColumnGroup"),positionOffset:0});const s=new bLe(e);e.commands.add("resizeTableWidth",s),e.commands.add("resizeColumnWidths",s),this.bind("_isResizingAllowed").to(e,"isReadOnly",i,"isEnabled",s,"isEnabled",(o,a,l)=>!o&&a&&l)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(e){return ng(e)}getTableColumnElements(e){return ig(e)}getTableColumnsWidths(e){return VMe(e)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const i=this.editor.model;i.document.registerPostFixer(o=>{let a=!1;for(const l of PMe(i)){const c=this.getColumnGroupElement(l),d=this.getTableColumnElements(c),h=this.getTableColumnsWidths(c);let p=i5(h);p=r(p,l,this),!nf(h,p)&&(rH(d,c,p,o),a=!0)}return a});function r(o,a,l){const c=l._tableUtilsPlugin.getColumns(a);if(c-o.length===0)return o;const h=o.map(b=>Number(b.replace("%",""))),p=s(l.editor.model.document.differ,a);for(const b of p){const _=c-h.length;if(_===0)continue;const x=_>0,C=l._tableUtilsPlugin.getCellLocation(b).column;if(x){const S=RMe(a,l.editor),T=MMe(_,S);h.splice(C,0,...T)}else{const S=h.splice(C,Math.abs(_));h[C]+=dp(S)}}return h.map(b=>b+"%")}function s(o,a){const l=new Set;for(const c of o.getChanges())if(c.type=="insert"&&c.position.nodeAfter&&c.position.nodeAfter.name=="tableCell"&&c.position.nodeAfter.getAncestors().includes(a))l.add(c.position.nodeAfter);else if(c.type=="remove"){const d=c.position.nodeBefore||c.position.nodeAfter;d.name=="tableCell"&&d.getAncestors().includes(a)&&l.add(d)}return l}}_registerConverters(){const i=this.editor.conversion;i.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:r=>r.getStyle("width")}}),i.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:r=>({name:"figure",key:"style",value:{width:r}})}),i.elementToElement({model:"tableColumnGroup",view:"colgroup"}),i.elementToElement({model:"tableColumn",view:"col"}),i.for("downcast").add(vLe()),i.for("upcast").add(wLe(this._tableUtilsPlugin)),i.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:r=>{const s=r.getStyle("width");return!s||!s.endsWith("%")&&!s.endsWith("pt")?"auto":s}}}),i.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),i.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:r=>({key:"style",value:{width:r}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(aH),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(_e.window.document,"mousemove",au(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(_e.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(e,i){const r=i.target;if(!r.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const s=this.editor,o=s.editing.mapper.toModelElement(r.findAncestor("figure"));if(!s.model.canEditAt(o))return;i.preventDefault(),e.stop();const a=d(o,this._tableUtilsPlugin,s),l=r.findAncestor("table"),c=s.editing.view;Array.from(l.getChildren()).find(b=>b.is("element","colgroup"))||c.change(b=>{h(b,a,l)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(i,a),c.change(b=>p(b,l,this._resizingData));function d(b,_,x){const C=Array(_.getColumns(b)),S=new Ft(b);for(const T of S){const A=x.editing.mapper.toViewElement(T.cell),P=x.editing.view.domConverter.mapViewToDom(A),O=LMe(P);(!C[T.column]||O<C[T.column])&&(C[T.column]=cr(O))}return C}function h(b,_,x){const C=b.createContainerElement("colgroup");for(let S=0;S<_.length;S++){const T=b.createEmptyElement("col"),A=`${cr(_[S]/dp(_)*100)}%`;b.setStyle("width",A,T),b.insert(b.createPositionAt(C,"end"),T)}b.insert(b.createPositionAt(x,0),C)}function p(b,_,x){const C=x.widths.viewFigureWidth/x.widths.viewFigureParentWidth;b.addClass("ck-table-resized",_),b.addClass("ck-table-column-resizer__active",x.elements.viewResizer),b.setStyle("width",`${cr(C*100)}%`,_.findAncestor("figure"))}}_onMouseMoveHandler(e,i){if(!this._isResizingActive)return;if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:r,flags:{isRightEdge:s,isTableCentered:o,isLtrContent:a},elements:{viewFigure:l,viewLeftColumn:c,viewRightColumn:d},widths:{viewFigureParentWidth:h,tableWidth:p,leftColumnWidth:b,rightColumnWidth:_}}=this._resizingData,x=-b+kC,C=s?h-p:_-kC,S=(a?1:-1)*(s&&o?2:1),T=NMe((i.clientX-r)*S,Math.min(x,0),Math.max(C,0));T!==0&&this.editor.editing.view.change(A=>{const P=cr((b+T)*100/p);if(A.setStyle("width",`${P}%`,c),s){const O=cr((p+T)*100/h);A.setStyle("width",`${O}%`,l)}else{const O=cr((_-T)*100/p);A.setStyle("width",`${O}%`,d)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:e,modelTable:i,viewFigure:r,viewColgroup:s}=this._resizingData.elements,o=this.editor,a=o.editing.view,l=this.getColumnGroupElement(i),c=Array.from(s.getChildren()).filter(C=>C.is("view:element")),d=l?this.getTableColumnsWidths(l):null,h=c.map(C=>C.getStyle("width")),p=!nf(d,h),b=i.getAttribute("tableWidth"),_=r.getStyle("width"),x=b!==_;(p||x)&&(this._isResizingAllowed?o.execute("resizeTableWidth",{table:i,tableWidth:`${cr(_)}%`,columnWidths:h}):a.change(C=>{if(d)for(const S of c)C.setStyle("width",d.shift(),S);else C.remove(s);x&&(b?C.setStyle("width",b,r):C.removeStyle("width",r)),!d&&!b&&C.removeClass("ck-table-resized",[...r.getChildren()].find(S=>S.name==="table"))})),a.change(C=>{C.removeClass("ck-table-column-resizer__active",e)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(e,i){const r=this.editor,s=e.domEvent.clientX,o=e.target,a=o.findAncestor("td")||o.findAncestor("th"),l=r.editing.mapper.toModelElement(a),c=l.findAncestor("table"),d=OMe(l,this._tableUtilsPlugin).rightEdge,h=this._tableUtilsPlugin.getColumns(c)-1,p=d===h,b=!c.hasAttribute("tableAlignment"),_=r.locale.contentLanguageDirection!=="rtl",x=a.findAncestor("table"),C=x.findAncestor("figure"),S=[...x.getChildren()].find($=>$.is("element","colgroup")),T=S.getChild(d),A=p?void 0:S.getChild(d+1),P=CC(r.editing.view.domConverter.mapViewToDom(C.parent)),O=CC(r.editing.view.domConverter.mapViewToDom(C)),D=iH(c,r),R=i[d],j=p?void 0:i[d+1];return{columnPosition:s,flags:{isRightEdge:p,isTableCentered:b,isLtrContent:_},elements:{viewResizer:o,modelTable:c,viewFigure:C,viewColgroup:S,viewLeftColumn:T,viewRightColumn:A},widths:{viewFigureParentWidth:P,viewFigureWidth:O,tableWidth:D,leftColumnWidth:R,rightColumnWidth:j}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(e=>{e.on("insert:tableCell",(i,r,s)=>{const o=r.item,a=s.mapper.toViewElement(o),l=s.writer;l.insert(l.createPositionAt(a,"end"),l.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}class _Le extends L{static get requires(){return[yLe,xH]}static get pluginName(){return"TableColumnResize"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function kH(n){if(n.is("$text")||n.is("$textProxy"))return n.data;const t=n;let e="",i=null;for(const r of t.getChildren()){const s=kH(r);i&&i.is("element")&&(e+=`
`),e+=s,i=r}return e}class xLe extends L{constructor(e){super(e);g(this,"_config");g(this,"_outputView");g(this,"_wordsMatchRegExp");this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=e.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=qe.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}static get isOfficialPlugin(){return!0}init(){this.editor.model.document.on("change:data",au(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(i,r)=>{this._config.onUpdate(r)}),Ta(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const e=this.editor,i=e.t,r=e.config.get("wordCount.displayWords"),s=e.config.get("wordCount.displayCharacters"),o=Wi.bind(this,this),a=[];return this._outputView||(this._outputView=new de,(r||r===void 0)&&(this.bind("_wordsLabel").to(this,"words",l=>i("Words: %0",l)),a.push({tag:"div",children:[{text:[o.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(s||s===void 0)&&(this.bind("_charactersLabel").to(this,"characters",l=>i("Characters: %0",l)),a.push({tag:"div",children:[{text:[o.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:a}),this._outputView.render()),this._outputView.element}_getText(){let e="";for(const i of this.editor.model.document.getRoots())e!==""&&(e+=`
`),e+=kH(i);return e}_getCharacters(e){return e.replace(/\n/g,"").length}_getWords(e){return(e.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const e=this._getText(),i=this.words=this._getWords(e),r=this.characters=this._getCharacters(e);this.fire("update",{words:i,characters:r})}}const kLe="GPL";function CH({props:n}){const t=y.useRef(null),e=y.useRef(null),i=y.useRef(null),[r,s]=y.useState(!1);y.useEffect(()=>(s(!0),()=>s(!1)),[]);const{editorConfig:o}=y.useMemo(()=>r?{editorConfig:{toolbar:{items:["sourceEditing","showBlocks","findAndReplace","textPartLanguage","|","heading","style","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","subscript","superscript","code","removeFormat","|","specialCharacters","horizontalLine","pageBreak","link","bookmark","insertImage","mediaEmbed","insertTable","highlight","blockQuote","codeBlock","htmlEmbed","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[x5e,$5e,O4e,U5e,s5e,S3e,l5e,q5e,xAe,zAe,J5e,nIe,vIe,OIe,lPe,iPe,$Ie,XIe,E4e,_4e,pPe,TPe,MPe,k4e,jPe,$4e,K4e,H4e,m6e,q$,E6e,L6e,UT,V6e,W$,z6e,U6e,t3e,CRe,RRe,n8e,_8e,NOe,YOe,b7e,E7e,F1,DOe,pNe,yNe,ENe,nSe,RNe,jNe,UU,GU,zNe,qU,WU,HU,s3e,rMe,c3e,h3e,xDe,gLe,HDe,_Le,lLe,kDe,K6e,D5e,gPe,O8e,b3e,xLe],balloonToolbar:["bold","italic","|","link","insertImage","|","bulletedList","numberedList"],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","|","bulletedList","numberedList","outdent","indent"],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},htmlSupport:{allow:[{name:/^.*$/,styles:!0,attributes:!0,classes:!0}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:(n==null?void 0:n.initialData)||"",licenseKey:kLe,link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},mention:{feeds:[{marker:"@",feed:[]}]},placeholder:"Type or paste your content here!",style:{definitions:[{name:"Article category",element:"h3",classes:["category"]},{name:"Title",element:"h2",classes:["document-title"]},{name:"Subtitle",element:"h3",classes:["document-subtitle"]},{name:"Info box",element:"p",classes:["info-box"]},{name:"Side quote",element:"blockquote",classes:["side-quote"]},{name:"Marker",element:"span",classes:["marker"]},{name:"Spoiler",element:"span",classes:["spoiler"]},{name:"Code (dark)",element:"pre",classes:["fancy-code","fancy-code-dark"]},{name:"Code (bright)",element:"pre",classes:["fancy-code","fancy-code-bright"]}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}}}:{},[r]);return v.jsx("div",{className:"main-container",children:v.jsxs("div",{className:"editor-container editor-container_classic-editor editor-container_include-style editor-container_include-block-toolbar editor-container_include-word-count",ref:t,children:[v.jsx("div",{className:"editor-container__editor",children:v.jsx("div",{ref:e,children:o&&v.jsx(zS,{onChange:n.onChange,onReady:a=>{const l=a.plugins.get("WordCount");i.current.appendChild(l.wordCountContainer)},onAfterDestroy:()=>{Array.from(i.current.children).forEach(a=>a.remove())},editor:sIe,config:o})})}),v.jsx("div",{className:"editor_container__word-count",ref:i})]})})}const CLe=()=>{const n=So(),t=Io(b=>b.user),{data:e}=mi("http://localhost:3000/api/category/allcategory",{method:"get",credentials:"include"}),[i,r]=y.useState(),[s,o]=y.useState(),a=Bt.object({category:Bt.string().min(3,"Category must be at least 3 character long."),title:Bt.string().min(3,"Title must be at least 3 character long."),slug:Bt.string().min(3,"Slug must be at least 3 character long."),blogContent:Bt.string().min(3,"Blog content must be at least 3 character long.")}),l=ql({resolver:Kl(a),defaultValues:{category:"",title:"",slug:"",blogContent:""}}),c=(b,_)=>{const x=_.getData();l.setValue("blogContent",x)},d=l.watch("title");y.useEffect(()=>{if(d){const b=Ww(d,{lower:!0});l.setValue("slug",b)}},[d]);async function h(b){try{const _={...b,author:t.user._id};s||dt("error","Feature image required.");const x=new FormData;x.append("file",s),x.append("data",JSON.stringify(_));const C=await fetch("http://localhost:3000/api/blog/add",{method:"post",credentials:"include",headers:{Content_Type:"multipart/form-data"},body:x}),S=await C.json();if(!C.ok)return dt("error",S.message);l.reset(),o(),r(),n(pw),dt("success",S.message)}catch(_){dt("error",_.message)}}const p=b=>{const _=b[0],x=URL.createObjectURL(_);o(_),r(x)};return v.jsx("div",{children:v.jsx(Lr,{className:"pt-5",children:v.jsxs(zs,{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Blog"}),v.jsx(Gl,{...l,children:v.jsxs("form",{onSubmit:l.handleSubmit(h),children:[v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:l.control,name:"category",render:({field:b})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Category"}),v.jsx(mn,{children:v.jsxs(BF,{onValueChange:b.onChange,defaultValue:b.value,children:[v.jsx(FS,{children:v.jsx(jF,{placeholder:"Select"})}),v.jsx(BS,{children:e&&e.category.length>0&&e.category.map(_=>v.jsx(jS,{value:_._id,children:_.name},_._id))})]})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:l.control,name:"title",render:({field:b})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Title"}),v.jsx(mn,{children:v.jsx(Gn,{placeholder:"Enter blog title",...b})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:l.control,name:"slug",render:({field:b})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Slug"}),v.jsx(mn,{children:v.jsx(Gn,{placeholder:"Slug",...b})}),v.jsx(pn,{})]})})}),v.jsxs("div",{className:"mb-3",children:[v.jsx("span",{className:"mb-2 block",children:"Featured Image"}),v.jsx(Cf,{onDrop:b=>p(b),children:({getRootProps:b,getInputProps:_})=>v.jsxs("div",{...b(),children:[v.jsx("input",{..._()}),v.jsx("div",{className:"flex justify-center items-center w-36 h-28 border-2 border-dashed rounded",children:v.jsx("img",{src:i})})]})})]}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:l.control,name:"blogContent",render:({field:b})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Blog Content"}),v.jsx(mn,{children:v.jsx(CH,{props:{initialData:"",onChange:c}})}),v.jsx(pn,{})]})})}),v.jsx(Bn,{type:"submit",className:"w-full",children:"Submit"})]})})]})})})},ELe=()=>{const[n,t]=y.useState(!1),{data:e,loading:i}=mi("http://localhost:3000/api/blog/getall",{method:"get",credentials:"include"},[n]),r=s=>{qw(`http://localhost:3000/api/blog/delete/${s}`)?(t(!n),dt("success","Data deleted.")):dt("error","Data not deleted.")};return console.log(e),i?v.jsx(js,{}):v.jsx("div",{children:v.jsxs(Lr,{children:[v.jsx(WE,{children:v.jsx("div",{children:v.jsx(Bn,{children:v.jsx(Pn,{to:xE,children:"Add Blog"})})})}),v.jsx(zs,{children:v.jsxs(Dp,{children:[v.jsx(Lp,{children:v.jsxs(Rr,{children:[v.jsx(Vn,{children:"Author"}),v.jsx(Vn,{children:"Category Name"}),v.jsx(Vn,{children:"Title"}),v.jsx(Vn,{children:"Slug"}),v.jsx(Vn,{children:"Dated"}),v.jsx(Vn,{children:"Action"})]})}),v.jsx(Vp,{children:e&&e.blog.length>0?e.blog.map(s=>{var o,a;return v.jsxs(Rr,{children:[v.jsx(on,{children:(o=s==null?void 0:s.author)==null?void 0:o.name}),v.jsx(on,{children:(a=s==null?void 0:s.category)==null?void 0:a.name}),v.jsx(on,{children:s==null?void 0:s.title}),v.jsx(on,{children:s==null?void 0:s.slug}),v.jsx(on,{children:Ce(s==null?void 0:s.createdAt).format("DD-MM-YYYY")}),v.jsxs(on,{className:"flex gap-3",children:[v.jsx(Bn,{variant:"outline",className:"hover:bg-violet-500",aschild:!0,children:v.jsx(Pn,{to:fM(s._id),children:v.jsx(BV,{})})}),v.jsx(Bn,{onClick:()=>r(s._id),variant:"outline",className:"hover:bg-violet-500",children:v.jsx(mw,{})})]})]},s._id)}):v.jsx(Rr,{children:v.jsx(on,{colspan:"3",children:"Data not found"})})})]})})]})})},SLe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(n=>n.charCodeAt(0))),TLe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(n=>n.charCodeAt(0)));var c2;const ALe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),ILe=(c2=String.fromCodePoint)!==null&&c2!==void 0?c2:function(n){let t="";return n>65535&&(n-=65536,t+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),t+=String.fromCharCode(n),t};function PLe(n){var t;return n>=55296&&n<=57343||n>1114111?65533:(t=ALe.get(n))!==null&&t!==void 0?t:n}var hi;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(hi||(hi={}));const RLe=32;var Il;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(Il||(Il={}));function RC(n){return n>=hi.ZERO&&n<=hi.NINE}function OLe(n){return n>=hi.UPPER_A&&n<=hi.UPPER_F||n>=hi.LOWER_A&&n<=hi.LOWER_F}function NLe(n){return n>=hi.UPPER_A&&n<=hi.UPPER_Z||n>=hi.LOWER_A&&n<=hi.LOWER_Z||RC(n)}function MLe(n){return n===hi.EQUALS||NLe(n)}var li;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(li||(li={}));var ra;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(ra||(ra={}));class DLe{constructor(t,e,i){this.decodeTree=t,this.emitCodePoint=e,this.errors=i,this.state=li.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ra.Strict}startEntity(t){this.decodeMode=t,this.state=li.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case li.EntityStart:return t.charCodeAt(e)===hi.NUM?(this.state=li.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=li.NamedEntity,this.stateNamedEntity(t,e));case li.NumericStart:return this.stateNumericStart(t,e);case li.NumericDecimal:return this.stateNumericDecimal(t,e);case li.NumericHex:return this.stateNumericHex(t,e);case li.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(t.charCodeAt(e)|RLe)===hi.LOWER_X?(this.state=li.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=li.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,i,r){if(e!==i){const s=i-e;this.result=this.result*Math.pow(r,s)+Number.parseInt(t.substr(e,s),r),this.consumed+=s}}stateNumericHex(t,e){const i=e;for(;e<t.length;){const r=t.charCodeAt(e);if(RC(r)||OLe(r))e+=1;else return this.addToNumericResult(t,i,e,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(t,i,e,16),-1}stateNumericDecimal(t,e){const i=e;for(;e<t.length;){const r=t.charCodeAt(e);if(RC(r))e+=1;else return this.addToNumericResult(t,i,e,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(t,i,e,10),-1}emitNumericEntity(t,e){var i;if(this.consumed<=e)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===hi.SEMI)this.consumed+=1;else if(this.decodeMode===ra.Strict)return 0;return this.emitCodePoint(PLe(this.result),this.consumed),this.errors&&(t!==hi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:i}=this;let r=i[this.treeIndex],s=(r&Il.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=LLe(i,r,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===ra.Attribute&&(s===0||MLe(o))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],s=(r&Il.VALUE_LENGTH)>>14,s!==0){if(o===hi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ra.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:i}=this,r=(i[e]&Il.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,r,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,i){const{decodeTree:r}=this;return this.emitCodePoint(e===1?r[t]&~Il.VALUE_LENGTH:r[t+1],i),e===3&&this.emitCodePoint(r[t+2],i),i}end(){var t;switch(this.state){case li.NamedEntity:return this.result!==0&&(this.decodeMode!==ra.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case li.NumericDecimal:return this.emitNumericEntity(0,2);case li.NumericHex:return this.emitNumericEntity(0,3);case li.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case li.EntityStart:return 0}}}function EH(n){let t="";const e=new DLe(n,i=>t+=ILe(i));return function(r,s){let o=0,a=0;for(;(a=r.indexOf("&",a))>=0;){t+=r.slice(o,a),e.startEntity(s);const c=e.write(r,a+1);if(c<0){o=a+e.end();break}o=a+c,a=c===0?o+1:o}const l=t+r.slice(o);return t="",l}}function LLe(n,t,e,i){const r=(t&Il.BRANCH_LENGTH)>>7,s=t&Il.JUMP_TABLE;if(r===0)return s!==0&&i===s?e:-1;if(s){const l=i-s;return l<0||l>=r?-1:n[e+l]-1}let o=e,a=o+r-1;for(;o<=a;){const l=o+a>>>1,c=n[l];if(c<i)o=l+1;else if(c>i)a=l-1;else return n[l+r]}return-1}const VLe=EH(SLe),FLe=EH(TLe);function BLe(n,t=ra.Legacy){return VLe(n,t)}function jLe(n){return FLe(n,ra.Strict)}var J1;(function(n){n[n.XML=0]="XML",n[n.HTML=1]="HTML"})(J1||(J1={}));var n7;(function(n){n[n.UTF8=0]="UTF8",n[n.ASCII=1]="ASCII",n[n.Extensive=2]="Extensive",n[n.Attribute=3]="Attribute",n[n.Text=4]="Text"})(n7||(n7={}));function SH(n,t=J1.XML){if((typeof t=="number"?t:t.level)===J1.HTML){const i=typeof t=="object"?t.mode:void 0;return BLe(n,i)}return jLe(n)}const zLe=()=>{const{blogid:n}=rw(),t=So();Io(x=>x.user);const{data:e}=mi("http://localhost:3000/api/category/allcategory",{method:"get",credentials:"include"}),{data:i,loading:r}=mi(`http://localhost:3000/api/blog/edit/${n}`,{method:"get",credentials:"include"},[n]),[s,o]=y.useState(),[a,l]=y.useState(),c=Bt.object({category:Bt.string().min(3,"Category must be at least 3 character long."),title:Bt.string().min(3,"Title must be at least 3 character long."),slug:Bt.string().min(3,"Slug must be at least 3 character long."),blogContent:Bt.string().min(3,"Blog content must be at least 3 character long.")}),d=ql({resolver:Kl(c),defaultValues:{category:"",title:"",slug:"",blogContent:""}});y.useEffect(()=>{i&&(o(i.blog.featuredImage),d.setValue("category",i.blog.category._id),d.setValue("title",i.blog.title),d.setValue("slug",i.blog.title),d.setValue("slug",i.blog.slug),d.setValue("blogContent",SH(i.blog.blogContent)))},[i]);const h=(x,C)=>{const S=C.getData();d.setValue("blogContent",S)},p=d.watch("title");y.useEffect(()=>{if(p){const x=Ww(p,{lower:!0});d.setValue("slug",x)}},[p]);async function b(x){try{const C=new FormData;C.append("file",a),C.append("data",JSON.stringify(x));const S=await fetch(`http://localhost:3000/api/blog/update/${n}`,{method:"put",credentials:"include",headers:{Content_Type:"multipart/form-data"},body:C}),T=await S.json();if(!S.ok)return dt("error",T.message);d.reset(),l(),o(),t(pw),dt("success",T.message)}catch(C){dt("error",C.message)}}const _=x=>{const C=x[0],S=URL.createObjectURL(C);l(C),o(S)};return r?v.jsx(js,{}):v.jsx("div",{children:v.jsx(Lr,{className:"pt-5",children:v.jsxs(zs,{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Blog"}),v.jsx(Gl,{...d,children:v.jsxs("form",{onSubmit:d.handleSubmit(b),children:[v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:d.control,name:"category",render:({field:x})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Category"}),v.jsx(mn,{children:v.jsxs(BF,{onValueChange:x.onChange,value:x.value,children:[v.jsx(FS,{children:v.jsx(jF,{placeholder:"Select"})}),v.jsx(BS,{children:e&&e.category.length>0&&e.category.map(C=>v.jsx(jS,{value:C._id,children:C.name},C._id))})]})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:d.control,name:"title",render:({field:x})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Title"}),v.jsx(mn,{children:v.jsx(Gn,{placeholder:"Enter blog title",...x})}),v.jsx(pn,{})]})})}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:d.control,name:"slug",render:({field:x})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Slug"}),v.jsx(mn,{children:v.jsx(Gn,{placeholder:"Slug",...x})}),v.jsx(pn,{})]})})}),v.jsxs("div",{className:"mb-3",children:[v.jsx("span",{className:"mb-2 block",children:"Featured Image"}),v.jsx(Cf,{onDrop:x=>_(x),children:({getRootProps:x,getInputProps:C})=>v.jsxs("div",{...x(),children:[v.jsx("input",{...C()}),v.jsx("div",{className:"flex justify-center items-center w-36 h-28 border-2 border-dashed rounded",children:v.jsx("img",{src:s})})]})})]}),v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:d.control,name:"blogContent",render:({field:x})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Blog Content"}),v.jsx(mn,{children:v.jsx(CH,{props:{initialData:x.value,onChange:h}})}),v.jsx(pn,{})]})})}),v.jsx(Bn,{type:"submit",className:"w-full",children:"Submit"})]})})]})})})},$Le=({props:n})=>{var r,s,o;const t=Io(a=>a.user),{data:e,loading:i}=mi(`http://localhost:3000/api/comment/get/${n.blogid}`,{method:"get",credentials:"include"});return i?v.jsx(js,{}):v.jsxs("div",{children:[v.jsxs("h4",{className:"text-2xl font-bold",children:[n.newComment?v.jsx("span",{className:"me-2",children:e&&e.comments.length+1}):v.jsx("span",{className:"me-2",children:e&&e.comments.length}),"Comments"]}),v.jsxs("div",{className:"mt-5",children:[n.newComment&&v.jsxs("div",{className:"flex gap-2 mb-3",children:[v.jsx(Yc,{children:v.jsx(Zc,{src:((r=t==null?void 0:t.user)==null?void 0:r.avatar)||vm})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold",children:t==null?void 0:t.user.name}),v.jsx("p",{children:Ce((s=n.newComment)==null?void 0:s.createdAt).format("DD-MM-YYYY")}),v.jsx("div",{className:"pt-4",children:(o=n.newComment)==null?void 0:o.comment})]})]}),e&&e.comments.length>0&&e.comments.map(a=>{var l,c;return v.jsxs("div",{className:"flex gap-2 mb-3",children:[v.jsx(Yc,{children:v.jsx(Zc,{src:((l=a==null?void 0:a.user)==null?void 0:l.avatar)||vm})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold",children:(c=a==null?void 0:a.user)==null?void 0:c.name}),v.jsx("p",{children:Ce(a==null?void 0:a.createdAt).format("DD-MM-YYYY")}),v.jsx("div",{className:"pt-5",children:a==null?void 0:a.comment})]})]},a._id)})]})]})},ULe=({props:n})=>{const[t,e]=y.useState(),i=Io(a=>a.user),r=Bt.object({comment:Bt.string().min(3,"Comment must be at least 3 character long")}),s=ql({resolver:Kl(r),defaultValues:{comment:""}});async function o(a){try{const l={...a,blogid:n.blogid,user:i.user._id},c=await fetch("http://localhost:3000/api/comment/add",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(l)}),d=await c.json();if(!c.ok)return dt("error",d.message);e(d.comment),s.reset(),dt("success",d.message)}catch(l){dt("error",l.message)}}return v.jsxs("div",{children:[v.jsxs("h4",{className:"flex items-center gap-2 text-2xl font-bold",children:[v.jsx(oM,{className:"text-violet-500"})," Comment"]}),i&&i.isLoggedIn?v.jsx(Gl,{...s,children:v.jsxs("form",{onSubmit:s.handleSubmit(o),children:[v.jsx("div",{className:"mb-3",children:v.jsx(kn,{control:s.control,name:"comment",render:({field:a})=>v.jsxs(fn,{children:[v.jsx(hn,{children:"Comment"}),v.jsx(mn,{children:v.jsx(NS,{placeholder:"Type your comment...",...a})}),v.jsx(pn,{})]})})}),v.jsx(Bn,{type:"submit",className:"",children:"Save"})]})}):v.jsx(Bn,{asChild:!0,children:v.jsx(Pn,{to:Kc,children:"sign In"})}),v.jsx("div",{children:v.jsx($Le,{props:{blogid:n.blogid,newComment:t}})})]})},HLe=({props:n})=>{const{data:t}=mi(`http://localhost:3000/api/comment/getcount/${n.blogid}`,{method:"get",credentials:"include"});return v.jsxs("button",{type:"button",className:"flex justify-between items-center gap-1",children:[v.jsx(XX,{}),t&&t.commentCount]})};function WLe(n){return Un({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Heart"},child:[{tag:"path",attr:{d:"M12,20.043a.977.977,0,0,1-.7-.288L4.63,13.08A5.343,5.343,0,0,1,6.053,4.513,5.266,5.266,0,0,1,12,5.371a5.272,5.272,0,0,1,5.947-.858A5.343,5.343,0,0,1,19.37,13.08l-6.676,6.675A.977.977,0,0,1,12,20.043ZM8.355,4.963A4.015,4.015,0,0,0,6.511,5.4,4.4,4.4,0,0,0,4.122,8.643a4.345,4.345,0,0,0,1.215,3.73l6.675,6.675,6.651-6.675a4.345,4.345,0,0,0,1.215-3.73A4.4,4.4,0,0,0,17.489,5.4a4.338,4.338,0,0,0-4.968.852h0a.744.744,0,0,1-1.042,0A4.474,4.474,0,0,0,8.355,4.963Z"},child:[]}]}]})(n)}const qLe=({props:n})=>{const[t,e]=y.useState(0),[i,r]=y.useState(!1),s=Io(l=>l.user),{data:o}=mi(`http://localhost:3000/api/blog-like/getlike/${n.blogid}/${s&&s.isLoggedIn?s.user._id:""}`,{method:"get",credentials:"include"});y.useEffect(()=>{o&&(e(o.likecount),r(o.isUserliked))},[o]);const a=async()=>{try{if(!s.isLoggedIn)return dt("error","Please login into your account");const l=await fetch("http://localhost:3000/api/blog-like/dolike/",{method:"post",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({user:s.user._id,blogid:n.blogid})});l.ok||dt("error",l.statusText);const c=await l.json();e(c.likecount),r(!i)}catch(l){dt("error",l.message)}};return v.jsxs("button",{onClick:a,type:"button",className:"flex justify-between items-center gap-1",children:[i?v.jsx(EQ,{color:"red"}):v.jsx(WLe,{}),t]})},GLe=({props:n})=>{const{data:t,loading:e}=mi(`http://localhost:3000/api/blog/getrelatedblog/${n.category}/${n.currentBlog}`,{method:"get",credentials:"include"});return e?v.jsx(js,{}):v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Related Blogs"}),v.jsx("div",{children:t&&t.relatedBlog.length>0?t.relatedBlog.map(i=>v.jsx(Pn,{to:kE(n.category,i.slug),children:v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx("img",{className:"w-[100px] h-[70px] object-cover rounded-md",src:i.featuredImage}),v.jsxs("h4",{className:"line-clamp-2 text-lg font-semibold",children:[i.title," "]})]})},i._id)):v.jsx("div",{children:"No Realated Blog"})})]})},KLe=()=>{const{blog:n,category:t}=rw(),{data:e,loading:i}=mi(`http://localhost:3000/api/blog/getblog/${n}`,{method:"get",credentials:"include"},[n,t]);return i?v.jsx(js,{}):v.jsxs("div",{className:"md:flex-nowrap flex-wrap flex justify-between gap-20",children:[e&&e.blog&&v.jsx(v.Fragment,{children:v.jsxs("div",{className:"border rounded md:w-[70%] w-full p-5",children:[v.jsxs("h1",{className:"text-2xl font-bold mb-5",children:[e.blog.title," "]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex justify-between items-center gap-5",children:[v.jsx(Yc,{children:v.jsx(Zc,{src:e.blog.author.avatar||vm})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold",children:e.blog.author.name}),v.jsxs("p",{children:[" Date: ",Ce(e.blog.createdAt).format("DD-MM-YYYY")]})]})]}),v.jsxs("div",{className:"flex justify-between items-center gap-5",children:[v.jsx(qLe,{props:{blogid:e.blog._id}}),v.jsx(HLe,{props:{blogid:e.blog._id}})]})]}),v.jsx("div",{className:"my-5",children:v.jsx("img",{src:e.blog.featuredImage,className:"rounded"})}),v.jsx("div",{dangerouslySetInnerHTML:{__html:SH(e.blog.blogContent)||""}}),v.jsx("div",{className:"border-t mt-5 pt-5",children:v.jsx(ULe,{props:{blogid:e.blog._id}})})]})}),v.jsx("div",{className:"border rounded md:w-[30%] w-full p-5",children:v.jsx(GLe,{props:{category:t,currentBlog:n}})})]})},YLe=()=>{var i;const{category:n}=rw(),{data:t,loading:e}=mi(`http://localhost:3000/api/blog/get-blog-by-category/${n}`,{method:"get",credentials:"include"},[n]);return console.log(t),e?v.jsx(js,{}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-3 text-2xl font-bold text-violet-500 border-b pb-3 mb-5",children:[v.jsx(YX,{}),v.jsxs("h4",{children:[" ",t&&((i=t.categoryData)==null?void 0:i.name)," "]})]}),v.jsx("div",{className:"grid md:grid-cols-3 sm:grid-cols grid-cols-1 gap-10",children:t&&t.blog.length>0?t.blog.map(r=>v.jsx(mS,{props:r},r._id)):v.jsx("div",{children:"Data Not Found."})})]})},ZLe=()=>{const[n]=QK(),t=n.get("q"),{data:e}=mi(`http://localhost:3000/api/blog/search?q=${t}`,{method:"get",credentials:"include"});return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"flex items-center gap-3 text-2xl font-bold text-violet-500 border-b pb-3 mb-5",children:v.jsxs("h4",{children:["Search Result For: ",t,"  "]})}),v.jsx("div",{className:"grid md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-10",children:e&&e.blog.length>0?e.blog.map(i=>v.jsx(mS,{props:i},i._id)):v.jsx("div",{children:"Data Not Found."})})]})},JLe=()=>{const[n,t]=y.useState(!1),{data:e,loading:i}=mi("http://localhost:3000/api/comment/get-all-comment",{method:"get",credentials:"include"},[n]),r=async s=>{await qw(`${tQ("VITE_API_BASE_URL")}/comment/delete/${s}`)?(t(!n),dt("success","Data deleted.")):dt("error","Data not deleted.")};return i?v.jsx(js,{}):v.jsx("div",{children:v.jsx(Lr,{children:v.jsx(zs,{children:v.jsxs(Dp,{children:[v.jsx(Lp,{children:v.jsxs(Rr,{children:[v.jsx(Vn,{children:"Blog"}),v.jsx(Vn,{children:"Comment By"}),v.jsx(Vn,{children:"Date"}),v.jsx(Vn,{children:"Comment "}),v.jsx(Vn,{children:"Action"})]})}),v.jsx(Vp,{children:e&&e.comments.length>0?e.comments.map(s=>{var o,a;return v.jsxs(Rr,{children:[v.jsx(on,{children:(o=s==null?void 0:s.blogid)==null?void 0:o.title}),v.jsx(on,{children:(a=s==null?void 0:s.user)==null?void 0:a.name}),v.jsx(on,{children:Ce(s==null?void 0:s.createdAt).format("DD-MM-YYYY")}),v.jsx(on,{children:s==null?void 0:s.comment}),v.jsx(on,{className:"flex gap-3",children:v.jsx(Bn,{onClick:()=>r(s._id),variant:"outline",className:"hover:bg-violet-500",children:v.jsx(mw,{})})})]},s._id)}):v.jsx(Rr,{children:v.jsx(on,{colspan:"3",children:"Data not found"})})})]})})})})},XLe=()=>{const[n,t]=y.useState(!1),{data:e,loading:i}=mi("http://localhost:3000/user/get-all-user",{method:"get",credentials:"include"},[n]),r=async s=>{await qw(`http://localhost:3000/api/user/delete/${s}`)?(t(!n),dt("success","Data deleted.")):dt("error","Data not deleted.")};return i?v.jsx(js,{}):v.jsx("div",{children:v.jsx(Lr,{children:v.jsx(zs,{children:v.jsxs(Dp,{children:[v.jsx(Lp,{children:v.jsxs(Rr,{children:[v.jsx(Vn,{children:"Role"}),v.jsx(Vn,{children:"Name"}),v.jsx(Vn,{children:"Email"}),v.jsx(Vn,{children:"Avatar "}),v.jsx(Vn,{children:"Date"}),v.jsx(Vn,{children:"Action"})]})}),v.jsx(Vp,{children:e&&e.user.length>0?e.user.map(s=>v.jsxs(Rr,{children:[v.jsx(on,{children:s.role}),v.jsx(on,{children:s.name}),v.jsx(on,{children:s.email}),v.jsx(on,{children:v.jsx("img",{src:s.avatar,className:"w-10"})}),v.jsx(on,{children:Ce(s.createdAt).format("DD-MM-YYYY")}),v.jsx(on,{className:"flex gap-3",children:v.jsx(Bn,{onClick:()=>r(s._id),variant:"outline",className:"hover:bg-violet-500",children:v.jsx(mw,{})})})]},s._id)):v.jsx(Rr,{children:v.jsx(on,{colspan:"3",children:"Data not found"})})})]})})})})},QLe=()=>{const n=Io(t=>t.user);return n&&n.isLoggedIn?v.jsx($C,{}):v.jsx(A7,{to:Kc})},e9e=()=>{const n=Io(t=>t.user);return n&&n.isLoggedIn&&n.user.role==="admin"?v.jsx($C,{}):v.jsx(A7,{to:Kc})},t9e=()=>v.jsx(KK,{children:v.jsxs(kK,{children:[v.jsxs(Xn,{path:Gc,element:v.jsx(Aie,{}),children:[v.jsx(Xn,{index:!0,element:v.jsx(Dae,{})}),v.jsx(Xn,{path:kE(),element:v.jsx(KLe,{})}),v.jsx(Xn,{path:hM(),element:v.jsx(YLe,{})}),v.jsx(Xn,{path:mM(),element:v.jsx(ZLe,{})}),v.jsxs(Xn,{element:v.jsx(QLe,{}),children:[v.jsx(Xn,{path:lM,element:v.jsx(Qhe,{})}),v.jsx(Xn,{path:xE,element:v.jsx(CLe,{})}),v.jsx(Xn,{path:pw,element:v.jsx(ELe,{})}),v.jsx(Xn,{path:fM(),element:v.jsx(zLe,{})}),v.jsx(Xn,{path:pM,element:v.jsx(JLe,{})})]}),v.jsxs(Xn,{element:v.jsx(e9e,{}),children:[v.jsx(Xn,{path:uM,element:v.jsx(ime,{})}),v.jsx(Xn,{path:cM,element:v.jsx(ome,{})}),v.jsx(Xn,{path:dM(),element:v.jsx(ame,{})}),v.jsx(Xn,{path:gM,element:v.jsx(XLe,{})})]})]}),v.jsx(Xn,{path:Kc,element:v.jsx(Zfe,{})}),v.jsx(Xn,{path:aM,element:v.jsx(Jfe,{})})]})});function Ab(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ab=function(e){return typeof e}:Ab=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(n)}function u2(){}var n9e={getItem:u2,setItem:u2,removeItem:u2};function i9e(n){if((typeof self>"u"?"undefined":Ab(self))!=="object"||!(n in self))return!1;try{var t=self[n],e="redux-persist ".concat(n," test");t.setItem(e,"test"),t.getItem(e),t.removeItem(e)}catch{return!1}return!0}function r9e(n){var t="".concat(n,"Storage");return i9e(t)?self[t]:n9e}function s9e(n){var t=r9e(n);return{getItem:function(i){return new Promise(function(r,s){r(t.getItem(i))})},setItem:function(i,r){return new Promise(function(s,o){s(t.setItem(i,r))})},removeItem:function(i){return new Promise(function(r,s){r(t.removeItem(i))})}}}const o9e=s9e("session");var a5="persist:",TH="persist/FLUSH",l5="persist/REHYDRATE",AH="persist/PAUSE",IH="persist/PERSIST",PH="persist/PURGE",RH="persist/REGISTER",a9e=-1;function i7(n){return u9e(n)||c9e(n)||l9e()}function l9e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c9e(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function u9e(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}function r7(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function OC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?r7(e,!0).forEach(function(i){d9e(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r7(e).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function d9e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var OH={registry:[],bootstrapped:!1},f9e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OH,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case RH:return OC({},t,{registry:[].concat(i7(t.registry),[e.key])});case l5:var i=t.registry.indexOf(e.key),r=i7(t.registry);return r.splice(i,1),OC({},t,{registry:r,bootstrapped:r.length===0});default:return t}};function h9e(n,t,e){var i=zE(f9e,OH,void 0),r=function(l){i.dispatch({type:RH,key:l})},s=function(l,c,d){var h={type:l5,payload:c,err:d,key:l};n.dispatch(h),i.dispatch(h)},o=OC({},i,{purge:function(){var l=[];return n.dispatch({type:PH,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return n.dispatch({type:TH,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){n.dispatch({type:AH})},persist:function(){n.dispatch({type:IH,register:r,rehydrate:s})}});return o.persist(),o}function Ib(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ib=function(e){return typeof e}:Ib=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(n)}function s7(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function m9e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?s7(e,!0).forEach(function(i){p9e(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):s7(e).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function p9e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function g9e(n,t,e,i){i.debug;var r=m9e({},e);return n&&Ib(n)==="object"&&Object.keys(n).forEach(function(s){s!=="_persist"&&t[s]===e[s]&&(r[s]=n[s])}),r}function b9e(n){var t=n.blacklist||null,e=n.whitelist||null,i=n.transforms||[],r=n.throttle||0,s="".concat(n.keyPrefix!==void 0?n.keyPrefix:a5).concat(n.key),o=n.storage,a;n.serialize===!1?a=function(O){return O}:typeof n.serialize=="function"?a=n.serialize:a=w9e;var l=n.writeFailHandler||null,c={},d={},h=[],p=null,b=null,_=function(O){Object.keys(O).forEach(function(D){S(D)&&c[D]!==O[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(c).forEach(function(D){O[D]===void 0&&S(D)&&h.indexOf(D)===-1&&c[D]!==void 0&&h.push(D)}),p===null&&(p=setInterval(x,r)),c=O};function x(){if(h.length===0){p&&clearInterval(p),p=null;return}var P=h.shift(),O=i.reduce(function(D,R){return R.in(D,P,c)},c[P]);if(O!==void 0)try{d[P]=a(O)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete d[P];h.length===0&&C()}function C(){Object.keys(d).forEach(function(P){c[P]===void 0&&delete d[P]}),b=o.setItem(s,a(d)).catch(T)}function S(P){return!(e&&e.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function T(P){l&&l(P)}var A=function(){for(;h.length!==0;)x();return b||Promise.resolve()};return{update:_,flush:A}}function w9e(n){return JSON.stringify(n)}function v9e(n){var t=n.transforms||[],e="".concat(n.keyPrefix!==void 0?n.keyPrefix:a5).concat(n.key),i=n.storage;n.debug;var r;return n.deserialize===!1?r=function(o){return o}:typeof n.deserialize=="function"?r=n.deserialize:r=y9e,i.getItem(e).then(function(s){if(s)try{var o={},a=r(s);return Object.keys(a).forEach(function(l){o[l]=t.reduceRight(function(c,d){return d.out(c,l,a)},r(a[l]))}),o}catch(l){throw l}else return})}function y9e(n){return JSON.parse(n)}function _9e(n){var t=n.storage,e="".concat(n.keyPrefix!==void 0?n.keyPrefix:a5).concat(n.key);return t.removeItem(e,x9e)}function x9e(n){}function o7(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Yo(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?o7(e,!0).forEach(function(i){k9e(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o7(e).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function k9e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function C9e(n,t){if(n==null)return{};var e=E9e(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function E9e(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}var S9e=5e3;function T9e(n,t){var e=n.version!==void 0?n.version:a9e;n.debug;var i=n.stateReconciler===void 0?g9e:n.stateReconciler,r=n.getStoredState||v9e,s=n.timeout!==void 0?n.timeout:S9e,o=null,a=!1,l=!0,c=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(d,h){var p=d||{},b=p._persist,_=C9e(p,["_persist"]),x=_;if(h.type===IH){var C=!1,S=function(j,$){C||(h.rehydrate(n.key,j,$),C=!0)};if(s&&setTimeout(function(){!C&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},s),l=!1,o||(o=b9e(n)),b)return Yo({},t(x,h),{_persist:b});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(n.key),r(n).then(function(R){var j=n.migrate||function($,Z){return Promise.resolve($)};j(R,e).then(function($){S($)},function($){S(void 0,$)})},function(R){S(void 0,R)}),Yo({},t(x,h),{_persist:{version:e,rehydrated:!1}})}else{if(h.type===PH)return a=!0,h.result(_9e(n)),Yo({},t(x,h),{_persist:b});if(h.type===TH)return h.result(o&&o.flush()),Yo({},t(x,h),{_persist:b});if(h.type===AH)l=!0;else if(h.type===l5){if(a)return Yo({},x,{_persist:Yo({},b,{rehydrated:!0})});if(h.key===n.key){var T=t(x,h),A=h.payload,P=i!==!1&&A!==void 0?i(A,d,T,n):T,O=Yo({},P,{_persist:Yo({},b,{rehydrated:!0})});return c(O)}}}if(!b)return t(d,h);var D=t(x,h);return D===x?d:c(Yo({},D,{_persist:b}))}}const A9e=JD({user:Wne}),I9e={key:"root",storage:o9e},P9e=T9e(I9e,A9e),NH=Pne({reducer:P9e,middleware:n=>n({serializableCheck:!1})}),R9e=h9e(NH);function Pb(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pb=function(e){return typeof e}:Pb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(n)}function O9e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function N9e(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function M9e(n,t,e){return t&&N9e(n.prototype,t),n}function D9e(n,t){return t&&(Pb(t)==="object"||typeof t=="function")?t:Rb(n)}function NC(n){return NC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},NC(n)}function Rb(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function L9e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&MC(n,t)}function MC(n,t){return MC=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},MC(n,t)}function Ob(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var MH=function(n){L9e(t,n);function t(){var e,i;O9e(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=D9e(this,(e=NC(t)).call.apply(e,[this].concat(s))),Ob(Rb(i),"state",{bootstrapped:!1}),Ob(Rb(i),"_unsubscribe",void 0),Ob(Rb(i),"handlePersistorState",function(){var a=i.props.persistor,l=a.getState(),c=l.bootstrapped;c&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return M9e(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(y.PureComponent);Ob(MH,"defaultProps",{children:null,loading:null});jq.createRoot(document.getElementById("root")).render(v.jsx(y.StrictMode,{children:v.jsx(gQ,{store:NH,children:v.jsxs(MH,{loading:v.jsx("div",{children:"Loading..."}),persistor:R9e,children:[v.jsx(Sie,{}),v.jsx(t9e,{})]})})}))});export default V9e();
